a000.Y24=function(){return typeof a000.K24.i24 === 'function'?a000.K24.i24.apply(a000.K24,arguments):a000.K24.i24;};a000.W24=function(){return typeof a000.K24.f24 === 'function'?a000.K24.f24.apply(a000.K24,arguments):a000.K24.f24;};a000.K24=(function(A24){return {i24:function(){var c24,k24=arguments;switch(A24){case 2:c24=void k24[1] !== k24[0];break;case 1:c24=k24[1] + k24[0];break;case 7:c24=(k24[1] + k24[4]) / k24[0] / k24[3] ^ k24[2];break;case 14:c24=(k24[2] - k24[1]) * k24[0];break;case 15:c24=k24[1] <= k24[0];break;case 8:c24=(k24[3] / k24[0] | k24[2]) * k24[1];break;case 16:c24=k24[0] >= k24[1];break;case 0:c24=k24[2] + k24[0] - k24[1];break;case 11:c24=k24[1] / k24[0] | k24[2];break;case 17:c24=k24[0] === k24[1];break;case 13:c24=k24[1] - k24[0] + k24[2];break;case 4:c24=k24[1] + k24[2] + k24[0];break;case 12:c24=k24[4] - k24[3] + -k24[0] + k24[1] + k24[2];break;case 6:c24=k24[0] / k24[1];break;case 5:c24=k24[3] + k24[2] + k24[4] + k24[0] + k24[1];break;case 9:c24=k24[2] + k24[1] / k24[0] * k24[3];break;case 10:c24=k24[3] * k24[2] / k24[0] | k24[1];break;case 3:c24=k24[1] - k24[0];break;}return c24;},f24:function(H24){A24=H24;}};})();function a000(){}a000.L24=function(){return typeof a000.K24.f24 === 'function'?a000.K24.f24.apply(a000.K24,arguments):a000.K24.f24;};a000.r24=function(){return typeof a000.K24.i24 === 'function'?a000.K24.i24.apply(a000.K24,arguments):a000.K24.i24;};(function(){(function(ja,ga){var tb,Eb,Ta,sc,oa,ya,cb,Ad,Bd,Oa,Pa,Pb,Cd,tc,Dd,Ed,Sc,n,la,gc,Fd,Tc,F,L,ha,wb,jb,$a,X,db,Sa,Rb,Ea,Ba,Fa,fb,uc,xb,pb,qb,vc,Uc,Gd,Hb,Ib,Sb,Vc,Yb,yb,wc,Ob,Wc,Hd,Zb,Xc,Yc,Zc,$c,zb,ad,bd,cd,ac,Ab,Bb,bc,xc,yc,zc,ib,Ke,Ra,Qb,Id,Ac,mb,Jd,Le,rb,Kd,Ld,Bc,Md,Me,fc,Nd,Je,Ne,dd,Cc,Oe,Pe,xd,Qe,yd,Od,kb,hc,Pd,ic,Qd,nb,Rd,ed,Sd,gd,Dc,Td,Se,zd,Ec,Rc,Ud,Re,Vd,hd,Wd,Xd,Yd,id,Nb,$d,Zd,Te,jc,ae,kd,kc,be,jd,ce,de,ld,fe,ge,Hc,Vb,cc,Wb,he,ie,je,ke,le,me,Ic,Ue,ne,oe,nd,pe,hb,Tb,$b,Ub,Kb,Cb,Fc,eb,Gb,ee,lc,Xb,qe,Ve,mc,re,We,dc,se,Jc,od,nc,pd,te,oc,ue,ve,we,Xe,pc,xe,Ye,Ze,ye,md,Gc,ze,Ie,Ae,$e,bf,af,ec,rc,cf,wd,df,Be;function Ya(g,n){if(!n || "utf-8" === n)return Lc(g);throw Error("unsupported encoding");}function Xa(g,n){if(!n || "utf-8" === n)return Mc(g);throw Error("unsupported encoding");}function Lc(g){for(var n=0,p,La=g.length,F="";n < La;){p=g[n++];if(p & 128)if(192 === (p & 224))p=((p & 31) << 6) + (g[n++] & 63);else if(224 === (p & 240))p=((p & 15) << 12) + ((g[n++] & 63) << 6) + (g[n++] & 63);else throw Error("unsupported character");F+=String.fromCharCode(p);}return F;}function Mc(g){var n,p,La,F,t;n=g.length;p=0;F=0;for(La=n;La--;){t=g.charCodeAt(La);128 > t?p++:p=2048 > t?p + 2:p + 3;}p=new Uint8Array(p);for(La=0;La < n;La++){t=g.charCodeAt(La);128 > t?p[F++]=t:(2048 > t?p[F++]=192 | t >>> 6:(p[F++]=224 | t >>> 12,p[F++]=128 | t >>> 6 & 63),p[F++]=128 | t & 63);}return p;}function bb(g,p){if(g === p)return !0;if(!g || !p || g.length != p.length)return !1;for(var n=0;n < g.length;++n){if(g[n] != p[n])return !1;}return !0;}function gb(g){var t;if(!(g && g.constructor == Uint8Array || Array.isArray(g)))throw new TypeError("Cannot compute the hash code of " + g);for(var p=1,n=0;n < g.length;++n){t=g[n];if("number" !== typeof t)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + t);p=31 * p + t & 4294967295;}return p;}function rd(g,p){var ra;if(g === p)return !0;if(!g || !p)return !1;p instanceof Array || (p=[p]);for(var n=0;n < p.length;++n){for(var t=p[n],F=!1,Db=0;Db < g.length;++Db){ra=g[Db];if(t.equals && "function" === typeof t.equals && t.equals(ra) || t == ra){F=!0;break;}}if(!F)return !1;}return !0;}function sd(g,p){return rd(g,p) && (g.length == p.length || rd(p,g));}function p(g,p,n){var t,F;n && (t=n);if("object" !== typeof g || "function" !== typeof g.result || "function" !== typeof g.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{F=p.call(t,g);F !== ga && g.result(F);}catch(Nc){try{g.error(Nc);}catch(ra){}}}function t(g,n,t){if("object" !== typeof g || "function" !== typeof g.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");p(g,n,t);}function g(g,p,n){1E5 > g && (g=1E5 + g);Object.defineProperties(this,{internalCode:{value:g,writable:!1,configurable:!1},responseCode:{value:p,writable:!1,configurable:!1},message:{value:n,writable:!1,configurable:!1}});}function Oc(g){switch(g){case Ra.PSK:case Ra.MGK:return !0;default:return !1;}}function td(g){switch(g){case Ra.PSK:case Ra.MGK:case Ra.X509:case Ra.RSA:case Ra.NPTICKET:case Ra.ECC:return !0;default:return !1;}}function Fe(g){return g.toJSON();}function ud(p,n){rc?n.result(rc):Promise.resolve().then(function(){return Fa.getKeyByName(p);})["catch"](function(){return Fa.generateKey({name:p},!1,["wrapKey","unwrapKey"]);}).then(function(g){rc=g;n.result(rc);})["catch"](function(p){n.error(new F(g.INTERNAL_EXCEPTION,"Unable to get system key"));});}function vd(g,p){var n,t,F;n=p.masterToken;t=p.userIdToken;F=p.serviceTokens;return {NccpMethod:g.method,UserId:g.userId,UT:t && t.serialNumber,MT:n && n.serialNumber + ":" + n.sequenceNumber,STCount:F && F.length};}function Ge(g){return g.uniqueKey();}function He(t,Db,ob,La,ub){var Ha;function L(g,M){g.errorCode === n.ENTITY_REAUTH || g.errorCode === n.ENTITYDATA_REAUTH?(La.clearCryptoContexts(),Wa()):g.errorCode !== n.USER_REAUTH && g.errorCode !== n.USERDATA_REAUTH || ra(M);}function ra(g){if(g=La.getUserIdToken(g))(La.removeUserIdToken(g),Wa());}function W(g,M,G){var w;w=[];(function C(){g.read(-1,M,{result:function(g){p(G,function(){var x,H,K,G,M;if(g)(w.push(g),C());else switch(w.length){case 0:return new Uint8Array(0);case 1:return w[0];default:(G=w.length,M=0);for(H=x=0;H < G;H++){x+=w[H].length;}x=new Uint8Array(x);for(H=0;H < G;H++){K=w[H];x.set(K,M);M+=K.length;}return x;}});},timeout:function(){G.timeout();},error:function(g){G.error(g);}});})();}function Wa(){La.getStoreState({result:function(g){for(var M=Ha.slice(),G=0;G < M.length;G++){M[G]({storeState:g});}},timeout:function(){t.error("Timeout getting store state","" + e);},error:function(g){t.error("Error getting store state","" + g);}});}Ha=[];this.addEventHandler=function(g,M){switch(g){case "shouldpersist":Ha.push(M);}};this.send=function(p){return new Promise(function(M,G){var w,z,C;w=p.timeout;z=new wd(t,ob,p,La.getKeyRequestData());C=new xd(p.url);t.trace("Sending MSL request");Db.request(ob,z,C,w,{result:function(z){var x;t.trace("Received MSL response",{Method:p.method});if(z){p.allowTokenRefresh && Wa();x=z.getErrorHeader();x?(L(x,p.profileGuid || p.userId),G({success:!1,error:x})):W(z,w,{result:function(g){M({success:!0,body:Ya(g)});},timeout:function(){G({success:!1,subCode:ub.MSL_READ_TIMEOUT});},error:function(g){G({success:!1,error:g});}});}else G({success:!1,error:new F(g.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){G({success:!1,subCode:ub.MSL_REQUEST_TIMEOUT});},error:function(g){G({success:!1,error:g});}});});};this.hasUserIdToken=function(g){return ! !La.getUserIdToken(g);};this.getUserIdTokenKeys=function(){return La.getUserIdTokenKeys();};this.removeUserIdToken=ra;this.clearUserIdTokens=function(){La.clearUserIdTokens();Wa();};this.isErrorReauth=function(g){return g && g.errorCode == n.USERDATA_REAUTH;};this.isErrorHeader=function(g){return g instanceof Nb;};this.getErrorCode=function(g){return g && g.errorCode;};this.getStateForMdx=function(g){var M,G;M=La.getMasterToken();g=La.getUserIdToken(g);G=La.getCryptoContext(M);return {masterToken:M,userIdToken:g,cryptoContext:G};};this.buildPlayDataRequest=function(g,M){var G;G=new yd();Db.request(ob,new wd(t,ob,g),G,g.timeout,{result:function(){M.result(G.getRequest());},error:function(){M.result(G.getRequest());},timeout:function(){M.timeout();}});};this.rekeyUserIdToken=function(g,M){La.rekeyUserIdToken(g,M);Wa();};this.getServiceTokens=function(g){var M;M=La.getMasterToken();(g=La.getUserIdToken(g)) && !g.isBoundTo(M) && (g=ga);return La.getServiceTokens(M,g);};this.removeServiceToken=function(g){var M;M=La.getMasterToken();La.getServiceTokens(M).find(function(G){return G.name === g;}) && (La.removeServiceTokens(g,M),Wa());};}function Pc(p,n,t,La,ub,L){function ra(n){var W;return Promise.resolve().then(function(){W=p.authenticationKeyNames[n];if(!W)throw new F(g.KEY_IMPORT_ERROR,"Invalid config keyName " + n);return Fa.getKeyByName(W);}).then(function(p){return new Promise(function(n,M){Yb(p,{result:n,error:function(){M(new F(g.KEY_IMPORT_ERROR,"Unable to create " + W + " CipherKey"));}});});})["catch"](function(p){throw new F(g.KEY_IMPORT_ERROR,"Unable to import " + W,p);});}return Promise.resolve().then(function(){if(!Fa.getKeyByName)throw new F(g.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([ra("e"),ra("h"),ra("w")]);}).then(function(g){var W,Ha,Da;W={};W[n]=new t(p.esn,g[0],g[1],g[2]);g=new La(p.esn);Ha=new Ie();Ha=[new ub(Ha)];Da=new L(n);return {entityAuthFactories:W,entityAuthData:g,keyExchangeFactories:Ha,keyRequestData:Da};});}function Qc(p,n,t){var ob;function La(){return Promise.resolve().then(function(){return Fa.generateKey(n,!1,["wrapKey","unwrapKey"]);}).then(function(g){return ub(g.publicKey,g.privateKey);});}function ub(p,n){return Promise.all([new Promise(function(n,W){Ob(p,{result:n,error:function(p){W(new F(g.INTERNAL_EXCEPTION,"Unable to create keyx public key",p));}});}),new Promise(function(p,W){Zb(n,{result:p,error:function(p){W(new F(g.INTERNAL_EXCEPTION,"Unable to create keyx private key",p));}});})]).then(function(g){g=new Rc("rsaKeypairId",t,g[0],g[1]);ob && (g.storeData={keyxPublicKey:p,keyxPrivateKey:n});return g;});}ob=!p.systemKeyWrapFormat;return Promise.resolve().then(function(){var g,n;g=p.storeState;n=g && g.keyxPublicKey;g=g && g.keyxPrivateKey;return ob && n && g?ub(n,g):La();}).then(function(g){var n,Wa,Ha;n={};n[Ra.NONE]=new Je();Wa=new fc(p.esn);Ha=[new zd()];return {entityAuthFactories:n,entityAuthData:Wa,keyExchangeFactories:Ha,keyRequestData:g,createKeyRequestData:ob?La:ga};});}Eb=ja.nfCrypto || ja.msCrypto || ja.webkitCrypto || ja.crypto;Ta=Eb && (Eb.webkitSubtle || Eb.subtle);sc=ja.nfCryptokeys || ja.msCryptokeys || ja.webkitCryptokeys || ja.cryptokeys;(function(g){var p,n;p=(function(){function g(g,n){g instanceof p?(this.abv=g.abv,this.position=g.position):(this.abv=g,this.position=n || 0);}g.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(g){this.abv[this.position++]=g;},peekByte:function(g){return this.abv[g];},copyBytes:function(g,n,p){var W;W=new Uint8Array(this.abv.buffer,this.position,p);g=new Uint8Array(g.buffer,n,p);W.set(g);this.position+=p;},seek:function(g){this.position=g;},skip:function(g){this.position+=g;},getPosition:function(){return this.position;},setPosition:function(g){this.position=g;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return g;})();n={};(function(){var K,x,H,na,ba,Ia,qa,R,wa;function g(x,w){var T;w.writeByte(x.tagClass << 6 | x.constructed << 5 | x.tag);T=x.payloadLen;if(128 > T)w.writeByte(T);else {for(var H=T,z=0;H;){++z;H>>=8;}w.writeByte(128 | z);for(H=0;H < z;++H){w.writeByte(T >> 8 * (z - H - 1) & 255);}}if(x.child)for((x.tag == K.BIT_STRING && w.writeByte(0),T=x._child);T;){if(!g(T,w))return !1;T=T.next;}else switch(x.tag){case K.INTEGER:x.backingStore[x.dataIdx] >> 7 && w.writeByte(0);w.copyBytes(x.backingStore,x.dataIdx,x.dataLen);break;case K.BIT_STRING:w.writeByte(0);w.copyBytes(x.backingStore,x.dataIdx,x.dataLen);break;case K.OCTET_STRING:w.copyBytes(x.backingStore,x.dataIdx,x.dataLen);break;case K.OBJECT_IDENTIFIER:w.copyBytes(x.backingStore,x.dataIdx,x.dataLen);}return !0;}function t(g){var x,T;x=g.readByte();T=x & 127;if(T == x)return T;if(3 < T || 0 === T)return -1;for(var w=x=0;w < T;++w){x=x << 8 | g.readByte();}return x;}function F(g,w,H){var T,z,G,C,V,fa,M;T=g.backingStore;z=new p(T,w);w+=H;H=g;if(8 < ba++)return ga;for(;z.getPosition() < w;){z.getPosition();V=z.readByte();if(31 == (V & 31)){for(C=0;V & 128;){C<<=8;C|=V & 127;}V=C;}G=V;C=G & 31;if(0 > C || 30 < C)return ga;V=t(z);if(0 > V || V > z.getRemaining())return ga;H.constructed=G & 32;H.tagClass=(G & 192) >> 6;H.tag=C;H.dataLen=V;H.dataIdx=z.getPosition();C=z;fa=G;G=V;if(fa & 32)C=!0;else if(fa < K.BIT_STRING || fa > K.OCTET_STRING)C=!1;else {M=new p(C);fa == K.BIT_STRING && M.skip(1);M.readByte() >> 6 & 1?C=!1:(fa=t(M),C=M.getPosition() - C.getPosition() + fa == G);}C && (C=z.getPosition(),G=V,H.tag == K.BIT_STRING && (H.dataIdx++,H.dataLen--,C++,G--),H.child=new x(T,H),F(H.child,C,G));H.tag == K.INTEGER && (C=z.getPosition(),0 == z.peekByte(C) && z.peekByte(C + 1) >> 7 && (H.dataIdx++,H.dataLen--));z.skip(V);z.getPosition() < w && (H.next=new x(T,H.parent),H=H.next);}ba--;return g;}function ra(g,x,w){if(9 != w)return !1;for(w=0;9 > w;++w){if(g[x++] != Ia[w])return !1;}return !0;}function W(g){var x;if(!(g && g.child && g.child.next && g.child.child && g.child.next.child))return !1;x=g.child.child;return ra(x.backingStore,x.dataIdx,x.dataLen) && 2 == g.nChildren && 2 == g.child.nChildren && 2 == g.child.next.child.nChildren?!0:!1;}function Wa(g){var x;if(!(g && g.child && g.child.next && g.child.next.child && g.child.next.next && g.child.next.next.child))return !1;x=g.child.next.child;return ra(x.backingStore,x.dataIdx,x.dataLen) && 3 == g.nChildren && 2 == g.child.next.nChildren && 9 == g.child.next.next.child.nChildren?!0:!1;}function Ha(g){var x,w;x=H.createSequenceNode();w=new na(x);w.addChild(H.createSequenceNode());w.addChild(H.createOidNode(Ia));w.addSibling(H.createNullNode());w.addToParent(x,H.createBitStringNode(null));w.addChild(H.createSequenceNode());w.addChild(H.createIntegerNode(g.n));w.addSibling(H.createIntegerNode(g.e));return x;}function Da(g){var x;g=g.child.next.child.child;x=g.data;g=g.next;return new qa(x,g.data,null,null);}function M(g){var x,w;x=H.createSequenceNode();w=new na(x);w.addChild(H.createIntegerNode(new Uint8Array([0])));w.addSibling(H.createSequenceNode());w.addChild(H.createOidNode(Ia));w.addSibling(H.createNullNode());w.addToParent(x,H.createOctetStringNode(null));w.addChild(H.createSequenceNode());w.addChild(H.createIntegerNode(new Uint8Array([0])));w.addSibling(H.createIntegerNode(g.n));w.addSibling(H.createIntegerNode(g.e));w.addSibling(H.createIntegerNode(g.d));w.addSibling(H.createIntegerNode(g.p));w.addSibling(H.createIntegerNode(g.q));w.addSibling(H.createIntegerNode(g.dp));w.addSibling(H.createIntegerNode(g.dq));w.addSibling(H.createIntegerNode(g.qi));return x;}function G(g){var x;x=[];g=g.child.next.next.child.child.next;for(var w=0;8 > w;w++){x.push(g.data);g=g.next;}return new R(x[0],x[1],x[2],x[3],x[4],x[5],x[6],x[7]);}function w(g,x,w,H){if(!(g instanceof qa || g instanceof R))return ga;if(w)for(var z=0;z < w.length;++z){if(-1 == wa.indexOf(w[z]))return ga;}x={kty:"RSA",alg:x,key_ops:w || [],ext:H == ga?!1:H,n:oa(g.n,!0),e:oa(g.e,!0)};g instanceof R && (x.d=oa(g.d,!0),x.p=oa(g.p,!0),x.q=oa(g.q,!0),x.dp=oa(g.dp,!0),x.dq=oa(g.dq,!0),x.qi=oa(g.qi,!0));return x;}function z(g){var x,w,H,z,T,G,C,K,ba,M;if(!g.kty || "RSA" != g.kty || !g.n || !g.e)return ga;x=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(g.alg && -1 == x.indexOf(g.alg))return ga;x=[];g.use?"enc" == g.use?x=["encrypt","decrypt","wrap","unwrap"]:"sig" == g.use && (x=["sign","verify"]):x=g.key_ops;w=g.ext;H=ya(g.n,!0);z=ya(g.e,!0);if(g.d){T=ya(g.d,!0);G=ya(g.p,!0);C=ya(g.q,!0);K=ya(g.dp,!0);ba=ya(g.dq,!0);M=ya(g.qi,!0);return new R(H,z,T,G,C,K,ba,M,g.alg,x,w);}return new qa(H,z,w,x);}function C(g,x,w,H){this.der=g;this.type=x;this.keyOps=w;this.extractable=H;}K={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};x=function(g,x,w,H,z,G){this._data=g;this._parent=x || ga;this._constructed=w || !1;this._tagClass=0;this._tag=H || 0;this._dataIdx=z || 0;this._dataLen=G || 0;};x.prototype={_child:ga,_next:ga,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(g) {this._constructed=0 != g?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(g) {this._tagClass=g;},get tag() {return this._tag;},set tag(g) {this._tag=g;},get dataIdx() {return this._dataIdx;},set dataIdx(g) {this._dataIdx=g;},get dataLen() {return this._dataLen;},set dataLen(g) {this._dataLen=g;},get child() {return this._child;},set child(g) {this._child=g;this._child.parent=this;},get next() {return this._next;},set next(g) {this._next=g;},get parent() {return this._parent;},set parent(g) {this._parent=g;},get payloadLen() {var g;g=0;if(this._child){for(var x=this._child;x;){g+=x.length;x=x.next;}this._tag == K.BIT_STRING && g++;}else switch(this._tag){case K.INTEGER:g=this._dataLen;this._data[this._dataIdx] >> 7 && g++;break;case K.BIT_STRING:g=this._dataLen + 1;break;case K.OCTET_STRING:g=this._dataLen;break;case K.NULL:g=0;break;case K.OBJECT_IDENTIFIER:ra(this._data,this._dataIdx,this._dataLen) && (g=9);}return g;},get length() {var g,x;g=this.payloadLen;if(127 < g)for(x=g;x;){x>>=8;++g;}return g + 2;},get der() {var x,w;x=this.length;if(!x)return ga;x=new Uint8Array(x);w=new p(x);return g(this,w)?x:ga;},get nChildren() {for(var g=0,x=this._child;x;){g++;x=x.next;}return g;}};H={createSequenceNode:function(){return new x(null,null,!0,K.SEQUENCE,null,null);},createOidNode:function(g){return new x(g,null,!1,K.OBJECT_IDENTIFIER,0,g?g.length:0);},createNullNode:function(){return new x(null,null,!1,K.NULL,null,null);},createBitStringNode:function(g){return new x(g,null,!1,K.BIT_STRING,0,g?g.length:0);},createIntegerNode:function(g){return new x(g,null,!1,K.INTEGER,0,g?g.length:0);},createOctetStringNode:function(g){return new x(g,null,!1,K.OCTET_STRING,0,g?g.length:0);}};na=function(g){this._currentNode=this._rootNode=g;};na.prototype={addChild:function(g){this.addTo(this._currentNode,g);},addSibling:function(g){this.addTo(this._currentNode.parent,g);},addTo:function(g,x){this._currentNode=x;this._currentNode.parent=g;if(g.child){for(var w=g.child;w.next;){w=w.next;}w.next=x;}else g.child=x;},addToParent:function(g,x){this.findNode(g) && this.addTo(g,x);},findNode:function(g){for(var x=this._currentNode;x;){if(g == x)return !0;x=x.parent;}return !1;}};ba=0;Ia=new Uint8Array([42,134,72,134,247,13,1,1,1]);qa=function(g,x,w,H){this.n=g;this.e=x;this.ext=w;this.keyOps=H;};R=function(g,x,w,H,z,G,C,K,ba,M,R){this.n=g;this.e=x;this.d=w;this.p=H;this.q=z;this.dp=G;this.dq=C;this.qi=K;this.alg=ba;this.keyOps=M;this.ext=R;};wa=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");C.prototype.getDer=function(){return this.der;};C.prototype.getType=function(){return this.type;};C.prototype.getKeyOps=function(){return this.keyOps;};C.prototype.getExtractable=function(){return this.extractable;};n.parse=function(g){ba=0;return F(new x(g),0,g.length);};n.show=function(g,x){};n.isRsaSpki=W;n.isRsaPkcs8=Wa;n.NodeFactory=H;n.Builder=na;n.tagVal=K;n.RsaPublicKey=qa;n.RsaPrivateKey=R;n.buildRsaSpki=Ha;n.parseRsaSpki=function(g){g=n.parse(g);return W?Da(g):ga;};n.buildRsaPkcs8=M;n.parseRsaPkcs8=function(g){g=n.parse(g);return Wa(g)?G(g):ga;};n.buildRsaJwk=w;n.parseRsaJwk=z;n.RsaDer=C;n.rsaDerToJwk=function(g,x,H,z){g=n.parse(g);if(!g)return ga;if(W(g))g=Da(g);else if(Wa(g))g=G(g);else return ga;return w(g,x,H,z);};n.jwkToRsaDer=function(g){var x,w;g=z(g);if(!g)return ga;if(g instanceof qa)(x="spki",w=Ha(g).der);else if(g instanceof R)(x="pkcs8",w=M(g).der);else return ga;return new C(w,x,g.keyOps,g.ext);};n.webCryptoAlgorithmToJwkAlg=function(g){return "RSAES-PKCS1-v1_5" == g.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == g.name?"SHA-256" == g.hash.name?"RS256":"SHA-384" == g.hash.name?"RS384":"SHA-512" == g.hash.name?"RS512":ga:ga;};n.webCryptoUsageToJwkKeyOps=function(g){return g.map(function(g){return "wrapKey" == g?"wrap":"unwrapKey" == g?"unwrap":g;});};})();g.ASN1=n;})(ja);(function(){for(var g={},n={},p={"=":0,".":0},t={"=":0,".":0},F=/\s+/g,L=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,ra=64;ra--;){g[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ra]]=262144 * ra;n[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ra]]=4096 * ra;p[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ra]]=64 * ra;t[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ra]]=ra;}for(ra=64;ra-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ra] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ra];){g[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ra]]=262144 * ra;n[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ra]]=4096 * ra;p[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ra]]=64 * ra;t[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ra]]=ra;}oa=function(g,n){for(var p="",W=0,M=g.length,G=M - 2,w,z=n?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=n?"":"=";W < G;){w=65536 * g[W++] + 256 * g[W++] + g[W++];p+=z[w >>> 18] + z[w >>> 12 & 63] + z[w >>> 6 & 63] + z[w & 63];}W == G?(w=65536 * g[W++] + 256 * g[W++],p+=z[w >>> 18] + z[w >>> 12 & 63] + z[w >>> 6 & 63] + C):W == M - 1 && (w=65536 * g[W++],p+=z[w >>> 18] + z[w >>> 12 & 63] + C + C);return p;};ya=function(W,Wa){var Ha;W=W.replace(F,"");if(Wa){Ha=W.length % 4;if(Ha)for(var Ha=4 - Ha,Da=0;Da < Ha;++Da){W+="=";}}Ha=W.length;if(0 != Ha % 4 || !L.test(W))throw Error("bad base64: " + W);for(var M=Ha / 4 * 3 - ("=" == W[Ha - 1]?1:0) - ("=" == W[Ha - 2]?1:0),G=new Uint8Array(M),w=0,z=0;w < Ha;){Da=g[W[w++]] + n[W[w++]] + p[W[w++]] + t[W[w++]];G[z++]=Da >>> 16;z < M && (G[z++]=Da >>> 8 & 255,z < M && (G[z++]=Da & 255));}return G;};})();cb={};(function(){var L,ra,W,Ha;function g(n){if(!(this instanceof g))return new g(n);for(var M=0,G=ra.length;M < G;M++){this[ra[M]]="";}this.bufferCheckPosition=cb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=n || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=W.BEGIN;this.stack=new L();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;p(this,"onready");}function p(g,M,G){if(g[M])g[M](G);}function n(g,M){var G,w;G=g.opt;w=g.textNode;G.trim && (w=w.trim());G.normalize && (w=w.replace(/\s+/g," "));g.textNode=w;g.textNode && p(g,M?M:"onvalue",g.textNode);g.textNode="";}function t(g,M){n(g);M+="\nLine: " + g.line + "\nColumn: " + g.column + "\nChar: " + g.c;M=Error(M);g.error=M;p(g,"onerror",M);return g;}function F(Da){Da.state !== W.VALUE && t(Da,"Unexpected end");n(Da);Da.c="";Da.closed=!0;p(Da,"onend");g.call(Da,Da.opt);return Da;}L=Array;cb.parser=function(p){return new g(p);};cb.CParser=g;cb.MAX_BUFFER_LENGTH=65536;cb.DEBUG=!1;cb.INFO=!1;cb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");ra=["textNode","numberNode"];cb.EVENTS.filter(function(g){return "error" !== g && "end" !== g;});W=0;cb.STATE={BEGIN:W++,VALUE:W++,OPEN_OBJECT:W++,CLOSE_OBJECT:W++,OPEN_ARRAY:W++,CLOSE_ARRAY:W++,TEXT_ESCAPE:W++,STRING:W++,BACKSLASH:W++,END:W++,OPEN_KEY:W++,CLOSE_KEY:W++,TRUE:W++,TRUE2:W++,TRUE3:W++,FALSE:W++,FALSE2:W++,FALSE3:W++,FALSE4:W++,NULL:W++,NULL2:W++,NULL3:W++,NUMBER_DECIMAL_POINT:W++,NUMBER_DIGIT:W++};for(var Wa in cb.STATE){cb.STATE[cb.STATE[Wa]]=Wa;}W=cb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(g){return g.__proto__;});Ha=/[\\"\n]/g;g.prototype={end:function(){F(this);},write:function(g){var w,z,C;if(this.error)throw this.error;if(this.closed)return t(this,"Cannot write after close. Assign an onready handler.");if(null === g)return F(this);for(var M=g[0],G;M;){G=M;this.c=M=g.charAt(this.index++);G !== M?this.p=G:G=this.p;if(!M)break;this.position++;"\n" === M?(this.line++,this.column=0):this.column++;switch(this.state){case W.BEGIN:"{" === M?this.state=W.OPEN_OBJECT:"[" === M?this.state=W.OPEN_ARRAY:"\r" !== M && "\n" !== M && " " !== M && "\t" !== M && t(this,"Non-whitespace before {[.");continue;case W.OPEN_KEY:case W.OPEN_OBJECT:if("\r" === M || "\n" === M || " " === M || "\t" === M)continue;if(this.state === W.OPEN_KEY)this.stack.push(W.CLOSE_KEY);else if("}" === M){p(this,"onopenobject");p(this,"oncloseobject");this.state=this.stack.pop() || W.VALUE;continue;}else this.stack.push(W.CLOSE_OBJECT);'"' === M?this.state=W.STRING:t(this,'Malformed object key should start with "');continue;case W.CLOSE_KEY:case W.CLOSE_OBJECT:if("\r" === M || "\n" === M || " " === M || "\t" === M)continue;":" === M?(this.state === W.CLOSE_OBJECT?(this.stack.push(W.CLOSE_OBJECT),n(this,"onopenobject")):n(this,"onkey"),this.state=W.VALUE):"}" === M?(n(this),p(this,"oncloseobject",void 0),this.state=this.stack.pop() || W.VALUE):"," === M?(this.state === W.CLOSE_OBJECT && this.stack.push(W.CLOSE_OBJECT),n(this),this.state=W.OPEN_KEY):t(this,"Bad object");continue;case W.OPEN_ARRAY:case W.VALUE:if("\r" === M || "\n" === M || " " === M || "\t" === M)continue;if(this.state === W.OPEN_ARRAY)if((p(this,"onopenarray"),this.state=W.VALUE,"]" === M)){p(this,"onclosearray");this.state=this.stack.pop() || W.VALUE;continue;}else this.stack.push(W.CLOSE_ARRAY);'"' === M?this.state=W.STRING:"{" === M?this.state=W.OPEN_OBJECT:"[" === M?this.state=W.OPEN_ARRAY:"t" === M?this.state=W.TRUE:"f" === M?this.state=W.FALSE:"n" === M?this.state=W.NULL:"-" === M?this.numberNode+=M:"0" === M?(this.numberNode+=M,this.state=W.NUMBER_DIGIT):-1 !== ("123456789").indexOf(M)?(this.numberNode+=M,this.state=W.NUMBER_DIGIT):t(this,"Bad value");continue;case W.CLOSE_ARRAY:if("," === M)(this.stack.push(W.CLOSE_ARRAY),n(this,"onvalue"),this.state=W.VALUE);else if("]" === M)(n(this),p(this,"onclosearray",void 0),this.state=this.stack.pop() || W.VALUE);else if("\r" === M || "\n" === M || " " === M || "\t" === M)continue;else t(this,"Bad array");continue;case W.STRING:G=this.index - 1;(w=this.slashed,z=this.unicodeI);a:for(;;){if(cb.DEBUG)for(;0 < z;){if((this.unicodeS+=M,M=g.charAt(this.index++),4 === z?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),z=0,G=this.index - 1):z++,!M))break a;}if('"' === M && !w){this.state=this.stack.pop() || W.VALUE;(this.textNode+=g.substring(G,this.index - 1)) || p(this,"onvalue","");break;}if("\\" === M && !w && (w=!0,this.textNode+=g.substring(G,this.index - 1),M=g.charAt(this.index++),!M))break;if(w)if((w=!1,"n" === M?this.textNode+="\n":"r" === M?this.textNode+="\r":"t" === M?this.textNode+="\t":"f" === M?this.textNode+="\f":"b" === M?this.textNode+="\b":"u" === M?(z=1,this.unicodeS=""):this.textNode+=M,M=g.charAt(this.index++),G=this.index - 1,M))continue;else break;Ha.lastIndex=this.index;C=Ha.exec(g);if(null === C){this.index=g.length + 1;this.textNode+=g.substring(G,this.index - 1);break;}this.index=C.index + 1;M=g.charAt(C.index);if(!M){this.textNode+=g.substring(G,this.index - 1);break;}}this.slashed=w;this.unicodeI=z;continue;case W.TRUE:if("" === M)continue;"r" === M?this.state=W.TRUE2:t(this,"Invalid true started with t" + M);continue;case W.TRUE2:if("" === M)continue;"u" === M?this.state=W.TRUE3:t(this,"Invalid true started with tr" + M);continue;case W.TRUE3:if("" === M)continue;"e" === M?(p(this,"onvalue",!0),this.state=this.stack.pop() || W.VALUE):t(this,"Invalid true started with tru" + M);continue;case W.FALSE:if("" === M)continue;"a" === M?this.state=W.FALSE2:t(this,"Invalid false started with f" + M);continue;case W.FALSE2:if("" === M)continue;"l" === M?this.state=W.FALSE3:t(this,"Invalid false started with fa" + M);continue;case W.FALSE3:if("" === M)continue;"s" === M?this.state=W.FALSE4:t(this,"Invalid false started with fal" + M);continue;case W.FALSE4:if("" === M)continue;"e" === M?(p(this,"onvalue",!1),this.state=this.stack.pop() || W.VALUE):t(this,"Invalid false started with fals" + M);continue;case W.NULL:if("" === M)continue;"u" === M?this.state=W.NULL2:t(this,"Invalid null started with n" + M);continue;case W.NULL2:if("" === M)continue;"l" === M?this.state=W.NULL3:t(this,"Invalid null started with nu" + M);continue;case W.NULL3:if("" === M)continue;"l" === M?(p(this,"onvalue",null),this.state=this.stack.pop() || W.VALUE):t(this,"Invalid null started with nul" + M);continue;case W.NUMBER_DECIMAL_POINT:"." === M?(this.numberNode+=M,this.state=W.NUMBER_DIGIT):t(this,"Leading zero not followed by .");continue;case W.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(M)?this.numberNode+=M:"." === M?(-1 !== this.numberNode.indexOf(".") && t(this,"Invalid number has two dots"),this.numberNode+=M):"e" === M || "E" === M?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || t(this,"Invalid number has two exponential"),this.numberNode+=M):"+" === M || "-" === M?("e" !== G && "E" !== G && t(this,"Invalid symbol in number"),this.numberNode+=M):(this.numberNode && p(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || W.VALUE);continue;default:t(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){g=Math.max(cb.MAX_BUFFER_LENGTH,10);G=M=0;for(w=ra.length;G < w;G++){z=this[ra[G]].length;if(z > g)switch(ra[G]){case "text":break;default:t(this,"Max buffer length exceeded: " + ra[G]);}M=Math.max(M,z);}this.bufferCheckPosition=cb.MAX_BUFFER_LENGTH - M + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var t;function g(g,p){p || (p=g.length);return g.reduce(function(g,n,W){return W < p?g + String.fromCharCode(n):g;},"");}for(var p={},n=0;256 > n;++n){t=g([n]);p[t]=n;}for(var F=Object.keys(p).length,L=[],n=0;256 > n;++n){L[n]=[n];}Ad=function(n,W){var x,H;function t(g,x){var H;for(;0 < x;){if(z >= w.length)return !1;if(x > C){H=g;H=H >>> x - C;w[z]|=H & 255;x-=C;C=8;++z;}else x <= C && (H=g,H<<=C - x,H&=255,H>>>=8 - C,w[z]|=H & 255,C-=x,x=0,0 == C && (C=8,++z));}return !0;}for(var Ha in p){W[Ha]=p[Ha];}for(var Da=F,M=[],G=8,w=new Uint8Array(n.length),z=0,C=8,K=0;K < n.length;++K){x=n[K];M.push(x);Ha=g(M);H=W[Ha];if(!H){M=g(M,M.length - 1);if(!t(W[M],G))return null;0 != Da >> G && ++G;W[Ha]=Da++;M=[x];}}return 0 < M.length && (Ha=g(M),H=W[Ha],!t(H,G))?null:w.subarray(0,8 > C?z + 1:z);};Bd=function(g){var K,x,C,t;for(var p=L.slice(),n=0,t=0,Da=8,M=new Uint8Array(Math.ceil(1.5 * g.length)),G=0,w,z=[];n < g.length && !(8 * (g.length - n) - t < Da);){for(var C=w=0;C < Da;){K=Math.min(Da - C,8 - t);x=g[n];x=x << t;x=x & 255;x=x >>> 8 - K;C=C + K;t=t + K;8 == t && (t=0,++n);w|=(x & 255) << Da - C;}C=p[w];0 == z.length?++Da:(C?z.push(C[0]):z.push(z[0]),p[p.length]=z,z=[],p.length == 1 << Da && ++Da,C || (C=p[w]));w=G + C.length;w >= M.length && (K=new Uint8Array(Math.ceil(1.5 * w)),K.set(M),M=K);M.set(C,G);G=w;z=z.concat(C);}return M.subarray(0,G);};})();(function(){var g,p,t;Oa="utf-8";Pa=9007199254740992;g=Pb={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Pb);Cd=function(p){for(var n=[g.GZIP,g.LZW],t=0;t < n.length && 0 < p.length;++t){for(var F=n[t],W=0;W < p.length;++W){if(p[W] == F)return F;}}return null;};p=tc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(tc);Dd=function(g){return p.AES_CBC_PKCS5Padding == g?p.AES_CBC_PKCS5Padding:p.RSA_ECB_PKCS1Padding == g?p.RSA_ECB_PKCS1Padding:p[g];};t=Ed={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Ed);Sc=function(g){return t[g];};n={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(n);})();la={isObjectLiteral:function(g){return null !== g && "object" === typeof g && g.constructor === Object;},extendDeep:function(){var g,p,n,t,F,L,ra,W;g=arguments[0];p=1;n=arguments.length;t=!1;"boolean" === typeof g && (t=g,g=arguments[1],p=2);for(;p < n;p++){if(null != (F=arguments[p]))for(L in F){t && (L in g) || (W=F[L],g !== W && W !== ga && (ra=g[L],g[L]=null !== ra && null !== W && "object" === typeof ra && "object" === typeof W?la.extendDeep(t,{},ra,W):W));}}return g;}};(function(){var ra,W;function g(g,p){return function(){var n,M;n=g.base;g.base=p;M=g.apply(this,arguments);g.base=n;return M;};}function p(p,n,t){var M,G,w,z;t=t || W;z=! !t.extendAll;for(M in n){G=n.__lookupGetter__(M);w=n.__lookupSetter__(M);G || w?(G && p.__defineGetter__(M,G),w && p.__defineSetter__(M,w)):(G=n[M],w=p[M],"function" === typeof G && "function" === typeof w && G !== w?(G.base !== Function.prototype.base && (G=g(G,w)),G.base=w):(z || t[M]) && la.isObjectLiteral(G) && la.isObjectLiteral(w) && (G=la.extendDeep({},w,G)),p[M]=G);}}function n(){var g,p;g=Array.prototype.slice;p=g.call(arguments,1);return this.extend({init:function M(){var G;G=g.call(arguments,0);M.base.apply(this,p.concat(G));}});}function t(g,n){var W;W=new this(ra);p(W,g,n);return L(W);}function F(g,n){p(this.prototype,g,n);return this;}function L(g){var p;p=function(){var g;g=this.init;g && arguments[0] !== ra && g.apply(this,arguments);};g && (p.prototype=g);p.prototype.constructor=p;p.extend=t;p.bind=n;p.mixin=F;return p;}ra={};W={actions:!0};Function.prototype.base=function(){};la.Class={create:L,mixin:p,extend:function(g,p){var n;n=L();n.prototype=new g();return n.extend(p);}};la.mixin=function(){la.log && la.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");p.apply(null,arguments);};})();(function(){var ra,W,Wa;function g(g,p){return function(){var n,G;n=g.base;g.base=p;G=g.apply(this,arguments);g.base=n;return G;};}function p(p,n,M){var G,w,z,C;M=M || W;C=! !M.extendAll;for(G in n){w=n.__lookupGetter__(G);z=n.__lookupSetter__(G);w || z?(w && p.__defineGetter__(G,w),z && p.__defineSetter__(G,z)):(w=n[G],z=p[G],"function" === typeof w && "function" === typeof z && w !== z?(w.base !== Wa && (w=g(w,z)),w.base=z):(C || M[G]) && la.isObjectLiteral(w) && la.isObjectLiteral(z) && (w=la.extendDeep({},z,w)),p[G]=w);}}function n(){var g,p;g=Array.prototype.slice;p=g.call(arguments,1);return this.extend({init:function G(){var w;w=g.call(arguments,0);G.base.apply(this,p.concat(w));}});}function t(g,n){var M;M=new this(ra);p(M,g,n);return L(M);}function F(g,n){p(this.prototype,g,n);return this;}function L(g){var p;p=function(){var g;g=this.init;g && arguments[0] !== ra && g.apply(this,arguments);};g && (p.prototype=g);p.prototype.constructor=p;p.extend=t;p.bind=n;p.mixin=F;return p;}ra={};W={actions:!0};Wa=function(){};Function.prototype.base=Wa;la.Class={create:L,mixin:p,extend:function(g,p){var n;n=L();n.prototype=new g();return n.extend(p);}};la.mixin=function(){la.log && la.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");p.apply(null,arguments);};})();(function(){function g(g){return g == Pa?1:g + 1;}function p(p){if(0 === Object.keys(p._waiters).length)return 0;for(var n=g(p._nextWaiter);!p._waiters[n];){n=g(n);}return n;}gc=la.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var n;if(this._waiters[g]){n=this._waiters[g];delete this._waiters[g];g == this._nextWaiter && (this._nextWaiter=p(this));n.call(this,ga);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(n,F){var L,X;L=this;X=g(this._lastWaiter);this._lastWaiter=X;t(F,function(){var g,W;if(0 < this._queue.length){g=this._queue.shift();setTimeout(function(){F.result(g);},0);}else {-1 != n && (W=setTimeout(function(){delete L._waiters[X];X == L._nextWaiter && (L._nextWaiter=p(L));F.timeout();},n));this._waiters[X]=function(g){clearTimeout(W);setTimeout(function(){F.result(g);},0);};this._nextWaiter || (this._nextWaiter=X);}},L);return X;},add:function(g){var n;if(this._nextWaiter){n=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=p(this);n.call(this,g);}else this._queue.push(g);}});})();(function(){var g;g=0 - Pa;Fd=la.Class.create({nextBoolean:function(){var g;g=new Uint8Array(1);Eb.getRandomValues(g);return g[0] & 1?!0:!1;},nextInt:function(g){var p;if(null !== g && g !== ga){if("number" !== typeof g)throw new TypeError("n must be of type number");if(1 > g)throw new RangeError("n must be greater than zero");--g;p=new Uint8Array(4);Eb.getRandomValues(p);return Math.floor(((p[3] & 127) << 24 | p[2] << 16 | p[1] << 8 | p[0]) / 2147483648 * (g - 0 + 1) + 0);}g=new Uint8Array(4);Eb.getRandomValues(g);p=(g[3] & 127) << 24 | g[2] << 16 | g[1] << 8 | g[0];return g[3] & 128?-p:p;},nextLong:function(){var n,p;for(var p=g;p == g;){p=new Uint8Array(7);Eb.getRandomValues(p);n=16777216 * ((p[6] & 31) << 24 | p[5] << 16 | p[4] << 8 | p[3]) + (p[2] << 16 | p[1] << 8 | p[0]);p=p[6] & 128?-n - 1:n;}return p;},nextBytes:function(g){Eb.getRandomValues(g);}});})();(function(){function g(g){return g == Pa?1:g + 1;}function p(p){if(0 === Object.keys(p._waitingReaders).length)return 0;for(var n=g(p._nextReader);!p._waitingReaders[n];){n=g(n);}return n;}function n(p){if(0 === Object.keys(p._waitingWriters).length)return 0;for(var n=g(p._nextWriter);!p._waitingWriters[n];){n=g(n);}return n;}Tc=la.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(g){var t;if(this._waitingReaders[g]){t=this._waitingReaders[g];delete this._waitingReaders[g];g == this._nextReader && (this._nextReader=p(this));t.call(this,!0);}this._waitingWriters[g] && (t=this._waitingWriters[g],delete this._waitingWriters[g],g == this._nextWriter && (this._nextWriter=n(this)),t.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function(n,F){var L,ra;L=this;ra=g(this._lastNumber);this._lastNumber=ra;t(F,function(){var g;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[ra]=!0,ra);-1 != n && (g=setTimeout(function(){delete L._waitingReaders[ra];ra == L._nextReader && (L._nextReader=p(L));F.timeout();},n));this._waitingReaders[ra]=function(p){clearTimeout(g);p?setTimeout(function(){F.result(ga);},0):(L._readers[ra]=!0,setTimeout(function(){F.result(ra);},0));};this._nextReader || (this._nextReader=ra);},L);return ra;},writeLock:function(p,F){var L,ra;L=this;ra=g(this._lastNumber);this._lastNumber=ra;t(F,function(){var g;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=ra;-1 != p && (g=setTimeout(function(){delete L._waitingWriters[ra];ra == L._nextWriter && (L._nextWriter=n(L));F.timeout();},p));this._waitingWriters[ra]=function(p){clearTimeout(g);p?setTimeout(function(){F.result(ga);},0):(L._writer=ra,setTimeout(function(){F.result(ra);},0));};this._nextWriter || (this._nextWriter=ra);},L);return ra;},unlock:function(p){if(p == this._writer)this._writer=null;else {if(!this._readers[p])throw new X("There is no reader or writer with ticket number " + p + ".");delete this._readers[p];}if(this._nextWriter)0 < Object.keys(this._readers).length || (p=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=n(this),p.call(this,!1));else {for(var t=this._nextReader;0 < Object.keys(this._waitingReaders).length;t=g(t)){this._waitingReaders[t] && (p=this._waitingReaders[t],delete this._waitingReaders[t],p.call(this,!1));}this._nextReader=0;}}});})();la.Class.mixin(g,{JSON_PARSE_ERROR:new g(0,n.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new g(1,n.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new g(2,n.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new g(3,n.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new g(4,n.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new g(5,n.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new g(6,n.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new g(7,n.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new g(8,n.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new g(9,n.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new g(10,n.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new g(11,n.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new g(12,n.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new g(13,n.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new g(14,n.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new g(15,n.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new g(16,n.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new g(17,n.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new g(18,n.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new g(19,n.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new g(20,n.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new g(21,n.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new g(22,n.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new g(23,n.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new g(24,n.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new g(25,n.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new g(26,n.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new g(27,n.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new g(28,n.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new g(29,n.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new g(30,n.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new g(31,n.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new g(32,n.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new g(33,n.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new g(34,n.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new g(35,n.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new g(36,n.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new g(37,n.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new g(38,n.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new g(39,n.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new g(40,n.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new g(41,n.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new g(42,n.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new g(43,n.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new g(44,n.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new g(45,n.FAIL,"Error exporting key."),DIGEST_ERROR:new g(46,n.FAIL,"Error in digest."),UNSUPPORTED_KEY:new g(47,n.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new g(48,n.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new g(49,n.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new g(50,n.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new g(51,n.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new g(52,n.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new g(53,n.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new g(54,n.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new g(55,n.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new g(56,n.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new g(57,n.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new g(58,n.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new g(59,n.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new g(60,n.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new g(61,n.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new g(62,n.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new g(1E3,n.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new g(1001,n.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new g(1002,n.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new g(1003,n.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(1004,n.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(1005,n.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new g(1006,n.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new g(1007,n.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new g(1008,n.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new g(1009,n.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new g(1010,n.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new g(1011,n.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new g(1012,n.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new g(1013,n.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new g(1014,n.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new g(2E3,n.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new g(2001,n.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new g(2002,n.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new g(2003,n.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new g(2004,n.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new g(2005,n.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2006,n.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(2007,n.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new g(2008,n.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new g(2009,n.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new g(2010,n.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new g(2011,n.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new g(2012,n.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new g(2013,n.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new g(2014,n.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new g(2015,n.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new g(2016,n.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new g(2017,n.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new g(2018,n.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new g(2019,n.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new g(2020,n.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new g(3E3,n.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new g(3001,n.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new g(3002,n.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new g(3003,n.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new g(3004,n.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3005,n.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new g(3006,n.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new g(3007,n.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new g(3008,n.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new g(3009,n.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new g(4E3,n.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new g(4001,n.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new g(4002,n.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new g(4003,n.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new g(4004,n.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new g(4005,n.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new g(4006,n.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new g(4007,n.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new g(4008,n.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new g(4009,n.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new g(4010,n.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new g(4011,n.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new g(4012,n.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new g(4013,n.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new g(4014,n.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new g(4015,n.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new g(4016,n.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new g(4017,n.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new g(4018,n.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new g(4019,n.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new g(4020,n.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new g(4021,n.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new g(4022,n.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new g(4023,n.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new g(4024,n.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new g(4025,n.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new g(4026,n.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new g(5E3,n.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new g(5001,n.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new g(5002,n.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new g(5003,n.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new g(5004,n.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new g(5005,n.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new g(5006,n.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new g(5007,n.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new g(5008,n.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new g(5009,n.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new g(5010,n.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new g(5011,n.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new g(5012,n.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new g(5013,n.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new g(5014,n.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new g(5015,n.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new g(5016,n.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new g(5017,n.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new g(5018,n.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new g(5019,n.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new g(5020,n.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new g(5021,n.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new g(5022,n.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new g(5023,n.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new g(5024,n.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new g(5025,n.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new g(5026,n.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new g(5027,n.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new g(5028,n.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new g(5029,n.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new g(5030,n.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new g(5031,n.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new g(5032,n.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new g(5033,n.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new g(5034,n.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new g(5035,n.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new g(5036,n.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new g(5037,n.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new g(5038,n.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new g(5039,n.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new g(5040,n.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new g(6E3,n.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new g(6001,n.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new g(6002,n.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new g(6003,n.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new g(6004,n.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new g(6005,n.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new g(6006,n.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new g(6007,n.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new g(6008,n.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new g(6009,n.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new g(6010,n.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new g(6011,n.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new g(6012,n.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new g(6013,n.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new g(6014,n.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new g(6015,n.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new g(6016,n.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new g(6017,n.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new g(6018,n.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new g(6019,n.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new g(6020,n.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new g(6021,n.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new g(6022,n.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new g(6023,n.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new g(6024,n.FAIL,"Invalid header data."),PAYLOAD_INVALID:new g(6025,n.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new g(6026,n.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new g(6027,n.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new g(6028,n.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new g(6029,n.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new g(6030,n.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new g(6031,n.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new g(6032,n.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new g(6033,n.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new g(6034,n.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new g(6035,n.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new g(6036,n.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new g(6037,n.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new g(7E3,n.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new g(7001,n.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new g(7002,n.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new g(7003,n.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new g(7004,n.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new g(7005,n.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new g(7006,n.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new g(7007,n.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new g(7008,n.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new g(7009,n.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new g(7010,n.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new g(7011,n.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new g(7012,n.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new g(7013,n.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new g(7014,n.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new g(7015,n.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new g(7016,n.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new g(8E3,n.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new g(8001,n.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new g(8002,n.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new g(8003,n.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new g(8004,n.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new g(8005,n.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new g(8006,n.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new g(8007,n.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new g(8008,n.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new g(8009,n.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new g(8010,n.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new g(8011,n.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new g(8012,n.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new g(9E3,n.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new g(9001,n.FAIL,"Error communicating with MSL entity."),NONE:new g(9999,n.FAIL,"Special unit test error.")});Object.freeze(g);(function(){F=la.Class.create(Error());F.mixin({init:function(g,p,n){var L,X,ra;function t(){return X?X:this.cause && this.cause instanceof F?this.cause.messageId:ga;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);L=g.message;p && (L+=" [" + p + "]");ra=this.stack;Object.defineProperties(this,{message:{value:L,writable:!1,configurable:!0},error:{value:g,writable:!1,configurable:!0},cause:{value:n,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:t,set:function(g){if(0 > g || g > Pa)throw new RangeError("Message ID " + g + " is outside the valid range.");t() || (X=g);},configurable:!0},stack:{get:function(){var g;g=this.toString();ra && (g+="\n" + ra);n && n.stack && (g+="\nCaused by " + n.stack);return g;},configurable:!0}});},setEntity:function(g){!g || this.masterToken || this.entityAuthenticationData || (g instanceof hb?this.masterToken=g:g instanceof Qb && (this.entityAuthenticationData=g));return this;},setUser:function(g){!g || this.userIdToken || this.userAuthenticationData || (g instanceof $b?this.userIdToken=g:g instanceof Gb && (this.userAuthenticationData=g));return this;},setMessageId:function(g){this.messageId=g;return this;},toString:function(){return this.name + ": " + this.message;}});})();L=F.extend({init:function Db(g,p,n){Db.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ha=F.extend({init:function ob(g,p,n){ob.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});wb=F.extend({init:function La(g,p,n){La.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){jb=la.Class.create(Error());jb.mixin({init:function(g,p,n){var t;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);t=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:p,writable:!1,configurable:!1},requestCause:{value:n,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();t && (g+="\n" + t);p && p.stack && (g+="\nCaused by " + p.stack);return g;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){$a=la.Class.create(Error());$a.mixin({init:function(g,p){var n;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);n=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:p,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();n && (g+="\n" + n);p && p.stack && (g+="\nCaused by " + p.stack);return g;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){X=la.Class.create(Error());X.mixin({init:function(g,p){var n;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);n=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:p,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();n && (g+="\n" + n);p && p.stack && (g+="\nCaused by " + p.stack);return g;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){db=la.Class.create(Error());db.mixin({init:function(g,p){var n;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);n=this.stack;Object.defineProperties(this,{message:{value:g,writable:!1,configurable:!1},cause:{value:p,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var g;g=this.toString();n && (g+="\n" + n);p && p.stack && (g+="\nCaused by " + p.stack);return g;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Sa=F.extend({init:function ub(g,p,n){ub.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Rb=F.extend({init:function Nc(g,p){Nc.base.call(this,g);Object.defineProperties(this,{masterToken:{value:p,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ea=F.extend({init:function ra(g,p,n){ra.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Ba=F.extend({init:function W(g,p,n){W.base.call(this,g,p,n);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var M;function g(g){return "undefined" === typeof g?!1:g;}function p(g){return g && g.length?(fb === M.V2014_02 && (g=g.map(function(g){return "wrap" == g?"wrapKey":"unwrap" == g?"unwrapKey":g;})),g):fb === M.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function n(g,w,z,p,n){return Promise.resolve().then(function(){return Ta.importKey(g,w,z,p,n);})["catch"](function(x){var H;if("spki" !== g && "pkcs8" !== g)throw x;x=ASN1.webCryptoAlgorithmToJwkAlg(z);H=ASN1.webCryptoUsageToJwkKeyOps(n);x=ASN1.rsaDerToJwk(w,x,H,p);if(!x)throw Error("Could not make valid JWK from DER input");x=JSON.stringify(x);return Ta.importKey("jwk",Mc(x),z,p,n);});}function t(g,w){return Promise.resolve().then(function(){return Ta.exportKey(g,w);})["catch"](function(p){if("spki" !== g && "pkcs8" !== g)throw p;return Ta.exportKey("jwk",w).then(function(g){g=JSON.parse(Lc(new Uint8Array(g)));g=ASN1.jwkToRsaDer(g);if(!g)throw Error("Could not make valid DER from JWK input");return g.getDer().buffer;});});}M=uc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(uc);fb=M.LATEST;Fa={encrypt:function(g,w,p){switch(fb){case M.LEGACY:return new Promise(function(z,n){var x;x=Ta.encrypt(g,w,p);x.oncomplete=function(g){z(g.target.result);};x.onerror=function(g){n(g);};});case M.V2014_01:case M.V2014_02:return Ta.encrypt(g,w,p).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(g,w,p){switch(fb){case M.LEGACY:return new Promise(function(z,n){var x;x=Ta.decrypt(g,w,p);x.oncomplete=function(g){z(g.target.result);};x.onerror=function(g){n(g);};});case M.V2014_01:case M.V2014_02:return Ta.decrypt(g,w,p).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(g,w,p){switch(fb){case M.LEGACY:return new Promise(function(z,n){var x;x=Ta.sign(g,w,p);x.oncomplete=function(g){z(g.target.result);};x.onerror=function(g){n(g);};});case M.V2014_01:case M.V2014_02:return Ta.sign(g,w,p).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(g,w,p,n){switch(fb){case M.LEGACY:return new Promise(function(z,x){var H;H=Ta.verify(g,w,p,n);H.oncomplete=function(g){z(g.target.result);};H.onerror=function(g){x(g);};});case M.V2014_01:case M.V2014_02:return Ta.verify(g,w,p,n);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(g,w){switch(fb){case M.LEGACY:return new Promise(function(p,n){var z;z=Ta.digest(g,w);z.oncomplete=function(g){p(g.target.result);};z.onerror=function(g){n(g);};});case M.V2014_01:case M.V2014_02:return Ta.digest(g,w).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(n,w,z){var G,K;G=g(w);K=p(z);switch(fb){case M.LEGACY:return new Promise(function(g,w){var x;x=Ta.generateKey(n,G,K);x.oncomplete=function(x){g(x.target.result);};x.onerror=function(g){w(g);};});case M.V2014_01:case M.V2014_02:return Ta.generateKey(n,G,K);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(n,w,z,C,K){var x,H;x=g(C);H=p(K);switch(fb){case M.LEGACY:return new Promise(function(g,p){var K;K=Ta.deriveKey(n,w,z,x,H);K.oncomplete=function(x){g(x.target.result);};K.onerror=function(g){p(g);};});case M.V2014_01:case M.V2014_02:return Ta.deriveKey(n,w,z,x,H);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(G,w,z,C,K){var x,H;x=g(C);H=p(K);switch(fb){case M.LEGACY:return new Promise(function(g,p){var n;n=Ta.importKey(G,w,z,x,H);n.oncomplete=function(x){g(x.target.result);};n.onerror=function(g){p(g);};});case M.V2014_01:case M.V2014_02:return n(G,w,z,x,H);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(g,w){switch(fb){case M.LEGACY:return new Promise(function(p,n){var z;z=Ta.exportKey(g,w);z.oncomplete=function(g){p(g.target.result);};z.onerror=function(g){n(g);};});case M.V2014_01:case M.V2014_02:return t(g,w).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(g,w,p,n){switch(fb){case M.LEGACY:return new Promise(function(g,x){var H;H=Ta.wrapKey(w,p,n);H.oncomplete=function(x){g(x.target.result);};H.onerror=function(g){x(g);};});case M.V2014_01:case M.V2014_02:return Ta.wrapKey(g,w,p,n).then(function(g){return new Uint8Array(g);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(n,w,z,C,K,x,H){switch(fb){case M.LEGACY:return new Promise(function(g,x){var p;p=Ta.unwrapKey(w,K,z);p.oncomplete=function(x){g(x.target.result);};p.onerror=function(g){x(g);};});case M.V2014_01:case M.V2014_02:return Ta.unwrapKey(n,w,z,C,K,g(x),p(H));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};sc && sc.getKeyByName && (Fa.getKeyByName=function(g){switch(fb){case M.LEGACY:return new Promise(function(w,p){var z;z=sc.getKeyByName(g);z.oncomplete=function(g){w(g.target.result);};z.onerror=function(g){p(g);};});case M.V2014_01:case M.V2014_02:return sc.getKeyByName(g);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});ja.netflix=ja.netflix || ({});ja.netflix.crypto=Fa;})();xb={name:"AES-KW"};pb={name:"AES-CBC"};qb={name:"HMAC",hash:{name:"SHA-256"}};vc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Uc={name:"RSAES-PKCS1-v1_5"};Gd={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Hb=["encrypt","decrypt"];Ib=["wrap","unwrap"];Sb=["sign","verify"];(function(){Vc=la.Class.create({init:function(n,t,F){var M;function W(g){p(t,function(){var w;w=g?oa(g):ga;Object.defineProperties(M,{rawKey:{value:n,writable:!1,configurable:!1},keyData:{value:g,writable:!1,configurable:!1},keyDataB64:{value:w,writable:!1,configurable:!1}});return this;},M);}M=this;p(t,function(){if(!n || "object" != typeof n)throw new L(g.INVALID_SYMMETRIC_KEY);!F && n.extractable?Fa.exportKey("raw",n).then(function(g){W(new Uint8Array(g));},function(p){t.error(new L(g.KEY_EXPORT_ERROR,"raw"));}):W(F);},M);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Yb=function(g,p){new Vc(g,p);};yb=function(n,t,F,Da){p(Da,function(){try{n="string" == typeof n?ya(n):n;}catch(M){throw new L(g.INVALID_SYMMETRIC_KEY,"keydata " + n,M);}Fa.importKey("raw",n,t,!0,F).then(function(g){new Vc(g,Da,n);},function(p){Da.error(new L(g.INVALID_SYMMETRIC_KEY));});});};})();(function(){wc=la.Class.create({init:function(n,t,F){var M;function W(g){p(t,function(){Object.defineProperties(M,{rawKey:{value:n,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},M);}M=this;p(t,function(){if(!n || "object" != typeof n || "public" != n.type)throw new TypeError("Only original public crypto keys are supported.");!F && n.extractable?Fa.exportKey("spki",n).then(function(g){W(new Uint8Array(g));},function(p){t.error(new L(g.KEY_EXPORT_ERROR,"spki"));}):W(F);});},getEncoded:function(){return this.encoded;}});Ob=function(g,p){new wc(g,p);};Wc=function(n,t,F,Da){p(Da,function(){try{n="string" == typeof n?ya(n):n;}catch(M){throw new L(g.INVALID_PUBLIC_KEY,"spki " + n,M);}Fa.importKey("spki",n,t,!0,F).then(function(g){new wc(g,Da,n);},function(p){Da.error(new L(g.INVALID_PUBLIC_KEY));});});};})();(function(){Hd=la.Class.create({init:function(n,t,F){var M;function W(g){p(t,function(){Object.defineProperties(M,{rawKey:{value:n,writable:!1,configurable:!1},encoded:{value:g,writable:!1,configurable:!1}});return this;},M);}M=this;p(t,function(){if(!n || "object" != typeof n || "private" != n.type)throw new TypeError("Only original private crypto keys are supported.");!F && n.extractable?Fa.exportKey("pkcs8",n).then(function(g){W(new Uint8Array(g));},function(p){t.error(new L(g.KEY_EXPORT_ERROR,"pkcs8"));}):W(F);});},getEncoded:function(){return this.encoded;}});Zb=function(g,p){new Hd(g,p);};})();(function(){var n;n=$c={V1:1,V2:2};Xc=la.Class.create({init:function(g,t,F,M){p(M,function(){var p,w,z,C;p=n.V1;w=g;z=null;for(C in tc){if(tc[C] == g){p=n.V2;w=null;z=g;break;}}Object.defineProperties(this,{version:{value:p,writable:!1,enumerable:!1,configurable:!1},keyId:{value:w,writable:!1,configurable:!1},cipherSpec:{value:z,writable:!1,configurable:!1},iv:{value:t,writable:!1,configurable:!1},ciphertext:{value:F,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var g;g={};switch(this.version){case n.V1:g.keyid=this.keyId;this.iv && (g.iv=oa(this.iv));g.ciphertext=oa(this.ciphertext);g.sha256="AA==";break;case n.V2:g.version=this.version;g.cipherspec=this.cipherSpec;this.iv && (g.iv=oa(this.iv));g.ciphertext=oa(this.ciphertext);break;default:throw new X("Ciphertext envelope version " + this.version + " encoding unsupported.");}return g;}});Yc=function(g,p,n,M){new Xc(g,p,n,M);};Zc=function(t,F,W){p(W,function(){var p,G,w,z,C,K,x;p=t.keyid;G=t.cipherspec;w=t.iv;z=t.ciphertext;C=t.sha256;if(!F)if((F=t.version) && "number" === typeof F && F === F){K=!1;for(x in n){if(n[x] == F){K=!0;break;}}if(!K)throw new L(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(t));}else F=n.V1;switch(F){case n.V1:if("string" !== typeof p || w && "string" !== typeof w || "string" !== typeof z || "string" !== typeof C)throw new ha(g.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(t));break;case n.V2:x=t.version;if(x != n.V2)throw new L(g.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(t));if("string" !== typeof G || w && "string" !== typeof w || "string" !== typeof z)throw new ha(g.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(t));G=Dd(G);if(!G)throw new L(g.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(t));p=G;break;default:throw new L(g.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(t));}try{w && (w=ya(w));z=ya(z);}catch(H){throw new L(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(t),H);}new Xc(p,w,z,W);});};})();(function(){var n;n=cd={V1:1,V2:2};zb=la.Class.create({init:function(g,p,t){var M;switch(g){case n.V1:M=t;break;case n.V2:M={};M.version=g;M.algorithm=p;M.signature=oa(t);M=Xa(JSON.stringify(M),Oa);break;default:throw new X("Signature envelope version " + g + " encoding unsupported.");}Object.defineProperties(this,{version:{value:g,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:p,writable:!1,configurable:!1},signature:{value:t,writable:!1,configurable:!1},bytes:{value:M,writable:!1,configurable:!1}});}});ad=function(){var g,t,F,M;2 == arguments.length?(g=n.V1,t=arguments[0],F=null,M=arguments[1]):3 == arguments.length && (g=n.V2,F=arguments[0],t=arguments[1],M=arguments[2]);p(M,function(){return new zb(g,F,t);});};bd=function(t,F,W){p(W,function(){var p,G,w,z,C,K,x;if(F)switch(F){case n.V1:return new zb(n.V1,null,t);case n.V2:try{p=Ya(t,Oa);G=JSON.parse(p);w=parseInt(G.version);z=G.algorithm;C=G.signature;if(!w || "number" !== typeof w || w != w || "string" !== typeof z || "string" !== typeof C)throw new ha(g.JSON_PARSE_ERROR,"signature envelope " + oa(t));if(n.V2 != w)throw new L(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + oa(t));K=Sc(z);if(!K)throw new L(g.UNIDENTIFIED_ALGORITHM,"signature envelope " + oa(t));x=ya(C);if(!x)throw new L(g.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(t));return new zb(n.V2,K,x);}catch(H){if(H instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"signature envelope " + oa(t),H);throw H;}default:throw new L(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + oa(t));}try{p=Ya(t,Oa);G=JSON.parse(p);}catch(H){G=null;}if(G && G.version){if((p=G.version,"number" !== typeof p || p !== p))p=n.V1;}else p=n.V1;switch(p){case n.V1:return new zb(p,null,t);case n.V2:K=G.algorithm;C=G.signature;if("string" !== typeof K || "string" !== typeof C)return new zb(n.V1,null,t);K=Sc(K);if(!K)return new zb(n.V1,null,t);try{x=ya(C);}catch(H){return new zb(n.V1,null,t);}return new zb(p,K,x);default:throw new L(g.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + t);}});};})();ac=la.Class.create({encrypt:function(g,p){},decrypt:function(g,p){},wrap:function(g,p){},unwrap:function(g,p,n,t){},sign:function(g,p){},verify:function(g,p,n){}});(function(){var n;n=Bb={RSA_OAEP:vc.name,A128KW:xb.name};tb="A128GCM";Ab=la.Class.create({init:function(g,p,t,M,G){switch(p){case n.RSA_OAEP:G=G && (G.rawKey || G);M=M && (M.rawKey || M);break;case n.A128KW:G=M=M && (M.rawKey || M);break;default:throw new X("Unsupported algorithm: " + p);}Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_algo:{value:p,writable:!1,enumerable:!1,configurable:!1},_enc:{value:t,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:G,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:M,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(p,n){n.error(new L(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(p,n){n.error(new L(g.DECRYPT_NOT_SUPPORTED));},wrap:function(n,t){p(t,function(){Fa.wrapKey("jwe+jwk",n.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(g){t.result(g);},function(p){t.error(new L(g.WRAP_ERROR));});},this);},unwrap:function(n,t,F,M){function G(w){p(M,function(){switch(w.type){case "secret":Yb(w,M);break;case "public":Ob(w,M);break;case "private":Zb(w,M);break;default:throw new L(g.UNSUPPORTED_KEY,"type: " + w.type);}});}p(M,function(){Fa.unwrapKey("jwe+jwk",n,this._unwrapKey,this._unwrapKey.algorithm,t,!1,F).then(function(g){G(g);},function(){M.error(new L(g.UNWRAP_ERROR));});},this);},sign:function(p,n){n.error(new L(g.SIGN_NOT_SUPPORTED));},verify:function(p,n,t){t.error(new L(g.VERIFY_NOT_SUPPORTED));}});})();bc=ac.extend({encrypt:function(g,p){p.result(g);},decrypt:function(g,p){p.result(g);},wrap:function(g,p){p.result(g);},unwrap:function(g,p,n,t){t.result(g);},sign:function(g,p){p.result(new Uint8Array(0));},verify:function(g,p,n){n.result(!0);}});(function(){var n;n=yc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};xc=ac.extend({init:function Ha(g,p,G,w,z){Ha.base.call(this);G && (G=G.rawKey);w && (w=w.rawKey);Object.defineProperties(this,{id:{value:p,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:G,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:w,writable:!1,enumerable:!1,configurable:!1},transform:{value:z == n.ENCRYPT_DECRYPT_PKCS1?Uc:z == n.ENCRYPT_DECRYPT_OAEP?vc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:z == n.WRAP_UNWRAP_PKCS1?Uc:z == n.WRAP_UNWRAP_OAEP?vc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:z == n.SIGN_VERIFY?Gd:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,t){var M;M=this;p(t,function(){if("nullOp" == this.transform)return n;if(!this.publicKey)throw new L(g.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == n.length)return n;Fa.encrypt(M.transform,M.publicKey,n).then(function(p){Yc(M.id,null,p,{result:function(p){var w;try{w=JSON.stringify(p);t.result(Xa(w,Oa));}catch(C){t.error(new L(g.ENCRYPT_ERROR,null,C));}},error:function(p){p instanceof F || (p=new L(g.ENCRYPT_ERROR,null,p));t.error(p);}});},function(p){t.error(new L(g.ENCRYPT_ERROR));});},this);},decrypt:function(n,t){var M;M=this;p(t,function(){var p,w;if("nullOp" == this.transform)return n;if(!this.privateKey)throw new L(g.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == n.length)return n;try{w=Ya(n,Oa);p=JSON.parse(w);}catch(z){if(z instanceof SyntaxError)throw new L(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,z);throw new L(g.DECRYPT_ERROR,null,z);}Zc(p,$c.V1,{result:function(p){var n;try{if(p.keyId != M.id)throw new L(g.ENVELOPE_KEY_ID_MISMATCH);n=t.result;Fa.decrypt(M.transform,M.privateKey,p.ciphertext).then(n,function(p){t.error(new L(g.DECRYPT_ERROR));});}catch(K){K instanceof F?t.error(K):t.error(new L(g.DECRYPT_ERROR,null,K));}},error:function(p){p instanceof ha && (p=new L(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,p));p instanceof F || (p=new L(g.DECRYPT_ERROR,null,p));t.error(p);}});},this);},wrap:function(n,t){p(t,function(){var p;if("nullOp" == this.wrapTransform || !this.publicKey)throw new L(g.WRAP_NOT_SUPPORTED,"no public key");p=t.result;Fa.wrapKey("jwk",n.rawKey,this.publicKey,this.wrapTransform).then(p,function(p){t.error(new L(g.WRAP_ERROR));});},this);},unwrap:function(n,t,M,G){function w(n){p(G,function(){switch(n.type){case "secret":Yb(n,G);break;case "public":Ob(n,G);break;case "private":Zb(n,G);break;default:throw new L(g.UNSUPPORTED_KEY,"type: " + n.type);}});}p(G,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new L(g.UNWRAP_NOT_SUPPORTED,"no private key");Fa.unwrapKey("jwk",n,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},t,!1,M).then(w,function(p){G.error(new L(g.UNWRAP_ERROR));});},this);},sign:function(n,t){p(t,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new L(g.SIGN_NOT_SUPPORTED,"no private key");Fa.sign(this.algo,this.privateKey,n).then(function(g){ad(g,{result:function(g){t.result(g.bytes);},error:t.error});},function(p){t.error(new L(g.SIGNATURE_ERROR));});},this);},verify:function(n,t,M){var G;G=this;p(M,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new L(g.VERIFY_NOT_SUPPORTED,"no public key");bd(t,cd.V1,{result:function(w){p(M,function(){var p;p=M.result;Fa.verify(this.algo,this.publicKey,w.signature,n).then(p,function(p){M.error(new L(g.SIGNATURE_ERROR));});},G);},error:M.error});},this);}});})();(function(){zc=ac.extend({init:function Wa(g,p,n,G,w){Wa.base.call(this);n=n && n.rawKey;G=G && G.rawKey;w=w && w.rawKey;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},id:{value:p,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:n,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:G,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:w,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(n,t){var X;X=this;p(t,function(){var p;if(!this.encryptionKey)throw new L(g.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == n.length)return n;p=new Uint8Array(16);this.ctx.getRandom().nextBytes(p);Fa.encrypt({name:pb.name,iv:p},X.encryptionKey,n).then(function(n){n=new Uint8Array(n);Yc(X.id,p,n,{result:function(p){var n;try{n=JSON.stringify(p);t.result(Xa(n,Oa));}catch(C){t.error(new L(g.ENCRYPT_ERROR,null,C));}},error:function(p){p instanceof F || (p=new L(g.ENCRYPT_ERROR,null,p));t.error(p);}});},function(p){t.error(new L(g.ENCRYPT_ERROR));});},this);},decrypt:function(n,t){var X;X=this;p(t,function(){var p,G;if(!this.encryptionKey)throw new L(g.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == n.length)return n;try{G=Ya(n,Oa);p=JSON.parse(G);}catch(w){if(w instanceof SyntaxError)throw new L(g.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,w);throw new L(g.DECRYPT_ERROR,null,w);}Zc(p,$c.V1,{result:function(p){try{if(p.keyId != X.id)throw new L(g.ENVELOPE_KEY_ID_MISMATCH);Fa.decrypt({name:pb.name,iv:p.iv},X.encryptionKey,p.ciphertext).then(function(g){g=new Uint8Array(g);t.result(g);},function(){t.error(new L(g.DECRYPT_ERROR));});}catch(z){z instanceof F?t.error(z):t.error(new L(g.DECRYPT_ERROR,null,z));}},error:function(p){p instanceof ha && (p=new L(g.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,p));p instanceof F || (p=new L(g.DECRYPT_ERROR,null,p));t.error(p);}});},this);},wrap:function(n,t){p(t,function(){if(!this.wrapKey)throw new L(g.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Fa.wrapKey("raw",n.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(g){t.result(g);},function(p){t.error(new L(g.WRAP_ERROR));});},this);},unwrap:function(n,t,F,M){function G(n){p(M,function(){switch(n.type){case "secret":Yb(n,M);break;case "public":Ob(n,M);break;case "private":Zb(n,M);break;default:throw new L(g.UNSUPPORTED_KEY,"type: " + n.type);}});}p(M,function(){if(!this.wrapKey)throw new L(g.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Fa.unwrapKey("raw",n,this.wrapKey,this.wrapKey.algorithm,t,!1,F).then(function(g){G(g);},function(p){M.error(new L(g.UNWRAP_ERROR));});},this);},sign:function(n,t){var F;F=this;p(t,function(){if(!this.hmacKey)throw new L(g.SIGN_NOT_SUPPORTED,"no HMAC key.");Fa.sign(qb,this.hmacKey,n).then(function(g){p(t,function(){var p;p=new Uint8Array(g);ad(p,{result:function(g){t.result(g.bytes);},error:t.error});},F);},function(){t.error(new L(g.HMAC_ERROR));});},this);},verify:function(n,t,F){var M;M=this;p(F,function(){if(!this.hmacKey)throw new L(g.VERIFY_NOT_SUPPORTED,"no HMAC key.");bd(t,cd.V1,{result:function(G){p(F,function(){Fa.verify(qb,this.hmacKey,G.signature,n).then(function(g){F.result(g);},function(p){F.error(new L(g.HMAC_ERROR));});},M);},error:F.error});},this);}});})();ib=zc.extend({init:function Wa(p,n,t,G,w){if(t || G || w)Wa.base.call(this,p,t + "_" + n.sequenceNumber,G,w,null);else {if(!n.isDecrypted())throw new Rb(g.MASTERTOKEN_UNTRUSTED,n);Wa.base.call(this,p,n.identity + "_" + n.sequenceNumber,n.encryptionKey,n.hmacKey,null);}}});Ke=ac.extend({encrypt:function(g,p){p.result(g);},decrypt:function(g,p){p.result(g);},wrap:function(g,p){p.error(new X("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(g,p,n,t){t.error(new X("Unwrap is unsupported by the MSL token crypto context."));},sign:function(g,p){p.result(new Uint8Array(0));},verify:function(g,p,n){n.result(!1);}});Ra={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Ra);(function(){Qb=la.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(g){return this === g?!0:g instanceof Qb?this.scheme == g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});Id=function(p,n){var t,M,G;t=n.scheme;M=n.authdata;if(!t || !M)throw new ha(g.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(n));if(!Ra[t])throw new wb(g.UNIDENTIFIED_ENTITYAUTH_SCHEME,t);G=p.getEntityAuthenticationFactory(t);if(!G)throw new wb(g.ENTITYAUTH_FACTORY_NOT_FOUND,t);return G.createData(p,M);};})();Ac=la.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,p){},getCryptoContext:function(g,p){}});(function(){mb=Qb.extend({init:function Ha(g){Ha.base.call(this,Ra.MGK);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function Da(g){return this === g?!0:g instanceof mb?Da.base.call(this,this,g) && this.identity == g.identity:!1;}});Jd=function(p){var n;n=p.identity;if(!n)throw new ha(g.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(p));return new mb(n);};})();Le=Ac.extend({init:function Ha(g){Ha.base.call(this,Ra.MGK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,p){return Jd(p);},getCryptoContext:function(p,n){if(!(n instanceof mb))throw new X("Incorrect authentication data type " + JSON.stringify(n) + ".");if(n.identity != this.localIdentity)throw new wb(g.ENTITY_NOT_FOUND,"mgk " + n.identity).setEntity(n);return new bc();}});(function(){rb=Qb.extend({init:function Da(g){Da.base.call(this,Ra.PSK);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function M(g){return this === g?!0:g instanceof rb?M.base.call(this,this,g) && this.identity == g.identity:!1;}});Kd=function(p){var n;n=p.identity;if(!n)throw new ha(g.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(p));return new rb(n);};})();Ld=Ac.extend({init:function Da(g){Da.base.call(this,Ra.PSK);Object.defineProperties(this,{localIdentity:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,p){return Kd(p);},getCryptoContext:function(p,n){if(!(n instanceof rb))throw new X("Incorrect authentication data type " + JSON.stringify(n) + ".");if(n.getIdentity() != this.localIdentity)throw new wb(g.ENTITY_NOT_FOUND,"psk " + n.identity).setEntity(n);return new bc();}});(function(){Bc=Qb.extend({init:function M(g,p){M.base.call(this,Ra.RSA);Object.defineProperties(this,{identity:{value:g,writable:!1,configurable:!1},publicKeyId:{value:p,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;g.pubkeyid=this.publicKeyId;return g;},equals:function G(g){return this === g?!0:g instanceof Bc?G.base.call(this,this,g) && this.identity == g.identity && this.publicKeyId == g.publicKeyId:!1;}});Md=function(p){var n,z;n=p.identity;z=p.pubkeyid;if(!n || "string" !== typeof n || !z || "string" !== typeof z)throw new ha(g.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(p));return new Bc(n,z);};})();Me=Ac.extend({init:function M(g){M.base.call(this,Ra.RSA);Object.defineProperties(this,{store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,p){return Md(p);},getCryptoContext:function(p,n){var w,z,C;if(!(n instanceof Bc))throw new X("Incorrect authentication data type " + n + ".");w=n.identity;z=n.publicKeyId;C=this.store.getPublicKey(z);if(!C)throw new wb(g.RSA_PUBLICKEY_NOT_FOUND,z).setEntity(n);return new xc(p,w,null,C,yc.SIGN_VERIFY);}});(function(){fc=Qb.extend({init:function G(g){G.base.call(this,Ra.NONE);Object.defineProperties(this,{identity:{value:g,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var g;g={};g.identity=this.identity;return g;},equals:function w(g){return this === g?!0:g instanceof fc?w.base.call(this,this,g) && this.identity == g.identity:!1;}});Nd=function(p){var n;n=p.identity;if(!n)throw new ha(g.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(p));return new fc(n);};})();Je=Ac.extend({init:function G(){G.base.call(this,Ra.NONE);},createData:function(g,p){return Nd(p);},getCryptoContext:function(g,p){if(!(p instanceof fc))throw new X("Incorrect authentication data type " + JSON.stringify(p) + ".");return new bc();}});Ne=la.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(g,p){if(!(p instanceof wc))throw new X("Incorrect key data type " + p + ".");this.rsaKeys[g]=p;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(g){delete this.rsaKeys[g];},getPublicKey:function(g){return this.rsaKeys[g];}});dd=la.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,p,n){}});Cc=la.Class.create({abort:function(){},close:function(g,p){},write:function(g,p,n,C,K){},flush:function(g,p){}});Oe=la.Class.create({init:function(g){Object.defineProperties(this,{_data:{value:g,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new $a("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(g,p,n){t(n,function(){var p;if(this._closed)throw new $a("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == g && (g=this._data.length - this._currentPosition);p=this._data.subarray(this._currentPosition,this._currentPosition + g);this._currentPosition+=p.length;return p;},this);}});Pe=la.Class.create({init:function(){var g;g={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},abort:function(){},close:function(g,p){this._closed=!0;p.result(!0);},write:function(g,p,n,C,K){t(K,function(){var x;if(this._closed)throw new $a("Stream is already closed.");if(0 > p)throw new RangeError("Offset cannot be negative.");if(0 > n)throw new RangeError("Length cannot be negative.");if(p + n > g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");x=g.subarray(p,n);this._buffered.push(x);return x.length;},this);},flush:function(g,p){var n,w;for(;0 < this._buffered.length;){n=this._buffered.shift();if(this._result){w=new Uint8Array(this._result.length + n.length);w.set(this._result);w.set(n,this._result.length);this._result=w;}else this._result=new Uint8Array(n);}p.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Qe=la.Class.create({getResponse:function(g,p,n){}});(function(){var g,p;g=Cc.extend({init:function(g,p){var n;n={_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:p,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Pe(),writable:!1,enumerable:!1,configurable:!1},_response:{value:ga,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:ga,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new gc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,n);},setTimeout:function(g){this._timeout=g;},getResponse:function(g,p){var n;n=this;this._responseQueue.poll(g,{result:function(g){t(p,function(){g && this._responseQueue.add(g);return g;},n);},timeout:function(){t(p,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();p.timeout();},n);},error:function(g){t(p,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw g;},n);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(g,p){var n;n=this;t(p,function(){var g;if(this._response)return !0;g=this._buffer.toByteArray();0 < g.length && (this._abortToken=this._httpLocation.getResponse({body:g},this._timeout,{result:function(g){n._response={response:g};n._responseQueue.add(n._response);},timeout:function(){n._response={isTimeout:!0};n._responseQueue.add(n._response);},error:function(g){n._response={isError:!0,error:g};n._responseQueue.add(n._response);}}));return !0;},this);},write:function(g,p,n,x,H){t(H,function(){if(this._response)throw new $a("HttpOutputStream already closed.");this._buffer.write(g,p,n,x,H);},this);},flush:function(g,p){t(p,function(){if(this._response)return !0;this._buffer.flush(g,p);},this);}});p=dd.extend({init:function(g){Object.defineProperties(this,{_out:{value:g,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:ga,writable:!0,enumerable:!1,configurable:!1},_exception:{value:ga,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:ga,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(g,p,n){var H;function x(x){t(n,function(){if(!x)return new Uint8Array(0);this._out.getResponse(p,{result:function(x){t(n,function(){var w;if(x.isTimeout)(this._timedout=!0,n.timeout());else {if(x.isError)throw (this._exception=x.error || new $a("Unknown HTTP exception."),this._exception);if(!x.response)throw (this._exception=new $a("Missing HTTP response."),this._exception);x.response.json !== ga && (this._json=x.response.json,this.getJSON=function(){return H._json;});w=x.response.content || Mc("string" === typeof x.response.body?x.response.body:JSON.stringify(this._json));this._buffer=new Oe(w);this._buffer.read(g,p,n);}},H);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});},H);}H=this;t(n,function(){if(this._exception)throw this._exception;if(this._timedout)n.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(g,p,n):this._out.close(p,{result:function(g){x(g);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});}},H);}});xd=la.Class.create({init:function(g,p){Object.defineProperties(this,{_httpLocation:{value:g,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:p,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(g){this._timeout=g;},openConnection:function(){var n;n=new g(this._httpLocation,this._timeout);return {input:new p(n),output:n};}});})();(function(){var g,p;g=Cc.extend({init:function(){var g;g={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setTimeout:function(){},getResponse:function(g,p){p.result({success:!1,content:null,errorHttpCode:ga,errorSubCode:ga});},abort:function(){},close:function(g,p){p.result(!0);},write:function(g,p,n,x,H){var w,z;try{if(0 > p)throw new RangeError("Offset cannot be negative.");if(0 > n)throw new RangeError("Length cannot be negative.");if(p + n > g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=g.subarray(p,n);z=new Uint8Array(this._buffer.length + w.length);z.set(this._buffer);z.set(w,this._buffer.length);this._buffer=z;H.result(w.length);}catch(Ia){H.error(Ia);}},flush:function(g,p){p.result(!0);},request:function(){return this._buffer;}});p=dd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(g,p,n){n.result(new Uint8Array(16));}});yd=la.Class.create({init:function(){var n;n={output:{value:new g(),writable:!1,enumerable:!1,configurable:!1},input:{value:new p(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,n);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return Lc(this.output.request());}});})();Od=function(g,p,n){function w(g){var p,n;g=new Re(Ya(g,"utf-8"));p=[];for(n=g.nextValue();n !== ga;){p.push(n);n=g.nextValue();}return p;}(function(g,p,H){g.read(-1,p,{result:function(g){g && g.length?H(null,g):H(null,null);},timeout:function(){n.timeout();},error:function(g){H(g,null);}});})(g,p,function(p,x){p?n.error(p):x?g.getJSON !== ga && "function" === typeof g.getJSON?n.result(g.getJSON()):n.result(w(x)):n.result(null);});};kb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(kb);(function(){hc=la.Class.create({init:function(g){Object.defineProperties(this,{keyExchangeScheme:{value:g,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this === g?!0:g instanceof hc?this.keyExchangeScheme == g.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Pd=function(n,w,z){p(z,function(){var p,K,x;p=w.scheme;K=w.keydata;if(!p || !K || "object" !== typeof K)throw new ha(g.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(w));if(!kb[p])throw new Sa(g.UNIDENTIFIED_KEYX_SCHEME,p);x=n.getKeyExchangeFactory(p);if(!x)throw new Sa(g.KEYX_FACTORY_NOT_FOUND,p);x.createRequestData(n,K,z);});};})();(function(){ic=la.Class.create({init:function(g,p){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},keyExchangeScheme:{value:p,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var g;g={};g.mastertoken=this.masterToken;g.scheme=this.keyExchangeScheme;g.keydata=this.getKeydata();return g;},equals:function(g){return this === g?!0:g instanceof ic?this.masterToken.equals(g.masterToken) && this.keyExchangeScheme == g.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});Qd=function(n,w,z){p(z,function(){var t,K,x;t=w.mastertoken;K=w.scheme;x=w.keydata;if(!K || !t || "object" !== typeof t || !x || "object" !== typeof x)throw new ha(g.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(w));if(!kb[K])throw new Sa(g.UNIDENTIFIED_KEYX_SCHEME,K);Tb(n,t,{result:function(H){p(z,function(){var p;p=n.getKeyExchangeFactory(K);if(!p)throw new Sa(g.KEYX_FACTORY_NOT_FOUND,K);return p.createResponseData(n,H,x);});},error:function(g){z.error(g);}});});};})();(function(){var n;n=la.Class.create({init:function(g,p){Object.defineProperties(this,{keyResponseData:{value:g,writable:!1,configurable:!1},cryptoContext:{value:p,writable:!1,configurable:!1}});}});nb=la.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createRequestData:function(g,p,n){},createResponseData:function(g,p,n){},generateResponse:function(g,p,n,t){},getCryptoContext:function(g,p,n,t,x){},generateSessionKeys:function(n,z){p(z,function(){var p,w;p=new Uint8Array(16);w=new Uint8Array(32);n.getRandom().nextBytes(p);n.getRandom().nextBytes(w);yb(p,pb,Hb,{result:function(p){yb(w,qb,Sb,{result:function(g){z.result({encryptionKey:p,hmacKey:g});},error:function(p){z.error(new L(g.SESSION_KEY_CREATION_FAILURE,null,p));}});},error:function(p){z.error(new L(g.SESSION_KEY_CREATION_FAILURE,null,p));}});});},importSessionKeys:function(g,p,n){yb(g,pb,Hb,{result:function(g){yb(p,qb,Sb,{result:function(p){n.result({encryptionKey:g,hmacKey:p});},error:function(g){n.error(g);}});},error:function(g){n.error(g);}});}});nb.KeyExchangeData=n;})();(function(){var w,z,t;function n(n,x,H,z,t){p(t,function(){var K,ba;switch(x){case w.PSK:(K=new rb(z),ba=n.getEntityAuthenticationFactory(Ra.PSK));if(!ba)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,x);K=ba.getCryptoContext(n,K);return new Ab(n,Bb.A128KW,tb,ga);case w.MGK:K=new mb(z);ba=n.getEntityAuthenticationFactory(Ra.MGK);if(!ba)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,x);K=ba.getCryptoContext(n,K);return new Ab(n,Bb.A128KW,tb,ga);case w.WRAP:K=n.getMslCryptoContext();K.unwrap(H,xb,Ib,{result:function(g){p(t,function(){return new Ab(n,Bb.A128KW,tb,g);});},error:t.error});break;default:throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,x);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};z=ed=hc.extend({init:function x(g,p){x.base.call(this,kb.JWE_LADDER);switch(g){case w.WRAP:if(!p)throw new X("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:p=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:p,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata && (g.wrapdata=oa(this.wrapdata));return g;},equals:function H(g){return g === this?!0:g instanceof ed?H.base.call(this,g) && this.mechanism == g.mechanism && bb(this.wrapdata,g.wrapdata):!1;},uniqueKey:function na(){var g;g=na.base.call(this) + ":" + this.mechanism;this.wrapdata && (g+=":" + gb(this.wrapdata));return g;}});t=Sd=ic.extend({init:function ba(g,p,n,w,z){ba.base.call(this,g,kb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:p,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:z,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=oa(this.wrapKey);g.wrapdata=oa(this.wrapdata);g.encryptionkey=oa(this.encryptionKey);g.hmackey=oa(this.hmacKey);return g;},equals:function Ia(g){return this === g?!0:g instanceof Sd?Ia.base.call(this,g) && bb(this.wrapKey,g.wrapKey) && bb(this.wrapdata,g.wrapdata) && bb(this.encryptionKey,g.encryptionKey) && bb(this.hmacKey,g.hmacKey):!1;},uniqueKey:function qa(){return qa.base.call(this) + ":" + gb(this.wrapKey) + ":" + gb(this.wrapdata) + ":" + gb(this.encryptionKey) + ":" + gb(this.hmacKey);}});Rd=nb.extend({init:function R(g){R.base.call(this,kb.JWE_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(n,t,T){p(T,function(){var p,n,R;p=t.mechanism;n=t.wrapdata;if(!p || p == w.WRAP && (!n || "string" !== typeof n))throw new ha(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(t));if(!w[p])throw new Sa(g.UNIDENTIFIED_KEYX_MECHANISM,p);switch(p){case w.WRAP:try{R=ya(n);}catch(xa){throw new Sa(g.KEYX_WRAPPING_KEY_MISSING,"keydata " + t.toString());}if(null == R || 0 == R.length)throw new Sa(g.KEYX_WRAPPING_KEY_MISSING,"keydata " + t.toString());break;default:R=null;}return new z(p,R);});},createResponseData:function(p,n,w){var z,R,T,C,wa,G,F;p=w.wrapkey;z=w.wrapdata;R=w.encryptionkey;T=w.hmackey;if(!(p && "string" === typeof p && z && "string" === typeof z && R && "string" === typeof R && T) || "string" !== typeof T)throw new ha(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(w));try{C=ya(p);wa=ya(z);}catch(fa){throw new L(g.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(w),fa);}try{G=ya(R);}catch(fa){throw new L(g.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(w),fa);}try{F=ya(T);}catch(fa){throw new L(g.INVALID_HMAC_KEY,"keydata " + JSON.stringify(w),fa);}return new t(n,C,wa,G,F);},generateResponse:function(w,C,T,V){var Aa,pa;function R(g,n,z){Aa.generateSessionKeys(w,{result:function(w){p(V,function(){N(g,n,z,w.encryptionKey,w.hmacKey);},Aa);},error:function(g){p(V,function(){g instanceof F && g.setEntity(pa);throw g;});}});}function N(g,z,t,R,T){p(V,function(){n(w,C.mechanism,C.wrapdata,g,{result:function(g){g.wrap(z,{result:function(d){wa(z,t,R,T,d);},error:function(d){p(V,function(){d instanceof F && d.setEntity(pa);throw d;});}});},error:function(g){p(V,function(){g instanceof F && g.setEntity(pa);throw g;});}});},Aa);}function wa(g,n,z,t,R){p(V,function(){var fa;fa=new Ab(w,Bb.A128KW,tb,g);fa.wrap(z,{result:function(d){fa.wrap(t,{result:function(b){G(n,R,z,d,t,b);},error:function(b){p(V,function(){b instanceof F && b.setEntity(pa);throw b;});}});},error:function(d){p(V,function(){d instanceof F && d.setEntity(pa);throw d;});}});},Aa);}function G(g,n,z,R,C,N){p(V,function(){var d;d=w.getTokenFactory();pa?d.renewMasterToken(w,pa,z,C,{result:function(b){p(V,function(){var a,c;a=new ib(w,b);c=new t(b,n,g,R,N);return new nb.KeyExchangeData(c,a,V);},Aa);},error:function(b){p(V,function(){b instanceof F && b.setEntity(pa);throw b;});}}):d.createMasterToken(w,T,z,C,{result:function(b){p(V,function(){var a,c;a=new ib(w,b);c=new t(b,n,g,R,N);return new nb.KeyExchangeData(c,a,V);},Aa);},error:V.error});},Aa);}Aa=this;p(V,function(){var n,t;if(!(C instanceof z))throw new X("Key request data " + JSON.stringify(C) + " was not created by this factory.");n=T;if(T instanceof hb){if(!T.isVerified())throw new Rb(g.MASTERTOKEN_UNTRUSTED,T);pa=T;n=T.identity;}t=new Uint8Array(16);w.getRandom().nextBytes(t);yb(t,xb,Ib,{result:function(g){p(V,function(){w.getMslCryptoContext().wrap(g,{result:function(p){R(n,g,p);},error:function(g){p(V,function(){g instanceof F && g.setEntity(pa);throw g;},Aa);}});},Aa);},error:function(n){p(V,function(){throw new L(g.WRAP_KEY_CREATION_FAILURE,null,n).setEntity(pa);},Aa);}});},Aa);},getCryptoContext:function(n,C,T,V,za){var wa;function R(g,w,z,t,R){p(za,function(){var fa;fa=new Ab(n,Bb.A128KW,tb,R);fa.unwrap(w.encryptionKey,pb,Hb,{result:function(R){fa.unwrap(w.hmacKey,qb,Sb,{result:function(g){p(za,function(){this.repository.addCryptoContext(w.wrapdata,fa);this.repository.removeCryptoContext(z);return new ib(n,w.masterToken,t,R,g);},wa);},error:function(n){p(za,function(){n instanceof F && n.setEntity(g);throw n;});}});},error:function(n){p(za,function(){n instanceof F && n.setEntity(g);throw n;});}});},wa);}wa=this;p(za,function(){var N,V;if(!(C instanceof z))throw new X("Key request data " + JSON.stringify(C) + " was not created by this factory.");if(!(T instanceof t))throw new X("Key response data " + JSON.stringify(T) + " was not created by this factory.");N=C.mechanism;V=C.wrapdata;n.getEntityAuthenticationData(null,{result:function(z){p(za,function(){var t,C,wa;t=z.getIdentity();switch(N){case w.PSK:C=new rb(t);wa=n.getEntityAuthenticationFactory(Ra.PSK);if(!wa)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,N).setEntity(z);C=wa.getCryptoContext(n,C);C=new Ab(n,Bb.A128KW,tb,ga);break;case w.MGK:C=new mb(t);wa=n.getEntityAuthenticationFactory(Ra.MGK);if(!wa)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,N).setEntity(z);C=wa.getCryptoContext(n,C);C=new Ab(n,Bb.A128KW,tb,C.wrapKey);break;case w.WRAP:C=this.repository.getCryptoContext(V);if(!C)throw new Sa(g.KEYX_WRAPPING_KEY_MISSING,oa(V)).setEntity(z);break;default:throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,N).setEntity(z);}C.unwrap(T.wrapKey,xb,Ib,{result:function(g){R(z,T,V,t,g);},error:function(g){p(za,function(){g instanceof F && g.setEntity(z);throw g;});}});},wa);},error:za.error});},wa);}});})();(function(){var w,z,t,K;function n(n,H,z,t,C){p(C,function(){var x,R;switch(H){case w.PSK:(x=new rb(t),R=n.getEntityAuthenticationFactory(Ra.PSK));if(!R)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,H);x=R.getCryptoContext(n,x);return new K(ga);case w.MGK:x=new mb(t);R=n.getEntityAuthenticationFactory(Ra.MGK);if(!R)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,H);x=R.getCryptoContext(n,x);return new K(ga);case w.WRAP:x=n.getMslCryptoContext();x.unwrap(z,xb,Ib,{result:function(g){p(C,function(){return new K(g);});},error:C.error});break;default:throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,H);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};z=Dc=hc.extend({init:function H(g,p){H.base.call(this,kb.JWK_LADDER);switch(g){case w.WRAP:if(!p)throw new X("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:p=null;}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},wrapdata:{value:p,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.mechanism=this.mechanism;this.wrapdata && (g.wrapdata=oa(this.wrapdata));return g;},equals:function na(g){return g === this?!0:g instanceof Dc?na.base.call(this,g) && this.mechanism == g.mechanism && bb(this.wrapdata,g.wrapdata):!1;},uniqueKey:function ba(){var g;g=ba.base.call(this) + ":" + this.mechanism;this.wrapdata && (g+=":" + gb(this.wrapdata));return g;}});t=Td=ic.extend({init:function Ia(g,p,n,w,z){Ia.base.call(this,g,kb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:p,writable:!1,configurable:!1},wrapdata:{value:n,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:z,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.wrapkey=oa(this.wrapKey);g.wrapdata=oa(this.wrapdata);g.encryptionkey=oa(this.encryptionKey);g.hmackey=oa(this.hmacKey);return g;},equals:function qa(g){return this === g?!0:g instanceof Td?qa.base.call(this,g) && bb(this.wrapKey,g.wrapKey) && bb(this.wrapdata,g.wrapdata) && bb(this.encryptionKey,g.encryptionKey) && bb(this.hmacKey,g.hmacKey):!1;},uniqueKey:function R(){return R.base.call(this) + ":" + gb(this.wrapKey) + ":" + gb(this.wrapdata) + ":" + gb(this.encryptionKey) + ":" + gb(this.hmacKey);}});K=ac.extend({init:function(g){g && g.rawKey && (g=g.rawKey);Object.defineProperties(this,{_wrapKey:{value:g,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(p,n){n.error(new L(g.ENCRYPT_NOT_SUPPORTED));},decrypt:function(p,n){n.error(new L(g.DECRYPT_NOT_SUPPORTED));},wrap:function(n,w){p(w,function(){Fa.wrapKey("jwk",n.rawKey,this._wrapKey,xb).then(function(g){w.result(g);},function(p){w.error(new L(g.WRAP_ERROR));});},this);},unwrap:function(n,w,z,t){function C(n){p(t,function(){switch(n.type){case "secret":Yb(n,t);break;case "public":Ob(n,t);break;case "private":Zb(n,t);break;default:throw new L(g.UNSUPPORTED_KEY,"type: " + n.type);}});}p(t,function(){Fa.unwrapKey("jwk",n,this._wrapKey,xb,w,!1,z).then(function(g){C(g);},function(p){t.error(new L(g.UNWRAP_ERROR));});},this);},sign:function(p,n){n.error(new L(g.SIGN_NOT_SUPPORTED));},verify:function(p,n,w){w.error(new L(g.VERIFY_NOT_SUPPORTED));}});gd=nb.extend({init:function wa(g){wa.base.call(this,kb.JWK_LADDER);Object.defineProperties(this,{repository:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(n,t,C){p(C,function(){var p,n,C;p=t.mechanism;n=t.wrapdata;if(!p || p == w.WRAP && (!n || "string" !== typeof n))throw new ha(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(t));if(!w[p])throw new Sa(g.UNIDENTIFIED_KEYX_MECHANISM,p);switch(p){case w.WRAP:try{C=ya(n);}catch(va){throw new Sa(g.KEYX_WRAPPING_KEY_MISSING,"keydata " + t.toString());}if(null == C || 0 == C.length)throw new Sa(g.KEYX_WRAPPING_KEY_MISSING,"keydata " + t.toString());break;default:C=null;}return new z(p,C);});},createResponseData:function(p,n,w){var z,C,K,T,V,wa,fa;p=w.wrapkey;z=w.wrapdata;C=w.encryptionkey;K=w.hmackey;if(!(p && "string" === typeof p && z && "string" === typeof z && C && "string" === typeof C && K) || "string" !== typeof K)throw new ha(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(w));try{T=ya(p);V=ya(z);}catch(vb){throw new L(g.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(w),vb);}try{wa=ya(C);}catch(vb){throw new L(g.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(w),vb);}try{fa=ya(K);}catch(vb){throw new L(g.INVALID_HMAC_KEY,"keydata " + JSON.stringify(w),vb);}return new t(n,T,V,wa,fa);},generateResponse:function(w,C,V,G){var pa,fa;function T(g,n,z){pa.generateSessionKeys(w,{result:function(w){p(G,function(){wa(g,n,z,w.encryptionKey,w.hmacKey);},pa);},error:function(g){p(G,function(){g instanceof F && g.setEntity(fa);throw g;});}});}function wa(g,z,t,K,T){p(G,function(){n(w,C.mechanism,C.wrapdata,g,{result:function(d){d.wrap(z,{result:function(b){za(z,t,K,T,b);},error:function(b){p(G,function(){b instanceof F && b.setEntity(fa);throw b;});}});},error:function(d){p(G,function(){d instanceof F && d.setEntity(fa);throw d;});}});},pa);}function za(g,n,w,z,t){p(G,function(){var d;d=new K(g);d.wrap(w,{result:function(b){d.wrap(z,{result:function(a){Aa(n,t,w,b,z,a);},error:function(a){p(G,function(){a instanceof F && a.setEntity(fa);throw a;});}});},error:function(b){p(G,function(){b instanceof F && b.setEntity(fa);throw b;});}});},pa);}function Aa(g,n,z,C,K,d){p(G,function(){var b;b=w.getTokenFactory();fa?b.renewMasterToken(w,fa,z,K,{result:function(a){p(G,function(){var b,h;b=new ib(w,a);h=new t(a,n,g,C,d);return new nb.KeyExchangeData(h,b,G);},pa);},error:function(a){p(G,function(){a instanceof F && a.setEntity(fa);throw a;});}}):b.createMasterToken(w,V,z,K,{result:function(a){p(G,function(){var b,h;b=new ib(w,a);h=new t(a,n,g,C,d);return new nb.KeyExchangeData(h,b,G);},pa);},error:G.error});},pa);}pa=this;p(G,function(){var n,t;if(!(C instanceof z))throw new X("Key request data " + JSON.stringify(C) + " was not created by this factory.");n=V;if(V instanceof hb){if(!V.isVerified())throw new Rb(g.MASTERTOKEN_UNTRUSTED,V);fa=V;n=V.identity;}t=new Uint8Array(16);w.getRandom().nextBytes(t);yb(t,xb,Ib,{result:function(g){p(G,function(){w.getMslCryptoContext().wrap(g,{result:function(p){T(n,g,p);},error:function(g){p(G,function(){g instanceof F && g.setEntity(fa);throw g;},pa);}});},pa);},error:function(n){p(G,function(){throw new L(g.WRAP_KEY_CREATION_FAILURE,null,n).setEntity(fa);},pa);}});},pa);},getCryptoContext:function(n,C,V,G,N){var wa;function T(g,w,z,t,C){p(N,function(){var fa;fa=new K(C);fa.unwrap(w.encryptionKey,pb,Hb,{result:function(C){fa.unwrap(w.hmacKey,qb,Sb,{result:function(g){p(N,function(){this.repository.addCryptoContext(w.wrapdata,fa);this.repository.removeCryptoContext(z);return new ib(n,w.masterToken,t,C,g);},wa);},error:function(n){p(N,function(){n instanceof F && n.setEntity(g);throw n;});}});},error:function(n){p(N,function(){n instanceof F && n.setEntity(g);throw n;});}});},wa);}wa=this;p(N,function(){var G,za;if(!(C instanceof z))throw new X("Key request data " + JSON.stringify(C) + " was not created by this factory.");if(!(V instanceof t))throw new X("Key response data " + JSON.stringify(V) + " was not created by this factory.");G=C.mechanism;za=C.wrapdata;n.getEntityAuthenticationData(null,{result:function(z){p(N,function(){var t,C,fa;t=z.getIdentity();switch(G){case w.PSK:C=new rb(t);fa=n.getEntityAuthenticationFactory(Ra.PSK);if(!fa)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(z);C=fa.getCryptoContext(n,C);C=new K(C.wrapKey);break;case w.MGK:C=new mb(t);fa=n.getEntityAuthenticationFactory(Ra.MGK);if(!fa)throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(z);C=fa.getCryptoContext(n,C);C=new K(C.wrapKey);break;case w.WRAP:C=this.repository.getCryptoContext(za);if(!C)throw new Sa(g.KEYX_WRAPPING_KEY_MISSING,oa(za)).setEntity(z);break;default:throw new Sa(g.UNSUPPORTED_KEYX_MECHANISM,G).setEntity(z);}C.unwrap(V.wrapKey,xb,Ib,{result:function(g){T(z,V,za,t,g);},error:function(g){p(N,function(){g instanceof F && g.setEntity(z);throw g;});}});},wa);},error:N.error});},wa);}});})();Se=la.Class.create({addCryptoContext:function(g,n){},getCryptoContext:function(g){},removeCryptoContext:function(g){}});(function(){var w,z,t,K;function n(n,p,z,t,C){switch(z){case w.JWE_RSA:case w.JWEJS_RSA:return new Ab(n,Bb.RSA_OAEP,tb,t,C);case w.JWK_RSA:return new xc(n,p,t,C,yc.WRAP_UNWRAP_OAEP);case w.JWK_RSAES:return new xc(n,p,t,C,yc.WRAP_UNWRAP_PKCS1);default:throw new L(g.UNSUPPORTED_KEYX_MECHANISM,z);}}w=Ec={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};z=Rc=hc.extend({init:function H(g,n,p,w){H.base.call(this,kb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:g,writable:!1,configurable:!1},mechanism:{value:n,writable:!1,configurable:!1},publicKey:{value:p,writable:!1,configurable:!1},privateKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.mechanism=this.mechanism;g.publickey=oa(this.publicKey.getEncoded());return g;},equals:function na(g){var n;if(g === this)return !0;if(!(g instanceof Rc))return !1;n=this.privateKey === g.privateKey || this.privateKey && g.privateKey && bb(this.privateKey.getEncoded(),g.privateKey.getEncoded());return na.base.call(this,g) && this.keyPairId == g.keyPairId && this.mechanism == g.mechanism && bb(this.publicKey.getEncoded(),g.publicKey.getEncoded()) && n;},uniqueKey:function ba(){var g,n;g=this.publicKey.getEncoded();n=this.privateKey && this.privateKey.getEncoded();g=ba.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + gb(g);n && (g+=":" + gb(n));return g;}});t=function(n,t){p(t,function(){var p,C,K,T;p=n.keypairid;C=n.mechanism;K=n.publickey;if(!p || "string" !== typeof p || !C || !K || "string" !== typeof K)throw new ha(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(n));if(!w[C])throw new Sa(g.UNIDENTIFIED_KEYX_MECHANISM,C);try{T=ya(K);switch(C){case w.JWE_RSA:case w.JWEJS_RSA:case w.JWK_RSA:Wc(T,vc,Ib,{result:function(g){t.result(new z(p,C,g,null));},error:function(g){t.error(g);}});break;case w.JWK_RSAES:Wc(T,Uc,Ib,{result:function(g){t.result(new z(p,C,g,null));},error:function(g){t.error(g);}});break;default:throw new L(g.UNSUPPORTED_KEYX_MECHANISM,C);}}catch(V){if(!(V instanceof F))throw new L(g.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(n),V);throw V;}});};K=Ud=ic.extend({init:function Ia(g,n,p,w){Ia.base.call(this,g,kb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:n,writable:!1,configurable:!1},encryptionKey:{value:p,writable:!1,configurable:!1},hmacKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var g;g={};g.keypairid=this.keyPairId;g.encryptionkey=oa(this.encryptionKey);g.hmackey=oa(this.hmacKey);return g;},equals:function qa(g){return this === g?!0:g instanceof Ud?qa.base.call(this,g) && this.keyPairId == g.keyPairId && bb(this.encryptionKey,g.encryptionKey) && bb(this.hmacKey,g.hmacKey):!1;},uniqueKey:function R(){return R.base.call(this) + ":" + this.keyPairId + ":" + gb(this.encryptionKey) + ":" + gb(this.hmacKey);}});zd=nb.extend({init:function wa(){wa.base.call(this,kb.ASYMMETRIC_WRAPPED);},createRequestData:function(g,n,p){t(n,p);},createResponseData:function(n,p,w){var z,t,C,T;n=w.keypairid;z=w.encryptionkey;t=w.hmackey;if(!n || "string" !== typeof n || !z || "string" !== typeof z || !t || "string" !== typeof t)throw new ha(g.JSON_PARSE_ERROR,"keydata " + JSON.stringify(w));try{C=ya(z);}catch(Aa){throw new L(g.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(w),Aa);}try{T=ya(t);}catch(Aa){throw new L(g.INVALID_HMAC_KEY,"keydata " + JSON.stringify(w),Aa);}return new K(p,n,C,T);},generateResponse:function(g,w,t,C){var G;function N(z,K){p(C,function(){var fa;fa=n(g,w.keyPairId,w.mechanism,null,w.publicKey);fa.wrap(z,{result:function(g){p(C,function(){fa.wrap(K,{result:function(n){T(z,g,K,n);},error:function(g){p(C,function(){g instanceof F && t instanceof hb && g.setEntity(t);throw g;},G);}});},G);},error:function(g){p(C,function(){g instanceof F && t instanceof hb && g.setEntity(t);throw g;},G);}});},G);}function T(n,z,fa,T){p(C,function(){var N;N=g.getTokenFactory();t instanceof hb?N.renewMasterToken(g,t,n,fa,{result:function(n){p(C,function(){var p,t;p=new ib(g,n);t=new K(n,w.keyPairId,z,T);return new nb.KeyExchangeData(t,p,C);},G);},error:function(g){p(C,function(){g instanceof F && g.setEntity(t);throw g;},G);}}):N.createMasterToken(g,t,n,fa,{result:function(n){p(C,function(){var p,t;p=new ib(g,n);t=new K(n,w.keyPairId,z,T);return new nb.KeyExchangeData(t,p,C);},G);},error:C.error});},G);}G=this;p(C,function(){if(!(w instanceof z))throw new X("Key request data " + JSON.stringify(w) + " was not created by this factory.");this.generateSessionKeys(g,{result:function(g){N(g.encryptionKey,g.hmacKey);},error:function(g){p(C,function(){g instanceof F && t instanceof hb && g.setEntity(t);throw g;},G);}});},G);},getCryptoContext:function(w,t,C,G,N){var T;T=this;p(N,function(){var V,wa,xa;if(!(t instanceof z))throw new X("Key request data " + JSON.stringify(t) + " was not created by this factory.");if(!(C instanceof K))throw new X("Key response data " + JSON.stringify(C) + " was not created by this factory.");V=t.keyPairId;wa=C.keyPairId;if(V != wa)throw new Sa(g.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + V + "; response " + wa).setEntity(G);wa=t.privateKey;if(!wa)throw new Sa(g.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(G);xa=n(w,V,t.mechanism,wa,null);xa.unwrap(C.encryptionKey,pb,Hb,{result:function(g){xa.unwrap(C.hmacKey,qb,Sb,{result:function(n){w.getEntityAuthenticationData(null,{result:function(z){p(N,function(){var p;p=z.getIdentity();return new ib(w,C.masterToken,p,g,n);},T);},error:function(g){p(N,function(){g instanceof F && g.setEntity(G);throw g;},T);}});},error:function(g){p(N,function(){g instanceof F && g.setEntity(G);throw g;},T);}});},error:function(g){p(N,function(){g instanceof F && g.setEntity(G);throw g;},T);}});},T);}});})();Re=la.Class.create({init:function(g){var n,p,t,K,x,H,G,ba;n=cb.parser();p=[];t=[];G=0;ba=!1;n.onerror=function(g){ba || (ba=!0,n.end());};n.onopenobject=function(g){var n;if(K)(K[H]={},t.push(K),K=K[H]);else if(x){n={};t.push(x);x.push(n);K=n;x=ga;}else K={};H=g;};n.oncloseobject=function(){var g;g=t.pop();g?"object" === typeof g?K=g:(K=ga,x=g):(p.push(K),G=n.index,K=ga);};n.onopenarray=function(){var g;if(K)(K[H]=[],t.push(K),x=K[H],K=ga);else if(x){g=[];t.push(x);x.push(g);x=g;}else x=[];};n.onclosearray=function(){var g;g=t.pop();g?"object" === typeof g?(K=g,x=ga):x=g:(p.push(x),G=n.index,x=ga);};n.onkey=function(g){H=g;};n.onvalue=function(g){K?K[H]=g:x?x.push(g):(p.push(g),G=n.index);};n.write(g).close();Object.defineProperties(this,{_values:{value:p,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:G,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?ga:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var n,w,z,t,K;n=hd="entityauthdata";w=Wd="mastertoken";z=Xd="headerdata";t=Yd="errordata";K=id="signature";Vd=function(x,H,C,G){p(G,function(){var p,ba,R,na,T,V;p=H[n];ba=H[w];R=H[K];if(p && "object" !== typeof p || ba && "object" !== typeof ba || "string" !== typeof R)throw new ha(g.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(H));try{na=ya(R);}catch(za){throw new Ea(g.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(H),za);}T=null;p && (T=Id(x,p));V=H[z];if(V != ga && null != V){if("string" !== typeof V)throw new ha(g.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(H));ba?Tb(x,ba,{result:function(g){jd(x,V,T,g,na,C,G);},error:function(g){G.error(g);}}):jd(x,V,T,null,na,C,G);}else if((p=H[t],p != ga && null != p)){if("string" !== typeof p)throw new ha(g.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(H));Zd(x,p,T,na,G);}else throw new ha(g.JSON_PARSE_ERROR,JSON.stringify(H));});};})();(function(){function t(g,n){this.errordata=g;this.signature=n;}Nb=la.Class.create({init:function(n,z,t,K,x,H,G,ba,Ia,qa){var w;w=this;p(qa,function(){var C,T;0 > H && (H=-1);if(0 > K || K > Pa)throw new X("Message ID " + K + " is out of range.");if(!z)throw new Ea(g.MESSAGE_ENTITY_NOT_FOUND);if(Ia)return (Object.defineProperties(this,{entityAuthenticationData:{value:z,writable:!1,configurable:!1},recipient:{value:t,writable:!1,configurable:!1},messageId:{value:K,writable:!1,configurable:!1},errorCode:{value:x,writable:!1,configurable:!1},internalCode:{value:H,writable:!1,configurable:!1},errorMessage:{value:G,writable:!1,configurable:!1},userMessage:{value:ba,writable:!1,configurable:!1},errordata:{value:Ia.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ia.signature,writable:!1,enumerable:!1,configurable:!1}}),this);C={};t && (C.recipient=t);C.messageid=K;C.errorcode=x;0 < H && (C.internalcode=H);G && (C.errormsg=G);ba && (C.usermsg=ba);try{T=n.getEntityAuthenticationFactory(z.scheme).getCryptoContext(n,z);}catch(V){throw (V instanceof F && (V.setEntity(z),V.setMessageId(K)),V);}C=Xa(JSON.stringify(C),Oa);T.encrypt(C,{result:function(g){p(qa,function(){T.sign(g,{result:function(n){p(qa,function(){Object.defineProperties(this,{entityAuthenticationData:{value:z,writable:!1,configurable:!1},recipient:{value:t,writable:!1,configurable:!1},messageId:{value:K,writable:!1,configurable:!1},errorCode:{value:x,writable:!1,configurable:!1},internalCode:{value:H,writable:!1,configurable:!1},errorMessage:{value:G,writable:!1,configurable:!1},userMessage:{value:ba,writable:!1,configurable:!1},errordata:{value:g,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){p(qa,function(){g instanceof F && (g.setEntity(z),g.setMessageId(K));throw g;},w);}});},w);},error:function(g){p(qa,function(){g instanceof F && (g.setEntity(z),g.setMessageId(K));throw g;},w);}});},w);},toJSON:function(){var g;g={};g[hd]=this.entityAuthenticationData;g[Yd]=oa(this.errordata);g[id]=oa(this.signature);return g;}});$d=function(g,n,p,t,x,H,G,ba,Ia){new Nb(g,n,p,t,x,H,G,ba,null,Ia);};Zd=function(w,z,C,K,x){p(x,function(){var H,G,ba;if(!C)throw new Ea(g.MESSAGE_ENTITY_NOT_FOUND);try{G=C.scheme;ba=w.getEntityAuthenticationFactory(G);if(!ba)throw new wb(g.ENTITYAUTH_FACTORY_NOT_FOUND,G);H=ba.getCryptoContext(w,C);}catch(Ia){throw (Ia instanceof F && Ia.setEntity(C),Ia);}try{z=ya(z);}catch(Ia){throw new Ea(g.HEADER_DATA_INVALID,z,Ia).setEntity(C);}if(!z || 0 == z.length)throw new Ea(g.HEADER_DATA_MISSING,z).setEntity(C);H.verify(z,K,{result:function(G){p(x,function(){if(!G)throw new L(g.MESSAGE_VERIFICATION_FAILED).setEntity(C);H.decrypt(z,{result:function(H){p(x,function(){var p,G,T,ba,na,N,xa,Ia;p=Ya(H,Oa);try{G=JSON.parse(p);}catch(pa){if(pa instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"errordata " + p,pa).setEntity(C);throw pa;}T=G.recipient !== ga?G.recipient:null;ba=parseInt(G.messageid);na=parseInt(G.errorcode);N=parseInt(G.internalcode);xa=G.errormsg;Ia=G.usermsg;if(T && "string" !== typeof T || !ba || ba != ba || !na || na != na || G.internalcode && N != N || xa && "string" !== typeof xa || Ia && "string" !== typeof Ia)throw new ha(g.JSON_PARSE_ERROR,"errordata " + p).setEntity(C);if(0 > ba || ba > Pa)throw new Ea(g.MESSAGE_ID_OUT_OF_RANGE,"errordata " + p).setEntity(C);G=!1;for(var F in n){if(n[F] == na){G=!0;break;}}G || (na=n.FAIL);if(N){if(0 > N)throw new Ea(g.INTERNAL_CODE_NEGATIVE,"errordata " + p).setEntity(C).setMessageId(ba);}else N=-1;p=new t(z,K);new Nb(w,C,T,ba,na,N,xa,Ia,p,x);});},error:function(g){p(x,function(){g instanceof F && g.setEntity(C);throw g;});}});});},error:function(g){p(x,function(){g instanceof F && g.setEntity(C);throw g;});}});});};})();Te=la.Class.create({getUserMessage:function(g,n){}});(function(){kd=function(g,n){var p,w;if(!g || !n)return null;p=g.compressionAlgorithms.filter(function(g){for(var p=0;p < n.compressionAlgorithms.length;++p){if(g == n.compressionAlgorithms[p])return !0;}return !1;});w=g.languages.filter(function(g){for(var p=0;p < n.languages.length;++p){if(g == n.languages[p])return !0;}return !1;});return new jc(p,w);};jc=la.Class.create({init:function(g,n){g || (g=[]);n || (n=[]);g.sort();Object.defineProperties(this,{compressionAlgorithms:{value:g,writable:!1,enumerable:!0,configurable:!1},languages:{value:n,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var g;g={};g.compressionalgos=this.compressionAlgorithms;g.languages=this.languages;return g;},equals:function(g){return this === g?!0:g instanceof jc?sd(this.compressionAlgorithms,g.compressionAlgorithms) && sd(this.languages,g.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});ae=function(n){var p,t,K;p=n.compressionalgos;t=n.languages;if(p && !(p instanceof Array) || t && !(t instanceof Array))throw new ha(g.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(n));n=[];for(var C=0;p && C < p.length;++C){K=p[C];Pb[K] && n.push(K);}return new jc(n,t);};})();(function(){var qa,R;function n(g,n,p,x,w){this.customer=g;this.sender=n;this.messageCryptoContext=p;this.headerdata=x;this.signature=w;}function w(g,n,p,x,w,H,t,z,C,K,G,ba,R,ma,na,d,b,a,c,h){return {cryptoContext:{value:n,writable:!1,configurable:!1},customer:{value:p,writable:!1,configurable:!1},entityAuthenticationData:{value:x,writable:!1,configurable:!1},masterToken:{value:w,writable:!1,configurable:!1},sender:{value:H,writable:!1,configurable:!1},messageId:{value:t,writable:!1,configurable:!1},nonReplayableId:{value:d,writable:!1,configurable:!1},keyRequestData:{value:z,writable:!1,configurable:!1},keyResponseData:{value:C,writable:!1,configurable:!1},userAuthenticationData:{value:K,writable:!1,configurable:!1},userIdToken:{value:G,writable:!1,configurable:!1},serviceTokens:{value:ba,writable:!1,configurable:!1},peerMasterToken:{value:R,writable:!1,configurable:!1},peerUserIdToken:{value:ma,writable:!1,configurable:!1},peerServiceTokens:{value:na,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:b,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:c,writable:!1,enumerable:!1,configurable:!1},signature:{value:h,writable:!1,enumerable:!1,configurable:!1}};}function t(n,p,x){var w;if(x){if(p=n.getMslStore().getCryptoContext(x))return p;if(!x.isVerified() || !x.isDecrypted())throw new Rb(g.MASTERTOKEN_UNTRUSTED,x);return new ib(n,x);}x=p.scheme;w=n.getEntityAuthenticationFactory(x);if(!w)throw new wb(g.ENTITYAUTH_FACTORY_NOT_FOUND,x);return w.getCryptoContext(n,p);}function C(n,x,w,H,t){p(t,function(){x.verify(w,H,{result:function(n){p(t,function(){if(!n)throw new L(g.MESSAGE_VERIFICATION_FAILED);x.decrypt(w,{result:function(g){p(t,function(){return Ya(g,Oa);});},error:function(g){t.error(g);}});});},error:function(g){t.error(g);}});});}function K(g,n,x){p(x,function(){if(n)Qd(g,n,x);else return null;});}function x(g,n,x,w){p(w,function(){if(n)Ub(g,n,x,w);else return null;});}function H(g,n,x,w){p(w,function(){if(x)ee(g,n,x,w);else return null;});}function na(n,x,w,H,t,z,C){var G;function K(x,C,ba){var fa,R;if(C >= x.length){fa=[];for(R in G){fa.push(G[R]);}ba.result(fa);}else {fa=x[C];if("object" !== typeof fa)throw new ha(g.JSON_PARSE_ERROR,"headerdata " + z);Fc(n,fa,w,H,t,{result:function(g){p(ba,function(){G[g.uniqueKey()]=g;K(x,C + 1,ba);});},error:function(g){ba.error(g);}});}}G={};p(C,function(){if(x){if(!(x instanceof Array))throw new ha(g.JSON_PARSE_ERROR,"headerdata " + z);K(x,0,C);}else return [];});}function ba(n,x,w,H,t,z){function C(n,x,w){p(w,function(){var p;p=x.peermastertoken;if(p && "object" !== typeof p)throw new ha(g.JSON_PARSE_ERROR,"headerdata " + t);if(!p)return null;Tb(n,p,w);});}function K(n,x,w,H){p(H,function(){var p;p=x.peeruseridtoken;if(p && "object" !== typeof p)throw new ha(g.JSON_PARSE_ERROR,"headerdata " + t);if(!p)return null;Ub(n,p,w,H);});}p(z,function(){if(!n.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};C(n,x,{result:function(g){p(z,function(){var C;C=w?w.masterToken:g;K(n,x,C,{result:function(w){p(z,function(){na(n,x.peerservicetokens,C,w,H,t,{result:function(n){p(z,function(){return {peerMasterToken:g,peerUserIdToken:w,peerServiceTokens:n};});},error:function(g){p(z,function(){g instanceof F && (g.setEntity(C),g.setUser(w));throw g;});}});});},error:function(g){p(z,function(){g instanceof F && g.setEntity(C);throw g;});}});});},error:z.error});});}function Ia(n,x,w,H){var z;function t(g,x){p(H,function(){if(x >= g.length)return z;Pd(n,g[x],{result:function(n){p(H,function(){z.push(n);t(g,x + 1);});},error:function(g){H.error(g);}});});}z=[];p(H,function(){var n;n=x.keyrequestdata;if(!n)return z;if(!(n instanceof Array))throw new ha(g.JSON_PARSE_ERROR,"headerdata " + w);t(n,0);});}qa=ce=la.Class.create({init:function(g,n,p,x,w,H,t,z,C){Object.defineProperties(this,{messageId:{value:g,writable:!1,configurable:!1},nonReplayableId:{value:n,writable:!1,configurable:!1},renewable:{value:p,writable:!1,configurable:!1},capabilities:{value:x,writable:!1,configurable:!1},keyRequestData:{value:w,writable:!1,configurable:!1},keyResponseData:{value:H,writable:!1,configurable:!1},userAuthData:{value:t,writable:!1,configurable:!1},userIdToken:{value:z,writable:!1,configurable:!1},serviceTokens:{value:C,writable:!1,configurable:!1}});}});R=de=la.Class.create({init:function(g,n,p){Object.defineProperties(this,{peerMasterToken:{value:g,writable:!1,configurable:!1},peerUserIdToken:{value:n,writable:!1,configurable:!1},peerServiceTokens:{value:p,writable:!1,configurable:!1}});}});kc=la.Class.create({init:function(g,n,x,H,z,C,K){var ba;function G(fa){p(K,function(){var G,R,N,ma,na,d,b,a,c,h,l,m,f,k,q,v,r;n=x?null:n;G=H.nonReplayableId;R=H.renewable;N=H.capabilities;ma=H.messageId;na=H.keyRequestData?H.keyRequestData:[];d=H.keyResponseData;b=H.userAuthData;a=H.userIdToken;c=H.serviceTokens?H.serviceTokens:[];g.isPeerToPeer()?(h=z.peerMasterToken,l=z.peerUserIdToken,m=z.peerServiceTokens?z.peerServiceTokens:[]):(l=h=null,m=[]);if(0 > ma || ma > Pa)throw new X("Message ID " + ma + " is out of range.");if(!n && !x)throw new X("Message entity authentication data or master token must be provided.");d?g.isPeerToPeer()?(f=x,k=d.masterToken):(f=d.masterToken,k=h):(f=x,k=h);if(a && (!f || !a.isBoundTo(f)))throw new X("User ID token must be bound to a master token.");if(l && (!k || !l.isBoundTo(k)))throw new X("Peer user ID token must be bound to a peer master token.");c.forEach(function(b){if(b.isMasterTokenBound() && (!f || !b.isBoundTo(f)))throw new X("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!a || !b.isBoundTo(a)))throw new X("User ID token bound service tokens must be bound to the provided user ID token.");},this);m.forEach(function(a){if(a.isMasterTokenBound() && (!k || !a.isBoundTo(k)))throw new X("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound() && (!l || !a.isBoundTo(l)))throw new X("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(C){q=C.customer;v=C.messageCryptoContext;r=w(g,v,q,n,x,fa,ma,na,d,b,a,c,h,l,m,G,R,N,C.headerdata,C.signature);Object.defineProperties(this,r);return this;}q=a?a.customer:null;r={};fa && (r.sender=fa);r.messageid=ma;"number" === typeof G && (r.nonreplayableid=G);r.renewable=R;N && (r.capabilities=N);0 < na.length && (r.keyrequestdata=na);d && (r.keyresponsedata=d);b && (r.userauthdata=b);a && (r.useridtoken=a);0 < c.length && (r.servicetokens=c);h && (r.peermastertoken=h);l && (r.peeruseridtoken=l);0 < m.length && (r.peerservicetokens=m);try{v=t(g,n,x);}catch(u){throw (u instanceof F && (u.setEntity(x),u.setEntity(n),u.setUser(a),u.setUser(b),u.setMessageId(ma)),u);}r=Xa(JSON.stringify(r),Oa);v.encrypt(r,{result:function(f){p(K,function(){v.sign(f,{result:function(k){p(K,function(){var r;r=w(g,v,q,n,x,fa,ma,na,d,b,a,c,h,l,m,G,R,N,f,k);Object.defineProperties(this,r);return this;},ba);},error:function(f){p(K,function(){f instanceof F && (f.setEntity(x),f.setEntity(n),f.setUser(a),f.setUser(b),f.setMessageId(ma));throw f;},ba);}});},ba);},error:function(f){p(K,function(){f instanceof F && (f.setEntity(x),f.setEntity(n),f.setUser(a),f.setUser(b),f.setMessageId(ma));throw f;},ba);}});},ba);}ba=this;p(K,function(){C?G(C.sender):x?g.getEntityAuthenticationData(null,{result:function(g){g=g.getIdentity();G(g);},error:K.error}):G(null);},ba);},isEncrypting:function(){return this.masterToken || Oc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var g;g={};this.masterToken?g[Wd]=this.masterToken:g[hd]=this.entityAuthenticationData;g[Xd]=oa(this.headerdata);g[id]=oa(this.signature);return g;}});be=function(g,n,p,x,w,H){new kc(g,n,p,x,w,null,H);};jd=function(w,z,G,za,N,xa,va){p(va,function(){var T,V;G=za?null:G;if(!G && !za)throw new Ea(g.MESSAGE_ENTITY_NOT_FOUND);T=z;try{z=ya(T);}catch(fa){throw new Ea(g.HEADER_DATA_INVALID,T,fa);}if(!z || 0 == z.length)throw new Ea(g.HEADER_DATA_MISSING,T);try{V=t(w,G,za);}catch(fa){throw (fa instanceof F && (fa.setEntity(za),fa.setEntity(G)),fa);}C(w,V,z,N,{result:function(t){p(va,function(){var C,fa,T,ma,wa;try{C=JSON.parse(t);}catch(d){if(d instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"headerdata " + t,d).setEntity(za).setEntity(G);throw d;}fa=parseInt(C.messageid);if(!fa || fa != fa)throw new ha(g.JSON_PARSE_ERROR,"headerdata " + t).setEntity(za).setEntity(G);if(0 > fa || fa > Pa)throw new Ea(g.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + t).setEntity(za).setEntity(G);T=za?C.sender:null;if(za && (!T || "string" !== typeof T))throw new ha(g.JSON_PARSE_ERROR,"headerdata " + t).setEntity(za).setEntity(G).setMessageId(fa);ma=C.keyresponsedata;if(ma && "object" !== typeof ma)throw new ha(g.JSON_PARSE_ERROR,"headerdata " + t).setEntity(za).setEntity(G).setMessageId(fa);wa=va;va={result:function(d){wa.result(d);},error:function(d){d instanceof F && (d.setEntity(za),d.setEntity(G),d.setMessageId(fa));wa.error(d);}};K(w,ma,{result:function(d){p(va,function(){var b,a;b=!w.isPeerToPeer() && d?d.masterToken:za;a=C.useridtoken;if(a && "object" !== typeof a)throw new ha(g.JSON_PARSE_ERROR,"headerdata " + t);x(w,a,b,{result:function(a){p(va,function(){var c;c=C.userauthdata;if(c && "object" !== typeof c)throw new ha(g.JSON_PARSE_ERROR,"headerdata " + t);H(w,b,c,{result:function(c){p(va,function(){var h,f,k;if(c){f=c.scheme;k=w.getUserAuthenticationFactory(f);if(!k)throw new Ba(g.USERAUTH_FACTORY_NOT_FOUND,f).setUser(a).setUser(c);f=za?za.identity:G.getIdentity();h=k.authenticate(w,f,c,a);}else h=a?a.customer:null;na(w,C.servicetokens,b,a,xa,t,{result:function(b){p(va,function(){var f,k,q,m;f=C.nonreplayableid !== ga?parseInt(C.nonreplayableid):null;k=C.renewable;if(f != f || "boolean" !== typeof k)throw new ha(g.JSON_PARSE_ERROR,"headerdata " + t);if(0 > f || f > Pa)throw new Ea(g.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + t);q=null;m=C.capabilities;if(m){if("object" !== typeof m)throw new ha(g.JSON_PARSE_ERROR,"headerdata " + t);q=ae(m);}Ia(w,C,t,{result:function(m){ba(w,C,d,xa,t,{result:function(l){p(va,function(){var v,r,u,B;v=l.peerMasterToken;r=l.peerUserIdToken;u=l.peerServiceTokens;B=new qa(fa,f,k,q,m,d,c,a,b);v=new R(v,r,u);r=new n(h,T,V,z,N);new kc(w,G,za,B,v,r,va);});},error:va.error});},error:function(b){p(va,function(){b instanceof F && (b.setUser(a),b.setUser(c));throw b;});}});});},error:function(f){p(va,function(){f instanceof F && (f.setEntity(b),f.setUser(a),f.setUser(c));throw f;});}});});},error:va.error});});},error:va.error});});},error:va.error});});},error:va.error});});};})();(function(){function n(g,n){this.payload=g;this.signature=n;}ld=la.Class.create({init:function(g,n,t,K,x,H,G,ba){var w;w=this;p(ba,function(){var z,C;if(0 > g || g > Pa)throw new X("Sequence number " + g + " is outside the valid range.");if(0 > n || n > Pa)throw new X("Message ID " + n + " is outside the valid range.");if(G)return (Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:n,writable:!1,configurable:!1},compressionAlgo:{value:K,writable:!1,configurable:!1},data:{value:x,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:G.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:G.signature,writable:!1,enumerable:!1,configurable:!1}}),this);K?(z=md(K,x),z || (K=null,z=x)):(K=null,z=x);C={};C.sequencenumber=g;C.messageid=n;t && (C.endofmsg=t);K && (C.compressionalgo=K);C.data=oa(z);z=Xa(JSON.stringify(C),Oa);H.encrypt(z,{result:function(z){p(ba,function(){H.sign(z,{result:function(H){p(ba,function(){Object.defineProperties(this,{sequenceNumber:{value:g,writable:!1,configurable:!1},messageId:{value:n,writable:!1,configurable:!1},compressionAlgo:{value:K,writable:!1,configurable:!1},data:{value:x,writable:!1,configurable:!1},endofmsg:{value:t,writable:!1,enumerable:!1,configurable:!1},payload:{value:z,writable:!1,enumerable:!1,configurable:!1},signature:{value:H,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){ba.error(g);}});},w);},error:function(g){ba.error(g);}});},w);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var g;g={};g.payload=oa(this.payload);g.signature=oa(this.signature);return g;}});fe=function(g,n,p,t,x,H,G){new ld(g,n,p,t,x,H,null,G);};ge=function(w,t,C){p(C,function(){var z,x,H,G;z=w.payload;x=w.signature;if(!z || "string" !== typeof z || "string" !== typeof x)throw new ha(g.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(w));try{H=ya(z);}catch(ba){throw new Ea(g.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(w),ba);}try{G=ya(x);}catch(ba){throw new Ea(g.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(w),ba);}t.verify(H,G,{result:function(x){p(C,function(){if(!x)throw new L(g.PAYLOAD_VERIFICATION_FAILED);t.decrypt(H,{result:function(x){p(C,function(){var p,w,z,K,ba,na,N;p=Ya(x,Oa);try{w=JSON.parse(p);}catch(xa){if(xa instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"payload chunk payload " + p,xa);throw xa;}z=parseInt(w.sequencenumber);K=parseInt(w.messageid);ba=w.endofmsg;na=w.compressionalgo;w=w.data;if(!z || z != z || !K || K != K || ba && "boolean" !== typeof ba || na && "string" !== typeof na || "string" !== typeof w)throw new ha(g.JSON_PARSE_ERROR,"payload chunk payload " + p);if(0 > z || z > Pa)throw new F(g.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + p);if(0 > K || K > Pa)throw new F(g.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + p);ba || (ba=!1);if(na && !Pb[na])throw new Ea(g.UNIDENTIFIED_COMPRESSION,na);try{N=ya(w);}catch(xa){throw new Ea(g.PAYLOAD_DATA_CORRUPT,w,xa);}if(N && 0 != N.length)p=na?Gc(na,N):N;else {if(0 < w.length)throw new Ea(g.PAYLOAD_DATA_CORRUPT,w);if(ba)p=new Uint8Array(0);else throw new Ea(g.PAYLOAD_DATA_MISSING,w);}N=new n(H,G);new ld(z,K,ba,na,p,t,N,C);});},error:function(g){C.error(g);}});});},error:function(g){C.error(g);}});});};})();(function(){var C,K;function n(n,w,t,z,C){var H,K,G,ba,na;function x(){p(C,function(){var t,z;K >= w.length && (K=0,++H);if(H >= G.length){if(ba)throw ba;throw new Sa(g.KEYX_FACTORY_NOT_FOUND,JSON.stringify(w));}t=G[H];z=w[K];t.scheme != z.keyExchangeScheme?(++K,x()):t.generateResponse(n,z,na,{result:function(g){C.result(g);},error:function(g){p(C,function(){if(!(g instanceof F))throw g;ba=g;++K;x();});}});});}H=0;K=0;G=n.getKeyExchangeFactories();na=t?t:z;x();}function w(g,w,t,z,C){p(C,function(){var x;x=w.keyRequestData;if(w.isRenewable() && 0 < x.length)z?z.isRenewable() || z.isExpired()?n(g,x,z,null,C):g.getTokenFactory().isNewestMasterToken(g,z,{result:function(w){p(C,function(){if(w)return null;n(g,x,z,null,C);});},error:C.error}):n(g,x,null,t.getIdentity(),C);else return null;});}function t(n,w,t,z){p(z,function(){var p,x,H,C;p=w.userIdToken;x=w.userAuthenticationData;H=w.messageId;if(p && p.isVerified()){if(p.isRenewable() && w.isRenewable() || p.isExpired() || !p.isBoundTo(t)){x=n.getTokenFactory();x.renewUserIdToken(n,p,t,z);return;}}else if(w.isRenewable() && t && x){p=w.customer;if(!p){p=x.scheme;C=n.getUserAuthenticationFactory(p);if(!C)throw new Ba(g.USERAUTH_FACTORY_NOT_FOUND,p).setEntity(t).setUser(x).setMessageId(H);p=C.authenticate(n,t.identity,x,null);}x=n.getTokenFactory();x.createUserIdToken(n,p,t,z);return;}return p;});}C=new Uint8Array(0);K=Vb=function(g){if(0 > g || g > Pa)throw new X("Message ID " + g + " is outside the valid range.");return g == Pa?0:g + 1;};cc=function(g){if(0 > g || g > Pa)throw new X("Message ID " + g + " is outside the valid range.");return 0 == g?Pa:g - 1;};Wb=function(g,n,w,t,z){p(z,function(){var x;if(t == ga || null == t){x=g.getRandom();do {t=x.nextLong();}while(0 > t || t > Pa);}else if(0 > t || t > Pa)throw new X("Message ID " + t + " is outside the valid range.");g.getEntityAuthenticationData(null,{result:function(x){p(z,function(){var p;p=g.getMessageCapabilities();return new Hc(g,t,p,x,n,w,null,null,null,null,null);});},error:function(g){z.error(g);}});});};he=function(g,n,z){p(z,function(){var H,C,G,na,T,V;function x(g){p(z,function(){g instanceof F && (g.setEntity(H),g.setEntity(C),g.setUser(G),g.setUser(na),g.setMessageId(T));throw g;});}H=n.masterToken;C=n.entityAuthenticationData;G=n.userIdToken;na=n.userAuthenticationData;T=n.messageId;V=K(T);w(g,n,C,H,{result:function(w){p(z,function(){var C;C=w?w.keyResponseData.masterToken:C=H;g.getEntityAuthenticationData(null,{result:function(K){p(z,function(){t(g,n,C,{result:function(x){p(z,function(){var p,t,z;G=x;p=kd(n.messageCapabilities,g.getMessageCapabilities());t=n.keyResponseData;z=n.serviceTokens;return g.isPeerToPeer()?new Hc(g,V,p,K,t?t.masterToken:n.peerMasterToken,n.peerUserIdToken,n.peerServiceTokens,H,G,z,w):new Hc(g,V,p,K,t?t.masterToken:H,G,z,null,null,null,w);});},error:x});});},error:x});});},error:x});});};ie=function(g,n,w,t,z){p(z,function(){g.getEntityAuthenticationData(null,{result:function(x){p(z,function(){var p,H;if(n != ga && null != n)p=K(n);else {H=g.getRandom();do {p=H.nextInt();}while(0 > p || p > Pa);}$d(g,x,p,w.responseCode,w.internalCode,w.message,t,z);});},error:function(g){z.error(g);}});});};Hc=la.Class.create({init:function(g,n,p,w,t,z,C,K,G,F,za){var x,H,ba,R,na;if(!g.isPeerToPeer() && (K || G))throw new X("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");x=za && !g.isPeerToPeer()?za.keyResponseData.masterToken:t;H=[];x=g.getMslStore().getServiceTokens(x,z);H.push.apply(H,x);C && C.forEach(function(g){H.push(g);},this);na=[];g.isPeerToPeer() && (ba=K,R=G,C=za?za.keyResponseData.masterToken:K,G=g.getMslStore().getServiceTokens(C,G),na.push.apply(na,G),F && F.forEach(function(g){na.push(g);},this));Object.defineProperties(this,{_ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:w,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:t,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:n,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:p,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:za,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:z,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:H,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:ba,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:R,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:na,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || Oc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Oc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || td(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || td(this._entityAuthData.scheme);},getHeader:function(n){p(n,function(){var p,x,w;p=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;x=[];for(w in this._keyRequestData){x.push(this._keyRequestData[w]);}if(this._nonReplayable){if(!this._masterToken)throw new Ea(g.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);w=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else w=null;p=new ce(this._messageId,w,this._renewable,this._capabilities,x,p,this._userAuthData,this._userIdToken,this._serviceTokens);x=new de(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);be(this._ctx,this._entityAuthData,this._masterToken,p,x,n);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(g){this._nonReplayable=g;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(g){this._renewable=g;return this;},setAuthTokens:function(g,n){var p,w;if(n && !n.isBoundTo(g))throw new X("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new X("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{p=this._ctx.getMslStore().getServiceTokens(g,n);}catch(qa){if(qa instanceof F)throw new X("Invalid master token and user ID token combination despite checking above.",qa);throw qa;}for(var x=this._serviceTokens.length - 1;0 <= x;--x){w=this._serviceTokens[x];(w.isUserIdTokenBound() && !w.isBoundTo(n) || w.isMasterTokenBound() && !w.isBoundTo(g)) && this._serviceTokens.splice(x,1);}p.forEach(function(g){this.excludeServiceToken(g.name,g.isMasterTokenBound(),g.isUserIdTokenBound());this._serviceTokens.push(g);},this);this._masterToken=g;this._userIdToken=n;},setUserAuthenticationData:function(g){this._userAuthData=g;return this;},setCustomer:function(g,n){var x;x=this;p(n,function(){var w;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new X("User ID token or peer user ID token already exists for the remote user.");w=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!w)throw new X("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,g,w,{result:function(g){p(n,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=g:(this._userIdToken=g,this._userAuthData=null);return !0;},x);},error:function(g){n.error(g);}});},x);},addKeyRequestData:function(g){this._keyRequestData[g.uniqueKey()]=g;return this;},removeKeyRequestData:function(g){delete this._keyRequestData[g.uniqueKey()];return this;},addServiceToken:function(n){var p;p=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(n.isMasterTokenBound() && !n.isBoundTo(p))throw new Ea(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(n) + "; mt " + JSON.stringify(p)).setEntity(p);if(n.isUserIdTokenBound() && !n.isBoundTo(this._userIdToken))throw new Ea(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(n) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(p).setUser(this._userIdToken);this.excludeServiceToken(n.name,n.isMasterTokenBound(),n.isUserIdTokenBound());this._serviceTokens.push(n);return this;},addServiceTokenIfAbsent:function(g){var p;for(var n=this._serviceTokens.length - 1;0 <= n;--n){p=this._serviceTokens[n];if(p.name == g.name && p.isMasterTokenBound() == g.isMasterTokenBound() && p.isUserIdTokenBound() == g.isUserIdTokenBound())return this;}this.addServiceToken(g);return this;},excludeServiceToken:function(){var g,n,p,t;1 == arguments.length?(p=arguments[0],g=p.name,n=p.isMasterTokenBound(),p=p.isUserIdTokenBound()):(arguments.length=3,g=arguments[0],n=arguments[1],p=arguments[2]);for(var w=this._serviceTokens.length - 1;0 <= w;--w){t=this._serviceTokens[w];t.name == g && t.isMasterTokenBound() == n && t.isUserIdTokenBound() == p && this._serviceTokens.splice(w,1);}return this;},deleteServiceToken:function(){var g,n,w,t;if(2 == arguments.length){w=arguments[0];g=w.name;w.isMasterTokenBound();w.isUserIdTokenBound();n=arguments[1];}else (arguments.length=4,g=arguments[0],n=arguments[3]);t=this;p(n,function(){var x,w;x=originalToken.isMasterTokenBound()?this._masterToken:null;w=originalToken.isUserIdTokenBound()?this._userIdToken:null;Cb(this._ctx,g,C,x,w,!1,null,new bc(),{result:function(g){p(n,function(){return this.addServiceToken(g);},t);},error:function(g){g instanceof F && (g=new X("Failed to create and add empty service token to message.",g));n.error(g);}});},t);},getServiceTokens:function(){var g;g=[];g.push.apply(g,this._serviceTokens);return g;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(n,p){var x,t;if(!this._ctx.isPeerToPeer())throw new X("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(p && !n)throw new X("Peer master token cannot be null when setting peer user ID token.");if(p && !p.isBoundTo(n))throw new Ea(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + p + "; mt " + n).setEntity(n).setUser(p);try{x=this._ctx.getMslStore().getServiceTokens(n,p);}catch(qa){if(qa instanceof F)throw new X("Invalid peer master token and user ID token combination despite proper check.",qa);throw qa;}for(var w=this._peerServiceTokens.length - 1;0 <= w;--w){t=this._peerServiceTokens[w];(t.isUserIdTokenBound() && !t.isBoundTo(p) || t.isMasterTokenBound() && !t.isBoundTo(n)) && this._peerServiceTokens.slice(w,1);}x.forEach(function(g){this.excludePeerServiceToken(g.name,g.isMasterTokenBound(),g.isUserIdTokenBound());this._peerServiceTokens.push(g);},this);this._peerUserIdToken=p;this._peerMasterToken=n;return this;},addPeerServiceToken:function(n){if(!this._ctx.isPeerToPeer())throw new X("Cannot set peer service tokens when not in peer-to-peer mode.");if(n.isMasterTokenBound() && !n.isBoundTo(this._peerMasterToken))throw new Ea(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(n) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(n.isUserIdTokenBound() && !n.isBoundTo(this._peerUserIdToken))throw new Ea(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(n) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(n.name,n.isMasterTokenBound(),n.isUserIdTokenBound());this._peerServiceTokens.push(n);return this;},addPeerServiceTokenIfAbsent:function(g){var p;for(var n=this._peerServiceTokens.length - 1;0 <= n;--n){p=this._peerServiceTokens[n];if(p.name == g.name && p.isMasterTokenBound() == g.isMasterTokenBound() && p.isUserIdTokenBound() == g.isUserIdTokenBound())return this;}this.addPeerServiceToken(g);return this;},excludePeerServiceToken:function(){var g,n,p,t;1 == arguments.length?(p=arguments[0],g=p.name,n=p.isMasterTokenBound(),p=p.isUserIdTokenBound()):(arguments.length=3,g=arguments[0],n=arguments[1],p=arguments[2]);for(var w=this._peerServiceTokens.length - 1;0 <= w;--w){t=this._peerServiceTokens[w];t.name == g && t.isMasterTokenBound() == n && t.isUserIdTokenBound() == p && this._peerServiceTokens.splice(w,1);}return this;},deletePeerServiceToken:function(){var g,n,w,t,z,K;if(2 == arguments.length){z=arguments[0];g=z.name;n=z.isMasterTokenBound();w=z.isUserIdTokenBound();t=arguments[1];}else (arguments.length=4,g=arguments[0],n=arguments[1],w=arguments[2],t=arguments[3]);K=this;p(t,function(){Cb(this._ctx,g,C,n?this._peerMasterToken:null,w?this._peerUserIdToken:null,!1,null,new bc(),{result:function(g){p(t,function(){return this.addPeerServiceToken(g);},K);},error:function(g){g instanceof F && (g=new X("Failed to create and add empty peer service token to message.",g));t.error(g);}});},K);},getPeerServiceTokens:function(){var g;g=[];g.push.apply(g,this._peerServiceTokens);return g;}});})();(function(){function g(g,n){return n[g]?n[g]:n[""];}function n(g){var n;n=g.builder.getKeyExchangeData();return n && !g.ctx.isPeerToPeer()?n.keyResponseData.masterToken:g.builder.getMasterToken();}je=la.Class.create({init:function(g,n,p){g={ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:n.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:p,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},isPrimaryMasterTokenAvailable:function(){return n(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(g){try{return (this.builder.addServiceToken(g),!0);}catch(C){if(C instanceof Ea)return !1;throw C;}},addPeerServiceToken:function(g){try{return (this.builder.addPeerServiceToken(g),!0);}catch(C){if(C instanceof Ea)return !1;throw C;}},addUnboundPrimaryServiceToken:function(n,w,t,x,H){var z;z=this;p(H,function(){var C;C=g(n,this.cryptoContexts);if(!C)return !1;Cb(this.ctx,n,w,null,null,t,x,C,{result:function(g){p(H,function(){try{this.builder.addServiceToken(g);}catch(qa){if(qa instanceof Ea)throw new X("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},z);},error:function(g){H.error(g);}});},z);},addUnboundPeerServiceToken:function(n,w,t,x,H){var z;z=this;p(H,function(){var C;C=g(n,this.cryptoContexts);if(!C)return !1;Cb(this.ctx,n,w,null,null,t,x,C,{result:function(g){p(H,function(){try{this.builder.addPeerServiceToken(g);}catch(qa){if(qa instanceof Ea)throw new X("Service token bound to incorrect authentication tokens despite being unbound.",qa);throw qa;}return !0;},z);},error:function(g){H.error(g);}});},z);},addMasterBoundPrimaryServiceToken:function(w,t,K,x,H){var z;z=this;p(H,function(){var C,G;C=n(this);if(!C)return !1;G=g(w,this.cryptoContexts);if(!G)return !1;Cb(this.ctx,w,t,C,null,K,x,G,{result:function(g){p(H,function(){try{this.builder.addServiceToken(g);}catch(R){if(R instanceof Ea)throw new X("Service token bound to incorrect authentication tokens despite setting correct master token.",R);throw R;}return !0;},z);},error:function(g){H.error(g);}});},z);},addMasterBoundPeerServiceToken:function(n,w,t,x,H){var z;z=this;p(H,function(){var C,K;C=this.builder.getPeerMasterToken();if(!C)return !1;K=g(n,this.cryptoContexts);if(!K)return !1;Cb(this.ctx,n,w,C,null,t,x,K,{result:function(g){p(H,function(){try{this.builder.addPeerServiceToken(g);}catch(R){if(R instanceof Ea)throw new X("Service token bound to incorrect authentication tokens despite setting correct master token.",R);throw R;}return !0;},z);},error:function(g){H.error(g);}});},z);},addUserBoundPrimaryServiceToken:function(w,t,K,x,H){var z;z=this;p(H,function(){var C,G,F;C=n(this);if(!C)return !1;G=this.builder.getUserIdToken();if(!G)return !1;F=g(w,this.cryptoContexts);if(!F)return !1;Cb(this.ctx,w,t,C,G,K,x,F,{result:function(g){p(H,function(){try{this.builder.addServiceToken(g);}catch(wa){if(wa instanceof Ea)throw new X("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",wa);throw wa;}return !0;},z);},error:function(g){H.error(g);}});},z);},addUserBoundPeerServiceToken:function(n,w,t,x,H){var z;z=this;p(H,function(){var C,K,G;C=this.builder.getPeerMasterToken();if(!C)return !1;K=this.builder.getPeerUserIdToken();if(!K)return !1;G=g(n,this.cryptoContexts);if(!G)return !1;Cb(this.ctx,n,w,C,K,t,x,G,{result:function(g){p(H,function(){try{this.builder.addPeerServiceToken(g);}catch(wa){if(wa instanceof Ea)throw new X("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",wa);throw wa;}return !0;},z);},error:function(g){H.error(g);}});},z);},excludePrimaryServiceToken:function(){var g,n,p,w;if(1 == arguments.length){w=arguments[0];g=w.name;n=w.isMasterTokenBound();p=w.isUserIdTokenBound();}else (arguments.length=3,g=arguments[0],n=arguments[1],p=arguments[2]);for(var t=this.builder.getServiceTokens(),G=0;G < t.length;++G){if((w=t[G],w.name == g && w.isMasterTokenBound() == n && w.isUserIdTokenBound() == p))return (this.builder.excludeServiceToken(g,n,p),!0);}return !1;},excludePeerServiceToken:function(){var g,n,p,w;if(1 == arguments.length){w=arguments[0];g=w.name;n=w.isMasterTokenBound();p=w.isUserIdTokenBound();}else (arguments.length=3,g=arguments[0],n=arguments[1],p=arguments[2]);for(var t=this.builder.getPeerServiceTokens(),G=0;G < t.length;++G){if((w=t[G],w.name == g && w.isMasterTokenBound() == n && w.isUserIdTokenBound() == p))return (this.builder.excludePeerServiceToken(g,n,p),!0);}return !1;},deletePrimaryServiceToken:function(){var g,n,w,x,t;if(2 == arguments.length){t=arguments[0];g=t.name;n=t.isMasterTokenBound();w=t.isUserIdTokenBound();x=arguments[1];}else 4 == arguments.length && (g=arguments[0],n=arguments[1],w=arguments[2],x=arguments[3]);p(x,function(){var z;for(var p=this.builder.getServiceTokens(),t=0;t < p.length;++t){z=p[t];if(z.name == g && z.isMasterTokenBound() == n && z.isUserIdTokenBound() == w){this.builder.deleteServiceToken(g,n,w,{result:function(){x.result(!0);},error:function(g){x.error(g);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var g,n,w,x,t;if(2 == arguments.length){t=arguments[0];g=t.name;n=t.isMasterTokenBound();w=t.isUserIdTokenBound();x=arguments[1];}else 4 == arguments.length && (g=arguments[0],n=arguments[1],w=arguments[2],x=arguments[3]);p(x,function(){var z;for(var p=this.builder.getPeerServiceTokens(),t=0;t < p.length;++t){z=p[t];if(z.name == g && z.isMasterTokenBound() == n && z.isUserIdTokenBound() == w){this.builder.deletePeerServiceToken(g,n,w,{result:function(){x.result(!0);},error:function(g){x.error(g);}});return;}}return !1;},this);}});})();(function(){function n(n,t,C,K){p(K,function(){var z,G,ba,Ia,qa,R;function w(){p(K,function(){var x;if(R >= C.length){if(qa)throw qa;throw new Sa(g.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(C));}x=C[R];ba != x.keyExchangeScheme?(++R,w()):Ia.getCryptoContext(n,x,G,z,{result:K.result,error:function(g){p(K,function(){if(!(g instanceof F))throw g;qa=g;++R;w();});}});});}z=t.masterToken;G=t.keyResponseData;if(!G)return null;ba=G.keyExchangeScheme;Ia=n.getKeyExchangeFactory(ba);if(!Ia)throw new Sa(g.KEYX_FACTORY_NOT_FOUND,ba);R=0;w();});}ke=dd.extend({init:function(p,z,C,G,x,H,na){var w;w=this;t(na,function(){var na;function t(){w._ready=!0;w._readyQueue.add(!0);}function K(g,n){var p;try{p=n.masterToken;g.getTokenFactory().isMasterTokenRevoked(g,p,{result:function(x){x?(w._errored=new Rb(x,p).setUser(n.userIdToken).setUser(n.userAuthenticationData).setMessageId(n.messageId),t()):R(g,n);},error:function(g){g instanceof F && (g.setEntity(n.masterToken),g.setUser(n.userIdToken),g.setUser(n.userAuthenticationData),g.setMessageId(n.messageId));w._errored=g;t();}});}catch(va){va instanceof F && (va.setEntity(n.masterToken),va.setUser(n.userIdToken),va.setUser(n.userAuthenticationData),va.setMessageId(n.messageId));w._errored=va;t();}}function R(g,n){var p,x;try{p=n.masterToken;x=n.userIdToken;x?g.getTokenFactory().isUserIdTokenRevoked(g,p,x,{result:function(z){z?(w._errored=new MslUserIdTokenException(z,x).setEntity(p).setUser(x).setMessageId(n.messageId),t()):ba(g,n);},error:function(g){g instanceof F && (g.setEntity(n.masterToken),g.setUser(n.userIdToken),g.setUser(n.userAuthenticationData),g.setMessageId(n.messageId));w._errored=g;t();}}):ba(g,n);}catch(Aa){Aa instanceof F && (Aa.setEntity(n.masterToken),Aa.setUser(n.userIdToken),Aa.setUser(n.userAuthenticationData),Aa.setMessageId(n.messageId));w._errored=Aa;t();}}function ba(n,p){var x;try{x=p.masterToken;x.isExpired()?p.isRenewable() && 0 != p.keyRequestData.length?n.getTokenFactory().isMasterTokenRenewable(n,x,{result:function(g){g?(w._errored=new Ea(g,"Master token is expired and not renewable.").setEntity(x).setUser(p.userIdToken).setUser(p.userAuthenticationData).setMessageId(p.messageId),t()):T(n,p);},error:function(g){g instanceof F && (g.setEntity(p.masterToken),g.setUser(p.userIdToken),g.setUser(p.userAuthenticationData),g.setMessageId(p.messageId));w._errored=g;t();}}):(w._errored=new Ea(g.MESSAGE_EXPIRED,JSON.stringify(p)).setEntity(x).setUser(p.userIdToken).setUser(p.userAuthenticationData).setMessageId(p.messageId),t()):T(n,p);}catch(va){va instanceof F && (va.setEntity(p.masterToken),va.setUser(p.userIdToken),va.setUser(p.userAuthenticationData),va.setMessageId(p.messageId));w._errored=va;t();}}function T(n,p){var x,z;try{x=p.masterToken;z=p.nonReplayableId;"number" === typeof z?x?n.getTokenFactory().acceptNonReplayableId(n,x,z,{result:function(n){n || (w._errored=new Ea(g.MESSAGE_REPLAYED,JSON.stringify(p)).setEntity(x).setUser(p.userIdToken).setUser(p.userAuthenticationData).setMessageId(p.messageId));t();},error:function(g){g instanceof F && (g.setEntity(x),g.setUser(p.userIdToken),g.setUser(p.userAuthenticationData),g.setMessageId(p.messageId));w._errored=g;t();}}):(w._errored=new Ea(g.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(p)).setEntity(p.entityAuthenticationData).setUser(p.userIdToken).setUser(p.userAuthenticationData).setMessageId(p.messageId),t()):t();}catch(Aa){Aa instanceof F && (Aa.setEntity(p.masterToken),Aa.setEntity(p.entityAuthenticationData),Aa.setUser(p.userIdToken),Aa.setUser(p.userAuthenticationData),Aa.setMessageId(p.messageId));w._errored=Aa;t();}}na={_source:{value:z,writable:!1,enumerable:!1,configurable:!1},_parser:{value:ga,writable:!0,enumerable:!1,configurable:!1},_charset:{value:C,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:H,writable:!1,enumerable:!1,configurable:!1},_header:{value:ga,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ga,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:ga,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,na);Od(w._source,H,{result:function(z){w._json=z;w._jsonIndex=0;null === w._json?(w._errored=new ha(g.MESSAGE_DATA_MISSING),t()):Vd(p,w._json[w._jsonIndex++],x,{result:function(g){var x;w._header=g;if(w._header instanceof Nb)(w._keyxCryptoContext=null,w._cryptoContext=null,t());else {x=w._header;n(p,x,G,{result:function(g){var n;try{w._keyxCryptoContext=g;p.isPeerToPeer() || !w._keyxCryptoContext?w._cryptoContext=x.cryptoContext:w._cryptoContext=w._keyxCryptoContext;try{n=x.masterToken;n && (p.isPeerToPeer() || n.isVerified())?K(p,x):T(p,x);}catch(pa){pa instanceof F && (pa.setEntity(x.masterToken),pa.setUser(x.userIdToken),pa.setUser(x.userAuthenticationData),pa.setMessageId(x.messageId));w._errored=pa;t();}}catch(pa){pa instanceof F && (pa.setEntity(x.masterToken),pa.setEntity(x.entityAuthenticationData),pa.setUser(x.userIdToken),pa.setUser(x.userAuthenticationData),pa.setMessageId(x.messageId));w._errored=pa;t();}},error:function(g){g instanceof F && (g.setEntity(x.masterToken),g.setEntity(x.entityAuthenticationData),g.setUser(x.userIdToken),g.setUser(x.userAuthenticationData),g.setMessageId(x.messageId));w._errored=g;t();}});}},error:function(g){w._errored=g;t();}});},timeout:function(){w._timedout=!0;t();},error:function(g){w._errored=g;t();}});return this;},w);},nextData:function(n,p){var w;w=this;t(p,function(){var x;function n(g){t(g,function(){var p;if(this._jsonIndex < this._json.length)return p=this._json[this._jsonIndex++];Od(this._source,this._timeout,{result:function(p){p && p.length && 0 < p.length?(p.forEach(function(g){this._json.push(g);}),n(g)):(this._eom=!0,g.result(null));},timeout:function(){g.timeout();},error:function(n){g.error(n);}});},w);}x=this.getMessageHeader();if(!x)throw new X("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;n({result:function(n){t(p,function(){if(!n)return null;if("object" !== typeof n)throw new ha(g.MESSAGE_FORMAT_ERROR);ge(n,this._cryptoContext,{result:function(n){t(p,function(){var p,w,t,z;p=x.masterToken;w=x.entityAuthenticationData;t=x.userIdToken;z=x.getUserAuthenticationData;if(n.messageId != x.messageId)throw new Ea(g.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + n.messageId + " header mid " + x.messageId).setEntity(p).setEntity(w).setUser(t).setUser(z);if(n.sequenceNumber != this._payloadSequenceNumber)throw new Ea(g.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + n.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(p).setEntity(w).setUser(t).setUser(z);++this._payloadSequenceNumber;n.isEndOfMessage() && (this._eom=!0);p=n.data;this._payloads.push(p);this._payloadIndex=-1;return p;},w);},error:function(n){n instanceof SyntaxError && (n=new ha(g.JSON_PARSE_ERROR,"payloadchunk",n));p.error(n);}});},w);},timeout:function(){p.timeout();},error:function(g){p.error(g);}});},w);},isReady:function(g,n){var w;function p(){t(n,function(){if(this._aborted)return !1;if(this._timedout)n.timeout();else {if(this._errored)throw this._errored;return !0;}},w);}w=this;t(n,function(){this._ready?p():this._readyQueue.poll(g,{result:function(g){t(n,function(){if(g === ga)return !1;p();},w);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});},w);},getMessageHeader:function(){return this._header instanceof kc?this._header:null;},getErrorHeader:function(){return this._header instanceof Nb?this._header:null;},getIdentity:function(){var g,n;g=this.getMessageHeader();if(g){n=g.masterToken;return n?n.identity:g.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var g;g=this.getMessageHeader();return g?g.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(g){this._closeSource=g;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(g,n,p){var x;function w(){t(p,function(){var z,C,G,K;function w(p){t(p,function(){var z,H,R;if(C && K >= C.length)return C.subarray(0,K);z=-1;if(this._currentPayload){H=this._currentPayload.length - this._payloadOffset;if(!C){R=H;if(-1 != this._payloadIndex)for(var ba=this._payloadIndex;ba < this._payloads.length;++ba){R+=this._payloads[ba].length;}0 < R && (C=new Uint8Array(R));}H=Math.min(H,C?C.length - K:0);0 < H && (z=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + H),C.set(z,G),z=H,G+=H,this._payloadOffset+=H);}-1 != z?(K+=z,w(p)):this.nextData(n,{result:function(n){t(p,function(){if(this._aborted)return C?C.subarray(0,K):new Uint8Array(0);this._currentPayload=n;this._payloadOffset=0;if(this._currentPayload)w(p);else return 0 == K && 0 != g?null:C?C.subarray(0,K):new Uint8Array(0);},x);},timeout:function(){p.timeout(C?C.subarray(0,K):new Uint8Array(0));},error:function(g){t(p,function(){g instanceof F && (g=new $a("Error reading the payload chunk.",g));if(0 < K)return (x._readException=g,C.subarray(0,K));throw g;},x);}});},x);}if(this._aborted)return new Uint8Array(0);if(this._timedout)p.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){z=this._readException;this._readException=null;throw z;}C=-1 != g?new Uint8Array(g):ga;G=0;K=0;w(p);}},x);}x=this;t(p,function(){if(-1 > g)throw new RangeError("read requested with illegal length " + g);this._ready?w():this._readyQueue.poll(n,{result:function(g){g === ga?p.result(!1):w();},timeout:function(){p.timeout(new Uint8Array(0));},error:function(g){p.error(g);}});},x);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});le=function(g,n,p,t,x,H,G){new ke(g,n,p,t,x,H,G);};})();(function(){me=Cc.extend({init:function(g,n,p,C,K,x,H){var w;w=this;t(H,function(){var z,H,G;function t(){w._ready=!0;w._readyQueue.add(!0);}z=kd(g.getMessageCapabilities(),C.messageCapabilities);H=null;z && (H=Cd(z.compressionAlgorithms));z={_destination:{value:n,writable:!1,enumerable:!1,configurable:!1},_charset:{value:p,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:z,writable:!1,enumerable:!1,configurable:!1},_header:{value:C,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:H,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:K,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new gc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,z);G=Xa(JSON.stringify(C),p);n.write(G,0,G.length,x,{result:function(g){try{w._aborted?t():g < G.length?(w._timedout=!0,t()):n.flush(x,{result:function(g){w._aborted || (w._timedout=!g);t();},timeout:function(){w._timedout=!0;t();},error:function(g){w._errored=g;t();}});}catch(T){w._errored=T;t();}},timeout:function(){w._timedout=!0;t();},error:function(g){w._errored=g;t();}});return this;},w);},setCompressionAlgorithm:function(g,n,p){var z;function w(){z.flush(n,{result:function(n){t(p,function(){if(!n)throw new $a("flush() aborted");this._compressionAlgo=g;return !0;},z);},timeout:function(){p.timeout();},error:function(g){p.error(g);}});}z=this;t(p,function(){if(!this.getMessageHeader())throw new X("Cannot write payload data for an error message.");if(this._compressionAlgo == g)return !0;if(g){if(!this._capabilities)return !1;for(var n=this._capabilities.compressionAlgorithms,p=0;p < n.length;++p){if(n[p] == g){w();return;}}return !1;}w();},z);},getMessageHeader:function(){return this._header instanceof kc?this._header:null;},getErrorMessage:function(){return this._header instanceof Nb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(g,n){var p;p=this;t(n,function(){if(this._aborted)return !1;if(this._timedout)n.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(g,{result:function(g){t(n,function(){g && (this._currentPayload=null);return g;},p);},timeout:function(){n.timeout();},error:function(g){n.error(g);}});}},p);},flush:function(g,n){var w;function p(){t(n,function(){var p,x,L;if(this._aborted)return !1;if(this._timedout)n.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;p=this.getMessageHeader();if(!p)return !0;x=0;this._currentPayload && this._currentPayload.forEach(function(g){x+=g.length;});for(var z=new Uint8Array(x),C=0,G=0;this._currentPayload && G < this._currentPayload.length;++G){L=this._currentPayload[G];z.set(L,C);C+=L.length;}fe(this._payloadSequenceNumber,p.messageId,this._closed,this._compressionAlgo,z,this._cryptoContext,{result:function(p){t(n,function(){var x;this._payloads.push(p);x=Xa(JSON.stringify(p),this._charset);this._destination.write(x,0,x.length,g,{result:function(x){t(n,function(){if(this._aborted)return !1;x < p.length?n.timeout():this._destination.flush(g,{result:function(g){t(n,function(){if(this._aborted)return !1;if(g)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);n.timeout();},w);},timeout:function(){n.timeout();},error:function(g){g instanceof F && (g=new $a("Error encoding payload chunk [sequence number " + w._payloadSequenceNumber + "].",g));n.error(g);}});},w);},timeout:function(g){n.timeout();},error:function(g){g instanceof F && (g=new $a("Error encoding payload chunk [sequence number " + w._payloadSequenceNumber + "].",g));n.error(g);}});},w);},error:function(g){g instanceof F && (g=new $a("Error encoding payload chunk [sequence number " + w._payloadSequenceNumber + "].",g));n.error(g);}});}},w);}w=this;t(n,function(){this._ready?p():this._readyQueue.poll(g,{result:function(g){g === ga?n.result(!1):p();},timeout:function(){n.timeout();},error:function(g){n.error(g);}});},w);},write:function(g,n,p,C,K){t(K,function(){var w;if(this._aborted)return !1;if(this._timedout)K.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new $a("Message output stream already closed.");if(0 > n)throw new RangeError("Offset cannot be negative.");if(0 > p)throw new RangeError("Length cannot be negative.");if(n + p > g.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new X("Cannot write payload data for an error message.");w=g.subarray(n,n + p);this._currentPayload.push(w);return w.length;}},this);}});Ic=function(g,n,p,t,K,x,H){new me(g,n,p,t,K,x,H);};})();Ue=la.Class.create({sentHeader:function(g){},receivedHeader:function(g){}});Object.freeze({USERDATA_REAUTH:n.USERDATA_REAUTH,SSOTOKEN_REJECTED:n.SSOTOKEN_REJECTED});ne=la.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(g,n,p,t){},getCustomer:function(){},getKeyRequestData:function(g){},updateServiceTokens:function(g,n,p){},write:function(g,n,p){},getDebugContext:function(){}});la.Class.create({getInputStream:function(g){},getOutputStream:function(g){}});(function(){var na,ba,L,qa,R,wa,T,V,za,N,xa,va;function G(g){return function(){g.abort();};}function w(g,n){Object.defineProperties(this,{masterToken:{value:g,writable:!1,configurable:!1},ticket:{value:n,writable:!1,configurable:!1}});}function z(g,n){Object.defineProperties(this,{builder:{value:g,writable:!1,configurable:!1},msgCtx:{value:n,writable:!1,configurable:!1}});}function C(g,n,p){Object.defineProperties(this,{requestHeader:{value:g,writable:!1,configurable:!1},payloads:{value:n,writable:!1,configurable:!1},handshake:{value:p,writable:!1,configurable:!1}});}function K(g,n){Object.defineProperties(this,{requestHeader:{value:n.requestHeader,writable:!1,configurable:!1},payloads:{value:n.payloads,writable:!1,configurable:!1},handshake:{value:n.handshake,writable:!1,configurable:!1},response:{value:g,writable:!1,configurable:!1}});}function x(g){for(;g;){if(g instanceof db)return !0;g=g instanceof F?g.cause:ga;}return !1;}function H(g,n,p,w,x,z,C,H,d){ie(n,w,x,z,{result:function(b){p && p.sentHeader(b);Ic(n,C,Oa,b,null,null,H,{result:function(a){g.setAbort(function(){a.abort();});a.close(H,{result:function(a){t(d,function(){if(!a)throw new db("sendError aborted.");return a;});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){},error:function(a){d.error(a);}});},error:function(b){d.error(b);}});}na=Cc.extend({close:function(g,n){n.result(!0);},write:function(g,n,w,x,t){p(t,function(){return Math.min(g.length - n,w);});},flush:function(g,n){n.result(!0);}});ba=Te.extend({getUserMessage:function(g,n){return null;}});L=ne.extend({init:function(g){Object.defineProperties(this,{_appCtx:{value:g,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(g,n,p,w){this._appCtx.getUserAuthData(g,n,p,w);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(g){this._appCtx.getKeyRequestData(g);},updateServiceTokens:function(g,n,p){this._appCtx.updateServiceTokens(g,n,p);},write:function(g,n,p){this._appCtx.write(g,n,p);},getDebugContext:function(){return this._appCtx.getDebugContext();}});qa=L.extend({init:function pa(g,n){pa.base.call(this,n);Object.defineProperties(this,{_payloads:{value:g,writable:!1,enumerable:!1,configurable:!1}});},write:function(g,n,p){var x;function w(z,C){var d;if(z == x._payloads.length)p.result(!0);else {d=x._payloads[z];g.setCompressionAlgorithm(d.compressionAlgo,n,{result:function(b){g.write(d.data,0,d.data.length,n,{result:function(a){t(p,function(){d.isEndOfMessage()?w(z + 1,C):g.flush(n,{result:function(a){p.result(a);},timeout:function(){p.timeout();},error:function(a){p.error(a);}});},x);},timeout:function(a){p.timeout(a);},error:function(a){p.error(a);}});},timeout:function(){},error:function(b){p.error(b);}});}}x=this;w(0);}});R=L.extend({init:function fa(g){fa.base.call(this,g);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(g,n,p){p.result(!0);}});wa={};xa=la.Class.create({init:function(g){g || (g=new ba());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:g,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(g){this._filterFactory=g;},getNewestMasterToken:function(g,n,p,x){var z;z=this;t(x,function(){var C,d,b,a,c;C=n.getMslStore();d=C.getMasterToken();if(!d)return null;b=d.uniqueKey();a=this._masterTokenLocks[b];a || (a=new Tc(),this._masterTokenLocks[b]=a);c=a.readLock(p,{result:function(c){t(x,function(){var h;if(c === ga)throw new db("getNewestMasterToken aborted.");h=C.getMasterToken();if(d.equals(h))return new w(d,c);a.unlock(c);a.writeLock(p,{result:function(c){t(x,function(){if(c === ga)throw new db("getNewestMasterToken aborted.");delete this._masterTokenLocks[b];a.unlock(c);return this.getNewestMasterToken(g,n,p,x);},z);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},z);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});g.setAbort(function(){c && (a.cancel(c),c=ga);});},z);},deleteMasterToken:function(g,n){var p;if(n){p=this;setTimeout(function(){var w,x;w=n.uniqueKey();x=p._masterTokenLocks[w];x || (x=new Tc(),p._masterTokenLocks[w]=x);x.writeLock(-1,{result:function(t){g.getMslStore().removeCryptoContext(n);delete p._masterTokenLocks[w];x.unlock(t);},timeout:function(){throw new X("Unexpected timeout received.");},error:function(g){throw g;}});},0);}},releaseMasterToken:function(g){var n;if(g && g.masterToken){n=g.masterToken.uniqueKey();n=this._masterTokenLocks[n];if(!n)throw new X("Master token read/write lock does not exist when it should.");n.unlock(g.ticket);}},updateOutgoingCryptoContexts:function(g,n,p){var w;w=g.getMslStore();!g.isPeerToPeer() && p && (w.setCryptoContext(p.keyResponseData.masterToken,p.cryptoContext),this.deleteMasterToken(g,n.masterToken));},updateIncomingCryptoContexts:function(g,n,p){var w,x;w=p.getMessageHeader();if(w){x=g.getMslStore();if(w=w.keyResponseData)(x.setCryptoContext(w.masterToken,p.getKeyExchangeCryptoContext()),this.deleteMasterToken(g,n.masterToken));}},storeServiceTokens:function(g,n,p,w){var d,b;g=g.getMslStore();for(var x=[],t=0;t < w.length;++t){d=w[t];if(!d.isBoundTo(n) || !n.isVerified()){b=d.data;b && 0 == b.length?g.removeServiceTokens(d.name,d.isMasterTokenBound()?n:null,d.isUserIdTokenBound()?p:null):x.push(d);}}0 < x.length && g.addServiceTokens(x);},buildRequest:function(g,n,w,x,t){var z;z=this;this.getNewestMasterToken(g,n,x,{result:function(d){p(t,function(){var b,a,c;b=d && d.masterToken;if(b){a=w.getUserId();c=n.getMslStore();a=(a=a?c.getUserIdToken(a):null) && a.isBoundTo(b)?a:null;}else a=null;Wb(n,b,a,null,{result:function(a){p(t,function(){a.setNonReplayable(w.isNonReplayable());return {builder:a,tokenTicket:d};});},error:function(a){p(t,function(){this.releaseMasterToken(d);a instanceof F && (a=new X("User ID token not bound to master token despite internal check.",a));throw a;},z);}});},z);},timeout:function(){t.timeout();},error:function(d){t.error(d);}});},buildResponse:function(g,n,p,w,x,z){var d;d=this;he(n,w,{result:function(b){t(z,function(){b.setNonReplayable(p.isNonReplayable());if(!n.isPeerToPeer() && !w.keyResponseData)return {builder:b,tokenTicket:null};this.getNewestMasterToken(g,n,x,{result:function(a){t(z,function(){var c,h,l;c=a && a.masterToken;if(c){h=p.getUserId();l=n.getMslStore();h=(h=h?l.getUserIdToken(h):null) && h.isBoundTo(c)?h:null;}else h=null;b.setAuthTokens(c,h);return {builder:b,tokenTicket:a};},d);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});},d);},error:function(b){z.error(b);}});},buildErrorResponse:function(g,p,w,x,C,H,d){var c;function b(a,b){t(d,function(){var h,f;h=Vb(C.messageId);f=new qa(b,w);Wb(p,null,null,h,{result:function(b){t(d,function(){p.isPeerToPeer() && b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(f.isNonReplayable());return {errorResult:new z(b,f),tokenTicket:null};},c);},error:function(a){d.error(a);}});},c);}function a(a,b){c.getNewestMasterToken(g,p,H,{result:function(h){t(d,function(){var f,k,q;f=h && h.masterToken;k=Vb(C.messageId);q=new qa(b,w);Wb(p,f,null,k,{result:function(b){t(d,function(){p.isPeerToPeer() && b.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);b.setNonReplayable(q.isNonReplayable());return {errorResult:new z(b,q),tokenTicket:h};},c);},error:function(a){d.error(a);}});},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}c=this;t(d,function(){var h,l,m,f;h=x.requestHeader;l=x.payloads;m=C.errorCode;switch(m){case n.ENTITYDATA_REAUTH:case n.ENTITY_REAUTH:p.getEntityAuthenticationData(m,{result:function(a){t(d,function(){if(!a)return null;b(h,l);},c);},error:function(a){d.error(a);}});break;case n.USERDATA_REAUTH:case n.SSOTOKEN_REJECTED:w.getUserAuthData(m,!1,!0,{result:function(b){t(d,function(){if(!b)return null;a(h,l);},c);},error:function(a){d.error(a);}});break;case n.USER_REAUTH:a(h,l);break;case n.KEYX_REQUIRED:(m=Vb(C.messageId),f=new qa(l,w));Wb(p,null,null,m,{result:function(a){t(d,function(){p.isPeerToPeer() && a.setPeerAuthTokens(h.peerMasterToken,h.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(f.isNonReplayable());return {errorResult:new z(a,f),tokenTicket:null};},c);},error:function(a){d.error(a);}});break;case n.EXPIRED:this.getNewestMasterToken(g,p,H,{result:function(a){t(d,function(){var b,f,k,m;b=a && a.masterToken;f=h.userIdToken;k=Vb(C.messageId);m=new qa(l,w);Wb(p,b,f,k,{result:function(f){t(d,function(){p.isPeerToPeer() && f.setPeerAuthTokens(h.peerMasterToken,h.peerUserIdToken);h.masterToken.equals(b) && f.setRenewable(!0);f.setNonReplayable(m.isNonReplayable());return {errorResult:new z(f,m),tokenTicket:a};},c);},error:function(a){d.error(a);}},c);},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;case n.REPLAYED:this.getNewestMasterToken(g,p,H,{result:function(a){t(d,function(){var b,f,k,m;b=a && a.masterToken;f=h.userIdToken;k=Vb(C.messageId);m=new qa(l,w);Wb(p,b,f,k,{result:function(f){t(d,function(){p.isPeerToPeer() && f.setPeerAuthTokens(h.peerMasterToken,h.peerUserIdToken);h.masterToken.equals(b)?(f.setRenewable(!0),f.setNonReplayable(!1)):f.setNonReplayable(m.isNonReplayable());return {errorResult:new z(f,m),tokenTicket:a};},c);},error:function(a){d.error(a);}});},c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});break;default:return null;}},c);},cleanupContext:function(g,p,w){switch(w.errorCode){case n.ENTITY_REAUTH:this.deleteMasterToken(g,p.masterToken);break;case n.USER_REAUTH:(w=p.userIdToken,p.masterToken && w && g.getMslStore().removeUserIdToken(w));}},send:function(g,n,p,w,x,z,d){var m;function b(b,c,h){t(d,function(){var f;f=x.getPeerUserIdToken();!n.isPeerToPeer() && !c || n.isPeerToPeer() && !f?(f=p.getCustomer())?x.setCustomer(f,{result:function(f){t(d,function(){c=x.getUserIdToken();a(b,c,h);},m);},error:function(a){d.error(a);}}):a(b,c,h):a(b,c,h);},m);}function a(a,b,h){t(d,function(){var f,k;f=!h && (!p.isEncrypted() || x.willEncryptPayloads()) && (!p.isIntegrityProtected() || x.willIntegrityProtectPayloads()) && (!p.isNonReplayable() || x.isNonReplayable() && a);f || x.setNonReplayable(!1);k=[];x.isRenewable() && (!a || a.isRenewable() || p.isNonReplayable())?p.getKeyRequestData({result:function(h){t(d,function(){var m;for(var q=0;q < h.length;++q){m=h[q];k.push(m);x.addKeyRequestData(m);}c(a,b,f,k);},m);},error:function(a){d.error(a);}}):c(a,b,f,k);},m);}function c(a,b,c,l){t(d,function(){var f;f=new je(n,p,x);p.updateServiceTokens(f,!c,{result:function(f){x.getHeader({result:function(f){t(d,function(){var k,q;k=p.getDebugContext();k && k.sentHeader(f);k=x.getKeyExchangeData();this.updateOutgoingCryptoContexts(n,f,k);this.storeServiceTokens(n,a,b,f.serviceTokens);k=!n.isPeerToPeer() && k?k.cryptoContext:f.cryptoContext;if(g.isAborted())throw new db("send aborted.");q=null != this._filterFactory?this._filterFactory.getOutputStream(w):w;Ic(n,q,Oa,f,k,z,{result:function(a){g.setAbort(function(){a.abort();});h(a,f,c);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},error:function(a){d.error(a);}});},m);}function h(a,b,c){var f,k;if(c)p.write(a,z,{result:function(f){t(d,function(){if(g.isAborted())throw new db("MessageOutputStream write aborted.");l(a,b,c);},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});else {f=new na();k=new bc();Ic(n,f,Oa,b,k,z,{result:function(f){p.write(f,z,{result:function(k){t(d,function(){if(g.isAborted())throw new db("MessageOutputStream proxy write aborted.");f.close(z,{result:function(k){t(d,function(){var h;if(!k)throw new db("MessageOutputStream proxy close aborted.");h=f.getPayloads();l(a,b,c,h);},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}}function l(a,b,c,h){a.close(z,{result:function(f){t(d,function(){if(!f)throw new db("MessageOutputStream close aborted.");h || (h=a.getPayloads());return new C(b,h,!c);},m);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});}m=this;t(d,function(){var a,c,h,l;a=x.getMasterToken();c=x.getUserIdToken();h=!1;if(p.getUserId()){l=!c;p.getUserAuthData(null,x.isRenewable(),l,{result:function(f){t(d,function(){f && (x.willEncryptHeader() && x.willIntegrityProtectHeader()?x.setUserAuthenticationData(f):h=!0);b(a,c,h);},m);},error:function(a){d.error(a);}});}else b(a,c,h);},m);},receive:function(p,w,x,z,C,H,d){var b;b=this;t(d,function(){var a,c,h;if(p.isAborted())throw new db("receive aborted.");a=[];C && (a=C.keyRequestData.filter(function(){return !0;}));c=x.getCryptoContexts();h=this._filterFactory?this._filterFactory.getInputStream(z):z;le(w,h,Oa,a,c,H,{result:function(a){p.setAbort(function(){a.abort();});a.isReady(H,{result:function(c){t(d,function(){var f,h,q,m;if(!c)throw new db("MessageInputStream aborted.");f=a.getMessageHeader();h=a.getErrorHeader();q=x.getDebugContext();q && q.receivedHeader(f?f:h);if(C && (q=h?h.errorCode:null,f || q != n.FAIL && q != n.TRANSIENT_FAILURE && q != n.ENTITY_REAUTH && q != n.ENTITYDATA_REAUTH)){q=f?f.messageId:h.messageId;m=Vb(C.messageId);if(q != m)throw new Ea(g.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + m + "; received " + q);}w.getEntityAuthenticationData(null,{result:function(c){t(d,function(){var b,k,q,m;b=c.getIdentity();if(f){k=f.entityAuthenticationData;q=f.masterToken;k=q?f.sender:k.getIdentity();if(q && q.isDecrypted() && q.identity != k || b == k)throw new Ea(g.UNEXPECTED_MESSAGE_SENDER,k);C && this.updateIncomingCryptoContexts(w,C,a);b=f.keyResponseData;w.isPeerToPeer()?(b=b?b.masterToken:f.peerMasterToken,q=f.peerUserIdToken,k=f.peerServiceTokens):(b=b?b.masterToken:f.masterToken,q=f.userIdToken,k=f.serviceTokens);m=x.getUserId();m && q && !q.isVerified() && w.getMslStore().addUserIdToken(m,q);this.storeServiceTokens(w,b,q,k);}else if((k=h.entityAuthenticationData.getIdentity(),b == k))throw new Ea(g.UNEXPECTED_MESSAGE_SENDER,k);return a;},b);},error:d.error});},b);},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},timeout:function(){d.timeout();},error:function(a){d.error(a);}});},b);},sendReceive:function(g,n,p,w,x,z,d,b,a){var h;function c(c,m){t(a,function(){z.setRenewable(m);this.send(g,n,p,x,z,d,{result:function(f){t(a,function(){var k;k=f.requestHeader.keyRequestData;b || f.handshake || !k.isEmpty()?this.receive(g,n,p,w,f.requestHeader,d,{result:function(b){t(a,function(){m && this.releaseRenewalLock(n,c,b);return new K(b,f);},h);},timeout:function(){t(a,function(){m && this.releaseRenewalLock(n,c,null);a.timeout();},h);},error:function(b){t(a,function(){m && this.releaseRenewalLock(n,c,null);throw b;},h);}}):t(a,function(){m && this.releaseRenewalLock(n,c,null);return new K(null,f);},h);},h);},timeout:function(){t(a,function(){m && this.releaseRenewalLock(n,c,null);a.timeout();},h);},error:function(b){t(a,function(){m && this.releaseRenewalLock(n,c,null);throw b;},h);}});},h);}h=this;t(a,function(){var b;b=new gc();this.acquireRenewalLock(g,n,p,b,z,d,{result:function(a){c(b,a);},timeout:function(){a.timeout();},error:function(b){b instanceof db?a.result(null):a.error(b);}});},h);},acquireRenewalLock:function(g,n,p,w,x,z,d){var c;function b(h,l,m){t(d,function(){var q,v;if(g.isAborted())throw new db("acquireRenewalLock aborted.");for(var f=null,k=0;k < this._renewingContexts.length;++k){q=this._renewingContexts[k];if(q.ctx === n){f=q.queue;break;}}if(!f)return (this._renewingContexts.push({ctx:n,queue:w}),!0);v=f.poll(z,{result:function(k){t(d,function(){var c;if(k === ga)throw new db("acquireRenewalLock aborted.");f.add(k);if(k === wa || k.isExpired())b(k,l,m);else {if(m && !l || l && !l.isBoundTo(k)){c=n.getMslStore().getUserIdToken(m);l=c && c.isBoundTo(k)?c:null;}x.setAuthTokens(k,l);x.isRenewable() && k.equals(h)?b(k,l,m):p.isRequestingTokens() && !l?b(k,l,m):a(k,l);}},c);},timeout:function(){},error:function(a){}});g.setAbort(function(){v && (f.cancel(v),v=ga);});},c);}function a(a,b){t(d,function(){var k;if(g.isAborted())throw new db("acquireRenewalLock aborted.");if(!a || a.isRenewable() || !b && p.getUserId() || b && b.isRenewable()){for(var c=null,f=0;f < this._renewingContexts.length;++f){k=this._renewingContexts[f];if(k.ctx === n){c=k.queue;break;}}if(!c)return (this._renewingContexts.push({ctx:n,queue:w}),!0);}return !1;},c);}c=this;t(d,function(){var c,l,m;c=x.getMasterToken();l=x.getUserIdToken();m=p.getUserId();p.isEncrypted() && !x.willEncryptPayloads() || p.isIntegrityProtected() && !x.willIntegrityProtectPayloads() || x.isRenewable() || !c && p.isNonReplayable() || c && c.isExpired() || !(l || !m || x.willEncryptHeader() && x.willIntegrityProtectHeader()) || p.isRequestingTokens() && (!c || m && !l)?b(c,l,m):a(c,l);},c);},releaseRenewalLock:function(g,n,p){var d;for(var w,x,t=0;t < this._renewingContexts.length;++t){d=this._renewingContexts[t];if(d.ctx === g){w=t;x=d.queue;break;}}if(x !== n)throw new X("Attempt to release renewal lock that is not owned by this queue.");p?(p=p.messageHeader)?(x=p.keyResponseData)?n.add(x.masterToken):(g=g.isPeerToPeer()?p.peerMasterToken:p.masterToken)?n.add(g):n.add(wa):n.add(wa):n.add(wa);this._renewingContexts.splice(w,1);}});oe=la.Class.create({init:function(){var g;g={_impl:{value:new xa(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},setFilterFactory:function(g){this._impl.setFilterFactory(g);},shutdown:function(){this._shutdown=!0;},receive:function(g,n,p,w,x,t){var d;if(this._shutdown)throw new F("MslControl is shutdown.");d=new T(this._impl,g,n,p,w,x);setTimeout(function(){d.call(t);},0);return G(d);},respond:function(g,n,p,w,x,t,d){var b;if(this._shutdown)throw new F("MslControl is shutdown.");b=new V(this._impl,g,n,p,w,x,t);setTimeout(function(){b.call(d);},0);return G(b);},error:function(g,n,p,w,x,t,d){var b;if(this._shutdown)throw new F("MslControl is shutdown.");b=new za(this._impl,g,n,p,w,x,t);setTimeout(function(){b.call(d);},0);return G(b);},request:function(g,n){var p,w,x,t,d,b;if(this._shutdown)throw new F("MslControl is shutdown.");if(5 == arguments.length){if((p=arguments[2],x=w=null,t=arguments[3],d=arguments[4],g.isPeerToPeer())){d.error(new X("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (p=null,w=arguments[2],x=arguments[3],t=arguments[4],d=arguments[5],!g.isPeerToPeer())){d.error(new X("This method cannot be used in trusted network mode."));return;}b=new N(this._impl,g,n,p,w,x,null,0,t);setTimeout(function(){b.call(d);},0);return G(b);}});T=la.Class.create({init:function(g,n,p,w,x,t){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:p,writable:!1,enumerable:!1,configurable:!1},_input:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:x,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:t,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ga,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(n){var C;function p(p){t(n,function(){var d;d=p.messageHeader;if(!d)return p;this.setAbort(function(){p.abort();});p.mark(Number.MAX_VALUE);p.read(1,C._timeout,{result:function(b){t(n,function(){if(b && 0 == b.length)return null;if(b)return (p.reset(),p);w(p);},C);},timeout:function(){n.timeout();},error:function(b){t(n,function(){var a,c,h;if(x(b))return null;a=d?d.messageId:null;b instanceof $a?(c=g.MSL_COMMS_FAILURE,h=b):(c=g.INTERNAL_EXCEPTION,h=new X("Error peeking into the message payloads."));H(this,this._ctx,this._msgCtx.getDebugContext(),a,c,null,this._output,this._timeout,{result:function(a){n.error(h);},timeout:function(){n.timeout();},error:function(a){t(n,function(){if(x(a))return null;throw new jb("Error peeking into the message payloads.",a,b);},C);}});},C);}});},C);}function w(p){t(n,function(){p.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,p.messageHeader,this._timeout,{result:function(d){t(n,function(){var b,a,c,h,l;b=d.builder;a=d.tokenTicket;c=p.messageHeader;h=new R(this._msgCtx);if(!this._ctx.isPeerToPeer() || c.isEncrypting() || c.keyResponseData)z(c,b,h,a);else {l=new N(this._ctrl,this._ctx,h,null,this._input,this._output,d,1,this._timeout);this.setAbort(function(){l.abort();});l.call(n);}},C);},timeout:function(){n.timeout();},error:function(d){t(n,function(){var b,a,c,h;if(x(d))return null;d instanceof F?(b=d.messageId,a=d.error,c=p.messageHeader.messageCapabilities,c=this._ctrl.messageRegistry.getUserMessage(a,c?c.languages:null),h=d):(b=requestHeader?requestHeader.messageId:null,a=g.INTERNAL_EXCEPTION,c=null,h=new X("Error creating an automatic handshake response.",d));H(this,this._ctx,this._msgCtx.getDebugContext(),b,a,c,this._output,this._timeout,{result:function(a){n.error(h);},timeout:function(){n.timeout();},error:function(a){t(n,function(){if(x(a))return null;throw new jb("Error creating an automatic handshake response.",a,d);},C);}});},C);}});},C);}function z(p,d,b,a){t(n,function(){d.setRenewable(!1);this._ctrl.send(this._ctx,b,this._output,d,this._timeout,{result:function(b){t(n,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(a);return null;},C);},timeout:function(){t(n,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(a);n.timeout();},C);},error:function(b){t(n,function(){var c,l,m,f;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(a);if(x(b))return null;b instanceof F?(c=b.messageId,l=b.error,m=p?p.messageCapabilities:null,m=this._ctrl.messageRegistry.getUserMessage(l,m?m.languages:null),f=b):b instanceof $a?(c=p?p.messageId:null,l=g.MSL_COMMS_FAILURE,m=null,f=b):(c=p?p.messageId:null,l=g.INTERNAL_EXCEPTION,m=null,f=new X("Error sending an automatic handshake response.",b));H(this,this._ctx,this._msgCtx.getDebugContext(),c,l,m,this._output,this._timeout,{result:function(a){n.error(f);},timeout:function(){n.timeout();},error:function(a){t(n,function(){if(x(a))return null;throw new jb("Error sending an automatic handshake response.",a,b);},C);}});},C);}});},C);}C=this;t(n,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(g){p(g);},timeout:function(){n.timeout();},error:function(p){t(n,function(){var d,b,a,c;if(x(p))return null;p instanceof F?(d=p.messageId,b=p.error,a=this._ctrl.messageRegistry.getUserMessage(b,null),c=p):(d=null,b=g.INTERNAL_EXCEPTION,a=null,c=new X("Error receiving the message header.",p));H(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){n.error(c);},timeout:function(){n.timeout();},error:function(a){t(n,function(){if(x(a))return null;throw new jb("Error receiving the message header.",a,p);},C);}});},C);}});},C);}});V=la.Class.create({init:function(g,n,p,w,x,t,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:p,writable:!1,enumerable:!1,configurable:!1},_input:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:x,writable:!1,enumerable:!1,configurable:!1},_request:{value:t,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ga,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},trustedNetworkExecute:function(n,p,w){var z;z=this;t(w,function(){var C,G;if(12 < p + 1)return !1;if(C=this._msgCtx.isIntegrityProtected() && !n.willIntegrityProtectHeader()?g.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !n.willEncryptPayloads()?g.RESPONSE_REQUIRES_ENCRYPTION:null){G=cc(n.getMessageId());H(this,this._ctx,this._msgCtx.getDebugContext(),G,C,null,this._output,this._timeout,{result:function(d){w.result(!1);},timeout:function(){w.timeout();},error:function(d){t(w,function(){if(x(d))return !1;throw new jb("Response requires encryption or integrity protection but cannot be protected: " + C,d,null);},z);}});}else !this._msgCtx.getCustomer() || n.getMasterToken() || n.getKeyExchangeData()?(n.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,n,this._timeout,{result:function(d){w.result(!0);},timeout:function(){w.timeout();},error:function(d){w.error(d);}})):(G=cc(n.getMessageId()),H(this,this._ctx,this._msgCtx.getDebugContext(),G,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(d){w.result(!1);},timeout:function(){w.timeout();},error:function(d){t(w,function(){if(x(d))return !1;throw new jb("Response wishes to attach a user ID token but there is no master token.",d,null);},z);}}));},z);},peerToPeerExecute:function(n,p,w,z){var G;function C(d){t(z,function(){var b;b=d.response;b.close();b=b.getErrorHeader();this._ctrl.cleanupContext(this._ctx,d.requestHeader,b);this._ctrl.buildErrorResponse(this,this._ctx,n,d,b,{result:function(a){t(z,function(){var b,h;if(!a)return !1;b=a.errorResult;h=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,w,{result:function(a){t(z,function(){this._ctrl.releaseMasterToken(h);return a;},G);},timeout:function(){t(z,function(){this._ctrl.releaseMasterToken(h);z.timeout();},G);},error:function(a){t(z,function(){this._ctrl.releaseMasterToken(h);throw a;},G);}});},G);}});},G);}G=this;t(z,function(){var d;if(12 < w + 2)return !1;if(null != n.getCustomer() && null == p.getPeerMasterToken() && null == p.getKeyExchangeData()){d=cc(p.getMessageId());H(this,this._ctx,n.getDebugContext(),d,g.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(b){z.result(!1);},timeout:function(){z.timeout();},error:function(b){t(z,function(){if(x(b))return !1;throw new jb("Response wishes to attach a user ID token but there is no master token.",b,null);},G);}});}else this._ctrl.sendReceive(this._ctx,n,this._input,this._output,p,this._timeout,!1,{result:function(b){t(z,function(){var h,l,m;function a(){h.read(32768,G._timeout,{result:function(b){t(z,function(){b?a():c();},G);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});}function c(){t(z,function(){var a;a=new qa(b.payloads,n);this._ctrl.buildResponse(this,this._ctx,a,l,this._timeout,{result:function(b){t(z,function(){var f;f=b.tokenTicket;this.peerToPeerExecute(a,b.builder,w,{result:function(a){t(z,function(){this._ctrl.releaseMasterToken(f);return a;},G);},timeout:function(){t(z,function(){this._ctrl.releaseMasterToken(f);z.timeout();},G);},error:function(a){t(z,function(){this._ctrl.releaseMasterToken(f);throw a;},G);}});},G);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});},G);}h=b.response;w+=2;if(!h)return !0;l=h.getMessageHeader();if(l){m=b.payloads;m=0 < m.length && 0 < m[0].data.length;if(b.handshake && m)a();else return !0;}else C(b);},G);},timeout:function(){z.timeout();},error:function(b){z.error(b);}});},G);},call:function(n){var p;p=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(w){t(n,function(){var z,C;z=w.builder;C=w.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,z,3,{result:function(g){t(n,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(C);return g;},p);},timeout:function(){t(n,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(C);n.timeout();},p);},error:function(w){t(n,function(){var d,b,a,c;this._ctx.isPeerToPeer() && this.releaseMasterToken(C);if(x(w))return !1;d=cc(z.getMessageId());w instanceof F?(b=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=w):w instanceof $a?(b=g.MSL_COMMS_FAILURE,a=null,c=w):(b=g.INTERNAL_EXCEPTION,a=null,c=new X("Error sending the response.",w));H(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){n.error(c);},timeout:function(){n.timeout();},error:function(a){t(n,function(){if(x(a))return !1;throw new jb("Error sending the response.",a,null);},p);}});},p);}}):this.trustedNetworkExecute(z,3,{result:function(g){t(n,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(C);return g;},p);},timeout:function(){t(n,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(C);n.timeout();},p);},error:function(w){t(n,function(){var d,b,a,c;this._ctx.isPeerToPeer() && this.releaseMasterToken(C);if(x(w))return !1;d=cc(z.getMessageId());w instanceof F?(b=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(b,a?a.languages:null),c=w):w instanceof $a?(b=g.MSL_COMMS_FAILURE,a=null,c=w):(b=g.INTERNAL_EXCEPTION,a=null,c=new X("Error sending the response.",w));H(this,this._ctx,this._msgCtx.getDebugContext(),d,b,a,this._output,this._timeout,{result:function(a){n.error(c);},timeout:function(){n.timeout();},error:function(a){t(n,function(){if(x(a))return !1;throw new jb("Error sending the response.",a,null);},p);}});},p);}});},p);},timeout:function(){n.timeout();},error:function(w){t(n,function(){var z,C,G,d;if(x(w))return !1;w instanceof F?(z=w.messageId,C=w.error,G=this._request.messageCapabilities,G=this._ctrl.messageRegistry.getUserMessage(C,G?G.languages:null),d=w):(z=null,C=g.INTERNAL_EXCEPTION,G=null,d=new X("Error building the response.",w));H(this,this._ctx,this._msgCtx.getDebugContext(),z,C,G,this._output,this._timeout,{result:function(b){n.error(d);},timeout:function(){n.timeout();},error:function(b){t(n,function(){if(x(b))return null;throw new jb("Error building the response.",b,w);},p);}});},p);}});}});za=la.Class.create({init:function(g,n,p,w,x,t,d){Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:p,writable:!1,enumerable:!1,configurable:!1},_appError:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:t,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ga,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},call:function(n){var p;p=this;t(n,function(){var w,z;if(this._appError == ENTITY_REJECTED)w=this._request.masterToken?g.MASTERTOKEN_REJECTED_BY_APP:g.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)w=this._request.userIdToken?g.USERIDTOKEN_REJECTED_BY_APP:g.USER_REJECTED_BY_APP;else throw new X("Unhandled application error " + this._appError + ".");z=this._request.messageCapabilities;z=this._ctrl.messageRegistry.getUserMessage(w,z?z.languages:null);H(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,w,z,this._output,this._timeout,{result:function(g){n.result(g);},timeout:n.timeout,error:function(g){t(n,function(){if(x(g))return !1;if(g instanceof F)throw g;throw new X("Error building the error response.",g);},p);}});},p);}});va={result:function(){},timeout:function(){},error:function(){}};N=la.Class.create({init:function(g,n,p,w,x,t,d,b,a){var c;d?(c=d.builder,d=d.tokenTicket):d=c=null;Object.defineProperties(this,{_ctrl:{value:g,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:n,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:p,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:w,writable:!1,enumerable:!1,configurable:!1},_input:{value:x,writable:!0,enumerable:!1,configurable:!1},_output:{value:t,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:c,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:d,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:b,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:ga,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(g){this._abortFunc=g;},execute:function(g,n,p,w,x){var b;function z(a){function c(c){t(x,function(){var b;b=a.response;return c?c:b;},b);}t(x,function(){var h,l;h=a.response;h.close();l=h.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,l);this._ctrl.buildErrorResponse(this,this._ctx,g,a,l,p,{result:function(a){t(x,function(){var f,k,q,m;if(!a)return h;f=a.errorResult;k=a.tokenTicket;q=f.builder;f=f.msgCtx;if(this._ctx.isPeerToPeer())this.execute(f,q,this._timeout,w,{result:function(a){t(x,function(){this._ctrl.releaseMasterToken(k);c(a);},b);},timeout:function(){t(x,function(){this._ctrl.releaseMasterToken(k);x.timeout();},b);},error:function(a){t(x,function(){this._ctrl.releaseMasterToken(k);x.error(a);},b);}});else {this._openedStreams && (this._input.close(),this._output.close(p,va));m=new N(this._ctrl,this._ctx,f,this._remoteEntity,null,null,{builder:q,tokenTicket:k},w,this._timeout);this.setAbort(function(){m.abort();});m.call({result:function(a){c(a);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}},b);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},b);}function d(a){t(x,function(){var l,m,f,k,q;function c(){l.read(32768,b._timeout,{result:function(a){a?c():h();},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}function h(){t(x,function(){var f;f=new qa(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,m,p,{result:function(a){t(x,function(){var c;c=a.tokenTicket;this.execute(f,a.builder,this._timeout,w,{result:function(a){t(x,function(){this._ctrl.releaseMasterToken(c);return a;},b);},timeout:function(){t(x,function(){this._ctrl.releaseMasterToken(c);x.timeout();},b);},error:function(a){t(x,function(){this._ctrl.releaseMasterToken(c);throw a;},b);}});},b);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},b);}l=a.response;m=l.getMessageHeader();f=a.payloads;f=0 < f.length && 0 < f[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake || !f)return l;this._openedStreams && (this._input.close(),this._output.close(p,va));k=new qa(a.payloads,g);this._ctrl.buildResponse(this,this._ctx,g,m,p,{result:function(a){t(x,function(){var b;b=new N(this._ctrl,this._ctx,k,this._remoteEntity,null,null,a,w,this._timeout);this.setAbort(function(){b.abort();});b.call(x);},b);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}else if(a.handshake && f)c();else if(0 < m.keyRequestData.length){q=new R(g);this._ctrl.buildResponse(this,this._ctx,q,m,p,{result:function(a){t(x,function(){var f,c;f=a.builder;c=a.tokenTicket;l.mark();l.read(1,this._timeout,{result:function(a){t(x,function(){function k(){l.read(32768,b._timeout,{result:function(a){a?k():h();},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}function h(){b.execute(q,f,b._timeout,w,{result:function(a){t(x,function(){this._ctrl.releaseMasterToken(c);return a;},b);},timeout:function(){t(x,function(){this._ctrl.releaseMasterToken(c);x.timeout();},b);},error:function(a){t(x,function(){this._ctrl.releaseMasterToken(c);throw a;},b);}});}if(a){if((l.reset(),12 >= w + 1))(f.setRenewable(!1),this._ctrl.send(this,this._ctx,q,this._output,f,this._timeout,{result:function(a){t(x,function(){this.releaseMasterToken(c);return l;},b);},timeout:function(){x.timeout();},error:function(a){x.error(a);}}));else return (this.releaseMasterToken(c),l);}else k();},b);},timeout:function(){t(x,function(){this.releaseMasterToken(c);x.timeout();},b);},error:function(a){t(x,function(){this.releaseMasterToken(c);throw a;},b);}});},b);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});}},b);}b=this;t(x,function(){if(12 < w + 2)return null;this._ctrl.sendReceive(this,this._ctx,g,this._input,this._output,n,p,!0,{result:function(a){t(x,function(){var b;if(!a)return null;b=a.response;w+=2;b.getMessageHeader()?d(a):z(a);},b);},timeout:function(){x.timeout();},error:function(a){x.error(a);}});},b);},call:function(g){var p;function n(n,w,z){t(g,function(){this.execute(this._msgCtx,n,z,this._msgCount,{result:function(d){t(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams && this._output.close(z,va);d && d.closeSource(this._openedStreams);return d;},p);},timeout:function(){t(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams && (this._output.close(z,va),this._input.close());g.timeout();},p);},error:function(d){t(g,function(){this._ctrl.releaseMasterToken(w);this._openedStreams && (this._output.close(z,va),this._input.close());if(x(d))return null;throw d;},p);}});},p);}p=this;t(g,function(){var w,z,C;w=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);z=Date.now();C=this._remoteEntity.openConnection();this._output=C.output;this._input=C.input;-1 != w && (w=this._timeout - (Date.now() - z));this._openedStreams=!0;}catch(d){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,va);this._input && this._input.close();if(x(d))return null;throw d;}this._builder?n(this._builder,this._tokenTicket,w):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(d){t(g,function(){n(d.builder,d.tokenTicket,w);},p);},timeout:function(){t(g,function(){this._openedStreams && (this._output.close(this._timeout,va),this._input.close());g.timeout();},p);},error:function(d){t(g,function(){this._openedStreams && (this._output.close(this._timeout,va),this._input.close());if(x(d))return null;throw d;},p);}});},p);}});})();(function(){nd=la.Class.create({init:function(g){Object.defineProperties(this,{id:{value:g,writable:!1,configurable:!1}});},toJSON:function(){var g;g={};g.id=this.id;return g;},equals:function(g){return this === g?!0:g instanceof nd?this.id == g.id:!1;},uniqueKey:function(){return this.id;}});pe=function(n){var p;p=n.id;if(!p)throw new ha(g.JSON_PARSE_ERROR,JSON.stringify(n));return new nd(p);};})();la.Class.create({isNewestMasterToken:function(g,n,p){},isMasterTokenRevoked:function(g,n){},acceptNonReplayableId:function(g,n,p,t){},createMasterToken:function(g,n,p,t,K){},isMasterTokenRenewable:function(g,n,p){},renewMasterToken:function(g,n,p,t,K){},isUserIdTokenRevoked:function(g,n,p,t){},createUserIdToken:function(g,n,p,t){},renewUserIdToken:function(g,n,p,t){}});(function(){function n(g,n,p,t){this.sessiondata=g;this.tokendata=n;this.signature=p;this.verified=t;}hb=la.Class.create({init:function(g,n,t,G,x,H,F,ba,L,qa,R){var w;w=this;p(R,function(){var z,C,K,N,xa;if(t.getTime() < n.getTime())throw new X("Cannot construct a master token that expires before its renewal window opens.");if(0 > G || G > Pa)throw new X("Sequence number " + G + " is outside the valid range.");if(0 > x || x > Pa)throw new X("Serial number " + x + " is outside the valid range.");z=Math.floor(n.getTime() / 1E3);C=Math.floor(t.getTime() / 1E3);if(qa)K=qa.sessiondata;else {N={};H && (N.issuerdata=H);N.identity=F;N.encryptionkey=oa(ba.toByteArray());N.hmackey=oa(L.toByteArray());K=Xa(JSON.stringify(N),Oa);}if(qa)return (Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:G,writable:!1,configurable:!1},serialNumber:{value:x,writable:!1,configurable:!1},issuerData:{value:H,writable:!1,configurable:!1},identity:{value:F,writable:!1,configurable:!1},encryptionKey:{value:ba,writable:!1,configurable:!1},hmacKey:{value:L,writable:!1,configurable:!1},sessiondata:{value:K,writable:!1,enumerable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:qa.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);xa=g.getMslCryptoContext();xa.encrypt(K,{result:function(n){p(R,function(){var t,T;t={};t.renewalwindow=z;t.expiration=C;t.sequencenumber=G;t.serialnumber=x;t.sessiondata=oa(n);T=Xa(JSON.stringify(t),Oa);xa.sign(T,{result:function(n){p(R,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:G,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:x,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:H,writable:!1,configurable:!1},identity:{value:F,writable:!1,configurable:!1},encryptionKey:{value:ba,writable:!1,configurable:!1},hmacKey:{value:L,writable:!1,configurable:!1},sessiondata:{value:K,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:T,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){R.error(g);}});},w);},error:function(g){R.error(g);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(g){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(g){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(g){var n;if(this.sequenceNumber == g.sequenceNumber)return this.expiration > g.expiration;if(this.sequenceNumber > g.sequenceNumber){n=this.sequenceNumber - Pa + 127;return g.sequenceNumber >= n;}n=g.sequenceNumber - Pa + 127;return this.sequenceNumber < n;},toJSON:function(){var g;g={};g.tokendata=oa(this.tokendata);g.signature=oa(this.signature);return g;},equals:function(g){return this === g?!0:g instanceof hb?this.serialNumber == g.serialNumber && this.sequenceNumber == g.sequenceNumber && this.expiration.getTime() == g.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Tb=function(w,t,C){p(C,function(){var z,x,H,G,ba;z=w.getMslCryptoContext();x=t.tokendata;H=t.signature;if("string" !== typeof x || "string" !== typeof H)throw new ha(g.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(t));try{G=ya(x);}catch(Ia){throw new F(g.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(t),Ia);}if(!G || 0 == G.length)throw new ha(g.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(t));try{ba=ya(H);}catch(Ia){throw new F(g.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(t),Ia);}z.verify(G,ba,{result:function(x){p(C,function(){var t,H,K,T,V,na,N,xa,va,Aa;na=Ya(G,Oa);try{N=JSON.parse(na);t=parseInt(N.renewalwindow);H=parseInt(N.expiration);K=parseInt(N.sequencenumber);T=parseInt(N.serialnumber);V=N.sessiondata;}catch(pa){if(pa instanceof SyntaxError)throw new ha(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + na,pa);throw pa;}if(!t || t != t || !H || H != H || "number" !== typeof K || K != K || "number" !== typeof T || T != T || "string" !== typeof V)throw new ha(g.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + na);if(H < t)throw new F(g.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + na);if(0 > K || K > Pa)throw new F(g.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + na);if(0 > T || T > Pa)throw new F(g.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + na);xa=new Date(1E3 * t);va=new Date(1E3 * H);try{Aa=ya(V);}catch(pa){throw new F(g.MASTERTOKEN_SESSIONDATA_INVALID,V,pa);}if(!Aa || 0 == Aa.length)throw new F(g.MASTERTOKEN_SESSIONDATA_MISSING,V);x?z.decrypt(Aa,{result:function(t){p(C,function(){var z,H,R,F,N,V;N=Ya(t,Oa);try{V=JSON.parse(N);z=V.issuerdata;H=V.identity;R=V.encryptionkey;F=V.hmackey;}catch(d){if(d instanceof SyntaxError)throw new ha(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + N,d);throw d;}if(z && "object" !== typeof z || !H || "string" !== typeof R || "string" !== typeof F)throw new ha(g.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + N);yb(R,pb,Hb,{result:function(d){yb(F,qb,Sb,{result:function(b){p(C,function(){var a;a=new n(t,G,ba,x);new hb(w,xa,va,K,T,z,H,d,b,a,C);});},error:function(b){C.error(new L(g.MASTERTOKEN_KEY_CREATION_ERROR,b));}});},error:function(d){C.error(new L(g.MASTERTOKEN_KEY_CREATION_ERROR,d));}});});},error:function(g){C.error(g);}}):(t=new n(null,G,ba,x),new hb(w,xa,va,K,T,null,null,null,null,t,C));});},error:function(g){C.error(g);}});});};})();(function(){function n(g,n,p){this.tokendata=g;this.signature=n;this.verified=p;}$b=la.Class.create({init:function(g,n,t,G,x,H,na,ba,L){var w;w=this;p(L,function(){var z,C,K,V,za,N,xa;if(t.getTime() < n.getTime())throw new X("Cannot construct a user ID token that expires before its renewal window opens.");if(!G)throw new X("Cannot construct a user ID token without a master token.");if(0 > x || x > Pa)throw new X("Serial number " + x + " is outside the valid range.");z=Math.floor(n.getTime() / 1E3);C=Math.floor(t.getTime() / 1E3);K=G.serialNumber;if(ba){V=ba.tokendata;za=ba.signature;N=ba.verified;K=G.serialNumber;Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:K,writable:!1,configurable:!1},serialNumber:{value:x,writable:!1,configurable:!1},issuerData:{value:H,writable:!1,configurable:!1},customer:{value:na,writable:!1,configurable:!1},verified:{value:N,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:V,writable:!1,enumerable:!1,configurable:!1},signature:{value:za,writable:!1,enumerable:!1,configurable:!1}});return this;}V={};H && (V.issuerdata=H);V.identity=na;V=Xa(JSON.stringify(V),Oa);xa=g.getMslCryptoContext();xa.encrypt(V,{result:function(n){p(L,function(){var t,R;t={};t.renewalwindow=z;t.expiration=C;t.mtserialnumber=K;t.serialnumber=x;t.userdata=oa(n);R=Xa(JSON.stringify(t),Oa);xa.sign(R,{result:function(n){p(L,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:G.serialNumber,writable:!1,configurable:!1},serialNumber:{value:x,writable:!1,configurable:!1},issuerData:{value:H,writable:!1,configurable:!1},customer:{value:na,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:R,writable:!1,enumerable:!1,configurable:!1},signature:{value:n,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(g){p(L,function(){g instanceof F && g.setEntity(G);throw g;},w);}});},w);},error:function(g){p(L,function(){g instanceof F && g.setEntity(G);throw g;},w);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(g){return g && g.serialNumber == this.mtSerialNumber;},toJSON:function(){var g;g={};g.tokendata=oa(this.tokendata);g.signature=oa(this.signature);return g;},equals:function(g){return this === g?!0:g instanceof $b?this.serialNumber == g.serialNumber && this.mtSerialNumber == g.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});Ub=function(w,t,C,G){p(G,function(){var x,z,K,ba,L;x=w.getMslCryptoContext();z=t.tokendata;K=t.signature;if("string" !== typeof z || "string" !== typeof K)throw new ha(g.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(t)).setEntity(C);try{ba=ya(z);}catch(qa){throw new F(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(t),qa).setEntity(C);}if(!ba || 0 == ba.length)throw new ha(g.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(t)).setEntity(C);try{L=ya(K);}catch(qa){throw new F(g.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(t),qa).setEntity(C);}x.verify(ba,L,{result:function(t){p(G,function(){var z,H,K,V,na,N,xa,va,qa,pa;N=Ya(ba,Oa);try{xa=JSON.parse(N);z=parseInt(xa.renewalwindow);H=parseInt(xa.expiration);K=parseInt(xa.mtserialnumber);V=parseInt(xa.serialnumber);na=xa.userdata;}catch(fa){if(fa instanceof SyntaxError)throw new ha(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + N,fa).setEntity(C);throw fa;}if(!z || z != z || !H || H != H || "number" !== typeof K || K != K || "number" !== typeof V || V != V || "string" !== typeof na)throw new ha(g.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + N).setEntity(C);if(H < z)throw new F(g.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + N).setEntity(C);if(0 > K || K > Pa)throw new F(g.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + N).setEntity(C);if(0 > V || V > Pa)throw new F(g.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + N).setEntity(C);va=new Date(1E3 * z);qa=new Date(1E3 * H);if(!C || K != C.serialNumber)throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + K + "; mt " + JSON.stringify(C)).setEntity(C);try{pa=ya(na);}catch(fa){throw new F(g.USERIDTOKEN_USERDATA_INVALID,na,fa).setEntity(C);}if(!pa || 0 == pa.length)throw new F(g.USERIDTOKEN_USERDATA_MISSING,na).setEntity(C);t?x.decrypt(pa,{result:function(x){p(G,function(){var p,z,H,K,R;H=Ya(x,Oa);try{K=JSON.parse(H);p=K.issuerdata;z=K.identity;}catch(d){if(d instanceof SyntaxError)throw new ha(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + H).setEntity(C);throw d;}if(p && "object" !== typeof p || "object" !== typeof z)throw new ha(g.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + H).setEntity(C);try{R=pe(z);}catch(d){throw new F(g.USERIDTOKEN_IDENTITY_INVALID,"userdata " + H,d).setEntity(C);}z=new n(ba,L,t);new $b(w,va,qa,C,V,p,R,z,G);});},error:function(g){p(G,function(){g instanceof F && g.setEntity(C);throw g;});}}):(z=new n(ba,L,t),new $b(w,va,qa,C,V,null,null,z,G));});},error:function(g){p(G,function(){g instanceof F && g.setEntity(C);throw g;});}});});};})();(function(){function n(n,p){var w,x,t;w=n.tokendata;if("string" !== typeof w)throw new ha(g.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(n));try{x=ya(w);}catch(na){throw new F(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(n),na);}if(!x || 0 == x.length)throw new ha(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(n));try{t=JSON.parse(Ya(x,Oa)).name;}catch(na){if(na instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(n),na);throw na;}if(!t)throw new ha(g.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(n));return p[t]?p[t]:p[""];}function w(g,n,p){this.tokendata=g;this.signature=n;this.verified=p;}Kb=la.Class.create({init:function(g,n,w,x,t,G,ba,L,qa,R){var z;z=this;p(R,function(){var C,H,K,N,xa;if(x && t && !t.isBoundTo(x))throw new X("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");C=x?x.serialNumber:-1;H=t?t.serialNumber:-1;if(qa)return (xa=qa.tokendata,Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:n,writable:!1,configurable:!1},mtSerialNumber:{value:C,writable:!1,configurable:!1},uitSerialNumber:{value:H,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},verified:{value:qa.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:qa.signature,writable:!1,enumerable:!1,configurable:!1}}),this);ba?(K=md(ba,w),K.length < w.length || (ba=null,K=w)):(ba=null,K=w);N={};N.name=n;-1 != C && (N.mtserialnumber=C);-1 != H && (N.uitserialnumber=H);N.encrypted=G;ba && (N.compressionalgo=ba);if(G && 0 < K.length)L.encrypt(K,{result:function(K){p(R,function(){var T;N.servicedata=oa(K);T=Xa(JSON.stringify(N),Oa);L.sign(T,{result:function(x){p(R,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:n,writable:!1,configurable:!1},mtSerialNumber:{value:C,writable:!1,configurable:!1},uitSerialNumber:{value:H,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:T,writable:!1,enumerable:!1,configurable:!1},signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});return this;},z);},error:function(g){p(R,function(){g instanceof F && (g.setEntity(x),g.setUser(t));throw g;});}});},z);},error:function(g){p(R,function(){g instanceof F && (g.setEntity(x),g.setUser(t));throw g;});}});else {N.servicedata=oa(K);xa=Xa(JSON.stringify(N),Oa);L.sign(xa,{result:function(x){p(R,function(){Object.defineProperties(this,{ctx:{value:g,writable:!1,enumerable:!1,configurable:!1},name:{value:n,writable:!1,configurable:!1},mtSerialNumber:{value:C,writable:!1,configurable:!1},uitSerialNumber:{value:H,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:G,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ba,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:xa,writable:!1,enumerable:!1,configurable:!1},signature:{value:x,writable:!1,enumerable:!1,configurable:!1}});return this;},z);},error:function(g){p(R,function(){g instanceof F && (g.setEntity(x),g.setUser(t));throw g;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(g){return g?g instanceof hb?g.serialNumber == this.mtSerialNumber:g instanceof $b?g.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var g;g={};g.tokendata=oa(this.tokendata);g.signature=oa(this.signature);return g;},equals:function(g){return this === g?!0:g instanceof Kb?this.name == g.name && this.mtSerialNumber == g.mtSerialNumber && this.uitSerialNumber == g.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});Cb=function(g,n,p,w,t,G,F,L,qa){new Kb(g,n,p,w,t,G,F,L,null,qa);};Fc=function(t,C,G,x,H,na){p(na,function(){var z,K,L,R,wa,T,V,za,N,xa,va,Aa,pa;!H || H instanceof ac || (H=n(C,H));z=C.tokendata;K=C.signature;if("string" !== typeof z || "string" !== typeof K)throw new ha(g.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(C)).setEntity(G).setEntity(x);try{L=ya(z);}catch(fa){throw new F(g.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(C),fa).setEntity(G).setEntity(x);}if(!L || 0 == L.length)throw new ha(g.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(C)).setEntity(G).setEntity(x);try{R=ya(K);}catch(fa){throw new F(g.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(C),fa).setEntity(G).setEntity(x);}va=Ya(L,Oa);try{Aa=JSON.parse(va);wa=Aa.name;T=Aa.mtserialnumber?parseInt(Aa.mtserialnumber):-1;V=Aa.uitserialnumber?parseInt(Aa.uitserialnumber):-1;za=Aa.encrypted;N=Aa.compressionalgo;xa=Aa.servicedata;}catch(fa){if(fa instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"servicetokendata " + va,fa).setEntity(G).setEntity(x);throw fa;}if(!wa || "number" !== typeof T || T != T || "number" !== typeof V || V != V || "boolean" !== typeof za || N && "string" !== typeof N || "string" !== typeof xa)throw new ha(g.JSON_PARSE_ERROR,"servicetokendata " + va).setEntity(G).setEntity(x);if(Aa.mtserialnumber && 0 > T || T > Pa)throw new F(g.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + va).setEntity(G).setEntity(x);if(Aa.uitserialnumber && 0 > V || V > Pa)throw new F(g.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + va).setEntity(G).setEntity(x);if(-1 != T && (!G || T != G.serialNumber))throw new F(g.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + T + "; mt " + G).setEntity(G).setEntity(x);if(-1 != V && (!x || V != x.serialNumber))throw new F(g.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + V + "; uit " + x).setEntity(G).setEntity(x);za=!0 === za;if(N){if(!Pb[N])throw new F(g.UNIDENTIFIED_COMPRESSION,N);pa=N;}else pa=null;H?H.verify(L,R,{result:function(n){p(na,function(){var z,C;if(n){try{z=ya(xa);}catch(fd){throw new F(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + va,fd).setEntity(G).setEntity(x);}if(!z || 0 != xa.length && 0 == z.length)throw new F(g.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + va).setEntity(G).setEntity(x);if(za && 0 < z.length)H.decrypt(z,{result:function(g){p(na,function(){var p,z;p=pa?Gc(pa,g):g;z=new w(L,R,n);new Kb(t,wa,p,-1 != T?G:null,-1 != V?x:null,za,pa,H,z,na);});},error:function(g){p(na,function(){g instanceof F && (g.setEntity(G),g.setUser(x));throw g;});}});else {z=pa?Gc(pa,z):z;C=new w(L,R,n);new Kb(t,wa,z,-1 != T?G:null,-1 != V?x:null,za,pa,H,C,na);}}else (z="" == xa?new Uint8Array(0):null,C=new w(L,R,n),new Kb(t,wa,z,-1 != T?G:null,-1 != V?x:null,za,pa,H,C,na));});},error:function(g){p(na,function(){g instanceof F && (g.setEntity(G),g.setUser(x));throw g;});}}):(z="" == xa?new Uint8Array(0):null,K=new w(L,R,!1),new Kb(t,wa,z,-1 != T?G:null,-1 != V?x:null,za,pa,H,K,na));});};})();eb={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(eb);(function(){Gb=la.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(g){return this === g?!0:g instanceof Gb?this.scheme == g.scheme:!1;},toJSON:function(){var g;g={};g.scheme=this.scheme;g.authdata=this.getAuthData();return g;}});ee=function(n,w,t,C){p(C,function(){var p,x,z;p=t.scheme;x=t.authdata;if(!p || !x)throw new ha(g.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(t));if(!eb[p])throw new Ba(g.UNIDENTIFIED_USERAUTH_SCHEME,p);z=n.getUserAuthenticationFactory(p);if(!z)throw new Ba(g.USERAUTH_FACTORY_NOT_FOUND,p);z.createData(n,w,x,C);});};})();lc=la.Class.create({init:function(g){Object.defineProperties(this,{scheme:{value:g,writable:!1,configurable:!1}});},createData:function(g,n,p,t){},authenticate:function(g,n,p,t){}});(function(){Xb=Gb.extend({init:function w(g,n){w.base.call(this,eb.NETFLIXID);Object.defineProperties(this,{netflixId:{value:g,writable:!1,configurable:!1},secureNetflixId:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.netflixid=this.netflixId;this.secureNetflixId && (g.securenetflixid=this.secureNetflixId);return g;},equals:function z(g){return this === g?!0:g instanceof Xb?z.base.call(this,g) && this.netflixId == g.netflixId && this.secureNetflixId == g.secureNetflixId:!1;}});qe=function(n){var p,t;p=n.netflixid;t=n.securenetflixid;if(!p)throw new ha(g.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(n));return new Xb(p,t);};})();Ve=lc.extend({init:function w(){w.base.call(this,eb.NETFLIXID);},createData:function(g,n,t,K){p(K,function(){return qe(t);});},authenticate:function(n,p,t,K){if(!(t instanceof Xb))throw new X("Incorrect authentication data type " + t + ".");n=t.secureNetflixId;if(!t.netflixId || !n)throw new Ba(g.NETFLIXID_COOKIES_BLANK).setUser(t);throw new Ba(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){mc=Gb.extend({init:function z(g,n){z.base.call(this,eb.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:g,writable:!1,configurable:!1},password:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.email=this.email;g.password=this.password;return g;},equals:function C(g){return this === g?!0:g instanceof mc?C.base.call(this,this,g) && this.email == g.email && this.password == g.password:!1;}});re=function(n){var p,x;p=n.email;x=n.password;if(!p || !x)throw new ha(g.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(n));return new mc(p,x);};})();We=lc.extend({init:function z(){z.base.call(this,eb.EMAIL_PASSWORD);},createData:function(g,n,t,x){p(x,function(){return re(t);});},authenticate:function(n,p,t,x){if(!(t instanceof mc))throw new X("Incorrect authentication data type " + t + ".");n=t.password;if(!t.email || !n)throw new Ba(g.EMAILPASSWORD_BLANK).setUser(t);throw new Ba(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(t);}});(function(){var x,H,na,ba,ja,qa,R,wa;function n(g,n){return "<" + g + ">" + n + "</" + g + ">";}function t(g){return g.replace(/[<>&"']/g,function(g){return ja[g];});}function K(g){return encodeURIComponent(g).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}x=Jc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};H=la.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});na=od=H.extend({init:function(n,x,t,z,C,H,K){var N;function F(z){p(K,function(){var p,H;try{H={};H.useridtoken=n;H.action=x;H.nonce=t;H.pin=oa(z);p=Xa(JSON.stringify(H),Oa);}catch(Jb){throw new ha(g.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Jb);}C.sign(p,{result:function(g){R(p,g);},error:K.error});},N);}function R(g,C){p(K,function(){Object.defineProperties(this,{_userIdToken:{value:n,writable:!1,enumerable:!1,configurable:!1},_action:{value:x,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:t,writable:!1,enumerable:!1,configurable:!1},_pin:{value:z,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:g,writable:!1,enumerable:!1,configurable:!1},_signature:{value:C,writable:!1,enumerable:!1,configurable:!1}});return this;},N);}N=this;p(K,function(){H?R(H.encoding,H.signature):C.encrypt(Xa(z,Oa),{result:function(g){F(g);},error:K.error});},N);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this === g?!0:g instanceof na?this._action == g._action && this._nonce == g._nonce && this._pin == g._pin && this._userIdToken.equals(g._userIdToken):!1;}});od.ACTION="userauth";ba=function(n,x,t,z,C){function H(z){p(C,function(){var H,R,N,T,ba,V;H=Ya(t,Oa);try{V=JSON.parse(H);R=V.useridtoken;N=V.action;T=V.nonce;ba=V.pin;}catch(d){if(d instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata " + H,d);throw d;}if(!(R && "object" === typeof R && N && "string" === typeof N && T && "number" === typeof T && ba) || "string" !== typeof ba)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata " + H);Ub(n,R,x,{result:function(d){p(C,function(){if(!d.isDecrypted())throw new Ba(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + H);K(z,d,N,T,ba);});},error:function(d){p(C,function(){if(d instanceof F)throw new Ba(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + H,d);throw d;});}});});}function K(g,n,x,H,K){p(C,function(){var F;F=ya(K);g.decrypt(F,{result:function(g){p(C,function(){var d;d=Ya(g,Oa);new na(n,x,H,d,null,{encoding:t,signature:z},C);});},error:C.error});});}p(C,function(){var K,F;try{F=n.getMslStore().getCryptoContext(x);K=F?F:new ib(n,x);}catch(vb){if(vb instanceof Rb)throw new Ba(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + oa(t));throw vb;}K.verify(t,z,{result:function(n){p(C,function(){if(!n)throw new L(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + oa(t));H(K);});},error:C.error});});};ja={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};qa=nc=H.extend({init:function(g,p,x,z){var C,H;C=n("action",t(g));H=n("nonce",p.toString());x=n("pin",x);C=n("registerdata",C + H + x);C=Xa(C,"utf-8");Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:p,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:C,writable:!1,enumerable:!1,configurable:!1},_signature:{value:z,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this === g?!0:g instanceof qa?this._action == g._action && this._nonce == g._nonce && this._pin == g._pin:!1;}});nc.ACTION="regpairrequest";R=pd=H.extend({init:function(g,x,z,C,H,F){var T;function R(z){p(F,function(){var p,H,R,T,d;p=oa(z);H=n("action",t(g));R=n("nonce",x.toString());T=n("pin",p);H=n("registerdata",H + R + T);d=Xa(H,"utf-8");p="action=" + K(g) + "&nonce=" + K(x.toString()) + "&pin=" + K(p);C.sign(Xa(p,"utf-8"),{result:function(b){N(d,b);},error:F.error});},T);}function N(n,t){p(F,function(){Object.defineProperties(this,{_action:{value:g,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:x,writable:!1,enumerable:!1,configurable:!1},_pin:{value:z,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:n,writable:!1,enumerable:!1,configurable:!1},_signature:{value:t,writable:!1,enumerable:!1,configurable:!1}});return this;},T);}T=this;p(F,function(){H?N(H.encoding,H.signature):C.encrypt(Xa(z,"utf-8"),{result:function(g){R(g);},error:F.error});},T);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(g){return this === g?!0:g instanceof R?this._action == g._action && this._nonce == g._nonce && this._pin == g._pin:!1;}});pd.ACTION=nc.ACTION;wa=function(n,x,t,z,C){p(C,function(){var H,F,N,T,ba,V,na;H=n.getMslStore().getCryptoContext(x);F=H?H:new ib(n,x);H=Ya(t,"utf-8");N=new DOMParser().parseFromString(H,"application/xml");H=N.getElementsByTagName("action");T=N.getElementsByTagName("nonce");N=N.getElementsByTagName("pin");ba=H && 1 == H.length && H[0].firstChild?H[0].firstChild.nodeValue:null;V=T && 1 == T.length && T[0].firstChild?parseInt(T[0].firstChild.nodeValue):null;na=N && 1 == N.length && N[0].firstChild?N[0].firstChild.nodeValue:null;if(!ba || !V || !na)throw new ha(g.XML_PARSE_ERROR,"MDX authdata " + oa(t));H="action=" + K(ba) + "&nonce=" + K(V.toString()) + "&pin=" + K(na);F.verify(Xa(H,"utf-8"),z,{result:function(n){p(C,function(){var x;if(!n)throw new L(g.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata " + oa(t));x=ya(na);F.decrypt(x,{result:function(d){p(C,function(){var b;b=Ya(d,"utf-8");new R(ba,V,b,null,{encoding:t,signature:z},C);});},error:C.error});});},error:C.error});});};dc=Gb.extend({init:function V(g,n,p,t,z,H){var C,K,F,R,N,ba;V.base.call(this,eb.MDX);C=null;K=null;F=null;if("string" === typeof p)(g=x.MSL_LEGACY,F=p);else if(p instanceof Uint8Array)(g=x.NTBA,K=p);else if(p instanceof hb)(g=x.MSL,C=p);else throw new TypeError("Controller token " + p + " is not a master token, encrypted CTicket, or MSL token construct.");R=p=null;N=null;if(H){ba=H.controllerAuthData;p=ba.getAction();R=ba.getPin();H=H.userIdToken;ba instanceof na?N=ba.getUserIdToken().customer:H && (N=H.customer);}Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},action:{value:p,writable:!1,configurable:!1},targetPin:{value:n,writable:!1,configurable:!1},controllerPin:{value:R,writable:!1,configurable:!1},customer:{value:N,writable:!1,configurable:!1},_masterToken:{value:C,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:K,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:F,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:t,writable:!1,enumerable:!1,configurable:!1},_signature:{value:z,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var g,n;g={};switch(this.mechanism){case x.MSL:n=JSON.parse(JSON.stringify(this._masterToken));g.mastertoken=n;break;case x.NTBA:n=Ya(this._encryptedCTicket,"utf-8");g.cticket=n;break;case x.MSL_LEGACY:g.cticket=this._mslTokens;break;default:throw new X("Unsupported MDX mechanism.");}g.pin=this.targetPin;g.mdxauthdata=oa(this._controllerEncoding);g.signature=oa(this._signature);return g;},equals:function za(g){return this === g?!0:g instanceof dc?za.base.call(this,g) && (this._masterToken == g._masterToken || this._masterToken && this._masterToken.equals(g._masterToken)) && (this._encryptedCTicket == g._encryptedCTicket || this._encryptedCTicket && bb(this._encryptedCTicket,g._encryptedCTicket)) && this._mslTokens == g._mslTokens && bb(this._controllerEncoding,g._controllerEncoding) && bb(this._signature,g._signature):!1;}});se=function(n,x,t){function z(z,H,C,K){Tb(n,H,{result:function(H){p(t,function(){if(!H.isDecrypted())throw new Ba(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + x.toString());ba(n,H,C,K,{result:function(g){p(t,function(){var d,b;d=g.getEncoding();b=g.getSignature();return new dc(n,z,H,d,b,{controllerAuthData:g,userIdToken:null});});},error:t.error});});},error:function(n){p(t,function(){if(n instanceof F)throw new Ba(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(x),n);throw n;});}});}function H(n,x,z,H){p(t,function(){throw new Ba(g.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function C(z,H,C,K){function R(d,b){p(b,function(){var a,c;try{a=ya(d);}catch(h){throw new Ba(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(x),h);}if(!a || 0 == a.length)throw new Ba(g.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata " + JSON.stringify(x));try{c=JSON.parse(Ya(a,"utf-8"));Tb(n,c,{result:function(a){p(b,function(){if(!a.isDecrypted())throw new Ba(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + x.toString());return a;});},error:function(a){p(b,function(){if(a instanceof F)throw new Ba(g.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata " + JSON.stringify(x),a);throw a;});}});}catch(h){if(h instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(x),h);throw h;}});}function N(d,b,a){p(a,function(){var c,h;try{c=ya(d);}catch(l){throw new Ba(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(x),l);}if(!c || 0 == c.length)throw new Ba(g.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata " + JSON.stringify(x));try{h=JSON.parse(Ya(c,"utf-8"));Ub(n,h,b,{result:function(b){p(a,function(){if(!b.isDecrypted())throw new Ba(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(x));return b;});},error:function(b){p(a,function(){if(b instanceof F)throw new Ba(g.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata " + JSON.stringify(x),b);throw b;});}});}catch(l){if(l instanceof SyntaxError)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(x),l);throw l;}});}p(t,function(){var d;d=H.split(",");if(3 != d.length || "1" != d[0])throw new Ba(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(x));R(d[1],{result:function(b){N(d[2],b,{result:function(a){wa(n,b,C,K,{result:function(b){p(t,function(){return new dc(n,z,H,C,K,{controllerAuthData:b,userIdToken:a});});},error:function(a){p(t,function(){if(a instanceof Rb)throw new Ba(g.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata " + JSON.stringify(x),a);throw a;});}});},error:t.error});},error:t.error});});}p(t,function(){var n,p,t,K,F;n=x.pin;p=x.mdxauthdata;t=x.signature;if(!n || "string" !== typeof n || !p || "string" !== typeof p || !t || "string" !== typeof t)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(x));try{K=ya(p);F=ya(t);}catch(Jb){throw new Ba(g.MDX_CONTROLLERDATA_INVALID,"MDX authdata " + JSON.stringify(x),Jb);}if(x.mastertoken){p=x.mastertoken;if(!p || "object" !== typeof p)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(x));z(n,p,K,F);}else if(x.cticket){p=x.cticket;if(!p || "string" !== typeof p)throw new ha(g.JSON_PARSE_ERROR,"MDX authdata " + JSON.stringify(x));-1 == p.indexOf(",")?H(n,p,K,F):C(n,p,K,F);}else throw new Ba(g.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata " + JSON.stringify(x));});};})();(function(){var n,p,t;n=od.ACTION;p=nc.ACTION;t=pd.ACTION;te=lc.extend({init:function H(){H.base.call(this,eb.MDX);},createData:function(g,n,p,t){se(g,p,t);},authenticate:function(z,C,K,F){if(!(K instanceof dc))throw new X("Incorrect authentication data type " + K.getClass().getName() + ".");z=K.action;switch(K.mechanism){case Jc.MSL:if(n != z)throw new Ba(g.MDX_USERAUTH_ACTION_INVALID).setUser(K);break;case Jc.NTBA:if(p != z)throw new Ba(g.MDX_USERAUTH_ACTION_INVALID).setUser(K);break;case Jc.MSL_LEGACY:if(t != z)throw new Ba(g.MDX_USERAUTH_ACTION_INVALID).setUser(K);}z=K.controllerPin;C=K.targetPin;if(!z || !C)throw new Ba(g.MDX_PIN_BLANK).setUser(K);if(z != C)throw new Ba(g.MDX_PIN_MISMATCH).setUser(K);z=K.customer;if(!z)throw new Ba(g.MDX_USER_UNKNOWN).setUser(K);if(F && (F=F.customer,!z.equals(F)))throw new Ba(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer " + z + "; uit customer " + F).setUser(K);return z;}});})();(function(){var n,p,t;n={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};p=ve=la.Class.create({init:function(g,n){Object.defineProperties(this,{email:{value:g,writable:!1,enumerable:!0,configurable:!1},password:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});t=we=la.Class.create({init:function(g,n){Object.defineProperties(this,{netflixId:{value:g,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:n,writable:!1,enumerable:!0,configurable:!1}});}});oc=Gb.extend({init:function H(g,n,z,C){var K,F,T,ba;H.base.call(this,eb.SSO);K=null;F=null;T=null;ba=null;z instanceof p?(K=z.email,F=z.password):z instanceof t && (T=z.netflixId,ba=z.secureNetflixId);Object.defineProperties(this,{mechanism:{value:g,writable:!1,configurable:!1},token:{value:n,writable:!1,configurable:!1},email:{value:K,writable:!1,configurable:!1},password:{value:F,writable:!1,configurable:!1},netflixId:{value:T,writable:!1,configurable:!1},secureNetflixId:{value:ba,writable:!1,configurable:!1},profileGuid:{value:"undefined" === typeof C?null:C,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.mechanism=this.mechanism;g.token=oa(this.token);this.email && this.password?(g.email=this.email,g.password=this.password):this.netflixId && this.secureNetflixId && (g.netflixid=this.netflixId,g.securenetflixid=this.secureNetflixId);this.profileGuid && (g.profileguid=this.profileGuid);return g;},equals:function na(g){return this === g?!0:g instanceof oc?na.base.call(this,g) && this.mechanism == g.mechanism && bb(this.token,g.token) && this.email == g.email && this.password == g.password && this.netflixId == g.netflixId && this.secureNetflixId == g.secureNetflixId && this.profileGuid == g.profileGuid:!1;}});ue=function(z){var C,K,F,R,L,T,V,na,N;C=z.mechanism;K=z.token;if(!C || !K || "string" !== typeof K)throw new ha(g.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(z));if(!n[C])throw new Ba(g.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata " + JSON.stringify(z));F=z.email;R=z.password;L=z.netflixid;T=z.securenetflixid;V=z.profileguid;if(F && !R || !F && R || L && !T || !L && T || F && L)throw new ha(g.JSON_PARSE_ERROR,"SSO authdata " + JSON.stringify(z));try{na=ya(K);}catch(xa){throw new Ba(g.SSOTOKEN_INVALID,"SSO authdata " + JSON.stringify(z),xa);}F && R?N=new p(F,R):L && T && (N=new t(L,T));return new oc(C,na,N,V);};})();Xe=lc.extend({init:function C(){C.base.call(this,eb.SSO);},createData:function(g,n,x,t){p(t,function(){return ue(x);});},authenticate:function(n,p,x,t){var C,H;if(!(x instanceof oc))throw new X("Incorrect authentication data type " + x + ".");n=x.token;p=x.email;t=x.password;C=x.netflixId;H=x.secureNetflixId;if(!n || 0 == n.length)throw new Ba(g.SSOTOKEN_BLANK);if(!(null === p && null === t || p && t))throw new Ba(g.EMAILPASSWORD_BLANK);if(!(null === C && null === H || C && H))throw new Ba(g.NETFLIXID_COOKIES_BLANK).setUser(x);throw new Ba(g.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(x);}});(function(){pc=Gb.extend({init:function K(g,n){K.base.call(this,eb.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:g,writable:!1,configurable:!1},profileGuid:{value:n,writable:!1,configurable:!1}});},getAuthData:function(){var g;g={};g.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));g.profileguid=this.profileGuid;return g;},equals:function x(g){return this == g?!0:g instanceof pc?x.base.call(this,g) && this.userIdToken.equals(g.userIdToken) && this.profileGuid == g.profileGuid:!1;}});xe=function(n,t,F,ba){p(ba,function(){var x,H;if(!t)throw new Ba(g.USERAUTH_MASTERTOKEN_MISSING);x=F.useridtoken;H=F.profileguid;if("object" !== typeof x || "string" !== typeof H)throw new ha(g.JSON_PARSE_ERROR,"switch profile authdata " + JSON.stringify(F));Ub(n,x,t,{result:function(n){p(ba,function(){if(!n.isDecrypted())throw new Ba(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata " + JSON.stringify(F));return new pc(n,H);});},error:function(n){ba.error(new Ba(g.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata " + JSON.stringify(F),n));}});});};})();Ye=lc.extend({init:function K(g){K.base.call(this,eb.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:g,writable:!1,enumerable:!1,configurable:!1}});},createData:function(g,n,p,t){xe(g,n,p,t);},authenticate:function(n,p,t,F){if(!(t instanceof pc))throw new X("Incorrect authentication data type " + t + ".");p=t.userIdToken;n=t.profileGuid;if(!n)throw new Ba(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(t);p=p.user;if(!p)throw new Ba(g.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(t);n=this._store.switchUsers(p,n);if(!n)throw new Ba(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(t);if(F && (F=F.user,!n.equals(F)))throw new Ba(g.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user " + n + "; uit user " + F).setUserAuthenticationData(t);return n;}});Object.freeze({ENTITY_REAUTH:n.ENTITY_REAUTH,ENTITYDATA_REAUTH:n.ENTITYDATA_REAUTH});Ze=la.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(g,n){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(g){},getUserAuthenticationFactory:function(g){},getTokenFactory:function(){},getKeyExchangeFactory:function(g){},getKeyExchangeFactories:function(){},getMslStore:function(){}});ye=la.Class.create({setCryptoContext:function(g,n){},getMasterToken:function(){},getNonReplayableId:function(g){},getCryptoContext:function(g){},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,n){},getUserIdToken:function(g){},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(g,n){},removeServiceTokens:function(g,n,p){},clearServiceTokens:function(){}});(function(){var n;n=Pb;md=function(p,t){var x;x={};switch(p){case n.LZW:return Ad(t,x);case n.GZIP:return gzip$compress(t);default:throw new F(g.UNSUPPORTED_COMPRESSION,p);}};Gc=function(p,t,K){switch(p){case n.LZW:return Bd(t);case n.GZIP:return gzip$uncompress(t);default:throw new F(g.UNSUPPORTED_COMPRESSION,p.name());}};})();ye.extend({setCryptoContext:function(g,n){},getMasterToken:function(){return null;},getNonReplayableId:function(g){return 1;},getCryptoContext:function(g){return null;},removeCryptoContext:function(g){},clearCryptoContexts:function(){},addUserIdToken:function(g,n){},getUserIdToken:function(g){return null;},removeUserIdToken:function(g){},clearUserIdTokens:function(){},addServiceTokens:function(g){},getServiceTokens:function(n,p){if(p){if(!n)throw new F(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!p.isBoundTo(n))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + p.mtSerialNumber + "; mt " + n.serialNumber);}return [];},removeServiceTokens:function(n,p,t){if(t && p && !t.isBoundTo(p))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + t.masterTokenSerialNumber + "; mt " + p.serialNumber);},clearServiceTokens:function(){}});(function(){ze=ye.extend({init:function x(){x.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(g,n){var p;if(n){p=g.uniqueKey();this.masterTokens[p]=g;this.cryptoContexts[p]=n;}else this.removeCryptoContext(g);},getMasterToken:function(){var g,n,p;g=null;for(n in this.masterTokens){p=this.masterTokens[n];if(!g || p.isNewerThan(g))g=p;}return g;},getNonReplayableId:function(g){var n;g=g.serialNumber;n=this.nonReplayableIds[g] !== ga?this.nonReplayableIds[g]:0;if(0 > n || n > Pa)throw new X("Non-replayable ID " + n + " is outside the valid range.");n=n == Pa?0:n + 1;return this.nonReplayableIds[g]=n;},getCryptoContext:function(g){return this.cryptoContexts[g.uniqueKey()];},removeCryptoContext:function(g){var n,p,t,x;n=g.uniqueKey();if(this.masterTokens[n]){p=g.serialNumber;for(t in this.masterTokens){x=this.masterTokens[t];if(!x.equals(g) && x.serialNumber == p){delete this.masterTokens[n];delete this.cryptoContexts[n];return;}}Object.keys(this.userIdTokens).forEach(function(n){n=this.userIdTokens[n];n.isBoundTo(g) && this.removeUserIdToken(n);},this);try{this.removeServiceTokens(null,g,null);}catch(qa){if(qa instanceof F)throw new X("Unexpected exception while removing master token bound service tokens.",qa);throw qa;}delete this.nonReplayableIds[p];delete this.masterTokens[n];delete this.cryptoContexts[n];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(g){for(var n in g){delete g[n];}},this);},addUserIdToken:function(n,p){var t,x;t=!1;for(x in this.masterTokens){if(p.isBoundTo(this.masterTokens[x])){t=!0;break;}}if(!t)throw new F(g.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + p.mtSerialNumber);this.userIdTokens[n]=p;},getUserIdToken:function(g){return this.userIdTokens[g];},removeUserIdToken:function(g){var n,p,t;n=null;for(p in this.masterTokens){t=this.masterTokens[p];if(g.isBoundTo(t)){n=t;break;}}Object.keys(this.userIdTokens).forEach(function(p){if(this.userIdTokens[p].equals(g)){try{this.removeServiceTokens(null,n,g);}catch(qa){if(qa instanceof F)throw new X("Unexpected exception while removing user ID token bound service tokens.",qa);throw qa;}delete this.userIdTokens[p];}},this);},clearUserIdTokens:function(){for(var g in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[g]);}},addServiceTokens:function(n){n.forEach(function(n){var p,t,x;if(n.isMasterTokenBound()){p=!1;for(t in this.masterTokens){if(n.isBoundTo(this.masterTokens[t])){p=!0;break;}}if(!p)throw new F(g.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + n.mtSerialNumber);}if(n.isUserIdTokenBound()){p=!1;for(x in this.userIdTokens){if(n.isBoundTo(this.userIdTokens[x])){p=!0;break;}}if(!p)throw new F(g.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + n.uitSerialNumber);}},this);n.forEach(function(g){var n;if(g.isUnbound())this.unboundServiceTokens[g.uniqueKey()]=g;else {if(g.isMasterTokenBound()){n=this.mtServiceTokens[g.mtSerialNumber];n || (n={});n[g.uniqueKey()]=g;this.mtServiceTokens[g.mtSerialNumber]=n;}g.isUserIdTokenBound() && ((n=this.uitServiceTokens[g.uitSerialNumber]) || (n={}),n[g.uniqueKey()]=g,this.uitServiceTokens[g.uitSerialNumber]=n);}},this);},getServiceTokens:function(n,p){var t,x,H;if(p){if(!n)throw new F(g.USERIDTOKEN_MASTERTOKEN_NULL);if(!p.isBoundTo(n))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + p.mtSerialNumber + "; mt " + n.serialNumber);}t={};for(x in this.unboundServiceTokens){H=this.unboundServiceTokens[x];t[H.uniqueKey()]=H;}if(n && (x=this.mtServiceTokens[n.serialNumber]))for(var L in x){H=x[L];H.isUserIdTokenBound() || (t[L]=H);}if(p && (L=this.uitServiceTokens[p.serialNumber]))for(var R in L){x=L[R];x.isBoundTo(n) && (t[R]=x);}R=[];for(var wa in t){R.push(t[wa]);}return R;},removeServiceTokens:function(n,p,t){var x,H,L;if(t && p && !t.isBoundTo(p))throw new F(g.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + t.mtSerialNumber + "; mt " + p.serialNumber);!n || p || t || Object.keys(this.unboundServiceTokens).forEach(function(g){this.unboundServiceTokens[g].name == n && delete this.unboundServiceTokens[g];},this);p && !t && (x=this.mtServiceTokens[p.serialNumber]) && (L=Object.keys(x),L.forEach(function(g){var p;p=x[g];n && p.name != n || delete x[g];},this),this.mtServiceTokens[p.serialNumber]=x);t && (H=this.uitServiceTokens[t.serialNumber]) && (p=Object.keys(H),p.forEach(function(g){var p;p=H[g];n && p.name != n || delete H[g];},this),this.uitServiceTokens[t.serialNumber]=H);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(g){for(var n in g){delete g[n];}},this);}});})();Ie=Se.extend({init:function x(){x.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(g,n){var p;if(n && g && g.length){p=oa(g);this._contextMap[p]=n;}},getCryptoContext:function(g){return g && g.length?(g=oa(g),this._contextMap[g] || null):null;},removeCryptoContext:function(g){g && g.length && (g=oa(g),delete this._contextMap[g]);}});Ae=Le.extend({init:function H(g,n,p,t){H.base.call(this,g);Object.defineProperties(this,{_kde:{value:n,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:p,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:t,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,p){if(!(p instanceof mb))throw new X("Incorrect authentication data type " + JSON.stringify(p) + ".");if(p.identity != this.localIdentity)throw new wb(g.ENTITY_NOT_FOUND,"mgk " + p.identity);return new zc(n,this.localIdentity,this._kde,this._kdh,this._kdw);}});$e=Ld.extend({init:function na(g,n,p,t){na.base.call(this,g);Object.defineProperties(this,{_kpe:{value:n,writable:!1,enumerable:!1,configurable:!1},_kph:{value:p,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:t,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(n,p){if(!(p instanceof rb))throw new X("Incorrect authentication data type " + JSON.stringify(p) + ".");if(p.identity != this.localIdentity)throw new wb(g.ENTITY_NOT_FOUND,"psk " + p.identity);return new zc(n,this.localIdentity,this._kpe,this._kph,this._kpw);}});bf=ze.extend({init:function ba(g,n,p,t,F,L){ba.base.call(this);this._log=g;this._esn=n;this._keyRequestData=p;this._createKeyRequestData=t;this._systemKeyName=F;this._systemKeyWrapFormat=L;},setCryptoContext:function Ia(g,n,p){var t;t=this;t._log.trace("Adding MasterToken",{SequenceNumber:g.sequenceNumber,SerialNumber:g.serialNumber,Expiration:g.expiration.getTime()});Ia.base.call(this,g,n);!p && (g=t._createKeyRequestData) && (t._log.trace("Generating new keyx request data"),g().then(function(g){t._keyRequestData=g;},function(g){t._log.error("Unable to generate new keyx request data","" + g);}));},addUserIdToken:function qa(g,n){this._log.trace("Adding UserIdToken",{UserId:g,SerialNumber:n.serialNumber,MTSerialNumber:n.mtSerialNumber,Expiration:n.expiration.getTime()});qa.base.call(this,g,n);},addServiceTokens:function R(g){R.base.call(this,g.filter(function(g){return !af[g.name];}));},getUserIdTokenKeys:function(){var g,n;g=[];for(n in this.userIdTokens){g.push(n);}return g;},rekeyUserIdToken:function(g,n){this.userIdTokens[g] && (this.userIdTokens[n]=this.userIdTokens[g],delete this.userIdTokens[g]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(g){var n;n=this;p(g,function(){var t;t=n.getMasterToken();t?n.getKeysForStore(t,{result:function(F){p(g,function(){var g,p,R;g=n.userIdTokens;p=Object.keys(g).map(function(p){var F;F=g[p];return {userId:p,userIdTokenJSON:g[p].toJSON(),serviceTokenJSONList:n.getServiceTokens(t,F).map(Fe)};});F.esn=n._esn;F.masterTokenJSON=t.toJSON();F.userList=p;R=n._keyRequestData.storeData;R && Object.keys(R).forEach(function(g){F[g]=R[g];});return F;});},timeout:g.timeout,error:g.error}):g.result(null);});},getKeysForStore:function(n,t){var R;R=this;p(t,function(){var p;p=R.getCryptoContext(n);p={encryptionKey:p.encryptionKey,hmacKey:p.hmacKey};if(p.encryptionKey && p.hmacKey){if(R._systemKeyWrapFormat)R.wrapKeysWithSystemKey(p,t);else return p;}else throw new F(g.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(n,t){var R;R=this;ud(this._systemKeyName,{result:function(T){p(t,function(){var p,N,L,V;p=n.encryptionKey;N=n.hmacKey;L=p[ec];V=N[ec];if(L && V)return {wrappedEncryptionKey:L,wrappedHmacKey:V};Promise.resolve().then(function(){return Promise.all([Fa.wrapKey(R._systemKeyWrapFormat,p,T,T.algorithm),Fa.wrapKey(R._systemKeyWrapFormat,N,T,T.algorithm)]);}).then(function(g){L=oa(g[0]);p[ec]=L;V=oa(g[1]);N[ec]=V;t.result({wrappedEncryptionKey:L,wrappedHmacKey:V});})["catch"](function(n){t.error(new F(g.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",n));});});},timeout:t.timeout,error:t.error});},unwrapKeysWithSystemKey:function(n,t){var R;R=this;ud(this._systemKeyName,{result:function(T){p(t,function(){var p,N;p=ya(n.wrappedEncryptionKey);N=ya(n.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Fa.unwrapKey(R._systemKeyWrapFormat,p,T,T.algorithm,pb,!1,Hb),Fa.unwrapKey(R._systemKeyWrapFormat,N,T,T.algorithm,qb,!1,Sb)]);}).then(function(g){var p;p=g[0];g=g[1];p[ec]=n.wrappedEncryptionKey;g[ec]=n.wrappedHmacKey;t.result({encryptionKey:p,hmacKey:g});})["catch"](function(n){t.error(new F(g.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",n));});});},timeout:t.timeout,error:t.error});},loadStoreState:function(g,n,p,t){var T,L;function F(g,t){var F;try{F=p.userList.slice();}catch(vb){}F?(function Fb(){var p;p=F.shift();p?Ub(n,p.userIdTokenJSON,g,{result:function(n){try{T.addUserIdToken(p.userId,n);R(g,n,p.serviceTokenJSONList,{result:Fb,timeout:Fb,error:Fb});}catch(Jb){Fb();}},timeout:Fb,error:Fb}):t.result();})():t.result();}function R(g,p,t,F){var R,N;try{R=t.slice();}catch(ma){}if(R){N=T.getCryptoContext(g);(function Jb(){var d;d=R.shift();d?Fc(n,d,g,p,N,{result:function(b){T.addServiceTokens([b]);Jb();},timeout:function(){Jb();},error:function(){Jb();}}):F.result();})();}else F.result();}T=this;L=T._log;p.esn != T._esn?(L.error("Esn mismatch, starting fresh"),t.error()):(function(t){var N,V,xa,va;function F(){var p;if(!N && V && xa && va){N=!0;p=new ib(n,V,g.esn,{rawKey:xa},{rawKey:va});T.setCryptoContext(V,p,!0);t.result(V);}}function R(g,d){L.error(g,d && "" + d);N || (N=!0,t.error());}p.masterTokenJSON?(Tb(n,p.masterTokenJSON,{result:function(g){V=g;F();},timeout:function(){R("Timeout parsing MasterToken");},error:function(g){R("Error parsing MasterToken",g);}}),T._systemKeyWrapFormat?T.unwrapKeysWithSystemKey(p,{result:function(g){xa=g.encryptionKey;va=g.hmacKey;F();},timeout:function(){R("Timeout unwrapping keys");},error:function(g){R("Error unwrapping keys",g);}}):Promise.resolve().then(function(){return Fa.encrypt({name:pb.name,iv:new Uint8Array(16)},p.encryptionKey,new Uint8Array(1));}).then(function(g){xa=p.encryptionKey;})["catch"](function(g){R("Error loading encryptionKey");}).then(function(){return Fa.sign(qb,p.hmacKey,new Uint8Array(1));}).then(function(g){va=p.hmacKey;F();})["catch"](function(g){R("Error loading hmacKey");})):R("Persisted store is corrupt");})({result:function(g){F(g,t);},timeout:t.timeout,error:t.error});}});af={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};ec="$netflix$msl$wrapsys";cf=Ze.extend({init:function(g,n,p,t,F,N){var R,T;R=new jc([Pb.LZW]);T=new Ne();T.addPublicKey(n,p);t[Ra.RSA]=new Me(T);n={};n[eb.EMAIL_PASSWORD]=new We();n[eb.NETFLIXID]=new Ve();n[eb.MDX]=new te();n[eb.SSO]=new Xe();n[eb.SWITCH_PROFILE]=new Ye();g={_mslCryptoContext:{value:new Ke(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:R,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:F,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:t,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:n,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:N,writable:!1,enumerable:!1,configurable:!1},_store:{value:g,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,g);},getTime:function(){return Date.now();},getRandom:function(){return new Fd();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(g,n){n.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(g){return this._entityAuthFactories[g];},getUserAuthenticationFactory:function(g){return this._userAuthFactories[g];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(g){return this._keyExchangeFactories.filter(function(n){return n.scheme == g;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});wd=ne.extend({init:function(g,n,p,t){this._log=g;this._mslContext=n;this._mslRequest=p;this._keyRequestData=t;},getCryptoContexts:function(){return {};},isEncrypted:function(){return ! !this._mslRequest.encrypted;},isNonReplayable:function(){return ! !this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(g,n,t,F){var R,N;R=this._mslRequest;N=this._mslContext;p(F,function(){var n,p;if(g || !R.shouldSendUserAuthData)return null;if(R.token){R.email?n=new ve(R.email,R.password):R.netflixId && (n=new we(R.netflixId,R.secureNetflixId));p="undefined" === typeof R.profileGuid?null:R.profileGuid;return new oc(R.mechanism,Xa(R.token),n,p);}return R.email?new mc(R.email,R.password):R.netflixId?new Xb(R.netflixId,R.secureNetflixId):R.mdxControllerToken?(n=new nc("regpairrequest",R.mdxNonce,R.mdxEncryptedPinB64,R.mdxSignature).getEncoding(),new dc(N,R.mdxPin,R.mdxControllerToken,n,R.mdxSignature)):R.useNetflixUserAuthData?new Xb():R.profileGuid?(n=R.userId,n=N.getMslStore().userIdTokens[n],new pc(n,R.profileGuid)):t && R.sendUserAuthIfRequired?new Xb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(g){g.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(g,n,p){var t,F,R,T,L,X;t=this._log;F=(this._mslRequest.serviceTokens || []).slice();R=this._mslContext;n=R.getMslStore();T=g.builder.getMasterToken();L=this.getUserId();X=n.getUserIdToken(L);(function fa(){var n;n=F.shift();if(n)try{n instanceof Kb?(g.addPrimaryServiceToken(n),fa()):Fc(R,n,T,X,null,{result:function(n){try{g.addPrimaryServiceToken(n);}catch(fd){t.warn("Exception adding service token","" + fd);}fa();},timeout:function(){t.warn("Timeout parsing service token");fa();},error:function(g){t.warn("Error parsing service token","" + g);fa();}});}catch(Fb){t.warn("Exception processing service token","" + Fb);fa();}else p.result(!0);})();},write:function(g,n,p){var t;t=Xa(this._mslRequest.body);g.write(t,0,t.length,n,{result:function(F){F != t.length?p.error(new $a("Not all data was written to output.")):g.flush(n,{result:function(){p.result(!0);},timeout:function(){p.timeout();},error:function(g){p.error(g);}});},timeout:function(){p.timeout();},error:function(g){p.error(g);}});},getDebugContext:function(){this._dc || (this._dc=new df(this._log,this._mslRequest));return this._dc;}});df=Ue.extend({init:function(g,n){this._log=g;this._mslRequest=n;},sentHeader:function(g){this._log.trace("Sent MSL header",vd(this._mslRequest,g),g.serviceTokens && g.serviceTokens.map(Ge).join("\n"));},receivedHeader:function(g){var n,p;n=vd(this._mslRequest,g);p=g.errorCode;p?this._log.warn("Received MSL error header",n,{errorCode:p,errorMessage:g.errorMessage,internalCode:g.internalCode}):this._log.trace("Received MSL header",n);}});Be={PSK:function(g){return Pc(g,Ra.PSK,$e,rb,gd,Dc);},MGK:function(g){return Pc(g,Ra.MGK,Ae,mb,gd,Dc);},MGK_WITH_FALLBACK:function(n){var p,t;switch(n.esnPrefix){case "GOOGEUR001":case "GOOGLEXX01":case "GOOGEST001":case "GOOGNEW001":p="PSK";break;default:p="MGK";}t=Be[p];if(!t)throw new F(g.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: " + p);return t(n);},MGK_JWE:function(g){return Pc(g,Ra.MGK,Ae,mb,Rd,ed);},JWK_RSA:function(g){return Qc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Ec.JWK_RSA);},JWK_RSAES:function(g){return Qc(g,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ec.JWK_RSAES);},JWEJS_RSA:function(g){return Qc(g,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Ec.JWEJS_RSA);}};ja.netflix=ja.netflix || ({});ja.netflix.msl={createMslClient:function(n,p){var t,R,L,N,xa;t=n.log;xa=n.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Ta && Ta.generateKey && Ta.importKey && Ta.unwrapKey))throw new F(g.INTERNAL_EXCEPTION,"No WebCrypto");fb=Ta.generateKey({name:"AES-CBC",length:128},!0,Hb).then?uc.V2014_02:uc.LEGACY;xa("mslisik");return Fa.importKey("spki",n.serverIdentityKeyData,Gd,!1,["verify"]);}).then(function(n){return new Promise(function(p,t){Ob(n,{result:p,error:function(){t(new F(g.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(p){R=p;if(p=Be[n.authenticationType])return (xa("mslcc"),p(n));throw new F(g.INTERNAL_EXCEPTION,"Invalid authenticationType: " + n.authenticationType);}).then(function(g){var p;L=new bf(t,n.esn,g.keyRequestData,g.createKeyRequestData,n.authenticationKeyNames.s,n.systemKeyWrapFormat);N=new cf(L,n.serverIdentityId,R,g.entityAuthFactories,g.entityAuthData,g.keyExchangeFactories);p=n.storeState;if(p)return (xa("mslss"),t.info("Loading store state"),new Promise(function(g,t){L.loadStoreState(n,N,p,{result:g,timeout:g,error:g});}));t.info("No store state, starting fresh");}).then(function(){var g;g=new oe();xa("msldone");p.result(new He(t,g,N,L,n.ErrorSubCodes));})["catch"](function(g){p.error(g);});},IHttpLocation:Qe,MslIoException:$a};(function(){var ya,ma,Ba;function g(){g=function(){};ma.Symbol || (ma.Symbol=n);}function n(d){return "jscomp_symbol_" + (d || "") + Ba++;}function p(){var d;g();d=ma.Symbol.iterator;d || (d=ma.Symbol.iterator=ma.Symbol("iterator"));"function" != typeof Array.prototype[d] && ya(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return t(this);}});p=function(){};}function t(d){var b;b=0;return F(function(){return b < d.length?{done:!1,value:d[b++]}:{done:!0};});}function F(d){p();d={next:d};d[ma.Symbol.iterator]=function(){return this;};return d;}function N(d){var b;p();g();p();b=d[Symbol.iterator];return b?b.call(d):t(d);}function L(d,b){var h;function a(){}a.prototype=b.prototype;d.prototype=new a();d.prototype.constructor=d;for(var c in b){if(Object.defineProperties){h=Object.getOwnPropertyDescriptor(b,c);h && Object.defineProperty(d,c,h);}else d[c]=b[c];}}function X(d){if(!(d instanceof Array)){d=N(d);for(var b,a=[];!(b=d.next()).done;){a.push(b.value);}d=a;}return d;}function ha(d,b){var a,h;if(b){a=ma;d=d.split(".");for(var c=0;c < d.length - 1;c++){h=d[c];(h in a) || (a[h]={});a=a[h];}d=d[d.length - 1];c=a[d];b=b(c);b != c && null != b && ya(a,d,{configurable:!0,writable:!0,value:b});}}function ga(d,b){return Object.prototype.hasOwnProperty.call(d,b);}function fa(d,b){var a,c;p();d instanceof String && (d+="");a=0;c={next:function(){var h;if(a < d.length){h=a++;return {value:b(h,d[h]),done:!1};}c.next=function(){return {done:!0,value:void 0};};return c.next();}};c[Symbol.iterator]=function(){return c;};return c;}function la(d,b,a){if(null == d)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return d + "";}function oa(d,b,a){var l;d instanceof String && (d=String(d));for(var c=d.length,h=0;h < c;h++){l=d[h];if(b.call(a,l,h,d))return {Ek:h,J7:l};}return {Ek:-1,J7:void 0};}ya="function" == typeof Object.defineProperties?Object.defineProperty:function(d,b,a){if(a.get || a.set)throw new TypeError("ES3 does not support getters and setters.");d != Array.prototype && d != Object.prototype && (d[b]=a.value);};ma="undefined" != typeof ja && ja === this?this:"undefined" != typeof global && null != global?global:this;Ba=0;ha("Object.setPrototypeOf",function(d){return d?d:"object" != typeof ("").__proto__?null:function(b,a){b.__proto__=a;if(b.__proto__ !== a)throw new TypeError(b + " is not extensible");return b;};});ha("Object.assign",function(d){return d?d:function(b,a){var h;for(var c=1;c < arguments.length;c++){h=arguments[c];if(h)for(var l in h){ga(h,l) && (b[l]=h[l]);}}return b;};});ha("Object.getOwnPropertySymbols",function(d){return d?d:function(){return [];};});ha("Promise",function(d){var c,h;function b(a){var b;this.UU=0;this.zra=void 0;this.wT=[];b=this.Jha();try{a(b.resolve,b.reject);}catch(f){b.reject(f);}}function a(){this.Nz=null;}if(d)return d;a.prototype.TJa=function(a){null == this.Nz && (this.Nz=[],this.Kkb());this.Nz.push(a);};a.prototype.Kkb=function(){var a;a=this;this.UJa(function(){a.Wub();});};c=ma.setTimeout;a.prototype.UJa=function(a){c(a,0);};a.prototype.Wub=function(){var a,f;for(;this.Nz && this.Nz.length;){a=this.Nz;this.Nz=[];for(var b=0;b < a.length;++b){f=a[b];delete a[b];try{f();}catch(k){this.Mkb(k);}}}this.Nz=null;};a.prototype.Mkb=function(a){this.UJa(function(){throw a;});};b.prototype.Jha=function(){var b,f;function a(a){return function(c){f || (f=!0,a.call(b,c));};}b=this;f=!1;return {resolve:a(this.NPb),reject:a(this.cra)};};b.prototype.NPb=function(a){var c;if(a === this)this.cra(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof b)this.$Rb(a);else {a:switch(typeof a){case "object":c=null != a;break a;case "function":c=!0;break a;default:c=!1;}c?this.MPb(a):this.RPa(a);}};b.prototype.MPb=function(a){var b;b=void 0;try{b=a.then;}catch(f){this.cra(f);return;}"function" == typeof b?this.aSb(b,a):this.RPa(a);};b.prototype.cra=function(a){this.y1a(2,a);};b.prototype.RPa=function(a){this.y1a(1,a);};b.prototype.y1a=function(a,b){if(0 != this.UU)throw Error("Cannot settle(" + a + ", " + b | "): Promise already settled in state" + this.UU);this.UU=a;this.zra=b;this.Xub();};b.prototype.Xub=function(){if(null != this.wT){for(var a=this.wT,b=0;b < a.length;++b){a[b].call();a[b]=null;}this.wT=null;}};h=new a();b.prototype.$Rb=function(a){var b;b=this.Jha();a.R_(b.resolve,b.reject);};b.prototype.aSb=function(a,b){var f;f=this.Jha();try{a.call(b,f.resolve,f.reject);}catch(k){f.reject(k);}};b.prototype.then=function(a,c){var k,h,m;function f(a,b){return "function" == typeof a?function(b){try{k(a(b));}catch(A){h(A);}}:b;}m=new b(function(a,b){k=a;h=b;});this.R_(f(a,k),f(c,h));return m;};b.prototype["catch"]=function(a){return this.then(void 0,a);};b.prototype.R_=function(a,b){var c;function f(){switch(c.UU){case 1:a(c.zra);break;case 2:b(c.zra);break;default:throw Error("Unexpected state: " + c.UU);}}c=this;null == this.wT?h.TJa(f):this.wT.push(function(){h.TJa(f);});};b.resolve=function(a){return a instanceof b?a:new b(function(b){b(a);});};b.reject=function(a){return new b(function(b,f){f(a);});};b.race=function(a){return new b(function(c,f){for(var k=N(a),h=k.next();!h.done;h=k.next()){b.resolve(h.value).R_(c,f);}});};b.all=function(a){var c,f;c=N(a);f=c.next();return f.done?b.resolve([]):new b(function(a,h){var q,m;function k(b){return function(f){q[b]=f;m--;0 == m && a(q);};}q=[];m=0;do {q.push(void 0);m++;b.resolve(f.value).R_(k(q.length - 1),h);f=c.next();}while(!f.done);});};b.$jscomp$new$AsyncExecutor=function(){return new a();};return b;});ha("Array.prototype.entries",function(d){return d?d:function(){return fa(this,function(b,a){return [b,a];});};});ha("Array.prototype.keys",function(d){return d?d:function(){return fa(this,function(b){return b;});};});ha("Math.tanh",function(d){return d?d:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});ha("String.prototype.includes",function(d){return d?d:function(b,a){return -1 !== la(this,b,"includes").indexOf(b,a || 0);};});ha("Number.isNaN",function(d){return d?d:function(b){return "number" === typeof b && isNaN(b);};});ha("WeakMap",function(d){var h,l;function b(a){this.iS=(l+=Math.random() + 1).toString();if(a){g();p();a=N(a);for(var b;!(b=a.next()).done;){b=b.value;this.set(b[0],b[1]);}}}function a(a){ga(a,h) || ya(a,h,{value:{}});}function c(b){var f;f=Object[b];f && (Object[b]=function(b){a(b);return f(b);});}if((function(){var a,b,c;if(!d || !Object.seal)return !1;try{a=Object.seal({});b=Object.seal({});c=new d([[a,2],[b,3]]);if(2 != c.get(a) || 3 != c.get(b))return !1;c["delete"](a);c.set(b,4);return !c.has(a) && 4 == c.get(b);}catch(q){return !1;}})())return d;h="$jscomp_hidden_" + Math.random().toString().substring(2);c("freeze");c("preventExtensions");c("seal");l=0;b.prototype.set=function(b,f){a(b);if(!ga(b,h))throw Error("WeakMap key fail: " + b);b[h][this.iS]=f;return this;};b.prototype.get=function(a){return ga(a,h)?a[h][this.iS]:void 0;};b.prototype.has=function(a){return ga(a,h) && ga(a[h],this.iS);};b.prototype["delete"]=function(a){return ga(a,h) && ga(a[h],this.iS)?delete a[h][this.iS]:!1;};return b;});ha("Map",function(d){var l,m;function b(){var a;a={};return a.oy=a.next=a.head=a;}function a(a,b){var f;f=a.wx;return F(function(){if(f){for(;f.head != a.wx;){f=f.oy;}for(;f.next != f.head;){return (f=f.next,{done:!1,value:b(f)});}f=null;}return {done:!0,value:void 0};});}function c(a,b){var f,c,k;f=b && typeof b;"object" == f || "function" == f?l.has(b)?f=l.get(b):(f="" + ++m,l.set(b,f)):f="p_" + b;c=a.cx[f];if(c && ga(a.cx,f))for(a=0;a < c.length;a++){k=c[a];if(b !== b && k.key !== k.key || b === k.key)return {id:f,list:c,index:a,Ne:k};}return {id:f,list:c,index:-1,Ne:void 0};}function h(a){this.cx={};this.wx=b();this.size=0;if(a){a=N(a);for(var f;!(f=a.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var a,b,c,h;if(!d || !d.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});b=new d(N([[a,"s"]]));if("s" != b.get(a) || 1 != b.size || b.get({x:4}) || b.set({x:4},"t") != b || 2 != b.size)return !1;c=b.entries();h=c.next();if(h.done || h.value[0] != a || "s" != h.value[1])return !1;h=c.next();return h.done || 4 != h.value[0].x || "t" != h.value[1] || !c.next().done?!1:!0;}catch(r){return !1;}})())return d;g();p();l=new WeakMap();h.prototype.set=function(a,b){var f;f=c(this,a);f.list || (f.list=this.cx[f.id]=[]);f.Ne?f.Ne.value=b:(f.Ne={next:this.wx,oy:this.wx.oy,head:this.wx,key:a,value:b},f.list.push(f.Ne),this.wx.oy.next=f.Ne,this.wx.oy=f.Ne,this.size++);return this;};h.prototype["delete"]=function(a){a=c(this,a);return a.Ne && a.list?(a.list.splice(a.index,1),a.list.length || delete this.cx[a.id],a.Ne.oy.next=a.Ne.next,a.Ne.next.oy=a.Ne.oy,a.Ne.head=null,this.size--,!0):!1;};h.prototype.clear=function(){this.cx={};this.wx=this.wx.oy=b();this.size=0;};h.prototype.has=function(a){return ! !c(this,a).Ne;};h.prototype.get=function(a){return (a=c(this,a).Ne) && a.value;};h.prototype.entries=function(){return a(this,function(a){return [a.key,a.value];});};h.prototype.keys=function(){return a(this,function(a){return a.key;});};h.prototype.values=function(){return a(this,function(a){return a.value;});};h.prototype.forEach=function(a,b){for(var f=this.entries(),c;!(c=f.next()).done;){c=c.value;a.call(b,c[1],c[0],this);}};h.prototype[Symbol.iterator]=h.prototype.entries;m=0;return h;});ha("Set",function(d){function b(a){this.Mu=new Map();if(a){a=N(a);for(var b;!(b=a.next()).done;){this.add(b.value);}}this.size=this.Mu.size;}if((function(){var a,b,h,l;if(!d || !d.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});b=new d(N([a]));if(!b.has(a) || 1 != b.size || b.add(a) != b || 1 != b.size || b.add({x:4}) != b || 2 != b.size)return !1;h=b.entries();l=h.next();if(l.done || l.value[0] != a || l.value[1] != a)return !1;l=h.next();return l.done || l.value[0] == a || 4 != l.value[0].x || l.value[1] != l.value[0]?!1:h.next().done;}catch(m){return !1;}})())return d;g();p();b.prototype.add=function(a){this.Mu.set(a,a);this.size=this.Mu.size;return this;};b.prototype["delete"]=function(a){a=this.Mu["delete"](a);this.size=this.Mu.size;return a;};b.prototype.clear=function(){this.Mu.clear();this.size=0;};b.prototype.has=function(a){return this.Mu.has(a);};b.prototype.entries=function(){return this.Mu.entries();};b.prototype.values=function(){return this.Mu.values();};b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var c;c=this;this.Mu.forEach(function(h){return a.call(b,h,h,c);});};return b;});ha("Array.prototype.find",function(d){return d?d:function(b,a){return oa(this,b,a).J7;};});ha("String.prototype.endsWith",function(d){return d?d:function(b,a){var c;c=la(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var h=b.length;0 < h && 0 < a;){if(c[--a] != b[--h])return !1;}return 0 >= h;};});ha("String.prototype.repeat",function(d){return d?d:function(b){var a;a=la(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});ha("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ha("Array.prototype.values",function(d){return d?d:function(){return fa(this,function(b,a){return a;});};});ha("String.prototype.startsWith",function(d){return d?d:function(b,a){var c,h,l;c=la(this,b,"startsWith");b+="";h=c.length;l=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var m=0;m < l && a < h;){if(c[a++] != b[m++])return !1;}return m >= l;};});ha("Array.prototype.findIndex",function(d){return d?d:function(b,a){return oa(this,b,a).Ek;};});ha("Number.isFinite",function(d){return d?d:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});(function(d){var a;function b(c){var h;if(a[c])return a[c].exports;h=a[c]={Ek:c,HEb:!1,exports:{}};d[c].call(h.exports,h,h.exports,b);h.HEb=!0;return h.exports;}a={};b.g7b=d;b.D4b=a;b.d=function(a,h,l){b.mJb(a,h) || Object.defineProperty(a,h,{enumerable:!0,get:l});};b.r=function(a){g();g();"undefined" !== typeof Symbol && Symbol.toStringTag && (g(),Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}));Object.defineProperty(a,"__esModule",{value:!0});};b.t=function(a,h){var c;h & 1 && (a=b(a));if(h & 8 || h & 4 && "object" === typeof a && a && a.__esModule)return a;c=Object.create(null);b.r(c);Object.defineProperty(c,"default",{enumerable:!0,value:a});if(h & 2 && "string" != typeof a)for(var m in a){b.d(c,m,(function(b){return a[b];}).bind(null,m));}return c;};b.n=function(a){var c;c=a && a.__esModule?function(){return a["default"];}:function(){return a;};b.d(c,"a",c);return c;};b.mJb=function(a,b){return Object.prototype.hasOwnProperty.call(a,b);};b.p="";return b(b.eQb=534);})([function(d,b,a){function c(){c=Object.assign || (function(a){for(var b,f=1,c=arguments.length;f < c;f++){b=arguments[f];for(var h in b){Object.prototype.hasOwnProperty.call(b,h) && (a[h]=b[h]);}}return a;});return c.apply(this,arguments);}function h(a,b){h=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(a,b){a.__proto__=b;}) || (function(a,b){for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}});return h(a,b);}function l(a,b){function f(){this.constructor=a;}h(a,b);a.prototype=null === b?Object.create(b):(f.prototype=b.prototype,new f());}function m(a,b){var f,c,h;f={};for(c in a){Object.prototype.hasOwnProperty.call(a,c) && 0 > b.indexOf(c) && (f[c]=a[c]);}if(null != a && "function" === typeof Object.getOwnPropertySymbols){h=0;for(c=Object.getOwnPropertySymbols(a);h < c.length;h++){0 > b.indexOf(c[h]) && Object.prototype.propertyIsEnumerable.call(a,c[h]) && (f[c[h]]=a[c[h]]);}}return f;}function f(a,b,f,c){var h,k,q;h=arguments.length;k=3 > h?b:null === c?c=Object.getOwnPropertyDescriptor(b,f):c;if("object" === typeof Reflect && "function" === typeof Reflect.eA)k=Reflect.eA(a,b,f,c);else for(var m=a.length - 1;0 <= m;m--){if(q=a[m])k=(3 > h?q(k):3 < h?q(b,f,k):q(b,f)) || k;}return (3 < h && k && Object.defineProperty(b,f,k),k);}function k(a,b){return function(f,c){b(f,c,a);};}function q(a,b){if("object" === typeof Reflect && "function" === typeof Reflect.Td)return Reflect.Td(a,b);}function v(a,b,f,c){return new (f || (f=Promise))(function(h,k){function q(a){try{l(c.next(a));}catch(ua){k(ua);}}function m(a){try{l(c["throw"](a));}catch(ua){k(ua);}}function l(a){a.done?h(a.value):new f(function(b){b(a.value);}).then(q,m);}l((c=c.apply(a,b || [])).next());});}function r(a,b){var h,k,q,m,l;function f(a){return function(b){return c([a,b]);};}function c(f){if(k)throw new TypeError("Generator is already executing.");for(;h;){try{if((k=1,q && (m=f[0] & 2?q["return"]:f[0]?q["throw"] || ((m=q["return"]) && m.call(q),0):q.next) && !(m=m.call(q,f[1])).done))return m;if((q=0,m))f=[f[0] & 2,m.value];switch(f[0]){case 0:case 1:m=f;break;case 4:return (h.label++,{value:f[1],done:!1});case 5:h.label++;q=f[1];f=[0];continue;case 7:f=h.uF.pop();h.BG.pop();continue;default:if(!(m=h.BG,m=0 < m.length && m[m.length - 1]) && (6 === f[0] || 2 === f[0])){h=0;continue;}if(3 === f[0] && (!m || f[1] > m[0] && f[1] < m[3]))h.label=f[1];else if(6 === f[0] && h.label < m[1])(h.label=m[1],m=f);else if(m && h.label < m[2])(h.label=m[2],h.uF.push(f));else {m[2] && h.uF.pop();h.BG.pop();continue;}}f=b.call(a,h);}catch(ua){f=[6,ua];q=0;}finally{k=m=0;}}if(f[0] & 5)throw f[1];return {value:f[0]?f[1]:void 0,done:!0};}h={label:0,di:function(){if(m[0] & 1)throw m[1];return m[1];},BG:[],uF:[]};g();g();p();return (l={next:f(0),"throw":f(1),"return":f(2)},"function" === typeof Symbol && (l[Symbol.iterator]=function(){return this;}),l);}function u(a,b){for(var f in a){b.hasOwnProperty(f) || (b[f]=a[f]);}}function B(a){var b,f;g();g();p();b="function" === typeof Symbol && a[Symbol.iterator];f=0;return b?b.call(a):{next:function(){a && f >= a.length && (a=void 0);return {value:a && a[f++],done:!a};}};}function A(a,b){var f,c,h,k;g();g();p();f="function" === typeof Symbol && a[Symbol.iterator];if(!f)return a;a=f.call(a);h=[];try{for(;(void 0 === b || 0 < b--) && !(c=a.next()).done;){h.push(c.value);}}catch(Ca){k={error:Ca};}finally{try{c && !c.done && (f=a["return"]) && f.call(a);}finally{if(k)throw k.error;}}return h;}function y(){for(var a=[],b=0;b < arguments.length;b++){a=a.concat(A(arguments[b]));}return a;}function I(){for(var a=0,b=0,f=arguments.length;b < f;b++){a+=arguments[b].length;}for(var a=Array(a),c=0,b=0;b < f;b++){for(var h=arguments[b],k=0,q=h.length;k < q;(k++,c++)){a[c]=h[k];}}return a;}function J(a){return this instanceof J?(this.J7=a,this):new J(a);}function D(a,b,f){var l,r,v;function c(a){l[a] && (r[a]=function(b){return new Promise(function(f,c){1 < v.push([a,b,f,c]) || h(a,b);});});}function h(a,b){var f;try{f=l[a](b);f.value instanceof J?Promise.resolve(f.value.J7).then(k,q):m(v[0][2],f);}catch(ka){m(v[0][3],ka);}}function k(a){h("next",a);}function q(a){h("throw",a);}function m(a,b){(a(b),v.shift(),v.length) && h(v[0][0],v[0][1]);}g();if(!Symbol.v_)throw new TypeError("Symbol.asyncIterator is not defined.");l=f.apply(a,b || []);v=[];g();return (r={},c("next"),c("throw"),c("return"),r[Symbol.v_]=function(){return this;},r);}function U(a){var f,c;function b(b,h){f[b]=a[b]?function(f){return (c=!c)?{value:J(a[b](f)),done:"return" === b}:h?h(f):f;}:h;}g();p();return (f={},b("next"),b("throw",function(a){throw a;}),b("return"),f[Symbol.iterator]=function(){return this;},f);}function S(a){var c,h;function b(b){h[b]=a[b] && (function(c){return new Promise(function(h,k){c=a[b](c);f(h,k,c.done,c.value);});});}function f(a,b,f,c){Promise.resolve(c).then(function(b){a({value:b,done:f});},b);}g();if(!Symbol.v_)throw new TypeError("Symbol.asyncIterator is not defined.");g();c=a[Symbol.v_];g();p();g();return c?c.call(a):(a="function" === typeof B?B(a):a[Symbol.iterator](),h={},b("next"),b("throw"),b("return"),h[Symbol.v_]=function(){return this;},h);}function O(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a;}function Y(a){var b;if(a && a.__esModule)return a;b={};if(null != a)for(var f in a){Object.hasOwnProperty.call(a,f) && (b[f]=a[f]);}b["default"]=a;return b;}function n(a){return a && a.__esModule?a:{"default":a};}a.r(b);a.d(b,"__extends",function(){return l;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return f;});a.d(b,"__param",function(){return k;});a.d(b,"__metadata",function(){return q;});a.d(b,"__awaiter",function(){return v;});a.d(b,"__generator",function(){return r;});a.d(b,"__exportStar",function(){return u;});a.d(b,"__values",function(){return B;});a.d(b,"__read",function(){return A;});a.d(b,"__spread",function(){return y;});a.d(b,"__spreadArrays",function(){return I;});a.d(b,"__await",function(){return J;});a.d(b,"__asyncGenerator",function(){return D;});a.d(b,"__asyncDelegator",function(){return U;});a.d(b,"__asyncValues",function(){return S;});a.d(b,"__makeTemplateObject",function(){return O;});a.d(b,"__importStar",function(){return Y;});a.d(b,"__importDefault",function(){return n;});},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(39);b.n0b=d;d=a(537);b.gW=d.gW;d=a(74);b.jr=d.jr;b.Li=d.Li;b.Xv=d.Xv;d=a(553);b.mva=d.mva;b.Tc=d.Tc;d=a(554);b.O=d.O;d=a(555);b.L2a=d.L2a;d=a(556);b.CWa=d.CWa;d=a(289);b.l=d.l;b.w$=d.w$;d=a(557);b.optional=d.optional;d=a(558);b.Hi=d.Hi;d=a(559);b.lF=d.lF;d=a(560);b.jV=d.jV;d=a(561);b.YYa=d.YYa;d=a(287);b.gaa=d.gaa;d=a(101);b.id=d.id;d=a(86);b.eA=d.eA;d=a(292);b.I3a=d.I3a;b.M2a=d.M2a;b.DWa=d.DWa;b.O3a=d.O3a;d=a(129);b.pK=d.pK;a=a(562);b.zWa=a.zWa;},function(d,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.nr=b.C9=b.Hxa=b.B9=b.W8a=b.X8a=b.Gxa=b.Dxa=b.V8a=b.qAa=b.wX=b.gX=b.Fxa=b.K=b.L=void 0;(function(a){a[a.Wl=7001]="UNKNOWN";a[a.Xcb=7002]="UNHANDLED_EXCEPTION";a[a.S9a=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.Bya=7010]="INIT_ASYNCCOMPONENT";a[a.Rya=7011]="INIT_HTTP";a[a.O9a=7014]="INIT_BADMOVIEID";a[a.f$a=7016]="INIT_NETFLIXID_MISSING";a[a.e$a=7017]="INIT_NETFLIXID_INVALID";a[a.h$a=7018]="INIT_SECURENETFLIXID_MISSING";a[a.Sya=7020]="INIT_PLAYBACK_LOCK";a[a.Tya=7022]="INIT_SESSION_LOCK";a[a.g$a=7029]="INIT_POSTAUTHORIZE";a[a.Z_b=7031]="INIT_HEADER_MEDIA";a[a.M_b=7032]="HEADER_MISSING";a[a.L_b=7033]="HEADER_FRAGMENTS_MISSING";a[a.i$a=7034]="INIT_TIMEDTEXT_TRACK";a[a.$_b=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.a0b=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.Z7=7037]="ASE_SESSION_ERROR";a[a.C5a=7038]="ASE_SEEK_THREW";a[a.D5a=7039]="ASE_SKIPPED_THREW";a[a.b$a=7041]="INIT_CORE_OBJECTS1";a[a.c$a=7042]="INIT_CORE_OBJECTS2";a[a.d$a=7043]="INIT_CORE_OBJECTS3";a[a.W_b=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.Q_b=7052]="INIT_COMPONENT_FILESYSTEM";a[a.Kya=7053]="INIT_COMPONENT_STORAGE";a[a.Lya=7054]="INIT_COMPONENT_STORAGELOCK";a[a.R_b=7055]="INIT_COMPONENT_LOGPERSIST";a[a.S_b=7056]="INIT_COMPONENT_NRDDPI";a[a.U_b=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.Hya=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.h$=7059]="INIT_COMPONENT_DEVICE";a[a.T_b=7062]="INIT_COMPONENT_NTBA";a[a.Iya=7063]="INIT_COMPONENT_MSL";a[a.Q9a=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.Gya=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.Ty=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.V_b=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.P9a=7069]="INIT_COMPONENT_ACCOUNT";a[a.U9a=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.W9a=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.X9a=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.Y9a=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.Z9a=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.T9a=7081]="INIT_COMPONENT_NRDP";a[a.V9a=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.Qya=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.a$a=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.Y_b=7085]="INIT_CONGESTION_SERVICE";a[a.Fya=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.Mya=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.Dya=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.Cya=7089]="INIT_COMPONENT_ASE";a[a.X_b=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.eH=7091]="INIT_COMPONENT_DRM_CACHE";a[a.R9a=7092]="INIT_COMPONENT_DRM";a[a.$9a=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.Eya=7094]="INIT_COMPONENT_FTL";a[a.Jya=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.Nya=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.Oya=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.Pya=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.N5a=7112]="AUTHORIZE_UNKNOWN";a[a.J$a=7117]="MANIFEST_VERIFY";a[a.qcb=7120]="START";a[a.kX=7121]="LICENSE";a[a.dcb=7122]="SECURESTOP";a[a.JDa=7123]="STOP";a[a.x_b=7124]="FPSAPPDATA";a[a.s$=7125]="KEEPALIVE";a[a.qZb=7126]="DEACTIVATE";a[a.c3b=7127]="SYNC_DEACTIVATE_LINKS";a[a.mYb=7130]="ACTIVATE";a[a.fbb=7131]="PING";a[a.Q0b=7133]="NETFLIXID";a[a.Q8a=7134]="ENGAGE";a[a.H$a=7135]="LOGIN";a[a.xcb=7136]="SWITCH_PROFILES";a[a.G$a=7137]="LOGBLOB";a[a.Pab=7138]="PAUSE";a[a.Ubb=7139]="RESUME";a[a.HDa=7140]="SPLICE";a[a.DZb=7141]="DOWNLOAD_EVENT";a[a.i6a=7142]="BIND";a[a.Nab=7143]="PAIR";a[a.j6a=7144]="BIND_DEVICE";a[a.g9a=7145]="GENERATE_SCREENSHOTS";a[a.ibb=7202]="PLAY_INIT_EXCEPTION";a[a.m0b=7301]="MEDIA_DOWNLOAD";a[a.C1b=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.D1b=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.xBa=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.pbb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.yBa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.qbb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.Baa=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";a[a.E1b=7337]="PLAY_MSE_EME_KEY_STATUS_CHANGE_RELEASED";a[a.obb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";a[a.ABa=7351]="PLAY_MSE_NOTSUPPORTED";a[a.zBa=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.wBa=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.Caa=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.Eaa=7355]="PLAY_MSE_SOURCEADD";a[a.jbb=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.ubb=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.J1b=7358]="PLAY_MSE_PARSECHALLENGE";a[a.B1b=7359]="PLAY_MSE_ADDKEY";a[a.M1b=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.tbb=7361]="PLAY_MSE_EVENT_ERROR";a[a.Daa=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.LX=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.sbb=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.vbb=7365]="PLAY_MSE_GETCURRENTTIME";a[a.wbb=7367]="PLAY_MSE_SETCURRENTTIME";a[a.xbb=7371]="PLAY_MSE_SOURCEAPPEND";a[a.K1b=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.Bbb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.Abb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.zbb=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.L1b=7379]="PLAY_MSE_SOURCE_EOS";a[a.ybb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.I1b=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.kbb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.lbb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.mbb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.G1b=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.rbb=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.F1b=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.H1b=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.nbb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.BBa=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.S8a=7400]="EXTERNAL";a[a.KX=7500]="PAUSE_TIMEOUT";a[a.hX=7502]="INACTIVITY_TIMEOUT";a[a.M5a=7510]="AUTHORIZATION_EXPIRED";a[a.sZb=7520]="DECRYPT_AUDIO";a[a.FDa=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.ecb=7601]="SECURE_STOP_KEY_ERROR";a[a.H2b=7602]="SECURE_STOP_VIDEO_ERROR";a[a.r2b=7603]="SECURE_STOP_NCCP_ERROR";a[a.s2b=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.G2b=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.w2b=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.fcb=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.x2b=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.y2b=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.B2b=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.t2b=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.z2b=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.D2b=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.A2b=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.v2b=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.F2b=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.C2b=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.u2b=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.E2b=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.K8a=7700]="EME_INVALID_KEYSYSTEM";a[a.ixa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.r9=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.yW=7703]="EME_GENERATEREQUEST_FAILED";a[a.v9=7704]="EME_UPDATE_FAILED";a[a.PZb=7705]="EME_KEYSESSION_ERROR";a[a.mxa=7706]="EME_KEYMESSAGE_EMPTY";a[a.nxa=7707]="EME_REMOVE_FAILED";a[a.M8a=7708]="EME_LOAD_FAILED";a[a.H8a=7709]="EME_CREATE_SESSION_FAILED";a[a.t9=7710]="EME_LDL_RENEWAL_ERROR";a[a.jxa=7711]="EME_INVALID_INITDATA_DATA";a[a.kxa=7712]="EME_INVALID_LICENSE_DATA";a[a.L8a=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.RZb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.lxa=7715]="EME_INVALID_SECURESTOP_DATA";a[a.hxa=7716]="EME_CLOSE_FAILED";a[a.N8a=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";a[a.gbb=7800]="PLAYDATA_STORE_FAILURE";a[a.A1b=7801]="PLAYDATA_SEND_FAILURE";a[a.rN=7900]="BRANCH_PLAY_FAILURE";a[a.LG=7901]="BRANCH_QUEUE_FAILURE";a[a.tva=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.U0b=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.V0b=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.Wab=8100]="PBO_EVENTLOOKUP_FAILURE";a[a.zaa=8200]="PLAYGRAPH_ADD_MANIFEST";a[a.hbb=8201]="PLAYGRAPH_SEGMENT_NOT_READY";})(a=b.L || (b.L={}));(function(a){a[a.Wl=1001]="UNKNOWN";a[a.ii=1003]="EXCEPTION";a[a.l$a=1004]="INVALID_DI";a[a.G5a=1011]="ASYNCLOAD_EXCEPTION";a[a.H5a=1013]="ASYNCLOAD_TIMEOUT";a[a.nYb=1015]="ASYNCLOAD_BADCONFIG";a[a.E5a=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.F5a=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.YN=1101]="HTTP_UNKNOWN";a[a.c$=1102]="HTTP_XHR";a[a.VN=1103]="HTTP_PROTOCOL";a[a.UN=1104]="HTTP_OFFLINE";a[a.XN=1105]="HTTP_TIMEOUT";a[a.qC=1106]="HTTP_READTIMEOUT";a[a.Sy=1107]="HTTP_ABORT";a[a.nya=1108]="HTTP_PARSE";a[a.jya=1110]="HTTP_BAD_URL";a[a.WN=1111]="HTTP_PROXY";a[a.aAa=1203]="MSE_AUDIO";a[a.bAa=1204]="MSE_VIDEO";a[a.Y$a=1250]="MSE_MEDIA_ERR_BASE";a[a.r0b=1251]="MSE_MEDIA_ERR_ABORTED";a[a.u0b=1252]="MSE_MEDIA_ERR_NETWORK";a[a.s0b=1253]="MSE_MEDIA_ERR_DECODE";a[a.v0b=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.t0b=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.WG=1260]="EME_MEDIA_KEYERR_BASE";a[a.XZb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.SZb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.WZb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.VZb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.UZb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.TZb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.YZb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.J8a=1280]="EME_ERROR_NODRMSESSSION";a[a.I8a=1281]="EME_ERROR_NODRMREQUESTS";a[a.NZb=1282]="EME_ERROR_INDIV_FAILED";a[a.OZb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.P8a=1284]="EME_TIMEOUT_MESSAGE";a[a.O8a=1285]="EME_TIMEOUT_KEYCHANGE";a[a.u9=1286]="EME_UNDEFINED_DATA";a[a.VG=1287]="EME_INVALID_STATE";a[a.QZb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.s9=1289]="EME_EMPTY_DATA";a[a.LN=1290]="EME_TIMEOUT";a[a.K0b=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.N0b=1305]="NCCP_PARSEXML";a[a.Ebb=1309]="PROCESS_EXCEPTION";a[a.M0b=1311]="NCCP_NETFLIXID_MISSING";a[a.O0b=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.H0b=1313]="NCCP_HMAC_MISSING";a[a.G0b=1315]="NCCP_HMAC_MISMATCH";a[a.F0b=1317]="NCCP_HMAC_FAILED";a[a.E0b=1321]="NCCP_CLIENTTIME_MISSING";a[a.D0b=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.Yxa=1331]="GENERIC";a[a.pab=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.qab=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.P0b=1341]="NCCP_TRANSACTION";a[a.I0b=1343]="NCCP_INVALID_DRMTYPE";a[a.J0b=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.L0b=1345]="NCCP_MISSING_PAYLOAD";a[a.W1b=1346]="PROTOCOL_NOT_INITIALIZED";a[a.V1b=1347]="PROTOCOL_MISSING_FIELD";a[a.U1b=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.bz=1402]="STORAGE_NODATA";a[a.N2b=1403]="STORAGE_EXCEPTION";a[a.V2b=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.W2b=1407]="STORAGE_QUOTA_TO_SMALL";a[a.LDa=1411]="STORAGE_LOAD_ERROR";a[a.scb=1412]="STORAGE_LOAD_TIMEOUT";a[a.MDa=1414]="STORAGE_SAVE_ERROR";a[a.vcb=1415]="STORAGE_SAVE_TIMEOUT";a[a.Qba=1417]="STORAGE_DELETE_ERROR";a[a.KDa=1418]="STORAGE_DELETE_TIMEOUT";a[a.U2b=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.R2b=1423]="STORAGE_FS_GETDIRECTORY";a[a.T2b=1425]="STORAGE_FS_READENTRIES";a[a.O2b=1427]="STORAGE_FS_FILEREAD";a[a.Q2b=1429]="STORAGE_FS_FILEWRITE";a[a.P2b=1431]="STORAGE_FS_FILEREMOVE";a[a.S2b=1432]="STORAGE_FS_PARSEJSON";a[a.ucb=1451]="STORAGE_NO_LOCALSTORAGE";a[a.tcb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.a1b=1501]="NTBA_UNKNOWN";a[a.$0b=1502]="NTBA_EXCEPTION";a[a.W0b=1504]="NTBA_CRYPTO_KEY";a[a.Y0b=1506]="NTBA_CRYPTO_OPERATION";a[a.X0b=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.Z0b=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.Awa=1553]="DEVICE_NO_ESN";a[a.P8=1555]="DEVICE_ERROR_GETTING_ESN";a[a.$8a=1701]="FORMAT_UNKNOWN";a[a.Nxa=1713]="FORMAT_XML";a[a.a9a=1715]="FORMAT_XML_CONTENT";a[a.Z8a=1721]="FORMAT_BASE64";a[a.EW=1723]="FORMAT_DFXP";a[a.A9a=1801]="INDEXDB_OPEN_EXCEPTION";a[a.zya=1802]="INDEXDB_NOT_SUPPORTED";a[a.z9a=1803]="INDEXDB_OPEN_ERROR";a[a.Aya=1804]="INDEXDB_OPEN_NULL";a[a.y9a=1805]="INDEXDB_OPEN_BLOCKED";a[a.B9a=1807]="INDEXDB_OPEN_TIMEOUT";a[a.x9a=1808]="INDEXDB_INVALID_STORE_STATE";a[a.iX=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.hab=1901]="MSL_UNKNOWN";a[a.aab=1911]="MSL_INIT_NO_MSL";a[a.dAa=1913]="MSL_INIT_ERROR";a[a.bab=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.Z$a=1931]="MSL_ERROR";a[a.gab=1933]="MSL_REQUEST_TIMEOUT";a[a.fab=1934]="MSL_READ_TIMEOUT";a[a.$$a=1935]="MSL_ERROR_HEADER";a[a.w0b=1936]="MSL_ERROR_ENVELOPE";a[a.x0b=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.cAa=1957]="MSL_ERROR_REAUTH";a[a.zca=2103]="WEBCRYPTO_MISSING";a[a.gdb=2105]="WEBCRYPTOKEYS_MISSING";a[a.hdb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.YYb=2200]="CACHEDDATA_PARSEJSON";a[a.Jva=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.ZYb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.Py=2203]="CACHEDDATA_INVALID_FORMAT";a[a.kYb=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.lYb=3001]="ACCOUNT_INVALID";a[a.CZb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.BZb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.zZb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.AZb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.yZb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.X2b=3300]="STORAGE_VA_LOAD_ERROR";a[a.Y2b=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.a3b=3302]="STORAGE_VA_SAVE_ERROR";a[a.b3b=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.Z2b=3304]="STORAGE_VA_REMOVE_ERROR";a[a.$2b=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.waa=3077]="PBO_DEVICE_EOL_WARNING";a[a.pBa=3078]="PBO_DEVICE_EOL_FINAL";a[a.sBa=3100]="PBO_DEVICE_RESET";a[a.rBa=3101]="PBO_DEVICE_RELOAD";a[a.qBa=3102]="PBO_DEVICE_EXIT";a[a.dbb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.Qab=5005]="PBO_ACCOUNT_ON_HOLD";a[a.Vab=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.tBa=5007]="PBO_INCORRECT_PIN";a[a.bbb=5008]="PBO_MOBILE_ONLY";a[a.ebb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";a[a.Yab=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.Sab=5059]="PBO_BLACKLISTED_IP";a[a.Rab=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.Uab=5080]="PBO_CHOICE_MAP_ERROR";a[a.cbb=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.$ab=5091]="PBO_MALFORMED_REQUEST";a[a.Zab=5092]="PBO_INVALID_SERVICE_VERSION";a[a.abb=5093]="PBO_MDX_INVALID_CTICKET";a[a.Xab=5094]="PBO_FREE_PREVIEW_ENDED";a[a.z7a=5100]="DECODER_TIMEOUT_BUFFERING";a[a.B7a=5101]="DECODER_TIMEOUT_PRESENTING";a[a.A7a=5102]="DECODER_TIMEOUT_PLAYING";a[a.r8a=5200]="DOWNLOADER_IO_ERROR";a[a.sva=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.n6a=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.BYb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.p8=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.k6a=5304]="BRANCHING_ASE_FAILURE";a[a.yYb=5305]="BRANCHING_MOMENT_FAILURE";a[a.l6a=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.AYb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.o6a=5308]="BRANCHING_SEEK_THREW";a[a.zYb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.m6a=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.p6a=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.q6a=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";a[a.x5a=5400]="ADD_MANIFEST_STREAMING_SESSION_ERROR";a[a.w5a=5401]="ADD_MANIFEST_NO_STREAMING_SESSION";a[a.wcb=5500]="STUDIO_MUXED_MANIFEST";})(c=b.K || (b.K={}));(function(a){a[a.MYb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.CYb=5005]="BR_ACCOUNT_ON_HOLD";a[a.GYb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.JYb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.FYb=5059]="BR_BLACKLISTED_IP";a[a.DYb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.KYb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.HYb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.LYb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.IYb=2207]="BR_ENDPOINT_ERROR";a[a.EYb=2208]="BR_AUTHORIZATION_ERROR";})(b.Fxa || (b.Fxa={}));b.gX={x6a:"400",x3b:"401",FBa:"413"};b.wX={v_b:1,q3b:2,a_b:3,w3b:4,f0b:5,$Zb:6,sca:7,c_b:8,j2b:9,K2b:10};(function(a){a[a.x1b=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.y1b=98]="PAIRING_UNKNOWN_ERROR";})(b.qAa || (b.qAa={}));b.V8a=function(a){return 7100 <= a && 7200 > a;};b.Dxa=function(b){return b == a.KX || b == a.hX;};b.Gxa=function(a){return 1100 <= a && 1199 >= a;};b.X8a=function(a){return 1300 <= a && 1399 >= a;};b.W8a=function(a){return 1900 <= a && 1999 >= a;};b.B9=function(a,b){return 1 <= a && 9 >= a?b + a:b;};b.Hxa=function(a){return b.B9(a,c.Y$a);};b.C9=function(a){return b.B9(a,c.WG);};b.nr=function(a){var b,m,f;b={};m=a.errorExternalCode || a.Oe;f=a.errorDetails || a.Ab;b.ErrorSubCode=a.errorSubCode || a.ka || c.Wl;m && (b.ErrorExternalCode=m);f && (b.ErrorDetails=f);return b;};},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b["default"]={lS:function(a){for(var b in a){a.hasOwnProperty(b) && (this[b]=a[b]);}},reset:function(){}};},function(d,b,a){var l;function c(a){return l.BO.apply(this,arguments) || this;}function h(a){return new l.pr(a,b.ga);}Object.defineProperty(b,"__esModule",{value:!0});b.nb=b.uya=b.haa=b.Ym=b.ga=b.BC=b.timestamp=b.ZBb=b.D4=b.ah=b.Nb=b.bZa=b.vHb=b.Ncb=void 0;l=a(293);L(c,l.BO);b.Ncb=c;b.vHb=function(a){return new l.pr(a,b.BC);};b.bZa=function(a){return new l.pr(a * b.Ym.Gf,b.BC);};b.Nb=h;b.ah=function(a){return new l.pr(a,b.Ym);};b.D4=function(a){return new l.pr(a,b.haa);};b.ZBb=function(a){return new l.pr(a,b.uya);};b.timestamp=function(a){return h(a);};b.BC=new c(1,"\u03bcs");b.ga=new c(1E3,"ms",b.BC);b.Ym=new c(1E3 * b.ga.Gf,"s",b.BC);b.haa=new c(60 * b.Ym.Gf,"min",b.BC);b.uya=new c(60 * b.haa.Gf,"hr",b.BC);b.nb=h(0);},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(0);h=a(141);l=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);return b;})(Error);b.assert=function(a,b){if(!a)try{throw new l(b || "Assertion failed");}catch(k){throw (h.Tl.G.error("Assertion failed",{value:a,message:b,stack:k.stack}),k);}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.JN=b.zb=b.E$=b.Ni=void 0;d=b.Ni || (b.Ni={});d[d.Y8a=0]="FATAL";d[d.ERROR=1]="ERROR";d[d.yca=2]="WARN";d[d.g$=3]="INFO";d[d.EEa=4]="TRACE";d[d.ma=5]="DEBUG";b.E$="LogFieldBuilderFactorySymbol";b.zb="LoggerFactorySymbol";b.JN={};},function(d,b,a){var c,h,l,m,f,k,q,v,r;Object.defineProperty(b,"__esModule",{value:!0});b.ha=b.ECa=b.ER=b.Ch=b.Bh=b.log=b.Af=b.jK=b.zEa=b.rKa=b.jq=b.Mz=b.oc=b.xlb=b.aga=b.vlb=b.wlb=b.mi=b.aN=b.zV=b.eh=b.Ea=b.ta=void 0;c=a(286);d=a(6);h=a(30);l=a(104);m=a(102);f=a(41);k=a(26);q=a(116);v=a(35);r=a(42);b.ta=c.ae.get(v.hh);b.Ea=c.ae.get(r.ph);b.eh=c.ae.get(l.gz);b.zV=b.eh.encode.bind(b.eh);b.aN=b.eh.decode.bind(b.eh);b.mi=c.ae.get(m.Oy);b.wlb=b.mi.encode.bind(b.mi);b.vlb=b.mi.decode.bind(b.mi);b.aga=b.mi.zR.bind(b.mi);b.xlb=b.mi.s3a.bind(b.mi);b.oc=c.ae.get(f.Ki);b.Mz=function(a){a=k.te(a)?b.aN(a):a;return b.oc.encode(a);};b.jq=b.oc.decode.bind(b.oc);b.rKa=function(a){return b.zV(b.jq(a));};b.zEa=a(1197);b.jK=function(){return c.ae.get(h.mC);};b.Af=c.ae.get(d.zb);b.log=b.Af.wb("General");b.Bh=function(a,f){return b.Af.wb(a,void 0,f);};b.Ch=function(a,f,c){return b.Af.wb(f,a,c);};b.ER=function(a,f,c,k){return b.Af.wb(a,void 0,k,f,c);};b.ECa=function(a,b,f){return c.ae.get(q.JC)(a,b,f).tta();};b.ha=c.ae;},function(d){var b;b={qa:function(a){return "number" === typeof a;},zf:function(a){return "object" === typeof a;},te:function(a){return "string" === typeof a;},Y:function(a){return "undefined" === typeof a;},K6b:function(a){return "boolean" === typeof a;},vc:function(a){return "function" === typeof a;},ab:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,b){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,b);},NKb:function(a){var c,h;h=[];if(!b.zf(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && h.push([c,a[c]]);}return h;}};b.oe=b.forEach=function(a,c,h){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var l=0,m=a.length;l < m;l++){c.call(h,a[l],l,a);}else for(l in a){b.has(a,l) && c.call(h,a[l],l,a);}return a;};d.exports=b;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mO=b.Zxa=b.wFa=void 0;d=a(0);d.__exportStar(a(835),b);d.__exportStar(a(108),b);d.__exportStar(a(21),b);d.__exportStar(a(837),b);d.__exportStar(a(838),b);d.__exportStar(a(839),b);d.__exportStar(a(840),b);d.__exportStar(a(841),b);d.__exportStar(a(842),b);d.__exportStar(a(843),b);c=d.__importDefault(a(844));b.wFa=c["default"];c=d.__importDefault(a(845));b.Zxa=c["default"];a=d.__importDefault(a(389));b.mO=a["default"];},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fna=b.localStorage=b.GCb=b.indexedDB=b.BX=b.Vo=b.Qv=b.pH=b.qH=b.URL=b.EX=b.CX=b.pAa=b.qX=b.xC=b.yC=b.ko=b.Um=b.ki=b.V$=b.Nv=b.wEa=b.RG=b.IC=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.Jw=b.sab=b.Ke=b.It=b.Jt=b.DX=b.Wm=b.Se=void 0;d=ja;b.Se=d.navigator;b.Wm=null === b.Se || void 0 === b.Se?void 0:b.Se.userAgent;b.DX=d.location;b.Jt=d.screen;b.It=d.performance;b.Ke=d.document;b.sab=b.Ke.documentElement;b.Jw=Array.prototype;b.sort=b.Jw.sort;b.map=b.Jw.map;b.slice=b.Jw.slice;b.every=b.Jw.every;b.reduce=b.Jw.reduce;b.filter=b.Jw.filter;b.forEach=b.Jw.forEach;b.pop=b.Jw.pop;b.IC=Object.create;b.RG=Date.now;b.wEa=String.fromCharCode;b.Nv=Math.floor;b.V$=Math.ceil;b.ki=Math.round;b.Um=Math.max;b.ko=Math.min;b.yC=Math.random;b.xC=Math.abs;b.qX=Math.pow;b.pAa=Math.sqrt;b.CX=d.escape;b.EX=d.unescape;b.URL=d.URL || d.webkitURL;b.qH=d.MediaSource || d.WebKitMediaSource;b.pH=d.WebKitMediaKeys || d.MSMediaKeys || d.MediaKeys;b.Qv=d.nfCrypto || d.webkitCrypto || d.msCrypto || d.crypto;b.Vo=b.Qv && (b.Qv.webkitSubtle || b.Qv.subtle);b.BX=d.nfCryptokeys || d.webkitCryptokeys || d.msCryptokeys || d.cryptokeys;try{b.indexedDB=d.indexedDB;}catch(a){b.GCb=a || "noex";}try{b.localStorage=d.localStorage;}catch(a){b.Fna=a || "noex";}},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kH=b.oX=b.H6a=b.C6a=b.E6a=b.F6a=b.Cva=b.B6a=b.D6a=b.Bva=b.G6a=b.N6a=b.L6a=b.M6a=b.K6a=b.D8a=b.C8a=b.bxa=b.N$a=b.O$a=b.Ft=b.Yza=b.Zza=b.vC=b.dxa=b.E8a=b.n9=b.xW=b.Fab=b.mcb=b.Uza=b.w6a=b.xwa=b.IX=b.HC=b.HX=b.Tza=b.Mv=b.v6a=b.rva=b.B$a=b.bdb=b.M$a=b.L$a=b.ccb=b.bcb=b.$j=b.ke=b.mDa=b.mh=void 0;b.Hba=void 0;b.mh=function(){};b.mDa=function(){return !0;};b.ke={ja:!0};b.$j=1E3;b.bcb=86400;b.ccb=604800;b.L$a=1E4;b.M$a=1E7;b.bdb=1.5;b.B$a=.128;b.rva=7.8125;b.v6a=128;b.Mv=145152E5;b.Tza=1E5;b.HX="$netflix$player$order";b.HC=-1;b.IX=1;b.xwa=["en-US"];b.w6a=8;b.Uza=65535;b.mcb=65536;b.Fab=Number.MAX_VALUE;b.xW="playready";b.n9="widevine";b.E8a="fps";b.dxa="clearkey";b.vC='audio/mp4; codecs="mp4a.40.5"';b.Zza='audio/mp4; codecs="mp4a.40.42"';b.Yza='audio/mp4; codecs="mp4a.a6"';b.Ft='video/mp4; codecs="avc1.640028"';b.O$a='video/mp4; codecs="hev1.2.6.L153.B0"';b.N$a='video/mp4; codecs="dvhe.01000000"';b.bxa="9A04F079-9840-4286-AB92-E65BE0885F95";b.C8a="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.D8a="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.K6a=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.M6a="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.L6a="4E657466-6C69-7846-7261-6D6552617465";b.N6a="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.G6a="mp4a";b.Bva="enca";b.D6a="ec-3";b.B6a="avc1";b.Cva="encv";b.F6a="hvcC";b.E6a="hev1";b.C6a="dvhe";b.H6a="vp09";b.oX=0;b.kH=1;b.Hba="position:relative;width:100%;height:100%;overflow:hidden";},function(d,b,a){var l,m,f,k,q,v,r,u,B,A,y,I,J,g,U,S,O,Y;function c(a){return (a=b.config.Lta[h(a)])?a:{};}function h(a){if(a)return 0 <= a.indexOf("billboard")?"billboard":0 <= a.toLowerCase().indexOf("preplay")?"preplay":0 <= a.indexOf("embedded")?"embedded":0 <= a.indexOf("content-sampling")?"content-sampling":0 <= a.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= a.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= a.indexOf("standard")?"standard":0 <= a.indexOf("branching")?"branching":a;}Object.defineProperty(b,"__esModule",{value:!0});b.mob=b.nob=b.oha=b.c0=b.d0=b.gMa=b.lob=b.hMa=b.nha=b.config=void 0;l=a(11);m=a(45);f=a(7);k=a(36);q=a(18);a(26);v=a(30);r=a(56);u=a(23);a(6);B=a(10);A=a(15);y=a(169);I=a(51);J=a(77);g=a(130);U=a(47);S=a(4);O=a(31);Y=a(19);b.hMa=function(a,c){var Va,Na,Ka,F,lb,ab,ia,L,qc;function h(a,b){u.Rd(a,function(a,f){A.vc(f)?b[a]=f.call(void 0,b[a]):A.zf(f) && (b[a]=b[a] || ({}),h(f,b[a]));});}function d(a,b,f,c){for(var k=[],m=3;m < arguments.length;++m){k[m - 3]=arguments[m];}return function(c){A.ic(c) && (f=c);q.fb(A.vc(a));return a.apply(void 0,[].concat([b,f],X(k)));};}function D(a){a=a.toLowerCase();F.hasOwnProperty(a) && (Ka[a]=F[a],lb[a]=F[a]);return a;}function n(a,b,c){var k;a=a.toLowerCase();if(Ka.hasOwnProperty(a)){k=Ka[a];try{k=c?c(k):k;}catch(Mb){k=void 0;}if(void 0 !== k)return k;q.fb(!1);f.log.error("Invalid configuration value. Name: " + a);}return b;}function p(a,b,f,c){return n(a,b,function(a){A.te(a) && (a=u.de(a));if(A.ETa(a,f,c))return a;});}function E(a,b,f,c){return n(a,b,function(a){A.te(a) && (a=u.de(a));if(A.Fx(a,f,c))return a;});}function da(a,b,f,c){return n(a,b,function(a){A.te(a) && (a=parseFloat(a));if(A.qa(a,f,c))return a;});}function t(a,b,f){return n(a,b,function(a){if(f?f.test(a):A.te(a))return a;});}function Q(a,b){return n(a,b,function(a){if("true" == a || !0 === a)return !0;if("false" == a || !1 === a)return !1;});}function ua(a,b){return n(a,b,function(a){if(A.te(a))return JSON.parse(B.EX(a));if(A.zf(a))return a;});}function Ma(a,b,f,c,k,q){var m;a=a.toLowerCase();Ka.hasOwnProperty(a) && (m=Ka[a]);if(!A.ic(m))return b;if(A.te(m))if(m[0] !== f)m=c(m);else try{m=JSON.parse(B.EX(m));}catch(sb){m=void 0;}if(void 0 === m)return b;for(a=0;a < k.length;a++){if(!k[a](m))return b;}return q?q(m):m;}function Ja(a,b,f,c,k){return Ma(a,b,"[",function(a){a=a.split("|");for(var b=a.length;b--;){a[b]=u.de(a[b]);}return a;},[function(a){return A.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b--;){if(!A.Fx(a[b],f,c))return !1;}return !0;},function(a){return void 0 === k || a.length >= k;}]);}function Ga(a,b){return Ma(a,b,"[",function(a){a=A.isArray(a)?a:a.split("|");for(var b=a.length;b--;){try{a[b]=JSON.parse(B.EX(a[b]));}catch(Mb){a=void 0;break;}}return a;},[function(a){return A.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b--;){if(!A.ic(a[b]) || !A.zf(a[b]))return !1;}return !0;}]);}function ka(a,b,f,c){return Ma(a,b,"[",function(a){return A.isArray(a)?a:a.split("|");},[function(a){return A.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b--;){if(f?!f.test(a[b]):!A.Gx(a[b]))return !1;}return !0;},function(a){return void 0 === c || a.length >= c;}]);}function Qa(a,b,f){return Ma(a,b,"{",function(a){var b,c,k;b={};a=a.split(";");for(var f=a.length;f--;){c=a[f];k=c.indexOf(":");if(0 >= k)return;b[c.substring(0,k)]=c.substring(k + 1);}return b;},[function(a){return A.zf(a) && 0 < Object.keys(a).length;},function(a){if(f)for(var b in a){if(!f.test(a[b]))return !1;}return !0;}],function(a){var f;f={};u.Hb(f,b);u.Hb(f,a);return f;});}function Ua(a){var b;b=[];u.Rd(a,function(a,f){var c;try{c="videoapp" === a.toLowerCase()?"[object object]":JSON.stringify(f);}catch(Ce){c="cantparse";}b.push(a + "=" + c);});return b.join("\n");}Va=/^[0-9]+[%]?$/;Na=/^[0-9]*$/;lb={};ab=f.ha.get(k.Ul);ia=f.ha.get(g.xH);(function(b){function c(a){a.split(",").forEach(function(a){var b;b=a.indexOf("=");0 < b && (Ka[a.substring(0,b).toLowerCase()]=a.substring(b + 1));});}Ka={};u.Hb(Ka,b);a && a.length && B.forEach.call(a,function(a){A.te(a)?c(a):A.zf(a) && u.Hb(Ka,a,{$K:!0});});F=u.Hb({},m.l2(),{$K:!0});if(b=m.JZa().cadmiumconfig)(f.log.info("Config cookie loaded",b),c(b));if(f.ha.get(O.vj).Zjb || Ka.istestaccount)(u.Hb(Ka,F),lb=F);"clearkey" != t("drmType") || Ka.keysystemid || (Ka.keysystemid=(ja.WebKitMediaKeys || HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"") + "org.w3.clearkey");})(c);b.config={};L={zub:d(Q,D("enableXHEAAC"),!1),sOa:d(Q,D("enableDDPlus20"),!0),rOa:d(Q,D("enableDDPlus"),!0),hR:d(Q,D("enableDDPlusAtmos"),!1),hub:d(Q,D("enableLSSDH"),!0),cub:d(Q,D("enableHEVC"),!1),SXa:d(Q,D("overrideEnableHEVC"),!1),Oia:d(Q,D("enableHDR"),!1),RXa:d(Q,D("overrideEnableHDR"),!1),QXa:d(Q,D("overrideEnableDV"),!1),Y0:d(Q,D("enableAVCHigh"),ia.Y0),BT:d(Q,D("overrideEnableAVCHigh"),ia.BT),xub:d(Q,D("enableVP9"),!1),TXa:d(Q,D("overrideEnableVP9"),!1),Xtb:d(Q,D("enableAV1"),!1),PXa:d(Q,D("overrideEnableAV1"),!1),nub:d(Q,D("enablePRK"),!1),aub:d(Q,D("enableDV"),!1),dub:d(Q,D("enableHWDRM"),!1),fub:d(Q,D("enableImageSubs"),!0),fJ:d(ka,D("audioProfiles"),ia.fJ),s5b:d(Q,D("disableHD"),!1),wub:d(Q,D("enableUHD"),!0),N7:d(E,"videoCapabilityDetectorType",v.Xl.lC),Nfa:d(E,"audioCapabilityDetectorType",v.Ny.lC),XB:d(ka,D("videoProfiles"),ia.XB),xib:d(ka,D("timedTextProfiles"),ia.sv),sv:function(){return L.xib().filter(function(a){return a === r.Vl.Q8?L.hub():a === r.Vl.oH?L.fub():!0;});},endpoint:d(Q,D("endpoint"),!1),version:d(t,"version","unknown"),g1a:d(Q,D("setMediaKeysEarly"),!1),a8b:d(Q,D("nrdpPersistCookiesToIndexDB"),!1),ktb:d(Q,D("doNotPerformLdlOnPlaybackCreate"),!1),ltb:d(Q,D("doNotPerformLdlOnPlaybackStart"),!1),x4a:d(Q,D("useHdcpLevelOnCast"),!1),eub:d(Q,D("enableHdcp"),!1),Ms:d(Q,D("prepareCadmium"),!1),Xib:d(Q,D("acceptManifestOnPrepareItemParams"),!0),ZYa:d(ua,"ppmconfig",{maxNumberTitlesScheduled:1}),bMb:d(Q,D("playerPredictionModelV2"),!0),UJ:d(Q,D("enableLdlPrefetch"),!1),iR:d(Q,D("enableGetHeadersAndMediaPrefetch"),!1),rsb:d(Q,D("deleteCachedManifestOnPlayback"),!1),wsb:d(Q,D("deleteOtherManifestCacheOnCreate"),!1),usb:d(Q,D("deleteOtherLdlCacheOnCreate"),!1),t8b:d(E,D("periodicPrepareLogsIntervalMilliseconds"),36E5),LMb:d(E,D("prepareManifestCacheMaxCount"),50),JMb:d(E,D("prepareLdlCacheMaxCount"),30),eZa:d(E,D("prepareManifestExpiryMilliseconds"),12E5),KMb:d(E,D("prepareLdlExpiryMilliseconds"),78E4),EMb:d(E,D("prefetcherMaxWishlistSize"),1),DMb:d(E,D("prefetcherBudgetInBytes"),Infinity),FMb:d(Q,D("prefetcherOverrideItemPriority"),!0),HMb:d(Q,D("prefetcherRemoveItemOnManifestExpiration"),!0),xMb:d(Q,D("preferManifestFromPrefetcher"),!1),IMb:d(t,D("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),V9b:d(ua,"videoApp"),JB:d(ua,"storageRules"),Pwb:d(Q,"ftlEnabled",!0),fma:d(E,D("imageSubsResolution"),0),sCb:d(E,D("imageSubsMaxBuffer"),ia.NGb.ca(U.vt),0),zQ:d(Q,D("captureBatteryStatus"),!1),vxb:d(E,D("getBatteryApiTimeoutMilliseconds"),5E3),De:d(t,D("keySystemId"),ia.De),jUa:d(ka,D("keySystemList"),void 0,void 0),zHb:d(E,D("hdcpGlobalTimeout1"),1E4),AHb:d(E,D("hdcpGlobalTimeout2"),1E4),D7b:d(E,D("hdcpQueryTimeout1"),1E3),E7b:d(E,D("hdcpQueryTimeout2"),1E3),BHb:d(E,D("hdcpQueryTimeout2"),100),CHb:d(Q,D("microsoftHwdrmRequiresHevc"),!1),wHb:d(Q,D("microsoftEnableDeviceInfo"),!1),xHb:d(Q,D("microsoftEnableHardwareInfo"),!1),yHb:d(Q,D("microsoftEnableHardwareReset"),!1),QWb:d(Q,D("useHevcCodecForDolbyVision"),!1),kub:d(Q,D("enableMediaCapabilities"),!1),qMb:d(Q,D("powerEfficientForVideo"),!1),PFb:d(Q,"logMediaPipelineStatus",!1),cU:d(Q,D("renderDomDiagnostics"),!0),NUa:function(){return -1;},ZK:d(p,D("logDisplayMaxEntryCount"),ia.ZK,-1),VFb:d(p,D("logToConsoleLevel"),-1),y4b:d(p,D("bladerunnerCmdHistorySize"),10),qu:function(){return ab.qu;},HWb:d(Q,"upgradeNetflixId",!0),Kna:d(Q,"logErrorIfEsnNotProvided",!0),Xia:d(Q,"enforceSinglePlayback",ia.Xia),b1:d(Q,"enforceSingleSession",ia.b1),aha:d(Q,"closeOtherPlaybacks",!0),Lkb:d(E,"asyncLoadTimeout",15E3,1),dGb:d(E,"mainThreadMonitorPollRate",0),$7b:d(Q,"nrdpAlwaysShowUIOverlay",!1),b8b:d(Q,"nrdpValidateSSOTokens",!0),c9b:d(Q,"showNrdpDebugBadging",!1),Q7:function(){return ab.Q7;},HA:function(){return ab.HA;},nJ:function(){return ab.nJ;},DG:function(){return ab.DG;},M4a:d(E,D("verbosePlaybackInfoDenominator"),0),V5:d(Q,"renderTimedText",!0),rMb:d(Q,"preBufferTimedText",!0),svb:d(Q,"fatalOnTimedTextLoadError",!0),i3a:d(Qa,"timedTextStyleDefaults",{}),qta:d(Qa,"timedTextStyleOverrides",{}),pta:d(Qa,"timedTextFontFamilyMapping",ia.pta || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),j3a:d(E,D("timedTextTimeOverride"),0),TM:d(E,"timedTextSimpleFallbackThreshold",ia.TM.ca(U.vt)),Uha:d(t,D("customDfxpUrl")),vub:d(Q,D("enableSubtitleTrackerLogging"),!1),$Qb:d(Q,D("sendSubtitleQoeLogblobOnMidplay"),!1),Gga:d(Ja,"cdnIdWhiteList",[]),Fga:d(Ja,"cdnIdBlackList",[]),Mja:d(t,D("forceAudioTrack")),nIb:d(Q,"muteVolumeOnPlaybackClose",!0),c8b:d(t,"nrdpVolumeControlType","VOLUME_STREAM"),Pja:d(t,D("forceTimedTextTrack")),TGb:d(E,D("maxRetriesTimedTextDownload"),0),OUb:d(E,D("timedTextRetryInterval"),8E3),yTb:d(t,"storageType","idb",/^(none|fs|idb|ls)$/),KUa:d(E,"lockExpiration",1E4),NFb:d(E,"lockRefresh",3E3),Omb:d(Q,"captureUnhandledExceptions",!0),rCb:d(Q,"ignoreUnhandledExceptionDuringPlayback",!0),VVb:d(Q,"unhandledExceptionsArePlaybackErrors",!1),T3a:d(t,"unhandledExceptionSource",""),XMb:d(Q,"preserveLastFrame",!1),MHb:d(E,"minBufferingTimeInMilliseconds",4E3),qNb:d(E,"progressBackwardsGraceTimeMilliseconds",4E3),rNb:d(E,"progressBackwardsMinPercent",10),Jlb:d(t,D("bookmarkIgnoreBeginning"),"0",Va),Klb:d(t,D("bookmarkIgnoreEnd"),"5%",Va),Llb:d(t,D("bookmarkIgnoreEndForBranching"),"60000",Va),eL:d(E,"maxParallelConnections",3),kra:d(Q,"reportThroughputInLogblobs",!0),lL:d(E,"minAudioMediaRequestDuration",16E3),KHb:d(E,"minAudioMediaRequestDurationBranching",0),qL:d(E,"minVideoMediaRequestDuration",4E3),QHb:d(E,"minVideoMediaRequestDurationAL1",0),RHb:d(E,"minVideoMediaRequestDurationBranching",0),v4:d(E,"minAudioMediaRequestSizeBytes",0),B4:d(E,"minVideoMediaRequestSizeBytes",0),Gtb:d(Q,"droppedFrameRateFilterEnabled",!1),Htb:d(E,"droppedFrameRateFilterMaxObservation",60,10,1E3),Jtb:d(function(a,b,f,c,k,q){return Ma(a,b,"[",function(a){a=a.split(";");for(var b=a.length;b--;){a[b]=a[b].split("|");for(var f=a[b].length;f--;){a[b][f]=u.de(a[b][f]);}}return a;},[function(a){return A.isArray(a) && 0 < a.length;},function(a){for(var b=a.length;b-- && void 0 !== a;){if(!A.isArray(a[b]))return !1;for(var k=a[b].length;k--;){if(!A.Fx(a[b][k],f,c))return !1;}}return !0;},function(a){if(void 0 !== k)for(var b=a.length;b--;){if(k !== a[b].length)return !1;}return !0;},function(a){return void 0 === q || a.length >= q;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),B5b:d(Q,"droppedFrameRateFilterWithoutRebufferEnabled",!0),Itb:d(E,"droppedFrameRateFilterMinHeight",384),Ktb:d(Ja,"droppedFramesPercentilesList",[]),DHb:d(Q,"microsoftScreenSizeFilterEnabled",!1),AEb:d(Q,"keyStatusFilterEnabled",!1),BSa:d(E,"hdcpEngagementWaitTime",0),RVb:d(Q,"uiLabelFilterEnabled",!0),QVb:d(ua,"uiLabelFilter",{}),jsb:d(E,D("defaultVolume"),100,0,100),moa:d(E,D("maxPlaybackRate"),2,0,16),GNa:d(Q,"disableVideoRightClickMenu",!1),x4:d(E,"minDecoderBufferMilliseconds",1E3,0,l.Mv),vF:d(E,"optimalDecoderBufferMilliseconds",5E3,0,l.Mv),GXa:d(E,"optimalDecoderBufferMillisecondsBranching",3E3,0,l.Mv),Tu:d(E,"minimumTimeBeforeBranchDecision",3E3,0,l.Mv),$A:d(E,"maxDecoderBufferMilliseconds",ia.$A.ca(S.ga),0,l.Mv),iNa:d(E,"decoderTimeoutMilliseconds",1E4,1),RWa:d(E,"noRenderTimeoutMilliseconds",0),atb:d(Q,"disgardMediaOnAppend",!1),hkb:d(Q,"appendMediaBeforeInit",!1),hLb:d(E,"pauseTimeoutLimitMilliseconds",18E5),jma:d(E,"inactivityMonitorInterval",3E4,0),Wib:d(Ja,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),VJ:d(Q,"enableTrickPlay",!1),Mjb:d(Ja,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),AVb:d(E,"trickPlayHighResolutionBitrateThreshold",1E3),BVb:d(E,"trickPlayHighResolutionThresholdMilliseconds",1E4),EVb:d(da,"trickplayBufferFactor",.5),zVb:d(E,"trickPlayDownloadRetryCount",1),eoa:d(t,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),Yoa:d(t,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),tya:d(ua,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),DVa:d(p,"maxIQRSamples",Infinity),hWa:d(p,"minIQRSamples",5),D4a:d(Q,"useResourceTimingAPI",!1),pCb:d(Q,"ignoreFirstByte",!0),lHb:d(Q,"mediaRequestAsyncLoadStart",!0),ZWb:d(Q,"useXHROnLoadStart",!1),pja:d(Ja,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),f0:d(E,"connectTimeoutMilliseconds",8E3,500),cpa:d(E,"noProgressTimeoutMilliseconds",8E3,500),UWb:d(Q,"useOnLineApi",!1),h3a:d(E,"timedTextDownloadRetryCountBeforeCdnSwitch",3),S7b:d(E,"netflixRequestExpiryTimeout",0),OXb:d(Q,"webkitDecodedFrameCountIncorrectlyReported",!1),HQb:d(E,"seekBackOnAudioTrackChangeMilliseconds",8E3),nYa:d(Q,"pausePlaybackOnAudioSwitch",!0),ata:d(ka,D("supportedAudioTrackTypes"),[],void 0,1),lTa:d(E,"initialLogFlushTimeout",5E3),PYa:d(t,"playdataPersistKey",ab.qu?"unsentplaydatatest":"unsentplaydata"),dsa:d(Q,"sendPersistedPlaydata",!0),ZLb:d(E,"playdataPersistIntervalMilliseconds",4E3),w8b:d(E,"playdataSendDelayMilliseconds",1E4),v6:d(Q,"sendPlaydataBackupOnInit",!0),SFb:d(ka,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),FHb:d(Q,"midplayEnabled",!0),bWa:d(E,"midplayIntervalMilliseconds",3E5),GHb:d(Ja,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),$Q:d(E,"downloadReportDenominator",0),stb:d(E,"downloadReportInterval",3E5),MUa:d(E,"logConfigApplyDenominator",0),AKa:d(Qa,D("bookmarkByMovieId"),{}),xR:d(Q,D("forceLimitedDurationLicense"),!1),VA:d(E,D("licenseRenewalRequestDelay"),0),Upa:d(E,D("persistedReleaseDelay"),1E4),a7b:d(Q,D("limitedDurationFlagOverride"),void 0),Il:d(Q,D("secureStopEnabled"),!1),V8b:d(Q,D("secureStopFromPersistedKeySession"),!1),w0a:d(E,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),Sra:d(E,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),EQb:d(E,D("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),FQb:d(E,D("secureStopPersistedKeySessionRetries"),17,1),DQb:d(E,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),i0a:d(E,"safariPlayPauseWorkaroundDelay",100),ZXb:d(E,"workaroundValueForSeekIssue",1200),Aga:d(Q,D("callEndOfStream"),ia.Aga),vLb:d(Q,"performRewindCheck",!0),uvb:d(Q,"fatalOnUnexpectedSeeking",!0),tvb:d(Q,"fatalOnUnexpectedSeeked",!0),VRb:d(Q,D("setVideoElementSize")),Jnb:d(Q,D("clearVideoSrc"),!0),uNa:d(E,D("delayPlayPause"),0),Kp:d(Q,D("useTypescriptEme"),!1),cR:d(t,D("drmPersistKey"),"unsentDrmData"),Fqa:d(Q,D("promiseBasedEme"),!1),Nmb:d(Q,"captureKeyStatusData",!1),BK:d(Q,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),eJb:d(Q,D("nudgeSourceBuffer"),!1),Tra:d(p,D("seekDelta"),1),MT:d(Q,D("preciseSeeking"),!1),sMb:d(Q,D("preciseSeekingOnTwoCoreDevice"),!1),tNa:d(Qa,D("delayErrorHandling")),y3a:d(Q,"trackingLogEnabled",!1),z3a:d(function(a,b){var f;f=Qa(a,b,void 0);f && Object.entries(f).forEach(function(a){var b;b=N(a);a=b.next().value;b=b.next().value;"true" === b?f[a]=!0:"false" === b && (f[a]=!1);});return f;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),zta:d(t,"trackingLogPath","/customerevents/track/debug"),pVb:d(Ja,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),Yh:d(t,"esn",""),dPa:d(t,"fesn",""),pub:d(Q,D("enablePerformanceLogging"),!1),Nia:d(Q,D("enableEmeVerboseLogging"),!1),iub:d(Q,"enableLastChunkLogging",!1),$P:d(t,"appId","",Na),sessionId:d(t,"sessionId","",Na),Iga:d(t,"cdnProxyUrl"),YWb:d(Q,"usePlayReadyHeaderObject",!1),EPa:d(E,"forceXhrErrorResponseCode",void 0),Zr:{O7b:d(t,"mslApiPath","/msl/"),E5b:d(t,D("edgePath"),"/cbp/cadmium-29"),E8b:d(t,"proxyPath",""),Hy:d(t,"uiVersion"),v7:d(t,"uiPlatform"),K4b:function(){return "0";},rqa:d(ka,"preferredLanguages",l.xwa,/^[a-zA-Z-]{2,5}$/,1),twb:d(t,D("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),fUb:d(Q,"supportPreviewContentPin",!0),gUb:d(Q,"supportWatermarking",!0),DSb:d(Q,"showAllSubDubTracks",!1),S5b:d(Q,D("failOnGuidMismatch"),!1)},L5:{enabled:d(Q,"qcEnabled",!1),vp:d(t,"qcPackageId","")},kt:d(Q,"useRangeHeader",!1),kR:d(Q,"enableMilestoneEventList",!0),lQ:d(t,"authenticationType",ab.qu?ia.dlb:ia.lQ),iKa:d(Qa,"authenticationKeyNames",u.Hb({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),pUb:d(t,"systemKeyWrapFormat"),yCb:d(Q,"includeNetflixIdUserAuthData",!0),vSb:d(Q,"shouldSendUserAuthData",!0),gsa:d(Q,"sendUserAuthIfRequired",ia.gsa),pSb:d(Q,"shouldClearUserData",!1),iIb:d(Q,"mslDeleteStore",!1),kIb:d(Q,"mslPersistStore",!0),Job:d(Q,"correctNetworkForShortTitles",!0),oMb:d(Q,"postplayHighInitBitrate",!1),pwb:d(Q,"flushHeaderCacheOnAudioTrackChange",!0),jUb:d(Q,"supportsUnequalizedDownloadables",!0),eNa:d(E,D("debugAseDenominator"),100),bQ:d(E,"aseAudioBufferSizeBytes",ia.bQ.ca(U.vt)),dQ:d(E,"aseVideoBufferSizeBytes",ia.dQ.ca(U.vt)),Su:d(E,"minInitVideoBitrate",560),Joa:d(E,"minHCInitVideoBitrate",560),Sx:d(E,"maxInitVideoBitrate",Infinity),dT:d(E,"minInitAudioBitrate",0),cT:d(E,"minHCInitAudioBitrate",0),QS:d(E,"maxInitAudioBitrate",65535),u4:d(E,"minAcceptableVideoBitrate",235),eT:d(E,"minRequiredBuffer",3E4),jj:d(E,"minPrebufSize",7800),Ioa:d(E,"minCheckBufferingCompleteInterval",999999),Uqa:d(da,"rebufferingFactor",1),Lq:d(E,"maxBufferingTime",2600),cua:d(Q,"useMaxPrebufSize",!0),bB:d(E,"maxPrebufSize",45E3),ooa:d(E,"maxRebufSize",Infinity),a3:d(Ga,"initialBitrateSelectionCurve",null),gTa:d(E,"initSelectionLowerBound",560),hTa:d(E,"initSelectionUpperBound",1050),i7:d(E,"throughputPercentForAudio",15),Yfa:d(E,"bandwidthMargin",10),Zfa:d(Q,"bandwidthMarginContinuous",!1),$fa:d(Ga,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),rha:d(E,"conservBandwidthMargin",20),dta:d(Q,"switchConfigBasedOnInSessionTput",!1),FQ:d(E,"conservBandwidthMarginTputThreshold",0),sha:d(Ga,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),I2a:d(Q,"switchAlgoBasedOnHistIQR",!1),NB:d(t,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),noa:d(p,"maxPlayerStateToSwitchConfig",-1),Qna:d(t,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),i$:d(da,"IQRThreshold",.5),Xla:d(t,"histIQRCalcToUse","simple"),Ds:d(E,"maxTotalBufferLevelPerSession",0),bua:d(Q,"useBufferSizeLimiter",!1),KSa:d(E,"highWatermarkLevel",3E4),r3a:d(E,"toStableThreshold",3E4),p7:d(E,"toUnstableThreshold",ia.p7.ca(S.ga)),Isa:d(Q,"skipBitrateInUpswitch",!0),mua:d(E,"watermarkLevelForSkipStart",8E3),Qla:d(E,"highStreamRetentionWindow",9E4),Rna:d(E,"lowStreamTransitionWindow",51E4),Sla:d(E,"highStreamRetentionWindowUp",3E5),Tna:d(E,"lowStreamTransitionWindowUp",3E5),Rla:d(E,"highStreamRetentionWindowDown",6E5),Sna:d(E,"lowStreamTransitionWindowDown",0),Pla:d(da,"highStreamInfeasibleBitrateFactor",.5),Lx:d(E,"lowestBufForUpswitch",15E3),U3:d(E,"lockPeriodAfterDownswitch",15E3),Vna:d(E,"lowWatermarkLevel",25E3),Mx:d(E,"lowestWaterMarkLevel",2E4),Wna:d(Q,"lowestWaterMarkLevelBufferRelaxed",!1),zoa:d(da,"mediaRate",1),i4:d(E,"maxTrailingBufferLen",1E4),gQ:d(E,"audioBufferTargetAvailableSize",262144),CV:d(E,"videoBufferTargetAvailableSize",1048576),OVa:d(E,"maxVideoTrailingBufferSize",8388608),wVa:d(E,"maxAudioTrailingBufferSize",393216),o1:d(da,"fastUpswitchFactor",3),qja:d(da,"fastDownswitchFactor",1),Tx:d(E,"maxMediaBufferAllowed",24E4),Gsa:d(Q,"simulatePartialBlocks",!0),H1a:d(Q,"simulateBufferFull",!0),tha:d(Q,"considerConnectTime",!1),qha:d(da,"connectTimeMultiplier",1),WUa:d(E,"lowGradeModeEnterThreshold",12E4),XUa:d(E,"lowGradeModeExitThreshold",9E4),AVa:d(E,"maxDomainFailureWaitDuration",3E4),vVa:d(E,"maxAttemptsOnFailure",18),UOa:d(Q,"exhaustAllLocationsForFailure",!0),GVa:d(E,"maxNetworkErrorsDuringBuffering",20),c4:d(E,"maxBufferingTimeAllowedWithNetworkError",12E4),bPa:d(E,"fastDomainSelectionBwThreshold",2E3),W2a:d(E,"throughputProbingEnterThreshold",4E4),X2a:d(E,"throughputProbingExitThreshold",34E3),JUa:d(E,"locationProbingTimeout",1E4),gPa:d(E,"finalLocationSelectionBwThreshold",1E4),U2a:d(da,"throughputHighConfidenceLevel",.75),V2a:d(da,"throughputLowConfidenceLevel",.4),COa:d(Q,"enablePerfBasedLocationSwitch",!1),Os:d(Q,"probeServerWhenError",!0),yqa:d(E,"probeRequestTimeoutMilliseconds",8E3),Gw:d(Q,"allowSwitchback",!0),GF:d(E,"probeDetailDenominator",100),d4:d(E,"maxDelayToReportFailure",300),Hna:d(E,"locationStatisticsUpdateInterval",6E4),xMa:d(Q,"countGapInBuffer",!1),lJa:d(Q,"allowCallToStreamSelector",!0),IKa:d(E,"bufferThresholdForAbort",1E4),Wpa:d(E,"pipelineScheduleTimeoutMs",2),Ux:d(E,"maxPartialBuffersAtBufferingStart",2),Koa:d(E,"minPendingBufferLen",6E3),aB:d(E,"maxPendingBufferLen",12E3),RGb:d(E,"maxPendingBufferLenAL1",3E4),poa:d(E,"maxStreamingSkew",4E3),loa:d(E,"maxPendingBufferPercentage",10),fL:d(E,"maxRequestsInBuffer",60),IVa:d(E,"maxRequestsInBufferAL1",240),JVa:d(E,"maxRequestsInBufferBranching",120),K2:d(E,"headerRequestSize",4096),bT:d(E,"minBufferLenForHeaderDownloading",1E4),dM:d(E,"reserveForSkipbackBufferMs",1E4),npa:d(E,"numExtraFragmentsAllowed",2),wp:d(Q,"pipelineEnabled",!1),P1a:d(E,"socketReceiveBufferSize",0),A_:d(E,"audioSocketReceiveBufferSize",32768),eN:d(E,"videoSocketReceiveBufferSize",65536),Nla:d(E,"headersSocketReceiveBufferSize",32768),A7:d(E,"updatePtsIntervalMs",1E3),kga:d(E,"bufferTraceDenominator",100),RD:d(E,"bufferLevelNotifyIntervalMs",2E3),cQ:d(E,"aseReportDenominator",0),Ifa:d(E,"aseReportIntervalMs",3E5),Ytb:d(Q,"enableAbortTesting",!1),Vib:d(E,"abortRequestFrequency",8),Xsa:d(E,"streamingStatusIntervalMs",2E3),ky:d(E,"prebufferTimeLimit",24E4),w4:d(E,"minBufferLevelForTrackSwitch",2E3),Ppa:d(E,"penaltyFactorForLongConnectTime",2),Pna:d(E,"longConnectTimeThreshold",200),mfa:d(E,"additionalBufferingLongConnectTime",2E3),nfa:d(E,"additionalBufferingPerFailure",8E3),ZT:d(E,"rebufferCheckDuration",6E4),zOa:d(Q,"enableLookaheadHints",!1),RUa:d(E,"lookaheadFragments",2),lA:d(Q,"enableOCSideChannel",!0),GX:d(ua,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),d4a:d(Q,"updateDrmRequestOnNetworkFailure",!1),sNa:d(Q,"deferAseScheduling",!1),zVa:d(E,"maxDiffAudioVideoEndPtsMs",16E3),ZM:d(Q,"useHeaderCache",!0),XQ:d(E,"defaultHeaderCacheSize",4),A0:d(E,"defaultHeaderCacheDataPrefetchMs",8E3),Jla:d(E,"headerCacheMaxPendingData",6),pF:d(Q,"neverWipeHeaderCache",!0),Kla:d(E,"headerCachePriorityLimit",5),mR:d(Q,"enableUsingHeaderCount",!1),FSa:d(Q,"headerCacheTruncateHeaderAfterParsing",!0),owb:d(Q,D("flushHeaderCacheBeforePlayback"),!1),Xoa:d(E,"networkFailureResetWaitMs",2E3),Woa:d(E,"networkFailureAbandonMs",6E4),h4:d(E,"maxThrottledNetworkFailures",3),h7:d(E,"throttledNetworkFailureThresholdMs",200),Una:d(p,"lowThroughputThreshold",400),lja:d(Q,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),uWa:d(Q,"mp4ParsingInNative",!1),R1a:d(Q,"sourceBufferInOrderAppend",!0),Us:d(Q,"requireAudioStreamToEncompassVideo",!0),kJa:d(Q,"allowAudioToStreamPastVideo",!0),Ah:d(Q,"enableManagerDebugTraces",!1),kVa:d(E,"managerDebugMessageInterval",1E3),jVa:d(E,"managerDebugMessageCount",20),cXa:d(Q,"notifyManifestCacheEom",!1),jga:d(E,"bufferThresholdToSwitchToSingleConnMs",18E4),iga:d(E,"bufferThresholdToSwitchToParallelConnMs",12E4),r5:d(E,"periodicHistoryPersistMs",3E5),n6:d(E,"saveVideoBitrateMs",18E4),AJa:d(Q,"appendMediaRequestOnComplete",!0),R7:d(Q,"waitForDrmToAppendMedia",!1),z1:d(Q,D("forceAppendHeadersAfterDrm"),!1),YNb:d(Q,D("reappendRequestsOnSkip"),!1),rIb:d(E,"netIntrStoreWindow",36E3),NHb:d(E,"minNetIntrDuration",8E3),ovb:d(E,"fastHistoricBandwidthExpirationTime",10368E3),nlb:d(E,"bandwidthExpirationTime",5184E3),lvb:d(E,"failureExpirationTime",86400),WBb:d(E,"historyTimeOfDayGranularity",4),Zub:d(Q,"expandDownloadTime",!1),YHb:d(E,"minimumMeasurementTime",500),XHb:d(E,"minimumMeasurementBytes",131072),DUb:d(E,"throughputMeasurementTimeout",2E3),NCb:d(E,"initThroughputMeasureDataSize",262144),EUb:d(t,"throughputPredictor","ewma"),CUb:d(E,"throughputMeasureWindow",5E3),HUb:d(E,"throughputWarmupTime",5E3),BUb:d(E,"throughputIQRMeasureWindow",5E3),x$a:d(E,"IQRBucketizerWindow",15E3),pob:d(E,"connectTimeHalflife",10),PPb:d(E,"responseTimeHalflife",10),VBb:d(E,"historicBandwidthUpdateInterval",2E3),WHb:d(E,"minimumBufferToStopProbing",1E4),Qra:d(t,"secondThroughputEstimator","none"),t0a:d(p,"secondThroughputMeasureWindowInMs",Infinity),bub:d(ka,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),Hvb:d(ua,"filterDefinitionOverrides",{}),fsb:d(t,"defaultFilter","throughput-ewma"),zQb:d(t,"secondaryFilter","none"),gsb:d(ua,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),lT:d(Q,"needMinimumNetworkConfidence",!0),dga:d(Q,"biasTowardHistoricalThroughput",!0),k_:d(Q,"addHeaderDataToNetworkMonitor",!1),Qsa:d(Q,"startMonitorOnLoadStart",!1),jra:d(Q,"reportFailedRequestsToNetworkMonitor",!1),ioa:d(p,"maxFastPlayBufferInMs",Infinity),hoa:d(p,"maxFastPlayBitThreshold",Infinity),yfa:d(Q,"appendFirstHeaderOnComplete",!0),vkb:d(t,"ase_stream_selector","optimized"),vma:d(t,"initBitrateSelectorAlgorithm","default"),oga:d(t,"bufferingSelectorAlgorithm","default"),fNa:d(t,"ase_ls_failure_simulation",""),Xha:d(Q,"ase_dump_fragments",!1),Zha:d(E,"ase_location_history",0),$ha:d(E,"ase_throughput",0),hNa:d(Q,"ase_simulate_verbose",!1),jMb:d(E,"pollingPeriod",150),FFb:d(E,"loadTimeMs",18E4),wGb:d(E,"marginTimeMs",1E4),UB:d(Q,"useMediaCache",!1),hA:d(E,"diskCacheSizeLimit",52428800),WS:d(E,"mediaCachePrefetchMs",8E3),uoa:d(Qa,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),oka:d(Q,"getDeviceIdFromBindDevice",!1),ffa:d(Q,"addFailedLogBlobsToQueue",!0),Lta:{"content-sampling":{Lq:d(E,"contentSamplingMaxBufferingTime",3E3),mM:d(t,"contentSamplingSelectStartingVMAFMethod","fallback"),UP:d(Q,"contentSamplingActivateSelectStartingVMAF",!0),pL:d(E,"contentSamplingMinStartingVideoVMAF",80),aT:d(E,"contentSamplingMinAcceptableVMAF",70),jF:d(E,"contentSamplingMinAllowedVmaf",60),Pl:d(Q,"contentSamplingUseNewApi",!0)},billboard:{Su:d(E,"billboardMinInitVideoBitrate",1050),Sx:d(E,"billboardMaxInitVideoBitrate",null),jj:d(E,"billboardMinPrebufSize",null),bB:d(E,"billboardMaxPrebufSize",null),Lq:d(E,"billboardMaxBufferingTime",null),Ux:d(E,"billboardMaxPartialBuffersAtBufferingStart",null),Mx:d(E,"billboardLowestWaterMarkLevel",6E3),Lx:d(E,"billboardLowestBufForUpswitch",25E3),NB:d(t,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Pl:d(Q,"billboardUseNewApi",!0)},branching:{Pl:d(Q,"branchingUseNewApi",!0)},preplay:{Su:d(E,"preplayMinInitVideoBitrate",1050),Sx:d(E,"preplayMaxInitVideoBitrate",null),jj:d(E,"preplayMinPrebufSize",null),bB:d(E,"preplayMaxPrebufSize",null),Lq:d(E,"preplayMaxBufferingTime",null),Ux:d(E,"preplayMaxPartialBuffersAtBufferingStart",null),Mx:d(E,"preplayLowestWaterMarkLevel",6E3),Lx:d(E,"preplayLowestBufForUpswitch",25E3)},embedded:{Su:d(E,"embeddedMinInitVideoBitrate",1050),Sx:d(E,"embeddedMaxInitVideoBitrate",null),jj:d(E,"embeddedMinPrebufSize",null),bB:d(E,"embeddedMaxPrebufSize",null),Lq:d(E,"embeddedMaxBufferingTime",null),Ux:d(E,"embeddedMaxPartialBuffersAtBufferingStart",null),Mx:d(E,"embeddedLowestWaterMarkLevel",6E3),Lx:d(E,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{Su:d(E,"videoMerchBobHorizontalMinInitVideoBitrate",null),Sx:d(E,"videoMerchBobHorizontalMaxInitVideoBitrate",null),jj:d(E,"videoMerchBobHorizontalMinPrebufSize",null),bB:d(E,"videoMerchBobHorizontalMaxPrebufSize",null),Lq:d(E,"videoMerchBobHorizontalMaxBufferingTime",null),Ux:d(E,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),Mx:d(E,"videoMerchBobHorizontalLowestWaterMarkLevel",null),Lx:d(E,"videoMerchBobHorizontalLowestBufForUpswitch",null),XB:d(ka,"videoMerchVideoProfiles",void 0)},"mini-modal-horizontal":{Su:d(E,"miniModalHorizontalMinInitVideoBitrate",null),Sx:d(E,"miniModalHorizontalMaxInitVideoBitrate",null),jj:d(E,"miniModalHorizontalMinPrebufSize",null),bB:d(E,"miniModalHorizontalMaxPrebufSize",null),Lq:d(E,"miniModalHorizontalMaxBufferingTime",500),Ux:d(E,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),Mx:d(E,"miniModalHorizontalLowestWaterMarkLevel",null),Lx:d(E,"miniModalHorizontalLowestBufForUpswitch",null)},standard:{Pl:d(Q,"standardUseNewApi",!0)},postplay:{Pl:d(Q,"postplayUseNewApi",!0)},"postplay-background-trailer":{Pl:d(Q,"postplayBackgroundTrailerUseNewApi",!0)}},yub:d(Q,"enableVerbosePlaydelayLogging",!1),tub:d(Q,"enableSeamless",!1),Wla:d(E,"hindsightDenominator",0),Vla:d(E,"hindsightDebugDenominator",0),O2:d(ua,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),lR:d(Q,"enableSessionHistoryReport",!1),Mia:d(E,"earlyStageEstimatePeriod",1E4),uUa:d(E,"lateStageEstimatePeriod",3E4),e4:d(E,"maxNumSessionHistoryStored",30),A4:d(E,"minSessionHistoryDuration",3E4),Nu:d(E,"maxActiveRequestsPerSession",3),a4:d(E,"maxActiveRequestsSABCell100",2),f4:d(E,"maxPendingBufferLenSABCell100",500),Cna:d(Q,"limitAudioDiscountByMaxAudioBitrate",!0),wh:d(ua,"browserInfo",{}),dmb:d(E,D("busyGracePeriod"),199),aRb:d(Q,D("sendTransitionLogblob"),!0),RJ:d(Q,D("editVideoFragments"),!0),U0:d(Q,D("earlyAppendSingleChildBranch"),!0),zCb:d(Q,D("includeSegmentInfoOnLogblobs"),!0),cvb:d(Q,"exposeTestData",!1),aia:d(Q,"declareBufferingCompleteAtSegmentEnd",!0),Lz:d(Q,"applyProfileTimestampOffset",!1),$i:d(Q,"applyProfileStreamingOffset",!1),$jb:d(Q,D("allowSmallSeekDelta"),!1),USb:d(E,D("smallSeekDeltaThresholdMilliseconds"),y.eY),$tb:d(Q,"enableCDMAttestedDescriptors",!1),a6:d(Q,"requireDownloadDataAtBuffering",!1),b6:d(Q,"requireSetupConnectionDuringBuffering",!1),Wqa:d(Q,"recordFirstFragmentOnSubBranchCreate",!1),Slb:d(Q,"branchingAudioTrackFrameDropSmallSeekFix",!0),BPa:d(Q,"forceL3WidevineCdm",!1),SWb:d(Q,"useMobileVMAF",!1),Gsb:d(t,"desiredVMAFTypeMobile","phone_plus_lts"),Hsb:d(t,"desiredVMAFTypeNonMobile","plus_lts"),UP:d(Q,"activateSelectStartingVMAF",!1),pL:d(E,"minStartingVideoVMAF",1),aT:d(E,"minAcceptableVMAF",1),jF:d(E,"minAllowedVmaf",1),vfa:d(Q,"alwaysNotifyEOSForPlaygraph",!0),qE:d(Q,"enableNewAse",!0),Pl:d(Q,"useNewApi",!0),TWb:d(Q,"useNewAseIntegration",!0),Z0:d(Q,"enableHudsonFieldTest",!1),hS:d(ka,"hudsonTitles",["81127954","70125931","80158148"]),koa:d(E,"maxPartialBuffersAtHudson",1),sT:d(E,"numberOfChunksPerSegment",4),g7:d(E,"targetContentLatency",1E4),hta:d(E,"targetLongContentLatency",3E4),C4:d(E,"minimumTimeDelay",1),a1:d(Q,"enableWsslEstimate",!1),b4:d(E,"maxAllowedOutstandingRequests",4),YI:d(Q,"alwaysRunUnderflowTimer",!0),Loa:d(E,"minStreamableConcurrencyWindow",3E3),Vsa:d(da,"streamableConcurrencyFactor",.3),vQ:d(E,"bufferingConcurrencyWindow",7800),NSb:d(Q,"singleStreamablePerBranch",!0),$0:d(Q,"enableResolutionVMAFStreamFilter",!1),g6:d(ua,"resolutionVMAFCappingRuleList",{}),Rpa:d(p,"percentCapTitlesForResolutionVMAFStreamFilter",100),Zsb:d(Q,"disableSkipping",!1)};qc=!0;b.nha=function(a){var c,k,m;c=f.ha.get(Y.Fd).id;if(0 < b.config.MUa && 0 === c % b.config.MUa)try{k=f.ha.get(I.Tm);m=f.ha.get(J.Et).Tr("config","info",{params:a});k.kd(m);}catch(Mb){f.log.error("Failed to log config$apply",Mb);}ja._cad_global.config=b.config;q.fb(a);a && (Ka=u.Hb({},a,{$K:!0}),u.Hb(Ka,lb,{$K:!0}),h(L,b.config),Ka.istestaccount && f.log.trace("Config applied for",Ua(qc?Ka:a)),qc=!1);};b.nha(Ka);};b.lob=function(a,b){return A.te(a) && "%" == a[a.length - 1]?B.ki(parseFloat(a) * b / 100):a | 0;};b.gMa=function(a){return a?(a=u.Hb({},b.config),u.Hb(a,{vF:b.config.GXa},{$x:!0})):b.config;};b.d0=function(a){var f;f=u.Hb({},b.config);return u.Hb(f,c(a),{$x:!0});};b.c0=function(b){b=c(b);return u.Hb({},a(180)(b),{$x:!0});};b.oha=function(f,c,k){k=! !k && (0 <= k.indexOf("h264hpl") || 0 <= k.indexOf("vp9"));f={lL:f?b.config.KHb:b.config.lL,qL:f?b.config.RHb:k?b.config.QHb:b.config.qL,fL:f && k?Math.max(b.config.JVa,b.config.IVa):f?b.config.JVa:k?b.config.IVa:b.config.fL,aB:k?b.config.RGb:b.config.aB,U0:!c};return u.Hb({},a(180)(f),{$x:!0});};b.nob=c;b.mob=h;},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.zd=b.ub=b.he=b.Db=b.V=b.n$=b.KC=b.Vb=void 0;(function(a){a.JFb="loadedtracks";a.IFb="loadedmetadata";a.loaded="loaded";a.error="error";a.closed="closed";a.oq="currenttimechanged";a.MKa="bufferedtimechanged";a.Ltb="durationchanged";a.zXb="videosizechanged";a.iLb="pausedchanged";a.hMb="playingchanged";a.Hub="endedchanged";a.tga="busychanged";a.aKa="audiotracklistchanged";a.iQ="audiotrackchanged";a.uG="timedtexttracklistchanged";a.UM="timedtexttrackchanged";a.rV="trickplayframeschanged";a.oIb="mutedchanged";a.GXb="volumechanged";a.ESb="showsubtitle";a.aPb="removesubtitle";a.NXb="watermark";a.Sma="isReadyToTransition";a.AK="inactivated";a.LQb="segmentmaploaded";a.MQb="segmentpresenting";a.glb="autoplaywasallowed";a.hlb="autoplaywasblocked";})(b.Vb || (b.Vb={}));(b.KC || (b.KC={})).vU="playgraphsegmenttransition";b.n$=a;a.Q0a="serverTimeChanged";(function(a){a.bJ="aseException";a.cJ="aseReport";a.elb="authorized";a.Ufa="autoplayWasAllowed";a.ll="autoplayWasBlocked";a.slb="bandwidthMeterAggregateUpdate";a.Ow="bufferUnderrun";a.closed="closed";a.Qf="closing";a.oq="currentTimeChanged";a.jA="downloadComplete";a.AK="inactivated";a.wUa="licenseAdded";a.YK="licensed";a.As="locationSelected";a.bL="manifestClosing";a.Jq="manifestPresenting";a.j7b="manifestSelected";a.m4="mediaBufferChanged";a.pIb="needLicense";a.N4="nextBranchingSegmentChosen";a.Is="playbackStart";a.xp="playbackReady";a.Fl="repositioned";a.NF="repositioning";a.j0a="safePlayRequested";a.A0a="segmentAborted";a.VF="segmentPresenting";a.W8b="segmentComplete";a.C0a="segmentLastPts";a.D0a="segmentStarting";a.XF="serverSwitch";a.E1a="shouldUpdateVideoDiagInfo";a.LM="subtitleError";a.lta="throttledMediaTimeChanged";a.SM="timedTextRebuffer";a.uG="timedTextTrackListChanged";a.rV="trickPlayFramesChanged";a.tV="tryRecoverFromStall";a.Wta="updateNextBranchingSegmentWeights";a.eXb="userInitiatedPause";a.H4a="userInitiatedResume";})(b.V || (b.V={}));(function(a){a[a.rH=0]="NOTLOADED";a[a.LOADING=1]="LOADING";a[a.yd=2]="NORMAL";a[a.CLOSING=3]="CLOSING";a[a.CLOSED=4]="CLOSED";})(b.Db || (b.Db={}));(function(a){a[a.yd=1]="NORMAL";a[a.cd=2]="BUFFERING";a[a.IDa=3]="STALLED";})(b.he || (b.he={}));(function(a){a[a.$f=1]="WAITING";a[a.Uc=2]="PLAYING";a[a.uj=3]="PAUSED";a[a.At=4]="ENDED";})(b.ub || (b.ub={}));(function(a){a[a.Jv=0]="INITIAL";a[a.Tv=1]="SEEK";a[a.FH=2]="TRACK_CHANGED";a[a.NC=3]="SEGMENT_CHANGED";a[a.DW=4]="FORCE_REBUFFER";})(b.zd || (b.zd={}));},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sc=b.dH=b.Xm=b.ut=void 0;b.ut={J4b:"casttv",chrome:"chrome",P4b:"chromecast",Zr:"edge",Ntb:"edgeoss",gwb:"firefox",F6b:"ie",opera:"opera",fQb:"safari"};b.Xm={r_:"android",zLa:"chromeos",cFb:"linux",aVa:"mac",P2a:"tesla",nua:"windows"};b.dH={hob:"computer",zYa:"phone",K2a:"tablet"};b.Sc="ConfigSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.vc=b.Fma=b.Gx=b.te=b.$ma=b.ADb=b.oDb=b.Rma=b.Fx=b.ETa=b.qa=b.Yma=b.isArray=b.VTa=b.zf=b.ic=b.is=void 0;d=a(191);b.is=d.sC;b.ic=function(a){return b.is.Rf(a);};b.zf=function(a){return b.is.JD(a);};b.VTa=function(a){return b.is.Xea(a);};b.isArray=function(a){return b.is.Hw(a);};b.Yma=function(a){return b.is.qJa(a);};b.qa=function(a,h,l){return b.is.Th(a,h,l);};b.ETa=function(a,h,l){return b.is.wfa(a,h,l);};b.Fx=function(a,h,l){return b.is.ZI(a,h,l);};b.Rma=function(a){return b.is.QP(a);};b.oDb=function(a){return b.is.Tib(a);};b.ADb=function(a){return b.is.Uib(a);};b.$ma=function(a){return b.is.rJa(a);};b.te=function(a){return b.is.Ho(a);};b.Gx=function(a){return b.is.jn(a);};b.Fma=function(a){return b.is.PP(a);};b.vc=function(a){return b.is.g_(a);};},function(d,b,a){b=a(140);b.hsb=0;d.exports={EventEmitter:b,sg:a(831)};},function(d,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(384),b);},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Qrb=b.Wha=b.Jrb=b.Nrb=b.EJ=b.UQ=b.Mrb=b.Orb=b.FJ=b.dNa=b.Lrb=b.Krb=b.fb=b.nn=b.Prb=b.qva=void 0;d=a(7);a=a(88);b.qva=function(){b.fb(!1);};b.Prb=!0;b.nn=d.ha.get(a.xt);b.fb=function(a,h){return b.nn.assert(a,h);};b.Krb=function(a,h){return b.nn.zkb(a,h);};b.Lrb=function(a,h){return b.nn.Akb(a,h);};b.dNa=function(a,h){return b.nn.Fkb(a,h);};b.FJ=function(a,h){return b.nn.Ikb(a,h);};b.Orb=function(a,h){return b.nn.Gkb(a,h);};b.Mrb=function(a,h){return b.nn.Dkb(a,h);};b.UQ=function(a,h){return b.nn.Ckb(a,h);};b.EJ=function(a,h){return b.nn.Hkb(a,h);};b.Nrb=function(a,h){return b.nn.Ekb(a,h);};b.Jrb=function(a,h){return b.nn.ykb(a,h);};b.Wha=function(a,h){return b.nn.Bkb(a,h);};b.Qrb=function(){return b.nn.dDb();};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fd=void 0;b.Fd="ApplicationSymbol";},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ma=void 0;b.ma=!1;},function(d,b){function a(a,b){return a && b?Math.abs(a * b / c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a % b;a=c;}return a;}Object.defineProperties(b,{__esModule:{value:!0}});b.T=void 0;d=(function(){function b(a,b){"object" === typeof a?(this.Dr=a.xb,this.jl=a.S):(this.Dr=a,this.jl=b);}b.rKb=function(a){return new b(1,a);};b.compare=function(a,b){return a.tk(b);};b.abs=function(a){return new b(Math.abs(a.Dr),a.jl);};b.$b=function(a){return 0 === a?b.nb:new b(a,1E3);};b.o7=function(a,b){return Math.floor(1E3 * a / b);};b.Toa=function(a,b){return Math.floor(a * b / 1E3);};b.max=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.Yja=function(l,m){var f;if(l.S === m.S)return new b(c(l.xb,m.xb),l.S);f=a(l.S,m.S);return b.Yja(l.Ge(f),m.Ge(f));};Object.defineProperties(b.prototype,{xb:{get:function(){return this.Dr;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{S:{get:function(){return this.jl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{da:{get:function(){return b.o7(this.Dr,this.jl);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{aZa:{get:function(){return 1E3 * this.Dr / this.jl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{TF:{get:function(){var a;a=this.aZa;return 0 > a?Math.ceil(a):Math.floor(a);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ah:{get:function(){return this.Dr / this.jl;},enumerable:!1,configurable:!0}});b.prototype.Ge=function(a){a/=this.S;return new b(Math.floor(this.xb * a),Math.floor(this.S * a));};b.prototype.add=function(c){var m;if(this.S === c.S)return new b(this.xb + c.xb,this.S);m=a(this.S,c.S);return this.Ge(m).add(c.Ge(m));};b.prototype.Fa=function(a){return this.add(new b(-a.xb,a.S));};b.prototype.mF=function(a){return new b(this.xb * a,this.S);};b.prototype.Xo=function(c){var m;if("number" === typeof c){m=a(this.xb,c);return m !== this.xb?this.Ge(m / this.xb * this.S).Xo(c):new b(this.xb / c,this.S);}if(this.S === c.S)return this.xb / c.xb;m=a(this.S,c.S);return this.Ge(m).Xo(c.Ge(m));};b.prototype.tia=function(c){var m;if(this.S === c.S)return new b(Math.abs(this.xb - c.xb),this.S);m=a(this.S,c.S);return this.Ge(m).tia(c.Ge(m));};b.prototype.YRa=function(b){return a(this.S,b);};b.prototype.a_a=function(){return new b(this.S,this.xb);};b.prototype.compare=function(b,c){var f;if(this.S === c.S)return b(this.xb,c.xb);f=a(this.S,c.S);return b(this.Ge(f).xb,c.Ge(f).xb);};b.prototype.tk=function(a){return this.equal(a)?0:this.lessThan(a)?-1:1;};b.prototype.equal=function(a){return this.compare(function(a,b){return a === b;},a);};b.prototype.R4=function(a){return this.compare(function(a,b){return a !== b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a < b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a > b;},a);};b.prototype.ZE=function(a){return this.compare(function(a,b){return a <= b;},a);};b.prototype.rl=function(a){return this.compare(function(a,b){return a >= b;},a);};b.prototype.Alb=function(a,b){var f;f=!1;void 0 === f && (f=!0);return f?this.rl(a) && this.ZE(b):this.greaterThan(a) && this.lessThan(b);};b.prototype.isFinite=function(){return ! !this.S && isFinite(this.xb);};b.prototype.toJSON=function(){return {ticks:this.xb,timescale:this.S};};b.prototype.toString=function(){return this.xb + "/" + this.S;};b.prototype.Bd=function(){return this.xb + "/" + this.S + " (" + this.da + "ms)";};b.nb=new b(0,1E3);b.Al=new b(1,1E3);b.yx=new b(Infinity,1);return b;})();b.T=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ie=void 0;b.Ie="IsTypeSymbol";},function(d,b,a){var c,h,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.wMa=b.FPa=b.ox=b.Bk=b.Ve=b.NS=b.trim=b.fS=b.w2a=b.Lqa=b.QKb=b.de=b.MJa=b.dLa=b.Hb=b.Rd=void 0;c=a(18);h=a(26);l=a(10);m=a(15);b.Rd=function(a,b){for(var f in a){a.hasOwnProperty(f) && b(f,a[f]);}};b.Hb=b.Hb || (function(a,c,q){var f,k,m;if(c)if(q){f=q.$K;k=q.prefix;m=q.$x;b.Rd(c,function(b,c){if(!m || h.ic(c))a[(k || "") + (f?b.toLowerCase():b)]=c;});}else b.Rd(c,function(b,f){a[b]=f;});return a;});b.dLa=function(a,b,c,v){var f;if(a){f=a[b];m.vc(f) && (c=f.apply(a,l.slice.call(arguments,3)));}return c;};b.MJa=function(a){for(var b={},f=a.length;f--;){b[a[f]]=!0;}return b;};b.de=b.de || (function(a){return parseInt(a,10);});b.QKb=function(a){return (/^true$/i).test(a);};b.Lqa=function(a,b){return l.ki(a + l.yC() * (b - a));};b.w2a=function(a){return JSON.stringify(a,null,"  ");};b.fS=(function(){var b,q;function a(a){c.fb(void 0 !== b[a]);return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};q=/[&'"<>]/g;return function(b){return b.replace(q,a);};})();b.trim=(function(){var a;a=/^\s+|\s+$/gm;return function(b){return b.replace(a,"");};})();b.NS=function(a){return Array.isArray(a)?a:[a];};b.Ve=b.Ve || (function(a){var b,f,c;if(a){b=a.stack;f=a.number;c=a.message;c || (c="" + a);b?(a="" + b,0 != a.indexOf(c) && (a=c + "\n" + a)):a=c;f && (a+="\nnumber:" + f);return a;}});b.Bk=function(a){return m.qa(a)?a.toFixed(0):"";};b.ox=function(a){return m.qa(a)?(a / 1E3).toFixed(0):"";};b.FPa=function(a){return m.qa(a)?a.toFixed():"";};b.wMa=function(a){for(var b=[],f=0;f < a.length;f++){b[f]=a[f];}return b;};},function(d,b,a){var c,h,l,m;c=a(89);h=a(581);l=a(201);m=a(584);d=(function(){function a(a){this.jw=!1;a && (this.gn=a);}a.prototype.zs=function(b){var f;f=new a();f.source=this;f.EXa=b;return f;};a.prototype.subscribe=function(a,b,f){var c;c=this.EXa;a=h.dVb(a,b,f);c?c.call(a,this.source):a.add(this.source || !a.ao?this.gn(a):this.Mea(a));if(a.ao && (a.ao=!1,a.mG))throw a.nG;return a;};a.prototype.Mea=function(a){try{return this.gn(a);}catch(q){a.mG=!0;a.nG=q;a.error(q);}};a.prototype.forEach=function(a,b){var f;f=this;b || (c.root.MC && c.root.MC.config && c.root.MC.config.Promise?b=c.root.MC.config.Promise:c.root.Promise && (b=c.root.Promise));if(!b)throw Error("no Promise impl found");return new b(function(b,c){var k;k=f.subscribe(function(b){if(k)try{a(b);}catch(y){c(y);k.unsubscribe();}else a(b);},c,b);});};a.prototype.gn=function(a){return this.source.subscribe(a);};a.prototype[l.observable]=function(){return this;};a.prototype.BLb=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}return 0 === a.length?this:m.CLb(a)(this);};a.prototype.ft=function(){var a,b;b=this;a || (c.root.MC && c.root.MC.config && c.root.MC.config.Promise?a=c.root.MC.config.Promise:c.root.Promise && (a=c.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,f){var c;b.subscribe(function(a){return c=a;},function(a){return f(a);},function(){return a(c);});});};a.create=function(b){return new a(b);};return a;})();b.Eb=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b["default"]={NYb:{Vv:0,M2b:1,name:["STARTUP","STEADY"]},TW:{oh:0,L2b:1,Ycb:2,name:["STARTING","STABLE","UNSTABLE"]},Ua:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Zj:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},Kg:{URL:0,PC:1,oza:2,Pv:3,name:["URL","SERVER","LOCATION","NETWORK"]},bf:{HAVE_NOTHING:0,pC:1,oC:2,ON:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},OC:{uYb:0,w_b:1,S1b:2,NEXT:3,r1b:4,o3b:5,y_b:6,l0b:7,Vv:8,ERROR:9,Faa:10,Dbb:11,o8:12,F$a:13,E$a:14,hcb:15,gcb:16,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway").split(" ")},ZZb:{Pv:0,rZb:1,name:["NETWORK","DECODE"]},I2b:{tZb:"delayedSeamless",N_b:"hideLongTransition"}};},function(d,b,a){var m,f;function c(a){return null !== a && void 0 !== a;}function h(a){return typeof a == b.GEa;}function l(a,b,m){var k,q,v;if(b)if(m){k=m.$K;q=m.prefix;v=m.$x;f.Rd(b,function(b,f){if(!v || c(f))a[(q || "") + (k?b.toLowerCase():b)]=f;});}else f.Rd(b,function(b,f){a[b]=f;});return a;}Object.defineProperty(b,"__esModule",{value:!0});b.K=b.Ve=b.fS=b.dK=b.bE=b.createElement=b.Xz=b.LJa=b.Y_=b.wM=b.Hb=b.lo=b.de=b.Gx=b.te=b.zf=b.ic=b.FEa=b.Lcb=b.Mcb=b.GEa=b.ZB=b.W7=b.hr=b.mN=b.lN=b.sj=b.qX=b.xC=b.yC=b.ko=b.Um=b.ki=b.V$=b.Nv=b.RG=b.Lab=b.IC=b.$j=b.mh=void 0;m=a(10);f=a(23);b.mh=function(){};b.$j=1E3;b.IC=Object.create;b.Lab=Object.keys;b.RG=Date.now;b.Nv=Math.floor;b.V$=Math.ceil;b.ki=Math.round;b.Um=Math.max;b.ko=Math.min;b.yC=Math.random;b.xC=Math.abs;b.qX=Math.pow;b.sj="$attributes";b.lN="$children";b.mN="$name";b.hr="$text";b.W7="$parent";b.ZB="$sibling";b.GEa="string";b.Mcb="number";b.Lcb="function";b.FEa="object";b.ic=c;b.zf=function(a){return typeof a == b.FEa;};b.te=h;b.Gx=function(a){return h(a) && a;};b.de=function(a){return parseInt(a,10);};b.lo=function(a,b,f){return a >= b?a <= f?a:f:b;};b.Hb=l;b.wM=function(a){return l({},a);};b.Y_=function(a){var k;for(var b=0;b < arguments.length;++b){;}for(var b=0,f=arguments.length;b < f;){k=arguments[b++];if(c(k))return k;}};b.LJa=function(a,b){for(var f,c=!0,k;c;){for((c=!1,f=a.length);--f;){k=a[f];k[b] < a[f - 1][b] && (a[f]=a[f - 1],a[f - 1]=k,c=!0);}}};b.Xz=function(a,b){if(a.length == b.length){for(var f=a.length;f--;){if(a[f] != b[f])return !1;}return !0;}return !1;};b.createElement=function(a,b,c,r){var k;k=m.Ke.createElement(a);b && (k.style.cssText=b);c && (k.innerHTML=c);r && f.Rd(r,function(a,b){k.setAttribute(a,b);});return k;};b.bE=function(a){var b;b="";f.Rd(a,function(a,f){b+=(b?";":"") + a + ":" + f;});return b;};b.dK=function(a,f,c){var k;a / f > c?(k=b.ki(f * c),a=f):(k=a,a=b.ki(a / c));return {width:k,height:a};};b.fS=(function(){var b,f;function a(a){return b[a];}b={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(b){return b.replace(f,a);};})();b.Ve=function(a){var b,f;if(a){b=a.stack;f=a.number;a="" + a;b?(b="" + b,0 != b.indexOf(a) && (b=a + "\n" + b)):b=a;f && (b+="\nnumber:" + f);return b;}};b.K={Wl:1001,ii:1003,$8a:1701,Nxa:1713,a9a:1715,Z8a:1721,EW:1723};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tg=void 0;b.tg="UtilitiesSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(143);b.ma=!1;d=(function(){function a(a,b,f,c,q){this.rb=a;this.type=b;this.byteOffset=f;this.byteLength=c;this.parent=q;this.$c={};this.wF=c;}a.xE=function(a,b){var c,m;function f(a){a && a.xE && (a=a.xE(b),a.length && (c=c.concat(a)));}c=[];a.type === b && c.push(a);if(a.$c)for(var q in a.$c){m=a.$c[q];Array.isArray(m) && m.forEach(f);}return c;};a.WP=function(a,b){void 0 === a.$c[b.type] && (a.$c[b.type]=[]);a.$c[b.type].push(b);};a.rA=function(b,c){return a.xE(b,c)[0];};Object.defineProperties(a.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.rb;},enumerable:!0,configurable:!0}});a.prototype.ng=function(){var a;a=this.rb.Ub();this.version=a >> 24;this.Zh=a & 16777215;};a.prototype.WP=function(b){a.WP(this,b);};a.prototype.xE=function(b){return a.xE(this,b);};a.prototype.rA=function(b){return a.rA(this,b);};a.prototype.parse=function(){return !0;};a.prototype.bK=function(){return !0;};a.prototype.ht=function(a){if((a=this.$c[a]) && Array.isArray(a) && 1 === a.length)return a[0];};a.prototype.El=function(a,b){b=void 0 === b?this.rb.offset:b;c.assert(b >= this.startOffset + 8 && b + a <= this.startOffset + this.wF,"Removal range [0x" + b.toString(16) + "-0x" + (b + a).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.wF).toString(16) + ")");this.rb.El(a,b,this);};a.prototype.eU=function(a,b,f){f=void 0 === f?this.rb.offset:f;c.assert(f >= this.startOffset + 8 && f + a <= this.startOffset + this.wF,"Removal range [0x" + f.toString(16) + "-0x" + (f + a).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.wF).toString(16) + ")");this.rb.eU(a,b,f,this);};a.prototype.RZa=function(a,b,f){if(1 < f){for(var c=[];0 < f--;){c.push(this.VHa(a,b));}return c;}return this.VHa(a,b);};a.prototype.kv=function(a){var b,f;f=this;void 0 === b && (b={});a.forEach(function(a){var c,k;if("offset" === a.type){c=a.offset;if(0 < c % 8)throw Error("Requested offset " + a.offset + "is not an even byte multiple");f.rb.offset+=c / 8;}else for(c in a){k=a[c];b[c]="string" === typeof k?f.RZa(k):f.RZa(k.type,k.length,k.rkb);}});return b;};a.prototype.VHa=function(a,b){var f;f=this.byteLength - this.rb.offset + this.startOffset;"undefined" === typeof b && (b=f);switch(a){case "int8":a=this.rb.Nd();break;case "int64":a=this.rb.Sj();break;case "int32":a=this.rb.Ub();break;case "int16":a=this.rb.Ih();break;case "string":a=this.rb.ONb(Math.min(b,f));break;default:throw Error("Invalid type: " + a);}return a;};a.Jc=!1;return a;})();b.rg=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qg=void 0;b.qg="AsyncComponentLoaderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B8a=b.mC=b.qFa=b.ddb=b.Mi=b.Od=b.Xl=b.Ny=b.sr=void 0;(function(a){a[a.Audio=0]="Audio";a[a.lFa=1]="Video";})(b.sr || (b.sr={}));(function(a){a[a.lC=0]="Default";a[a.CC=1]="Microsoft";})(b.Ny || (b.Ny={}));(function(a){a[a.lC=0]="Default";a[a.D8=1]="Cast";a[a.G8=2]="Chrome";a[a.CC=3]="Microsoft";a[a.ycb=4]="Safari";})(b.Xl || (b.Xl={}));(function(a){a[a.uO=0]="SD";a[a.KW=1]="HD";a[a.IH=2]="UHD";a[a.kr=3]="DV";a[a.Iv=4]="HDR10";a[a.KG=5]="AVCHigh";a[a.YC=6]="VP9";a[a.Yj=7]="AV1";})(b.Od || (b.Od={}));(function(a){a[a.tC=0]="Level_1_4";a[a.Dt=1]="Level_2_2";})(b.Mi || (b.Mi={}));b.ddb=function(){};(function(a){a[a.a2b=0]="Platform";a[a.nZb=1]="CurrentTitle";})(b.qFa || (b.qFa={}));b.mC="DeviceCapabilitiesSymbol";b.B8a=function(){};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lt=b.vj=void 0;b.vj="PlatformSymbol";b.Lt="PlatformMutableSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gH=b.jC=b.ek=b.fW=void 0;b.fW="ConfigurableInputsSymbol";b.ek="ValidatingConfigurableInputsSymbol";b.jC="ConfigNameSymbol";b.gH="InitParamsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.yH=b.SX=b.W8=b.A$=b.GAa=b.EC=b.uca=b.Vy=b.Aca=void 0;b.Aca="WindowTimersSymbol";b.Vy="JSONSymbol";b.uca="UserAgentSymbol";b.EC="NavigatorSymbol";b.GAa="MediaSourceSymbol";b.A$="LocationSymbol";b.W8="DateSymbol";b.SX="PerformanceSymbol";b.yH="PlatformExtraInfoSymbol";},function(d,b,a){var h;function c(a){return a.filter(function(b,f){return a.indexOf(b) === f;});}Object.defineProperties(b,{__esModule:{value:!0}});b.Q4=b.eBb=b.Kob=b.wu=b.gWa=b.VLa=b.NJa=b.Hr=b.KJa=b.IJa=b.pkb=b.Iw=b.JJa=b.Qg=void 0;h=a(0);b.Qg=function(a,b){var f;return a.some(function(a,c,m){f=a;return b(a,c,m);})?f:void 0;};b.JJa=function(a,b){for(var f=a.length - 1;0 <= f;--f){if(b(a[f],f,a))return a[f];}};b.Iw=function(a,b){var f;f=-1;return a.some(function(a,c,m){f=c;return b(a,c,m);})?f:-1;};b.pkb=function(a,b){for(var f=a.length - 1;0 <= f;f--){if(b(a[f],f,a))return f;}return -1;};b.IJa=c;b.KJa=function(a,b){b=a.indexOf(b);if(-1 === b)return !1;a.splice(b,1);return !0;};b.Hr=function(a,b,f){return f?a.filter(function(a){return !b.some(function(b){return f(a,b);});}):a.filter(function(a){return -1 === b.indexOf(a);});};b.NJa=function(a,b){return c(a.concat(b));};b.VLa=function(a){return function(b,f){b=a(b);f=a(f);return b < f?-1:b > f?1:0;};};b.gWa=function(a){return function(b,f){return a(b) < a(f)?b:f;};};b.wu=function(a){var b;return (b=[]).concat.apply(b,h.__spread(a));};b.Kob=function(a,b){void 0 === b && (b=function(a){return a;});return a.reduce(function(a,c){c=b(c);return (void 0 === a[c]?a[c]=1:++a[c],a);},{});};b.eBb=function(a,b){return a.reduce(function(a,c){var f;f=b(c);return (void 0 === a[f]?a[f]=[c]:a[f].push(c),a);},{});};b.Q4=function(a){return null !== a && void 0 !== a;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hh=void 0;b.hh="ClockSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ul=b.Ht=b.Hv=void 0;(function(a){a[a.JEa=0]="Test";a[a.eza=1]="Int";a[a.Ccb=2]="Staging";a[a.Lbb=3]="Prod";})(b.Hv || (b.Hv={}));(function(a){a[a.qO=0]="PreferMsl";a[a.WCa=1]="PreferNoMsl";a[a.Eab=2]="NoMsl";})(b.Ht || (b.Ht={}));b.Ul="GeneralConfigSymbol";},function(d,b,a){var m,f;function c(a,b){return a && a.xs && (b || !1 !== a.uu);}function h(a,b,f){return !m.qa(a) || a < b?b:a > f?f:a;}function l(a){if(!(this instanceof l))return new l(a);this.Vd=m.qa(a)?a:void 0;}m=a(8);f=new (a(3)["default"].Console)("ASEJS_STREAM_SELECTOR","media|asejs");d.exports={console:f,debug:!1,assert:function(a,b){if(!a)throw (a=b?" : " + b:"",f.error("Assertion failed" + a),Error("ASEJS_STREAM_SELECTOR assertion failed" + a));},PK:c,zja:function(a,b,f){var k,q,v,l;function c(b){var c;c=a[b];if(!c.xs || f && !f(c,b))return !1;l=b;return !0;}k=a.length;q=0;v=k;m.isArray(b) && (q=h(b[0],0,k),v=h(b[1],0,k),b=b[2]);b=h(b,q - 1,v);for(k=b - 1;k >= q;--k){if(c(k))return l;}for(k=b + 1;k < v;++k){if(c(k))return l;}return -1;},gIb:function(a,b){return Math.floor(a / (125 * b) * 1E3);},emb:function(a,b){return Math.ceil(a / 1E3 * b * 125);},M6b:function(a,b){return !a.slice(b + 1).some(c);},oo:l,Qg:function(a,b){var f;return a.some(function(a,c,k){f=a;return b(a,c,k);})?f:void 0;},Iw:function(a,b){var f;return a.some(function(a,c,k){f=c;return b(a,c,k);})?f:-1;},W_:h};},function(d,b,a){var m,f,k;function c(a){var b,f,c,l;c=Object.getOwnPropertyNames(a);for(a=Object.getPrototypeOf(a);a !== Object.prototype;){try{for(var k=(b=void 0,m.__values(Object.getOwnPropertyNames(a))),q=k.next();!q.done;q=k.next()){l=q.value;-1 === c.indexOf(l) && c.push(l);}}catch(I){b={error:I};}finally{try{q && !q.done && (f=k["return"]) && f.call(k);}finally{if(b)throw b.error;}}a=Object.getPrototypeOf(a);}return c;}function h(a,b,f,c,k){var q;Object.getOwnPropertyNames(a).filter(function(a){return k(a) && (f || !Object.prototype.hasOwnProperty.call(b,a)) && (c || !((a in b)));}).forEach(function(f){q=Object.getOwnPropertyDescriptor(a,f);void 0 !== q && Object.defineProperty(b,f,q);});}function l(a,b,f,k){var q,m;q=[];f || (q=Object.getOwnPropertyNames(b));k || (q=c(b));m=Object.getPrototypeOf(a);null !== m && m !== Object.prototype && l(m,b,f,k);h(a,b,!0,!0,function(a){return "constructor" !== a && -1 === q.indexOf(a);});}Object.defineProperties(b,{__esModule:{value:!0}});b.af=b.Iob=void 0;m=a(0);f=a(5);b.Iob=l;k=Object.getOwnPropertyNames(Function);b.af=function(a,b,c,m){void 0 === c && (c=!0);void 0 === m && (m=!0);m || f.assert(!c);a.prototype?(l(a.prototype,b.prototype,c,m),h(a,b,c,m,function(a){return -1 === k.indexOf(a);})):h(a,b.prototype,c,m,function(a){return -1 === k.indexOf(a);});return b;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$y="named";b.xX="name";b.AO="unmanaged";b.hBa="optional";b.ZN="inject";b.wC="multi_inject";b.BEa="inversify:tagged";b.CEa="inversify:tagged_props";b.vaa="inversify:paramtypes";b.P7a="design:paramtypes";b.jO="post_construct";},function(d,b,a){var h;function c(a,b,f,c,q,v,r,d,B,A,y,I){this.code=void 0 === a?h.L.Wl:a;this.wd=b;this.Vg=f;this.QJ=c;this.Uu=q;this.message=v;this.fx=r;this.data=d;this.aja=B;this.XLb=A;this.alert=y;this.sfa=I;this.ja=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Bc=void 0;h=a(2);c.Ve=function(a){var b,f,c;if(a){b=a.stack;f=a.number;c=a.message;c || (c="" + a);b?(a="" + b,0 !== a.indexOf(c) && (a=c + "\n" + a)):a=c;f && (a+="\nnumber:" + f);return a;}return "";};c.prototype.ZQ=function(a){this.fx=c.Ve(a);this.data=a;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.wd,extCode:this.Vg,edgeCode:this.QJ,mslCode:this.Uu,message:this.message,details:this.fx,data:this.data,errorDisplayMessage:this.aja,playbackServiceError:this.XLb};};c.J1=function(a,b){return new c(a,h.K.ii,void 0,void 0,void 0,void 0,b.message,b.stack);};c.WXb=function(a,b,f){return new c(a,b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f);};b.Bc=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ki=void 0;b.Ki="Base64EncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ph=void 0;b.ph="SchedulerSymbol";},function(d,b,a){var m,f,k;function c(a){return function(b,f){return b.Sqa(f,a);};}function h(a,b){return a.M5.DNb[b] || l(a,b);}function l(a,b){a=a.zx.data[b];switch(typeof a){case "undefined":break;case "string":case "number":case "boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(b,"__esModule",{value:!0});b.Lo=b.ara=b.object=b.Qub=b.url=b.ba=b.ai=b.Mta=b.cDb=b.Z6=b.string=b.Iy=b.Gc=b.j3=b.config=void 0;m=a(47);f=a(4);k=a(133);b.config=function(a,b,f){f=void 0 === f?!1:f;return function(c,q,m){var r,v;r=void 0 !== b?b:q;v=m.get;void 0 !== v && (m.get=function(){var b;if(!this.VDb(q))return this.bAb(q);a:{b=(this.Yjb || f?h:l)(this,r.toString());if(void 0 !== b)if((b=a(this.tT,b),b instanceof k.mo))this.JPa(r,b);else break a;b=v.bind(this)();}this.OPb(q,b);return b;});return m;};};b.j3=function(a,b){return a.NZa(b);};b.Gc=function(a,b){return a.Oqa(b);};b.Iy=function(a,b){return a.Cp(b);};b.string=function(a,b){return a.Sqa(b);};b.Z6=function(a,f){return a.mj(f,b.string);};b.cDb=function(a,f){return a.mj(f,b.j3);};b.Mta=function(a,f){return a.mj(f,b.Iy);};b.ai=function(a,b){a=a.Cp(b);return a instanceof k.mo?a:f.Nb(a);};b.ba=function(a,b){a=a.Cp(b);return a instanceof k.mo?a:m.ba(a);};b.url=c(/^\S+$/);b.Qub=function(a){return function(b,f){return b.MZa(f,a);};};b.object=function(){return function(a,b){return a.OZa(b);};};b.ara=c;b.Lo=function(a,b){return function(f,c){return f.mj(c,a,b);};};},function(d,b,a){var l,m,f,k;function c(a,b){var f;f=k.call(this,a,b) || this;f.iMa=b;f.debug=a.debug;f.la=a.Af.wb(f.iMa);return f;}function h(a,b){this.iMa=b;this.Gqa={};this.zx=a.zx;this.tT=a.tT;this.M5=a.M5;}Object.defineProperty(b,"__esModule",{value:!0});b.Te=b.sN=b.DEa=void 0;d=a(0);l=a(574);m=a(1);f=a(133);b.DEa="isTestAccount";h.prototype.JPa=function(){};h.prototype.OPb=function(a,b){this.Gqa[a]=[b,this.zx.j6];};h.prototype.VDb=function(a){return l.uaa.of(this.Gqa[a]).map(function(a){return a[1];}).by(-1) < this.zx.j6;};h.prototype.bAb=function(a){return l.uaa.of(this.Gqa[a]).map(function(a){return a[0];}).by(function(){throw Error("Invalid State Error");});};ma.Object.defineProperties(h.prototype,{Yjb:{configurable:!0,enumerable:!0,get:function(){var a,c;if(this && this.zx && this.zx.data){a=this.zx.data[b.DEa];"undefined" !== typeof a && (c=a.toString());a=this.tT.Oqa(c);a=a instanceof f.mo?!1:a;}else a=!1;return a;}}});k=h;k=d.__decorate([m.O(),d.__param(0,m.Hi()),d.__param(1,m.Hi())],k);b.sN=k;L(c,k);c.prototype.JPa=function(a,b){this.la.error("Invalid configuration value.",{name:a},b);this.debug.assert(!1);};a=c;a=d.__decorate([d.__param(0,m.Hi()),d.__param(1,m.Hi())],a);b.Te=a;},function(d,b,a){var q,v,r,u,B,A,y;function c(){var a,f;if(a=b.l2.THa)return a;a=A.DX.search.substr(1);f=a.indexOf("#");0 <= f && (a=a.substr(0,f));a=h(a);return b.l2.THa=a;}function h(a){for(var b=/[+]/g,f=(a || "").split("&"),c={},k,q=0;q < f.length;q++){a=u.trim(f[q]);k=a.indexOf("=");0 <= k?c[decodeURIComponent(a.substr(0,k).replace(b,"%20")).toLowerCase()]=decodeURIComponent(a.substr(k + 1).replace(b,"%20")):c[a.toLowerCase()]=null;}return c;}function l(a){return (a=(/function (.{1,})\(/).exec(a.toString())) && 1 < a.length?a[1]:"";}function m(a){return l(a.constructor);}function f(a){return A.sort.call(a,function(a,b){return a - b;});}function k(a){for(var b=0,f=a.length;f--;){b+=a[f];}return b;}Object.defineProperty(b,"__esModule",{value:!0});b.mMb=b.RR=b.DQa=b.B3=b.iMb=b.LTa=b.I6a=b.J6a=b.nwb=b.Nr=b.gob=b.dK=b.Evb=b.tF=b.$5a=b.c8=b.a6a=b.UV=b.Nua=b.Z5a=b.ZCb=b.bE=b.QMb=b.qpa=b.mka=b.getFunctionName=b.AL=b.DT=b.l2=b.Uzb=b.JZa=b.YIa=b.oMa=b.MNb=b.Xz=b.WLa=void 0;q=a(11);v=a(18);r=a(7);u=a(23);B=a(26);A=a(10);y=a(15);b.WLa=function(a,b){if(a === b)return !0;if(!a || !b)return !1;for(var f in a){if(a.hasOwnProperty(f) && (!b.hasOwnProperty(f) || a[f] !== b[f]))return !1;}return !0;};b.Xz=b.Xz || (function(a,b){if(a.length == b.length){for(var f=a.length;f--;){if(a[f] != b[f])return !1;}return !0;}return !1;});b.MNb=function(a){var b;if(a){b=a.length;if(b)return (b=u.Lqa(0,b - 1),a[b]);}};b.oMa=function(a,b){if(a.length != b.length)return !1;a.sort();b.sort();for(var f=a.length;f--;){if(a[f] !== b[f])return !1;}return !0;};b.YIa=function(a,b,f){function c(){a.removeEventListener(b,c);f.apply(this,arguments);}a.addEventListener(b,c);};b.JZa=function(){var a,b,f,c,k,q;a=A.Ke.cookie.split("; ");b=a.length;q={};for(f=0;f < b;f++){if(c=u.trim(a[f]))(k=c.indexOf("="),0 < k && (q[c.substr(0,k)]=c.substr(k + 1)));}return q;};b.Uzb=c;b.l2=Object.assign(c,{THa:void 0});b.DT=h;b.AL=function(a){var b;b="";u.Rd(a,function(a,f){b && (b+="&");v.fb(B.te(f) || y.qa(f) || y.Fma(f));b+=encodeURIComponent(a) + "=" + encodeURIComponent(f);});return b;};b.getFunctionName=l;b.mka=m;b.qpa=function(a){var b;b="";y.isArray(a) || y.Yma(a)?b=A.reduce.call(a,function(a,b){return a + (32 <= b && 128 > b?A.wEa(b):".");},""):B.te(a)?b=a:u.Rd(a,function(a,f){b+=(b?", ":"") + "{" + a + ": " + (y.vc(f)?l(f) || "function":f) + "}";});return "[" + m(a) + " " + b + "]";};b.QMb=function(a,b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b);};b.bE=b.bE || (function(a){var b;b="";u.Rd(a,function(a,f){b+=(b?";":"") + a + ":" + f;});return b;});b.ZCb=function(a,b){var f;f=a[0];if(b <= f[0])return f.slice(1);for(var c=1,k;k=a[c++];){if(b <= k[0]){a=(b - f[0]) / (k[0] - f[0]);b=[];for(c=1;c < f.length;c++){b.push((f[c] || 0) + a * ((k[c] || 0) - (f[c] || 0)));}return b;}f=k;}return f.slice(1);};b.Z5a=function(a,b){var k;for(var f={},c=0;c < b.length;c++){k=b[c];if("string" != typeof k && "number" != typeof k)return !1;f[b[c]]=1;}for(c=0;c < a.length;c++){if((k=a[c],!f[k]))return !1;}return !0;};b.Nua=function(a,b){0 > a.indexOf(b) && a.push(b);};b.UV=f;b.a6a=k;b.c8=function(a,b){var f,c,k,q;f=-1;c=a.length;if(1 === arguments.length){for(;++f < c && !(null != (k=a[f]) && k <= k);){k=void 0;}for(;++f < c;){null != (q=a[f]) && q > k && (k=q);}}else {for(;++f < c && !(null != (k=b.call(a,a[f],f)) && k <= k);){k=void 0;}for(;++f < c;){null != (q=b.call(a,a[f],f)) && q > k && (k=q);}}return k;};b.$5a=function(a,b){var f,c,k,q;f=-1;c=a.length;if(1 === arguments.length){for(;++f < c && !(null != (k=a[f]) && k <= k);){k=void 0;}for(;++f < c;){null != (q=a[f]) && k > q && (k=q);}}else {for(;++f < c && !(null != (k=b.call(a,a[f],f)) && k <= k);){k=void 0;}for(;++f < c;){null != (q=b.call(a,a[f],f)) && k > q && (k=q);}}return k;};b.tF=function(a){return y.vc(a.then)?a:new Promise(function(b,f){a.oncomplete=function(){b(a.result);};a.onerror=function(){f(a.error);};});};b.Evb=function(a,b){var k,q,m,r,v,l;function c(a){0 > k.indexOf(a) && y.qa(a) && k.push(a);}a=a.slice();f(a);k=[];if(!b || !b.length)return a;if(!a.length)return [];q=b.length;try{for(;q--;){v="" + b[q];l=B.de(v);switch(v[v.length - 1]){case "-":for(m=a.length;m--;){if((r=a[m],r < l)){c(r);break;}}break;case "+":for(m=0;m < a.length;m++){if((r=a[m],r > l)){c(r);break;}}break;default:0 <= a.indexOf(l) && c(l);}}}catch(sa){}k.length || k.push(a[0]);f(k);return k;};b.dK=b.dK || (function(a,b,f){var c;a / b > f?(c=A.ki(b * f),a=b):(c=a,a=A.ki(a / f));return {width:c,height:a};});b.gob=function(a,b,f){for(var c=[],q=0;q < b;q++){c.push(A.qX(a[q] - f,2));}return A.pAa(k(c) / c.length);};b.Nr=function(a,b){var f;f=a.length;b=(f - 1) * b + 1;if(1 === b)return a[0];if(b == f)return a[f - 1];f=A.Nv(b);return a[f - 1] + (b - f) * (a[f] - a[f - 1]);};b.nwb=function(a,b){if(!y.isArray(a))throw Error("boxes is not an array");if(0 >= a.length)throw Error("There are no boxes in boxes");b=y.isArray(b)?b:[b];for(var f=a.length,c=0;c < f;c++){for(var k=0;k < b.length;k++){if(a[c].type == b[k])return a[c];}}throw Error("Box not found " + b);};b.J6a=function(a){return a.byb("trak/mdia/minf/stbl/stsd/" + q.Bva + "|" + q.Cva).children.filter(function(a){return "sinf" == a.type && "cenc" == a.T5b.schm.T8b;})[0].byb("schi/tenc").pp;};b.I6a=function(a){var f;function b(a,b){var c;c=f[a];f[a]=f[b];f[b]=c;}f=new Uint8Array(a);b(0,3);b(1,2);b(4,5);b(6,7);return f;};b.LTa=function(){return y.vc(A.Se.requestMediaKeySystemAccess);};b.iMb=function(a){return function(b){return b && b[a];};};y.vc(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(a,b){var f,c;void 0 === a && (a=0);void 0 === b && (b=this.byteLength);a=Math.floor(a);b=Math.floor(b);0 > a && (a+=this.byteLength);0 > b && (b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0 >= b - a)return new ArrayBuffer(0);f=new ArrayBuffer(b - a);c=new Uint8Array(f);a=new Uint8Array(this,a,b - a);c.set(a);return f;});b.B3=function(a){return a && 0 == a.toLowerCase().indexOf("https");};b.DQa=function(){var a,b;a=new ArrayBuffer(4);b=new Uint8Array(a);a=new Uint32Array(a);b[0]=161;b[1]=178;b[2]=195;b[3]=212;return 3569595041 == a[0]?"LE":2712847316 == a[0]?"BE":"undefined";};b.RR=function(){var a,b,f;try{a=/playercore.*js/;b=A.It.getEntries("resource").filter(function(b){return null !== a.exec(b.name);});if(b && 0 < b.length){f=A.ki(b[0].duration);return JSON.stringify(f);}}catch(U){}};b.mMb=function(a,b,f){if(a && a.length){if(f && f.vnb)try{a.forEach(function(a,c){var k;k=(c=f.vnb[c]) && c.media;k && B.te(k)?(!1,k=r.jq(k).buffer,a.media={arrayBuffer:k,length:k.byteLength,stream:b,Hc:c.cdn}):r.log.warn("chunk not in cache",a.Eh);});}catch(U){r.log.error("error reading cached chunks",U);}else r.log.warn("chunks not available in cached stream",f.type);}else r.log.warn("chunks not available in mediabuffer",f.type);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pt=b.Lg=b.Oh=void 0;b.Oh={OUa:"logblob",pa:"manifest",ri:"license",events:"events",bind:"bind",WXa:"pair",ping:"ping",config:"config"};d=b.Lg || (b.Lg={});d[d.Bt=20]="High";d[d.caa=10]="Medium";d[d.jH=0]="Low";b.Pt={Lg:"reqPriority",Xbb:"reqAttempt",Ybb:"reqName",O6a:"browsername",P6a:"browserversion",Jab:"osname",Kab:"osversion",s7a:"clienttype",Vcb:"uiversion"};},function(d,b,a){var l;function c(a){return l.BO.apply(this,arguments) || this;}function h(a){return new l.pr(a,b.iC);}Object.defineProperty(b,"__esModule",{value:!0});b.nb=b.JAa=b.v$=b.vt=b.iC=b.pHb=b.GEb=b.ba=b.qQ=b.R6a=void 0;l=a(293);L(c,l.BO);b.R6a=c;b.qQ=h;b.ba=function(a){return new l.pr(a,b.vt);};b.GEb=function(a){return new l.pr(a,b.v$);};b.pHb=function(a){return new l.pr(a,b.JAa);};b.iC=new c(1,"b");b.vt=new c(8 * b.iC.Gf,"B",b.iC);b.v$=new c(1024 * b.vt.Gf,"KB",b.iC);b.JAa=new c(1024 * b.v$.Gf,"MB",b.iC);b.nb=h(0);},function(d,b,a){var c,h,l,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.fIb=b.platform=b.vn=b.Ac=b.Zyb=b.PR=b.FE=b.eVa=b.HH=b.If=b.ZC=void 0;c=a(0);c.__exportStar(a(384),b);c.__exportStar(a(815),b);c.__exportStar(a(816),b);c.__exportStar(a(817),b);h=a(93);Object.defineProperties(b,{ZC:{enumerable:!0,get:function(){return h.ZC;}}});c.__exportStar(a(21),b);l=a(69);Object.defineProperties(b,{If:{enumerable:!0,get:function(){return l.If;}}});m=a(226);Object.defineProperties(b,{HH:{enumerable:!0,get:function(){return m.HH;}}});b.eVa=function(f){b.platform.lS(f);return a(830).fAa;};b.FE=function(f){b.platform.lS(f);return Promise.resolve().then(function(){return c.__importStar(a(256));}).then(function(a){return a.FE();});};b.PR=function(f,q){b.platform.lS(f);return Promise.resolve().then(function(){return c.__importStar(a(439));}).then(function(a){return a.PR(q);});};b.Zyb=function(){return a(229);};d=c.__importDefault(a(25));b.Ac=d["default"];d=a(1030);b.vn=d.vn;d=c.__importDefault(a(3));b.platform=d["default"];f=a(1031);b.fIb=function(){return {Zy:f.Zy};};},function(d,b,a){var h,l,m,f,k;function c(){return h.ae.get(m.Fd).YE.ca(k.ga);}Object.defineProperty(b,"__esModule",{value:!0});b.Pnb=b.Zga=b.KLa=b.Nnb=b.Onb=b.X_=b.ni=void 0;h=a(286);l=a(35);m=a(19);f=a(90);k=a(4);b.ni=function(){return h.ae.get(m.Fd).Bb().ca(k.ga);};b.X_=function(){return h.ae.get(l.hh).Be.ca(k.Ym);};b.Onb=function(){return h.ae.get(m.Fd).YE.ca(k.Ym);};b.Nnb=function(){return h.ae.get(f.Kv).cA();};b.KLa=c;b.Zga=function(){return h.ae.get(l.hh).Be.ca(k.ga);};b.Pnb=function(){return c();};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$k=void 0;b.$k="PboCommandContextSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B$=b.Tm=b.nX=void 0;b.nX="LogBatcherConfigSymbol";b.Tm="LogBatcherSymbol";b.B$="LogBatcherProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.s8a="Cannot apply @injectable decorator multiple times.";b.t8a="Metadata key was used more than once in a parameter:";b.eO="NULL argument";b.jza="Key Not Found";b.z5a="Ambiguous match found for serviceIdentifier:";b.S6a="Could not unbind serviceIdentifier:";b.wab="No matching bindings found for serviceIdentifier:";b.V$a="Missing required @injectable annotation in:";b.W$a="Missing required @inject or @multiInject annotation in:";b.Wcb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.V6a="Circular dependency found:";b.S0b="Sorry, this feature is not fully implemented yet.";b.j$a="Invalid binding type:";b.xab="No snapshot available to restore.";b.n$a="Invalid return type in middleware. Middleware must return!";b.m$a="Value provided to function binding must be a function!";b.p$a="The toSelf function can only be applied when a constructor is used as service identifier";b.k$a="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.A5a=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.j7a="Invalid Container constructor argument. Container options must be an object.";b.h7a="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.g7a="Invalid Container option. Auto bind injectable must be a boolean";b.i7a="Invalid Container option. Skip base check must be a boolean";b.iab="Cannot apply @postConstruct decorator multiple times in the same class";b.Cbb=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.W6a=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return "It looks like there is a circular dependency " + ("in one of the '" + a[0] + "' bindings. Please investigate bindings with") + ("service identifier '" + a[1] + "'.");};b.pcb="Maximum call stack size exceeded";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.In=b.LTb=b.nXa=void 0;b.nXa=function(a,b){return a - b;};b.LTb=function(a,b){return a.localeCompare(b);};b.In=function(a,b){var c;c=Object.getOwnPropertyDescriptor(a,b);c && Object.defineProperty(a,b,{configurable:c.configurable,enumerable:!1,value:c.value,writable:c.writable});};},function(d,b,a){var c,h;c=a(119);h=a(166);d.exports=function(a){return function f(b,q){switch(arguments.length){case 0:return f;case 1:return h(b)?f:c(function(f){return a(b,f);});default:return h(b) && h(q)?f:h(b)?c(function(b){return a(b,q);}):h(q)?c(function(f){return a(b,f);}):a(b,q);}};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ic=void 0;b.Ic=function(a){return setTimeout(a,0);};},function(d,b){function a(){}function c(){}function h(){}Object.defineProperty(b,"__esModule",{value:!0});b.Vl=b.lf=b.P=void 0;b.P=h;h.MN="playready-h264mpl30-dash";h.$G="playready-h264mpl31-dash";h.N9="playready-h264mpl40-dash";h.i9a="playready-h264hpl22-dash";h.IW="playready-h264hpl30-dash";h.JW="playready-h264hpl31-dash";h.M9="playready-h264hpl40-dash";h.V9="hevc-main10-L30-dash-cenc";h.W9="hevc-main10-L31-dash-cenc";h.X9="hevc-main10-L40-dash-cenc";h.Y9="hevc-main10-L41-dash-cenc";h.bH="hevc-main10-L50-dash-cenc";h.cH="hevc-main10-L51-dash-cenc";h.UW="hevc-main10-L30-dash-cenc-prk";h.WW="hevc-main10-L31-dash-cenc-prk";h.YW="hevc-main10-L40-dash-cenc-prk";h.$W="hevc-main10-L41-dash-cenc-prk";h.VW="hevc-main10-L30-dash-cenc-prk-do";h.XW="hevc-main10-L31-dash-cenc-prk-do";h.ZW="hevc-main10-L40-dash-cenc-prk-do";h.aX="hevc-main10-L41-dash-cenc-prk-do";h.bX="hevc-main10-L50-dash-cenc-prk-do";h.cX="hevc-main10-L51-dash-cenc-prk-do";h.EN="hevc-dv5-main10-L30-dash-cenc-prk";h.FN="hevc-dv5-main10-L31-dash-cenc-prk";h.QG="hevc-dv5-main10-L40-dash-cenc-prk";h.GN="hevc-dv5-main10-L41-dash-cenc-prk";h.HN="hevc-dv5-main10-L50-dash-cenc-prk";h.pW="hevc-dv5-main10-L51-dash-cenc-prk";h.kW="hevc-dv5-main10-L30-dash-cenc-prk-do";h.lW="hevc-dv5-main10-L31-dash-cenc-prk-do";h.mW="hevc-dv5-main10-L40-dash-cenc-prk-do";h.nW="hevc-dv5-main10-L41-dash-cenc-prk-do";h.oW="hevc-dv5-main10-L50-dash-cenc-prk-do";h.qW="hevc-dv5-main10-L51-dash-cenc-prk-do";h.O9="hevc-hdr-main10-L30-dash-cenc";h.P9="hevc-hdr-main10-L31-dash-cenc";h.Q9="hevc-hdr-main10-L40-dash-cenc";h.R9="hevc-hdr-main10-L41-dash-cenc";h.S9="hevc-hdr-main10-L50-dash-cenc";h.T9="hevc-hdr-main10-L51-dash-cenc";h.PN="hevc-hdr-main10-L30-dash-cenc-prk";h.QN="hevc-hdr-main10-L31-dash-cenc-prk";h.aH="hevc-hdr-main10-L40-dash-cenc-prk";h.RN="hevc-hdr-main10-L41-dash-cenc-prk";h.SN="hevc-hdr-main10-L50-dash-cenc-prk";h.TN="hevc-hdr-main10-L51-dash-cenc-prk";h.LW="hevc-hdr-main10-L30-dash-cenc-prk-do";h.MW="hevc-hdr-main10-L31-dash-cenc-prk-do";h.NW="hevc-hdr-main10-L40-dash-cenc-prk-do";h.OW="hevc-hdr-main10-L41-dash-cenc-prk-do";h.PW="hevc-hdr-main10-L50-dash-cenc-prk-do";h.QW="hevc-hdr-main10-L51-dash-cenc-prk-do";h.iFa="vp9-profile0-L21-dash-cenc";h.JH="vp9-profile0-L30-dash-cenc";h.KH="vp9-profile0-L31-dash-cenc";h.DO="vp9-profile0-L40-dash-cenc";h.wua="av1-main-L20-dash-cbcs-prk";h.xua="av1-main-L21-dash-cbcs-prk";h.yua="av1-main-L30-dash-cbcs-prk";h.zua="av1-main-L31-dash-cbcs-prk";h.Aua="av1-main-L40-dash-cbcs-prk";h.Bua="av1-main-L41-dash-cbcs-prk";h.Cua="av1-main-L50-dash-cbcs-prk";h.Dua="av1-main-L51-dash-cbcs-prk";h.acb=[h.MN];h.l9a=[h.$G,h.N9];h.Ucb=[h.V9,h.W9,h.X9,h.Y9,h.bH,h.cH];h.Scb=[h.UW,h.WW,h.YW,h.$W,h.bH,h.cH];h.Tcb=[h.VW,h.XW,h.ZW,h.aX,h.bX,h.cX];h.I_b=[h.O9,h.P9,h.Q9,h.R9,h.S9,h.T9];h.k9a=[h.PN,h.QN,h.aH,h.RN,h.SN,h.TN];h.j9a=[h.LW,h.MW,h.NW,h.OW,h.PW,h.QW];h.FZb=[h.EN,h.QG,h.HN,h.FN,h.GN,h.pW];h.EZb=[h.kW,h.mW,h.oW,h.lW,h.nW,h.qW];h.GZb=[h.EN,h.FN,h.QG,h.GN,h.HN];h.V5a=[h.IW,h.JW,h.M9];h.cdb=[h.JH,h.KH,h.DO];h.YC=[h.iFa,h.JH,h.KH,h.DO];h.P5a=[h.wua,h.xua,h.yua];h.O5a=[h.zua,h.Aua,h.Bua];h.Q5a=[h.Cua,h.Dua];h.Yj=[].concat(h.P5a,h.O5a,h.Q5a);h.h9a=h.acb.concat(h.l9a);h.H_b=h.Ucb;b.lf=c;c.RW="heaac-2-dash";c.dya="heaac-5.1-dash";c.SW="heaac-2hq-dash";c.FO="xheaac-dash";c.hW="ddplus-2.0-dash";c.N8="ddplus-5.1-dash";c.iW="ddplus-atmos-dash";c.U9="playready-heaac-2-dash";c.K_b="heaac-2-dash-enc";c.oZb="ddplus-2.0-dash-enc";c.pZb="ddplus-5.1-dash-enc";c.J_b="playready-heaac-2-dash-enc";b.Vl=a;a.lcb="simplesdh";a.Q8="dfxp-ls-sdh";a.oH="nflx-cmisc";a.J2b="simplesdh-enc";a.xZb="dfxp-ls-sdh-enc";a.AX="nflx-cmisc-enc";},function(d,b,a){var h,l;function c(a,f){var k;k=b.no[0];k == f && (k=b.no[1]);k?k.close(function(){c(a,f);}):a && a(h.ke);}Object.defineProperty(b,"__esModule",{value:!0});b.rCa=b.qCa=b.eba=b.fba=b.zH=b.hba=b.gba=b.kba=b.jba=b.no=b.lba=b.iba=void 0;h=a(11);l=a(18);b.iba=c;b.lba=function(a,f){switch(a){case b.gba:b.jba.push(f);return;case b.hba:b.kba.push(f);return;}l.fb(!1);};b.no=[];b.jba=[];b.kba=[];b.gba=1;b.hba=3;b.zH={index:0,cIb:void 0,Fja:void 0};b.fba="network";b.eba="media";b.qCa="timedtext";b.rCa="playback";},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.y2=b.wK=b.z2=b.FA=b.wm=b.Xe=void 0;d=a(68);c=a(55);h=a(10);b.Xe=new d.tj();b.wm=1;b.FA=2;b.z2=3;b.wK=4;b.y2=5;c.Ic(function(){var c,f,k;function a(a,b){if(f)f.on(a,b);else ja.addEventListener(a,b);}c=ja.jQuery;f=c && c(ja);c=(c=ja.netflix) && c.cadmium && c.cadmium.addBeforeUnloadHandler;k=h.Ke.hidden;c?c(function(a){b.Xe.ec(b.wm,a);}):a("beforeunload",function(a){b.Xe.ec(b.wm,a);});a("keydown",function(a){b.Xe.ec(b.FA,a);});a("resize",function(){b.Xe.ec(b.z2);});h.Ke.addEventListener("visibilitychange",function(){k !== h.Ke.hidden && (k=h.Ke.hidden,b.Xe.ec(b.wK));});});(function(){ja.addEventListener("error",function(a){b.Xe.ec(b.y2,a);return !0;});})();},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);d=(function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key === c.$y?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return a;})();b.Metadata=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qp=void 0;b.Qp="EmeConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bna=b.jh=void 0;(function(a){a[a.bk=0]="STANDARD";a[a.Lv=1]="LIMITED";})(b.jh || (b.jh={}));b.Bna=function(a){return ["STANDARD","LIMITED"][a];};},function(d,b){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;("stack" in b) && (this.stack=b.stack);this.interval=a;}Object.defineProperty(b,"__esModule",{value:!0});b.az=b.ro=void 0;L(a,Error);b.ro=a;b.az="PromiseTimerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qt=b.cca=void 0;b.cca="StorageValidatorSymbol";b.qt="AppStorageFactorySymbol";},function(d,b,a){var c,h,l,m,f,k;c=this && this.__extends || (function(a,b){function f(){this.constructor=a;}for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}a.prototype=null === b?Object.create(b):(f.prototype=b.prototype,new f());});h=a(301);d=a(115);l=a(199);m=a(200);f=(function(a){function b(b,c,q){var r;a.call(this);this.nG=null;this.Xg=this.ao=this.mG=!1;switch(arguments.length){case 0:this.destination=l.empty;break;case 1:if(!b){this.destination=l.empty;break;}if("object" === typeof b){if(b instanceof f || ("syncErrorThrowable" in b) && b[m.UF]){r=b[m.UF]();this.ao=r.ao;this.destination=r;r.add(this);}else (this.ao=!0,this.destination=new k(this,b));break;}default:(this.ao=!0,this.destination=new k(this,b,c,q));}}c(b,a);b.prototype[m.UF]=function(){return this;};b.create=function(a,f,c){a=new b(a,f,c);a.ao=!1;return a;};b.prototype.next=function(a){this.Xg || this.cm(a);};b.prototype.error=function(a){this.Xg || (this.Xg=!0,this.pf(a));};b.prototype.complete=function(){this.Xg || (this.Xg=!0,this.le());};b.prototype.unsubscribe=function(){this.closed || (this.Xg=!0,a.prototype.unsubscribe.call(this));};b.prototype.cm=function(a){this.destination.next(a);};b.prototype.pf=function(a){this.destination.error(a);this.unsubscribe();};b.prototype.le=function(){this.destination.complete();this.unsubscribe();};b.prototype.Gib=function(){var a,b;a=this.Zp;b=this.mD;this.mD=this.Zp=null;this.unsubscribe();this.Xg=this.closed=!1;this.Zp=a;this.mD=b;};return b;})(d.dz);b.qo=f;k=(function(a){function b(b,f,c,k){var q;a.call(this);this.sP=b;b=this;h.vc(f)?q=f:f && (q=f.next,c=f.error,k=f.complete,f !== l.empty && (b=Object.create(f),h.vc(b.unsubscribe) && this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this)));this.fk=b;this.cm=q;this.pf=c;this.le=k;}c(b,a);b.prototype.next=function(a){var b;if(!this.Xg && this.cm){b=this.sP;b.ao?this.Hca(b,this.cm,a) && this.unsubscribe():this.Ica(this.cm,a);}};b.prototype.error=function(a){var b;if(!this.Xg){b=this.sP;if(this.pf)(b.ao?this.Hca(b,this.pf,a):this.Ica(this.pf,a),this.unsubscribe());else if(b.ao)(b.nG=a,b.mG=!0,this.unsubscribe());else throw (this.unsubscribe(),a);}};b.prototype.complete=function(){var a,b,f;a=this;if(!this.Xg){b=this.sP;if(this.le){f=function(){return a.le.call(a.fk);};b.ao?this.Hca(b,f):this.Ica(f);}this.unsubscribe();}};b.prototype.Ica=function(a,b){try{a.call(this.fk,b);}catch(B){throw (this.unsubscribe(),B);}};b.prototype.Hca=function(a,b,f){try{b.call(this.fk,f);}catch(A){return (a.nG=A,a.mG=!0);}return !1;};b.prototype.Oea=function(){var a;a=this.sP;this.sP=this.fk=null;a.unsubscribe();};return b;})(f);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mH=b.ez=void 0;b.ez="TimingApiSymbol";b.mH="MilestoneTimingApiSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ur=void 0;b.ur="PboConfigSymbol";},function(d,b,a){var v,r,u,B,A,y,I,J,g,U,S,O,Y,n,p,sa;function c(a){var b,f,c,k;b=a.url.split("?");f=b[0];c="sc=" + a.uQb;k=a.VKa?"random=" + (1E17 * S.yC()).toFixed(0):"";f=b[1]?f + ("?" + b[1] + "&" + c):f + ("?" + c);f=f + (k?"&" + k:"");a.Hc && !B.B3(f) && (a=r.config && r.config.Iga) && (f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function h(a){var b,f,c,k;b=a.url.split("?");f=b[0];c="bb_reason=" + a.reason;k=a.VKa?"random=" + (1E17 * S.yC()).toFixed(0):"";f=b[1]?f + ("?" + b[1] + "&" + c):f + ("?" + c);f=f + (k?"&" + k:"");a.Hc && !B.B3(f) && (a=r.config && r.config.Iga) && (f=a.replace("{URL}",f).replace("{EURL}",encodeURIComponent(f)));return f;}function l(a,b){var f,c,k,q;f=a.url.split("?");c=f[0];k=m(a);k && (b.Tq=k,(void 0 === a.kt?r.config.kt:a.kt)?(a.headers=a.headers || ({}),a.headers.Range="bytes=" + k):(b.Tq=k,c="/" == c[c.length - 1]?c + "range/":c + "/range/",c+=k));k=a.VKa?"random=" + (1E17 * S.yC()).toFixed(0):"";r.config.lA && a.K6 && (q="sc=" + a.K6,k=q + (k?"&" + k:""));c=f[1]?c + ("?" + f[1] + (k?"&" + k:"")):c + (k?"?" + k:"");a.Hc && !B.B3(c) && (a=r.config && r.config.Iga) && (c=a.replace("{URL}",c).replace("{EURL}",encodeURIComponent(c)));b.url=c;}function m(a){var b;b=a.offset;if(void 0 !== b)return (g.UQ(b),void 0 !== a.length?(a=a.offset + a.length - 1,g.UQ(a),b + "-" + a):b + "-");}function f(){return !1 !== S.Se.onLine;}function k(a,f,c,k){var q,m;q=k.lqa;m=k.headers;a.open(q?"POST":"GET",f,!c);switch(k.responseType){case b.gS:a.responseType="arraybuffer";break;case b.$la:U.dLa(a,"overrideMimeType",void 0,"text/xml");}q && (f={"Content-Type":y.te(q)?"text/plain":"application/x-octet-stream"},m=m?y.Hb(f,m):f);m && U.Rd(m,function(b,f){a.setRequestHeader(b,f);});k.withCredentials && (a.withCredentials=!0);void 0 !== a.msCaching && (a.msCaching="disabled");q?a.send(q):a.send();}function q(a,f){switch(f.type){case b.gS:return a.response || new ArrayBuffer(0);case b.$la:return a.responseXML;default:return a.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.gS=b.$la=b.Zla=b.ama=b.S2=b.NSa=b.MSa=b.Q2=b.ldb=b.mdb=b.fCb=b.R2=b.cCb=b.dCb=b.bCb=b.eCb=b.gf=void 0;v=a(68);r=a(12);u=a(11);B=a(45);A=a(49);y=a(26);I=a(2);J=a(7);g=a(18);U=a(23);S=a(10);O=a(55);Y=a(15);n=a(29);p={fca:1,G3b:2,h6a:3};b.gf=(function(){var B,D,U,S;function a(a){var b;try{b=a.url;Y.$ma(b)?0 === b.indexOf("https")?S.ssl++:0 === b.indexOf("http")?S["non-ssl"]++:S.invalid++:S.invalid++;}catch(Ma){}}function m(){D.ec(b.NSa);D.ec(b.ama);}function d(){D.ec(b.S2);D.ec(b.ama);}B=J.Bh("Http");D=new v.tj();U=0;S={ssl:0,"non-ssl":0,invalid:0};J.ha.get(n.qg).register(I.L.Rya,function(a){r.config.UWb && (ja.addEventListener("online",m),ja.addEventListener("offline",d),b.R2=f);a(u.ke);});return {addEventListener:D.addListener,removeEventListener:D.removeListener,download:function(f,c){var p,da,ea,P,t,ta,Z,ca,aa,Ca,ua;function m(){var a;m=y.mh;ua && (clearTimeout(ua),ua=null);D.removeListener(b.S2,u);aa && (aa.onloadstart=null,aa.onreadystatechange=null,aa.onprogress=null,aa.onerror=null,aa.onload=null,aa=aa.onabort=null);ca.ja?!1:ca.ka != I.K.Sy?p.warn("Download failed",da,I.nr(ca)):p.trace("Download aborted",da);a=ea;ea=void 0;for(var f=a.length;f--;){(function(){var b;b=a[f];O.Ic(function(){b(ca);});})();}D.ec(b.MSa,ca,!0);}function v(){ua && (clearTimeout(ua),ua=null);ua=setTimeout(S,Ca?Z:ta);}function d(a,b,f,c){var k,q;ca.ja=!1;ca.ka=a;k=A.ni();q=ca.xl;q.Kh=q.Kh || k;q.Rn=q.Rn || k;0 < b && (ca.cj=ca.Oe=b);f && (ca.Ab=f);c && (ca.BB=c);a !== I.K.UN && a !== I.K.qC && a !== I.K.XN || !aa || (aa.onabort=null,n());m();}function h(a){var b,f;try{f=a.getResponseHeader("X-Netflix.Retry.Server.Policy");f && (b=JSON.parse(f));}catch(sb){!1;}return b;}function u(){b.R2() || d(I.K.UN);}function S(){d(Ca?I.K.qC:I.K.XN);}function n(){try{aa && aa.abort();}catch(Mb){}}function E(){d(I.K.Sy);}g.fb(c);p=f.j && f.j.log && J.Ch(f.j,"Http") || B;da={Num:U++};ea=[c];P={};ta=f.f0 || r.config.f0;Z=f.cpa || r.config.cpa;a(f);!1;ca=(function(){var a,b,c;a=y.mh;b=y.mh;c=y.mh;return {request:f,type:f.responseType,xl:P,abort:n,timeout:S,bfa:function(a){m !== y.mh && (g.fb(ea,"Callback should be added before download starts."),ea && ea.unshift(a));},a5:function(a){c(a);},b5:function(b){a(b);},sF:function(a){b(a);},zRb:function(a){c=a;},HRb:function(b){a=b;},tRb:function(a){b=a;}};})();O.Ic(function(){var a,c;if(Y.$ma(f.url))try{if((l(f,ca),t=ca.url,g.FJ(t),da.Url=t,b.R2())){!1;aa=new XMLHttpRequest();a=r.config.ZWb && "undefined" != typeof aa.onloadstart;a && (aa.onloadstart=function(){var a;a=A.ni();P.requestTime=a;ca.a5({mediaRequest:f,timestamp:a});});aa.onreadystatechange=function(){if(2 == aa.readyState){Ca=!0;P.Kh=A.ni();aa.onreadystatechange=null;v();!1;for(var a=ca,b=aa.getAllResponseHeaders().split("\n"),c=b.length,k,q,m={};c--;){if(k=b[c])(q=k.indexOf(": "),1 <= q && q < k.length - 1 && (m[k.substr(0,q)]=k.substr(q + 2)));}a.headers=m;ca.b5({timestamp:P.Kh,connect:!0,mediaRequest:f,start:P.requestTime,rt:[P.Kh - P.requestTime]});}};aa.onprogress=function(a){Ca=!0;P.wha=a.loaded;v();a={mediaRequest:f,bytes:a.loaded,timestamp:A.ni(),bytesLoaded:a.loaded};ca.b5(a);};aa.onload=function(){var a;if(m !== y.mh){g.fb(void 0 === P.Rn);P.Rn=A.ni();P.Kh=P.Kh || P.Rn;200 <= aa.status && 299 >= aa.status?(a=q(aa,ca),ca.parsed=!1,ca.content=a,ca.ja=!0):aa.status == sa?d(I.K.WN,aa.status):d(I.K.VN,aa.status,aa.response,h(aa));m();}};aa.onabort=E;aa.onerror=function(){var a,b;a=aa.status;"undefined" !== typeof r.config.EPa && (a=r.config.EPa);if(0 < a){if(a == sa)d(I.K.WN,a);else {try{b=aa.responseText;}catch(mf){}d(I.K.VN,a,b,h(aa));}}else d(I.K.YN);};c=A.ni();k(aa,t,!1,f);D.ec(b.Q2,ca,!0);a || (P.requestTime=c,ca.a5({mediaRequest:f,timestamp:c}));v();D.addListener(b.S2,u);}else O.Ic(d.bind(void 0,I.K.UN));}catch(De){p.error("Exception starting download",De,da);d(I.K.c$,void 0,y.Ve(De));}else d(I.K.jya);});return ca;},gc:S,Z7b:function(a){var b;b=new XMLHttpRequest();a=h(a);b.open("HEAD",a);b.onreadystatechange=function(){2 == b.readyState && !1;};b.send();},GSb:function(a){var b;b=new XMLHttpRequest();a=c(a);b.open("HEAD",a);b.onreadystatechange=function(){2 == b.readyState && !1;};b.send();},eNb:function(a){var b,f,c;b=new XMLHttpRequest();f=a.url;c=a.bNb;b.open("HEAD",f);b.timeout=Math.max(2 * c.LFb,r.config.yqa);b.onreadystatechange=function(){2 == b.readyState && (!1,c && c.Wu({url:f}));};b.ontimeout=b.onerror=function(){!1;c && c.jpa({url:f});};b.send();},Tbb:p};})();b.eCb=c;b.bCb=h;b.dCb=l;b.cCb=m;b.R2=u.mDa;b.fCb=f;b.mdb=k;b.ldb=q;b.Q2=1;b.MSa=2;b.NSa=3;b.S2=4;b.ama=5;b.Zla=1;b.$la=2;b.gS=3;sa=420;ja._cad_global.http=b.gf;},function(d,b,a){var h,l;function c(){var a,b;a=this;this.yr={};this.on=function(b,f,c){a.addListener(b,f,c);};this.addListener=function(b,f,c){a.yr && (a.yr[b]=a.yr[b] || new l.Dba(!0)).add(f,c);};this.removeListener=function(b,f){a.yr && a.yr[b] && a.yr[b].removeAll(f);};this.ska=function(b){return a.yr && a.yr[b]?a.yr[b].wu():[];};b=this;this.ec=function(a,f,c){var k;if(b.yr){k=b.ska(a);for(a={Ek:0};a.Ek < k.length;(a={Ek:a.Ek},a.Ek++)){c?(function(a){return function(){var b;b=k[a.Ek];h.Ic(function(){b(f);});};})(a)():k[a.Ek].call(this,f);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.tj=void 0;h=a(55);l=a(332);c.prototype.Ug=function(){this.yr=void 0;};b.tj=c;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.xDa=b.If=void 0;c=a(0);h=a(829);(function(a){a[a.iG=0]="startPlayback";a[a.pu=1]="endPlayback";a[a.ho=2]="underflow";})(b.If || (b.If={}));d=(function(){function a(a){this.config=a;this.B_a=[];}a.prototype.gm=function(a){var b,k;k=c.__read(this.config.qia.filter(function(b){return b.vk === a.vk;}),1)[0];(null !== (b=null === k || void 0 === k?void 0:k.enabled) && void 0 !== b?b:a.enabled)?this.B_a.push(a):a.Tb && a.Tb();};a.prototype.yu=function(a){var b,k,q,m,d,A;q={};m=[];try{for(var r=c.__values(this.B_a),l=r.next();!l.done;l=r.next()){d=l.value;try{A=d.yu({Lj:a});A && (d.jT?q[d.jT]=A:q=c.__assign(c.__assign({},q),A));}catch(y){m.push(y);}}}catch(y){b={error:y};}finally{try{l && !l.done && (k=r["return"]) && k.call(r);}finally{if(b)throw b.error;}}m.length && (q["rpt-error"]=new h.Hua("Reporting error",m));return q;};return a;})();b.xDa=d;},function(d,b,a){var c,h,l,m,f,k,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Lh=void 0;c=a(0);a(5);h=c.__importDefault(a(25));l=c.__importDefault(a(110));m=a(406);f=a(21);d=a(38);k=a(172);q=a(243);a=a(120);v=(function(a){function b(f,c){var k;k=a.call(this,f,c) || this;b.$a(k,f,c);return k;}c.__extends(b,a);b.$a=function(a,b,f){var c;k.tt.$a(a,b,f);a.wj=f.index;a.bI=f.Ra;a.Rt=f.jb;a.Pib=f.tb?f.tb:b.tb;a.WF=f.WF;a.QHa=f.Rk || 0;a.bHa=! !f.En;a.Chb=null !== (c=f.T5) && void 0 !== c?c:0;a.Xeb=! !f.lwb;a.Sd=void 0 === f.F1 || void 0 === f.Qja || f.F1 === f.Ra && f.Qja === f.jb?a:new q.eC(a,{Ra:f.F1,jb:f.Qja});a.fgb=f.Soa;a.tdb=f.Zi;a.yo=f.xa?a.WWa(f.xa):void 0;a.rIa=f.$s;a.ze=!1;};b.MMa=function(a){for(var b=new Uint32Array(a.length),f=new Uint32Array(a.length),c=0,k,q,r=0;r < a.length;++r){k=a[r];q=k.zc;b[r]=k.Rt - k.bI;f[r]=q;c+=q;}return new m.Wba(b,f,a.length?a[0].S:1E3,c);};Object.defineProperties(b.prototype,{RA:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{index:{get:function(){return this.wj;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tb:{get:function(){return this.Pib;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ra:{get:function(){return this.bI;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jb:{get:function(){return this.Rt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Rk:{get:function(){return this.QHa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{En:{get:function(){return this.bHa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{T5:{get:function(){return this.Chb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{lwb:{get:function(){return this.Xeb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Soa:{get:function(){return this.fgb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zi:{get:function(){return this.tdb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{xa:{get:function(){return this.yo;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$s:{get:function(){return this.rIa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{F1:{get:function(){return this.Sd.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qja:{get:function(){return this.Sd.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Cwb:{get:function(){return this.Sd.rq;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{MPa:{get:function(){return this.Sd.fqa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uA:{get:function(){return this.Sd.Rc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{G1:{get:function(){return this.Sd.ee;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{LPa:{get:function(){return this.Sd.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Rja:{get:function(){return this.Sd.Qb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Bwb:{get:function(){return this.Sd.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tA:{get:function(){return this.Cwb / this.stream.wa.xb;},enumerable:!1,configurable:!0}});b.prototype.k1a=function(a){this.QHa=a.Ge(this.S).xb;};b.prototype.sVa=function(){this.bHa=!0;};b.prototype.LRb=function(a){this.WF={od:a.rQa(),z3:a.dt};};b.prototype.GU=function(a){this.rIa=a;};b.prototype.ei=function(a){var b,f;void 0 === a && (a={});b=this.stream.wa.xb;f=this.yo || ({start:0,end:this.tA});a=this.WWa(a);this.Sd && this.Sd !== this || (this.Sd=new q.eC(this,this));a.start > f.start && (this.bI=this.Sd.Ra + a.start * b);a.end < f.end && (this.Rt=this.Sd.Ra + a.end * b);this.yo=a;};b.prototype.eR=function(a){void 0 === a && (a=1);this.yo?this.ei({start:this.yo.start + a,end:this.yo.end}):this.ei({start:a});};b.prototype.Iia=function(a){this.yo?this.ei({start:this.yo.start,end:(this.yo.end || 0) - a}):this.ei({start:0,end:-a});};b.prototype.Etb=function(){this.ei({start:0,end:0});};b.prototype.NRb=function(a){this.yo || this.ei();this.yo.N6=a;};b.prototype.awb=function(a){var c;if(!(a < this.X || a >= this.sa) && this.Zi && this.Zi.length){a=new f.T(a + 1 - this.X,1E3).Xo(this.stream.wa);for(var b=this.Zi.length - 1;0 <= b;--b){c=this.Zi[b];if(c.Sn <= a)return c;}return {Sn:0,jd:this.uA};}};b.prototype.$vb=function(a){var c;if(!(a < this.X || a >= this.sa) && this.Zi && this.Zi.length){a=new f.T(a + 1 - this.X,1E3).Xo(this.stream.wa);for(var b=this.Zi.length - 1;0 <= b;--b){c=this.Zi[b];if(c.Sn <= a)return c;}return {Sn:0,jd:this.uA};}};b.prototype.iPa=function(a,b){var c,k,q;if(!(a < this.X || a >= this.sa)){c=this.wa.xb;k=this.wa.S;q=Math.floor(this.rq / c);a=Math.min((b?Math.ceil:Math.floor)((f.T.Toa(a,k) - this.Ra + (b?-1:1) * (k / 1E3 - 1)) / c),q);c=f.T.o7(this.Ra + a * c,k);return a === q?void 0:{Sn:a,jd:c};}};b.prototype.s1=function(a){return this.I === h["default"].Ua.VIDEO?this.awb(a):this.iPa(a,!1);};b.prototype.Yvb=function(a){return this.I === h["default"].Ua.VIDEO?this.$vb(a):this.iPa(a,!0);};b.prototype.rfa=function(a){this.zc+=a.ba;this.Rt=a.jb;this.yo && (this.Sd=new q.eC(this,{Ra:this.F1,jb:this.Rt}),this.yo.end=this.tA);};b.prototype.toString=function(){return "[" + this.Da + ", " + this.U + "kbit/s, " + ("c:" + this.Qb + "-" + this.Pb + ",") + ("p:" + this.Rc + "-" + this.ee + ",d:" + this.duration + "]");};b.prototype.toJSON=function(){var a;a=k.tt.prototype.toJSON.call(this);l["default"]({index:this.index,startPts:this.X,endPts:this.sa,contentStartPts:this.Qb,contentEndPts:this.Pb,fragmentStartPts:this.uA !== this.X?this.uA:void 0,fragmentEndPts:this.G1 !== this.sa?this.G1:void 0,edit:this.xa},a);return a;};b.prototype.nPa=function(a){var b;if(this.Zi)for(var f=0;f < this.Zi.length;++f){this.Zi[f].Sn === a && (b=this.Zi[f].offset);}return b;};b.prototype.WWa=function(a){var b;b=a.start || 0;return {start:b,end:void 0 === a.end?this.tA:Math.min(this.tA,Math.max(b,0 > a.end?this.tA + a.end:a.end)),N6:a.N6,ISb:a.ISb};};return b;})(k.tt);b.Lh=v;d.af(a.fC,v);d.af(a.bC,v);},function(d,b,a){Object.defineProperties(b,{__esModule:{value:!0}});d=a(0);d.__exportStar(a(146),b);d.__exportStar(a(903),b);d.__exportStar(a(176),b);},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.vg=b.e6a=void 0;b.e6a=a;b.vg=new a();},function(d,b,a){var h,l,m,f,k;function c(a,b,f,c,k,m){this.context=a;this.errorCode=b;this.UPb=f;this.ora=k;this.EZ=m;this.name=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Mh=void 0;d=a(0);h=a(1);l=a(488);m=a(4);f=a(40);k=a(36);c.prototype.send=function(a,b,f,c,m,l,d){var q;d=void 0 === d?k.Ht.qO:d;q=this;return this.iyb(a,b,f,d,c,m,l).then(function(a){return q.context.ctb.send(a.context,a.request);});};c.prototype.iyb=function(a,b,f,c,k,m,l){var q,r;try{q=this.context.uPb.create(this.context.NE.cA(),b,f,k,c);r=this.amb(a,c,m,l);return Promise.resolve({context:r,request:q});}catch(D){return Promise.reject(D);}};c.prototype.amb=function(a,b,f,c){return {gf:this.context.gf,log:a,sk:this.name,url:this.context.MWb(l.SKa(this.context.Pf,this.context.Hh,this.name,b)),Bra:this.UPb,timeout:m.ah(59),headers:l.RKa(this.context.Hh,this.context.gA),nra:this.nra,ora:void 0 !== f?f:this.ora,Elb:c};};c.prototype.um=function(a){return a instanceof f.Bc?a:l.um(this.errorCode,a);};c.prototype.sLa=function(a){var b;b=this;a.forEach(function(a){if(b.Ima(a))throw a.error;});};c.prototype.Ima=function(a){return void 0 !== a.error;};ma.Object.defineProperties(c.prototype,{nra:{configurable:!0,enumerable:!0,get:function(){return this.EZ;}}});a=c;a=d.__decorate([h.O(),d.__param(0,h.Hi()),d.__param(1,h.Hi()),d.__param(2,h.Hi()),d.__param(3,h.Hi()),d.__param(4,h.Hi()),d.__param(5,h.Hi())],a);b.Mh=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jr={Request:"Request",Xba:"Singleton",tY:"Transient"};b.Li={mwa:"ConstantValue",nwa:"Constructor",gxa:"DynamicValue",I9:"Factory",Function:"Function",m$:"Instance",z$a:"Invalid",jDa:"Provider"};b.Xv={gwa:"ClassProperty",owa:"ConstructorArgument",wca:"Variable"};},function(d,b,a){var h,l;function c(a,b,c,q,v){a=void 0 === a?h.L.Wl:a;return l.Bc.call(this,a,b,c,void 0,void 0,q,l.Bc.Ve(v),v) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Re=void 0;h=a(2);l=a(40);L(c,l.Bc);b.Re=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qr=void 0;b.qr="MediaKeySystemAccessServicesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Et=void 0;b.Et="LogMessageFactorySymbol";},function(d,b){var h,l;function a(){}function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gv=b.Aa=b.Qi=void 0;(function(a){a[a.bk=0]="STANDARD";a[a.Lv=1]="LIMITED";a[a.R1b=2]="PREVIEW";})(h || (h={}));c.v3b="uirequest";c.P1b="prefetch_start";c.N1b="prefetch_complete";c.O1b="prefetch_delete";c.z1b="periodic_update";(function(a){a[a.HAVE_NOTHING=0]="HAVE_NOTHING";a[a.HAVE_METADATA=1]="HAVE_METADATA";a[a.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";a[a.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";a[a.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(l || (l={}));(function(a){a.K5a="asl_start";a.I5a="asl_comp";a.oYb="asl_exc";a.J5a="asl_fail";a.rcb="stf_creat";a.F9a="idb_open";a.C9a="idb_block";a.M9a="idb_upgr";a.L9a="idb_succ";a.D9a="idb_error";a.E9a="idb_invalid_state";a.H9a="idb_open_timeout";a.J9a="idb_open_wrkarnd";a.K9a="idb_storelen_exc";a.G9a="idb_open_exc";a.I9a="idb_timeout_invalid_storelen";a.cab="msl_load_data";a.eab="msl_load_no_data";a.dab="msl_load_failed";})(d=b.Qi || (b.Qi={}));(function(a){a.yaa="PlaybackRequestStart";a.xaa="PlaybackRequestEnd";a.cY="RequestPrefetchManifestStart";a.bY="RequestPrefetchManifestEnd";a.aY="RequestManifestStart";a.$X="RequestManifestEnd";a.ZX="RequestLicenseStart";a.YX="RequestLicenseEnd";a.yN="RequestTimedTextUrlStart";a.xN="RequestTimedTextUrlEnd";a.wN="RequestAudioUrlStart";a.vN="RequestAudioUrlEnd";a.AN="RequestVideoUrlStart";a.zN="RequestVideoUrlEnd";a.Y7="AppendBufferStart";a.X7="AppendBufferEnd";a.Oba="SetMediaKeysStart";a.Nba="SetMediaKeysEnd";a.GW="GenerateChallengeStart";a.FW="GenerateChallengeEnd";a.TV="ApplyLicenseStart";a.SV="ApplyLicenseEnd";})(b.Aa || (b.Aa={}));b.Gv=a;a.g0b=h;a.uMa=function(a){return ["STANDARD","LIMITED","PREVIEW"][a];};a.Q1b=c;a.Qi=d;a.gya=l;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.z9=b.Yba=b.t$=b.bca=b.$ba=b.BW=b.Sm=void 0;b.Sm={start:"start",stop:"stop",xS:"keepAlive",nR:"engage",splice:"splice"};b.BW="EventPboCommandFactorySymbol";b.$ba="StartEventPboCommandSymbol";b.bca="StopEventPboCommandSymbol";b.t$="KeepAliveEventPboCommandSymbol";b.Yba="SpliceEventPboCommandSymbol";b.z9="EngageEventPboCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kh=void 0;b.kh={audio:"audio",video:"video",m7:"timedtext",Fta:"trickplay"};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(143);b.kz=function(a){c.assert("number" === typeof a);return String.fromCharCode(a >>> 24 & 255) + String.fromCharCode(a >>> 16 & 255) + String.fromCharCode(a >>> 8 & 255) + String.fromCharCode(a & 255);};b.bGa=function(a){return a.charCodeAt(3) + (a.charCodeAt(2) << 8) + (a.charCodeAt(1) << 16) + (a.charCodeAt(0) << 24);};b.P3b=function(a,b){return Math.floor(1E3 * a / b);};},function(d,b,a){var c,h,l,m,f,k,q,v,r,u,B;Object.defineProperties(b,{__esModule:{value:!0}});b.cC=b.Ji=void 0;c=a(0);d=c.__importDefault(a(16));h=c.__importStar(a(8));l=d["default"].sg;m=c.__importDefault(a(3));f=m["default"].Vm;k=a(170);q=c.__importDefault(a(109));v=a(9);d=a(38);r=a(173);u=a(172);(function(a){a[a.vab=0]="NOTHING_APPENDED";a[a.Oab=1]="PARTIAL";a[a.Dv=2]="COMPLETE";a[a.ERROR=3]="ERROR";})(B=b.Ji || (b.Ji={}));a=(function(a){function b(b,c,k,q,m,v,d){c=a.call(this,c,k) || this;r.dC.$a(c,b,q,m,v,d);u.tt.$a(c,b,q);c.HO=b.url || q.url;c.GO=q.responseType;c.yFa=q.K6;void 0 === c.GO && (c.GO=f.Yb && !f.Yb.gM.QC?0:1);c.eg=new l();c.eg.on(c,f.ie.fBa,c.pP);c.eg.on(c,f.ie.eBa,c.hea);c.eg.on(c,f.ie.gBa,c.iea);c.eg.on(c,f.ie.hO,c.oP);c.eg.on(c,f.ie.GC,c.CI);c.LH=!1;c.pd=!1;c.Og=!1;c.$t=!1;c.YO=!1;c.kea=q.MKb;c.Gm=0;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{active:{get:function(){return this.pd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vqa:{get:function(){return this.Og;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return !this.LH && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fr:{get:function(){return this.LH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pma:{get:function(){return this.$t && !this.YO;},enumerable:!1,configurable:!0}});b.prototype.$a=function(a){r.dC.prototype.$a.call(this,a);this.uc || !this.rd.k_ && this.wc || (this.uc=q["default"].yf(),this.active && (this.uc.OF(m["default"].time.aa(),{requestId:this.zo(),Ae:this.Zb,type:this.I}),this.Og && (this.uc.qra(m["default"].time.aa()),this.connect && 0 < this.Wq.length && this.uc.Ew(this.Wq[0]))));};b.prototype.ws=function(){return this.ze || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};b.prototype.LD=function(a,b,f,c,k,q,m){this.ze=a.appendBuffer(this.response,m || v.qp(this));return {status:this.ze?B.Dv:B.ERROR};};b.prototype.Yu=function(){(this.$t=f.prototype.open.call(this,this.HO,{start:this.offset,end:this.offset + this.ba - 1},this.GO,{},void 0,void 0,this.yFa)) && this.yR(this);return this.$t;};b.prototype.abort=function(){var a;if(this.Fr)return !0;a=this.pd;this.uc && a && this.uc.QF(m["default"].time.aa(),this.Og,{requestId:this.zo(),Ae:this.Zb,type:this.I});this.LH=!0;this.Og=this.pd=!1;f.prototype.abort.call(this);this.D1(this,a,this.Pma);return !0;};b.prototype.dc=function(){7 !== this.readyState && 5 !== this.readyState && (this.G.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.eg && this.eg.clear();a.prototype.dc.call(this);};b.prototype.pP=function(){var a;a=this.ud || this.ce;k.Bv.yf().push(m["default"].time.aa() - a);this.pd || (this.pd=!0,this.mp=this.track.mp(),this.stream.H.tVa || this.uc && this.uc.OF(a,{requestId:this.zo(),Ae:this.Zb,type:this.I}),this.zE(this),this.Hm=this.ud);};b.prototype.hea=function(){var a,b,f;a=this.ud || this.Aja;b=this.connect;f=this.Wq;k.Bv.yf().push(m["default"].time.aa() - a);this.pd || (this.pd=!0);this.Og || (this.Og=!0,this.stream.H.tVa && this.uc && this.uc.OF(a,{requestId:this.zo(),Ae:this.Zb,type:this.I}),this.uc && this.uc.qra(a),b && 0 < f.length && this.uc && this.uc.Ew(f[0]),this.sA(this),this.Hm=a);};b.prototype.iea=function(){var a,b,f;a=this;b=this.ud;f=this.df - this.Gm;k.Bv.yf().push(m["default"].time.aa() - b);this.Og || (this.Og=!0);this.uc && (void 0 === this.Hm || this.uc.du(f,this.Hm,b,{requestId:this.zo(),Ae:this.Zb,type:this.I},this.kea),this.Wq && this.Wq.length && this.Wq.forEach(function(b){a.uc.Bw(b);}));this.AE(this);this.Hm=b;this.Gm=this.df;};b.prototype.oP=function(){var a,b,f;a=this;b=this.ud;f=this.df - this.Gm;k.Bv.yf().push(m["default"].time.aa() - b);this.uc && (0 < f && this.uc.du(f,this.Hm,b,{requestId:this.zo(),Ae:this.Zb,type:this.I},this.kea),this.Wq && this.Wq.length && this.Wq.forEach(function(b){a.uc.Bw(b);}),this.uc.QF(b,this.Og,{requestId:this.zo(),Ae:this.Zb,type:this.I}));this.Og=this.pd=!1;this.YO=!0;this.hs(this);this.Hm=b;this.Gm=this.df;this.dc();};b.prototype.zo=function(){var a,b;a=(a=this.stream)?a.toString():this.url;b=this.K_;b && (a+=",range " + b.start + "-" + b.end);return a;};b.prototype.CI=function(){var a,b,f,c;this.G.warn("AseMediaRequest._onError:",this.toString());a=this.ud;b=this.status;f=this.zg;c=this.si;k.Bv.yf().push(m["default"].time.aa() - a);this.complete?this.G.warn("Error on a done request " + this.toString() + ", failurecode: " + f):this.Fr?this.G.warn("Error on an aborted request " + this.toString() + ", failurecode: " + f):h.qa(f)?(this.uc && this.rd && this.rd.jra && this.ce && void 0 === b && this.uc.du(this.Gm?this.df - this.Gm:this.df,this.Hm?this.Hm:this.ce,a,{requestId:this.zo(),Ae:this.Zb,type:this.I},this.kea),this.E1(this)):this.G.warn("ignoring undefined request error (nativecode: " + c + ")");};return b;})(f);b.cC=a;d.af(r.dC,a,!1);d.af(u.tt,a,!1);},function(d){d.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.yt=void 0;b.yt="DeviceFactorySymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Nh=b.Gab=b.lo=void 0;c=a(15);b.lo=b.lo || (function(a,b,c){return a >= b?a <= c?a:c:b;});b.Gab=function(a,b,c,f,k){return (a - b) * (k - f) / (c - b) + f;};b.Nh=function(a){if(c.qa(a))return (a / 1E3).toFixed(3);};},function(d,b,a){var l,m;function c(a,b,c,m,r){var f,k,v;f={};k="number" === typeof r;r=void 0 !== r && k?r.toString():c;if(k && void 0 !== c)throw Error(l.k$a);Reflect.Gla(a,b) && (f=Reflect.getMetadata(a,b));c=f[r];if(Array.isArray(c))for(var k=0,q=c;k < q.length;k++){v=q[k];if(v.key === m.key)throw Error(l.t8a + " " + v.key.toString());}else c=[];c.push(m);f[r]=c;Reflect.jia(a,f,b);}function h(a,b){return function(f,c){b(f,c,a);};}Object.defineProperty(b,"__esModule",{value:!0});l=a(52);m=a(39);b.oG=function(a,b,q,l){c(m.BEa,a,b,l,q);};b.gV=function(a,b,q){c(m.CEa,a.constructor,b,q);};b.eA=function(a,b,c){"number" === typeof c?Reflect.eA([h(c,a)],b):"string" === typeof c?Reflect.eA([a],b,c):Reflect.eA([a],b);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.DH=b.Mv=b.l$=void 0;b.l$="Injector";b.Mv=145152E5;b.DH="ProfileSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xt=b.Y8=void 0;b.Y8="DebugConfigSymbol";b.xt="DebugSymbol";},function(d,b,a){d=a(190);a="undefined" !== typeof self && "undefined" !== typeof WorkerGlobalScope && self instanceof WorkerGlobalScope && self;d="undefined" !== typeof ja && ja || "undefined" !== typeof d && d || a;b.root=d;if(!d)throw Error("RxJS could not find any global context (window, self, global)");},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kv=void 0;b.Kv="IdProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.e9=b.IN=b.HW=b.D9=void 0;b.D9="EventSourceSymbol";b.HW="GlobalEventSourceSymbol";b.IN="DebugEventSourceSymbol";b.e9="DiagnosticsEventSourceSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oN=b.d6a=b.f8=b.g8=void 0;(function(a){a[a.ZNa=0]="downloading";a[a.ztb=1]="downloaded";a[a.ze=2]="appended";a[a.buffered=3]="buffered";a[a.ZL=4]="removed";a[a.L9b=5]="unused";})(b.g8 || (b.g8={}));(function(a){a[a.waiting=1]="waiting";a[a.h8b=2]="ondeck";a[a.ZNa=4]="downloading";a[a.ztb=8]="downloaded";a[a.qS=6]="inprogress";})(b.f8 || (b.f8={}));b.d6a="AseBufferViewSymbol";b.oN="AseBufferAccountingSymbol";},function(d,b,a){Object.defineProperties(b,{__esModule:{value:!0}});d=a(0);d.__exportStar(a(818),b);d.__exportStar(a(819),b);d.__exportStar(a(820),b);d.__exportStar(a(821),b);d.__exportStar(a(822),b);d.__exportStar(a(823),b);d.__exportStar(a(824),b);d.__exportStar(a(825),b);d.__exportStar(a(387),b);d.__exportStar(a(826),b);d.__exportStar(a(827),b);d.__exportStar(a(828),b);},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Av=void 0;d=(function(){function a(a){this.ve=a;}a.prototype.ssa=function(a){this.ve=a;};a.prototype.FLa=function(){this.ve=void 0;};a.prototype.yR=function(a){return this.ve && this.ve.d5 && this.ve.d5(a);};a.prototype.zE=function(a){this.ve && this.ve.ay && this.ve.ay(a);};a.prototype.sA=function(a){this.ve && this.ve.DL && this.ve.DL(a);};a.prototype.AE=function(a){this.ve && this.ve.EL && this.ve.EL(a);};a.prototype.GPa=function(a){this.ve && this.ve.Fpa && this.ve.Fpa(a);};a.prototype.hs=function(a){this.ve && this.ve.Oj && this.ve.Oj(a);};a.prototype.E1=function(a){this.ve && this.ve.zT && this.ve.zT(a);};a.prototype.D1=function(a,b,l){this.ve && this.ve.yT && this.ve.yT(a,b,l);};return a;})();b.Av=d;d.prototype.d5=d.prototype.yR;d.prototype.ay=d.prototype.zE;d.prototype.DL=d.prototype.sA;d.prototype.EL=d.prototype.AE;d.prototype.Oj=d.prototype.hs;d.prototype.zT=d.prototype.E1;d.prototype.yT=d.prototype.D1;d.prototype.Fpa=d.prototype.GPa;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});d=a(234);c=a(144);b.u8a=c;c=a(399);b.rca=c;c=a(403);b.q4b=c;b.Vba=d.tL.$c.sidx;d=a(883);b.Zy=d.Zy;d=a(242);b.DC=d.DC;d=a(887);b.Ov=d.Ov;b.aL=d.aL;d=a(888);b.u$=d.u$;d=a(81);b.kz=d.kz;a=a(889);b.sr=a.sr;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.laa="6674654e-696c-5078-6966-665374726d21";b.maa="6674654e-696c-4878-6165-6465722e7632";b.UAa="6674654e-696c-5078-6966-66496e646578";b.zX="6674654e-696c-4d78-6f6f-6653697a6573";b.yX="6674654e-696c-5378-6565-6b506f696e74";b.vBa="cedb7489-e77b-514c-84f9-7148f9882554";b.uBa="524f39a2-9b5a-144f-a244-6c427c648df4";b.kaa="6674654e-696c-4678-7261-6d6552617465";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(b){a.prototype.parse.call(this,b);this.fd=this.kv([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{B6b:"int32"},{T9b:"int32"},{offset:32,type:"offset"},{Z5b:"int16"},{X4b:{type:"int8",rkb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};b.Jc=!0;return b;})(a(236)["default"]);b["default"]=d;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.cf="avc1";return b;})(d);b.R5a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.cf="avc2";return b;})(d);b.S5a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.cf="avc3";return b;})(d);b.T5a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.cf="avc4";return b;})(d);b.U5a=a;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.cf="hvc1";return b;})(d);b.t9a=a;d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.cf="hev1";return b;})(d);b.o9a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jf=void 0;d=b.Jf || (b.Jf={});d.sn="created";d.qv="started";d.NM="succeeded";d.uq="failed";d.pk="cancelled";d.Dga="cancelled_on_create";d.S_="cancelled_on_start";d.Cga="cancelled_not_encrypted";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yv=void 0;b.Yv="VideoPreparerSymbol";},function(d,b){var c;function a(a,b){var m;m=this;this.yda=[];c.forEach(function(f){(f=f(a,b)) && m.yda.push(f);});}Object.defineProperty(b,"__esModule",{value:!0});b.AC=b.IAa=void 0;c=[];a.prototype.Ys=function(a){var f;for(var b=[],c=this.yda.length;c--;){f=this.yda[c];f.Ys(a) && b.push(f.$J);}if(b.length)return b;};b.IAa=a;b.AC=function(a){c.push(a);};},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oy=void 0;b.Oy="Base16EncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rba=b.NDa=b.eX=b.rFa=b.sFa=b.Aaa=b.G9=void 0;b.G9="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.Aaa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.sFa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.rFa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.eX="HW_SECURE_DECODE";b.NDa="SW_SECURE_DECODE";b.Rba="SW_SECURE_CRYPTO";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.gz=void 0;b.gz="Utf8EncoderSymbol";},function(d,b,a){var h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cz=void 0;d=a(0);a=a(1);c.prototype.format=function(a,b){var c;for(var f=1;f < arguments.length;++f){;}c=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return "undefined" != typeof c[b]?c[b]:a;});};c.prototype.MTb=function(a){for(var b=a.length,f=new Uint16Array(b),c=0;c < b;c++){f[c]=a.charCodeAt(c);}return f.buffer;};c.prototype.w2a=function(a){return JSON.stringify(a,null,"  ");};h=c;h=d.__decorate([a.O()],h);b.cz=h;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.TC=void 0;b.TC="ThrottleFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uC=void 0;b.uC="LoggerSinksSymbol";},function(d,b,a){var r;function c(a,b){if(a.length == b.length && 1 < a.length){for(var c=a.length,k=0,q=f(a),m=f(b),r=0;r < c;r++){k+=a[r] * b[r];}return (k - q * m / c) / c;}return !1;}function h(a){if(!Array.isArray(a) || 2 > a.length)return !1;a=l(a);return Math.sqrt(a);}function l(a){var b;if(!Array.isArray(a) || 2 > a.length)return !1;b=m(a);return f(a.map(function(a){return (a - b) * (a - b);})) / (a.length - 1);}function m(a){return Array.isArray(a) && a.length?f(a) / a.length:!1;}function f(a){return Array.isArray(a)?a.reduce(function(a,b){return a + b;},0):!1;}function k(a,b,f){return Math.max(Math.min(a,f),b);}function q(a,b){return "number" === typeof a?a:b;}function v(a){return 1 / (1 + Math.exp(-a));}r=a(8);d.exports={Ma:function(a,b,f){try{a.emit(b,f);}catch(y){a.pf("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",y,"Event:",f);}},$z:function(){var a,b,f;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a + b.byteLength;},0);f=new Uint8Array(b);a.reduce(function(a,b){f.set(new Uint8Array(b),a);return a + b.byteLength;},0);return f.buffer;},W_:k,Bnb:function(a,b,f,c){return {min:k(q(a.min,b),f,c),max:k(q(a.max,b),f,c),Vw:k(a.Vw || 6E4,0,6E5),kLa:k(a.kLa || 0,-3E5,3E5),scale:k(a.scale || 6E4,0,3E5),p0a:k(a.p0a || 0,-3E5,3E5),gamma:k(a.gamma || 1,.1,10)};},Rd:function(a,b){void 0 !== a && r.NKb(a).forEach(function(a){b(a[0],a[1]);});},ROa:function(a,b,f){return a.min + (a.max - a.min) * (1 - Math.pow(v(6 * (b - (a.Vw + (a.kLa || 0) * (1 - f))) / (a.scale + (a.p0a || 0) * (1 - f))),a.gamma));},Sub:function(a,b){return a.min + (a.max - a.min) * Math.pow(v(6 * (b - a.Vw) / a.scale),a.gamma);},r6b:f,oxb:m,RAb:l,p6b:h,d6b:c,c6b:function(a,b){var f;if(a.length == b.length){f=c(a,b);a=h(a);b=h(b);if(0 < a && 0 < b)return f / (a * b);}return !1;},Ku:function(a,b,f){return b.NMa?b.NMa(f):new a.Console("ASEJS","media|asejs",f);},Wra:function(a){return a.length?"{" + a + "} ":"";},oQb:function(a,b,f){return {min:a.min * f + (1 - f) * b.min,max:a.max * f + (1 - f) * b.max,Vw:a.Vw * f + (1 - f) * b.Vw,scale:a.scale * f + (1 - f) * b.scale,gamma:a.gamma * f + (1 - f) * b.gamma};},tanh:Math.tanh || (function(a){var b;b=Math.exp(+a);a=Math.exp(-a);return Infinity == b?1:Infinity == a?-1:(b - a) / (b + a);}),Esa:v,qp:function(a){var b;b=a.Pa.Kb.W.id;return {X:a.X,duration:a.duration,offset:a.offset,ba:a.ba,U:a.U,profile:a.profile,wc:a.wc,va:b,Da:a.Da,Zb:a.Zb,location:a.location,Dk:a.Dk,Wh:a.Wh,av:{Kb:{W:{id:b}}}};}};},function(d,b,a){var l,m,f,k,q,v,r,u,B;function c(a){var b;if(!a.Qea){b=a.XRa();a.bm.HD(b["default"].Ca,a.Si);a.bm.GG(b.us?b.us.p5:void 0,b.us?b.us.iM:void 0);l.ab(a.cc) || (a.Qea=!0);}}function h(a,b,c){var q;this.H=c;this.Go={};this.gI=c.gI;this.sGa=new k(this.gI);this.WO=new v(!0);this.JO=new v(!1);c.BOa && (this.DI=new r());this.reset();this.dea=a;this.bm=b;this.XGa=m.Ln.name();this.bm.D6(this.XGa);this.AP=this.$C=0;this.KO=[];m.events.on("networkchange",(function(a){this.XGa=a;this.bm.D6(a);}).bind(this));q=c.$ha;q && (q={Pd:f.bf.ON,Ka:{Ca:parseInt(q,10),hi:0},ci:{jlb:0,hi:0},ss:{jlb:0,hi:0}},this.get=function(){return q;});B=this;}l=a(8);m=a(3)["default"];f=a(25)["default"];a(9);b=a(16).EventEmitter;k=a(390).Txa;q=new m.Console("ASEJS_NETWORK_MONITOR","media|asejs");v=a(853).Axa;r=a(855).DBa;u=a(142);B=void 0;h.prototype.constructor=h;h.prototype=Object.create(b.prototype);h.yf=function(){return B;};h.reset=function(){B && B.reset();};Object.defineProperties(h.prototype,{startTime:{get:function(){return this.xe;}},Pd:{get:function(){return this.Si;}},kn:{get:function(){return this.$C;}},IIa:{get:function(){return this.KO;}}});h.prototype.oeb=function(){var a,b,f,c;a=this.H;b=a.Feb.concat(a.Peb);f=a.xda;c=this.sGa;return b.reduce(function(a,b){a[b]=c.create(b,f);return a;},{});};h.prototype.reset=function(){var a,b,k,q;a=this.H.xda;b=this.sGa;k=this.H;this.location=null;this.Go=this.oeb();if(this.H.EOa){q=this.H.Y2a;this.Go.GUb=new u(q.numB * q.bSizeMs,q.bSizeMs);}this.WO.reset();this.JO.reset();this.rw=b.create("respconn-ewma",a);this.iw=b.create("respconn-ewma",a);this.DI && this.DI.reset();this.Si=f.bf.HAVE_NOTHING;this.Jib=(function(){c(this);}).bind(this);this.e_=void 0;this.rz=this.zc=this.cc=this.xe=null;this.Pdb=this.ZZ=this.LP=0;this.mea=!1;k.P_a && (this.AP=this.$C=0,this.KO=[]);};h.prototype.EU=function(a){var b;b=this.Go;if(a !== this.location){l.Y(this.e_) || (clearInterval(this.e_),this.e_=void 0);l.ab(this.location) && (this.ZZ=this.LP=0,this.xe=null);if(!l.ab(a)){this.Si=f.bf.HAVE_NOTHING;for(var c in b){b[c] && b[c].reset && b[c].reset();}this.rw.reset();this.iw.reset();}l.ab(this.xe) || (this.LP+=(l.ab(this.cc)?m.time.aa():this.cc) - this.xe,this.ZZ+=this.zc);this.cc=this.xe=null;this.zc=0;this.location=a;this.bm.EU(a);}};h.prototype.D6=function(a){this.bm.D6(a);};h.prototype.njb=function(a){this.Go.QoEEvaluator?q.warn("monitor (QoEEvaluator) already existed."):this.Go.QoEEvaluator=a;};h.prototype.UOb=function(){delete this.Go.QoEEvaluator;};h.prototype.du=function(a,b,k,m,r){var v,d;this.K3=Math.max(this.K3 || 0,k);v=this.H;d=this.Go;if(!0 === m.JG)(m=d["throughput-wssl"]) && m.add(a,b,k,!0);else if(l.Y(b))q.warn("addDataReceived called with undefined start time");else {this.DI && this.DI.du(a,b,k,m,r);v.Oeb && 10 > k - b?b=k - 10:0 === k - b && (b=k - 1);this.WO.du(a,b,k,m);this.JO.du(a,b,k,m);for(var h in d){d[h] && d[h].add && d[h].add(a,b,k);}this.Si=Math.max(this.Si,f.bf.pC);l.ab(this.xe) && (this.xe=b,this.cc=null,this.Qea=!1,this.zc=0);l.ab(this.cc) || (b > this.cc && (this.xe+=b - this.cc),this.cc=null,this.Qea=!1);this.zc+=a;this.Si < f.bf.oC && (k - this.xe > v.dgb || this.zc > v.cgb) && (this.Si=f.bf.oC);this.Si < f.bf.ON && (k - this.xe > v.qhb || this.zc > v.phb) && (!this.mea || this.Pdb > v.bgb) && (this.Si=f.bf.ON,c(this),this.e_=setInterval(this.Jib,v.Ofb));l.ab(this.rz) || (b - this.rz > v.sHa?this.dea.tTa(this.rz,b):k - b > v.sHa && this.dea.tTa(b,k));this.rz=Math.max(k,this.rz);}};h.prototype.Ew=function(a){this.rw.add(a);this.bm.Ew(a);};h.prototype.Bw=function(a){this.iw.add(a);this.bm.Bw(a);};h.prototype.start=function(a){var b;l.ab(this.rz) && !l.ab(this.cc) && (this.rz=a);b=this.Go;if(this.H.Qsa)for(var f in b){b[f] && b[f].start && b[f].start(a);}};h.prototype.stop=function(a){var b,f;b=this.Go;for(f in b){b[f] && b[f].stop && b[f].stop(a);}this.cc=l.ab(this.cc)?a:Math.min(this.cc,a);this.rz=null;};h.prototype.flush=function(){var a,b;a=this.Go;for(b in a){a[b] && a[b].flush && a[b].flush();}};h.prototype.fail=function(){this.xe=null;};h.prototype.EQa=function(){var a,b;a=this.Go.entropy;a && (b=a.imb(),a.reset());return b;};h.prototype.XRa=function(){var a,b,f,c,k,q,r;a=m.time.aa();b={};f=this.Go;c=this.H;k=c.teb;q=c.bib;for(r in f){f[r] && f[r].get && (b[r]=f[r].get(a),"iqr" === f[r].type && (b.us=b[r]),"tdigest" === f[r].type && (b.qj=b[r]),"wssl" === f[r].type && (b.JG=b[r]));}b.cdnavtp=this.WO.zn();b.activecdnavtp=this.JO.zn();b["default"]=k && b[k]?b[k]:b["throughput-ewma"];"none" !== c.Qra && "none" !== q && (b.u0a=q && b[q]?b[q]:b["throughput-sw"]);return b;};h.prototype.j2=function(){return this.DI?this.DI.j2():void 0;};h.prototype.get=function(){var a,b,f,c,k,q;a=this.XRa();b=a["default"];f=this.rw.get();c=this.iw.get();k=this.H;if(a.u0a)(q=a.u0a,b=l.qa(b.Ca) && l.qa(q.Ca) && b.Ca > q.Ca && 0 < q.Ca?q:b);a.Pd=this.Si;a.Ka=b;!k.a1 || !b || l.ab(b.Ca) || isNaN(b.Ca) || !a.JG || l.ab(a.JG.Ca) || isNaN(a.JG.Ca) || ("max" === k.n5a?a.Ka.Ca=Math.max(a.JG.Ca,b.Ca):"sum" === k.n5a && (a.Ka.Ca+=a.JG.Ca));a.ci=f;a.ss=c;this.H.EOa && (b=this.H.Y2a,a.B9b=this.Go.GUb.get(b.fillS,b.fillHl));b=this.LP + !l.ab(this.xe)?(l.ab(this.cc)?m.time.aa():this.cc) - this.xe:0;a.time=b;return a;};h.prototype.exb=function(){var a;a=this.LP + !l.ab(this.xe)?(l.ab(this.cc)?m.time.aa():this.cc) - this.xe:0;return {gJ:Math.floor(8 * (this.ZZ + this.zc) / a),A6b:this.dea.sd()};};h.prototype.FAb=function(){var a,b,f;a={};b=this.get(!0);if(b.Pd && b.Ka){a.aseavtp=Number(b.Ka.Ca).toFixed(2);a.asevartp=Number(b.Ka.hi).toFixed(2);if(b.us){f=b.us.p5;!f || isNaN(f.Mk) || isNaN(f.Lk) || isNaN(f.kj) || (a.aseniqr=0 < f.kj?Number((f.Mk - f.Lk) / f.kj).toFixed(2):-1,a.aseiqr=Number(f.Mk - f.Lk).toFixed(2),a.asemedtp=Number(f.kj).toFixed(2));a.iqrsamples=b.us.iM;}b.qj && b.qj.sx && (a.tdigest=b.qj.sx());}return a;};h.prototype.OF=function(a,b){var f;f=b.requestId;1 === ++this.$C && (this.emit("active",a),this.start(a));f && this.KO.push(f);this.WO.OF(a,b);this.JO.OF(a,b);};h.prototype.qra=function(a){++this.AP;this.K3=Math.max(this.K3 || 0,a);};h.prototype.QF=function(a,b,f){var c;c=f.requestId;b && --this.AP;--this.$C;this.H.P_a && (this.$C=Math.max(this.$C,0),this.AP=Math.max(this.AP,0));0 === this.$C && (this.stop(a),this.emit("inactive",a));c && (b=this.KO.indexOf(c),0 <= b && this.KO.splice(b,1));this.WO.QF(a,f);this.JO.QF(a,f);};d.exports=h;},function(d,b){function a(b,d){var c;b.__proto__ && b.__proto__ !== Object.prototype && a(b.__proto__,d);Object.getOwnPropertyNames(b).forEach(function(a){c=Object.getOwnPropertyDescriptor(b,a);void 0 !== c && Object.defineProperty(d,a,c);});}Object.defineProperties(b,{__esModule:{value:!0}});b["default"]=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wy=b.v9a=b.ResponseType=void 0;d=b.ResponseType || (b.ResponseType={});d[d.Text=0]="Text";d[d.H3b=1]="Xml";d[d.RYb=2]="Binary";b.v9a="HttpClientSymbol";b.Wy="LegacyHttpSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.KN=b.m9=void 0;b.m9="DrmServicesSymbol";b.KN="DrmServicesProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zC=void 0;b.zC="MediaKeysStorageFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$B=void 0;b.$B="ApiInfoSymbol";},function(d,b,a){var h,l,m,f,k,q;function c(a){return a.reduce(function(a,b){return a.concat(b instanceof q.uY?b.ru:b);},[]);}h=a(157);l=a(302);m=a(301);f=a(582);k=a(303);q=a(583);d=(function(){function a(a){this.closed=!1;this.QI=this.mD=this.Zp=null;a && (this.Oea=a);}a.prototype.unsubscribe=function(){var a,b,v,d,y,I;a=!1;if(!this.closed){v=this.Zp;d=this.mD;y=this.Oea;I=this.QI;this.closed=!0;this.QI=this.mD=this.Zp=null;for(var J=-1,g=d?d.length:0;v;){v.remove(this);v=++J < g && d[J] || null;}m.vc(y) && (v=f.K3a(y).call(this),v === k.oA && (a=!0,b=b || (k.oA.e instanceof q.uY?c(k.oA.e.ru):[k.oA.e])));if(h.isArray(I))for((J=-1,g=I.length);++J < g;){v=I[J];l.zf(v) && (v=f.K3a(v.unsubscribe).call(v),v === k.oA && (a=!0,b=b || [],v=k.oA.e,v instanceof q.uY?b=b.concat(c(v.ru)):b.push(v)));}if(a)throw new q.uY(b);}};a.prototype.add=function(b){var f;if(!b || b === a.EMPTY)return a.EMPTY;if(b === this)return this;f=b;switch(typeof b){case "function":f=new a(b);case "object":if(f.closed || "function" !== typeof f.unsubscribe)return f;if(this.closed)return (f.unsubscribe(),f);"function" !== typeof f.FFa && (b=f,f=new a(),f.QI=[b]);break;default:throw Error("unrecognized teardown " + b + " added to Subscription.");}(this.QI || (this.QI=[])).push(f);f.FFa(this);return f;};a.prototype.remove=function(a){var b;b=this.QI;b && (a=b.indexOf(a),-1 !== a && b.splice(a,1));};a.prototype.FFa=function(a){var b,f;b=this.Zp;f=this.mD;b && b !== a?f?-1 === f.indexOf(a) && f.push(a):this.mD=[a]:this.Zp=a;};a.EMPTY=(function(a){a.closed=!0;return a;})(new a());return a;})();b.dz=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.JC=void 0;b.JC="PlayerErrorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.RC=void 0;b.RC="SourceBufferTypeProviderSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Hs=b.Doa=b.YVa=void 0;d=a(738);a=a(741);b.YVa=d;b.Doa=function(a,d){return b.YVa(function(a,b){return void 0 !== b?b:a;},a,d);};b.Hs=a;},function(d,b,a){var c;c=a(166);d.exports=function(a){return function m(b){return 0 === arguments.length || c(b)?m:a.apply(this,arguments);};};},function(d,b,a){var f;function c(a,b){return void 0 === a?void 0:0 === a?f.T.nb:new f.T(a,b);}function h(a,b){return a && Math.floor(f.T.o7(a,b));}function l(a,b){return void 0 === a || void 0 === b?void 0:a + b;}function m(a,b){return void 0 === a || void 0 === b?void 0:a - b;}Object.defineProperties(b,{__esModule:{value:!0}});b.bC=b.fC=void 0;f=a(21);d=(function(){function a(){}Object.defineProperties(a.prototype,{rq:{get:function(){return m(this.jb,this.Ra) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fqa:{get:function(){return l(this.Ra,this.Rk);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{QYa:{get:function(){return l(this.jb,this.Rk);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{T0:{get:function(){return c(this.rq,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yh:{get:function(){return c(this.Ra,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{lm:{get:function(){return c(this.jb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qj:{get:function(){return c(this.fqa,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wi:{get:function(){return c(this.QYa,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{K5:{get:function(){return c(this.Rk,this.S);},enumerable:!1,configurable:!0}});return a;})();b.fC=d;d=(function(){function a(){}Object.defineProperties(a.prototype,{duration:{get:function(){return m(this.sa,this.X) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return h(l(this.Ra,this.Rk),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return h(l(this.jb,this.Rk),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qn:{get:function(){return h(this.Rk,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wh:{get:function(){return h(this.Ra,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qb:{get:function(){return h(this.Ra,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Pb:{get:function(){return h(this.jb,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Rc:{get:function(){return h(l(this.Ra,this.Rk),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ee:{get:function(){return h(l(this.jb,this.Rk),this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ix:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{py:{get:function(){return this.X;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fv:{get:function(){return this.sa;},enumerable:!1,configurable:!0}});return a;})();b.bC=d;},function(d,b,a){var c,h,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.jo=void 0;c=a(0);h=c.__importDefault(a(25));l=c.__importDefault(a(3));m=a(894);d=(function(){function b(a){this.IO=a;this.dh=[];this.console=new l["default"].Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(b,{yf:{get:function(){var f;if(void 0 === b.fD){f=a(3)["default"];b.fD=new b(f.TG);}return b.fD;},enumerable:!1,configurable:!0}});b.reset=function(){b.fD=void 0;};b.prototype.Ur=function(a,b,f,c,l,d){var k,q,r,v;k=!1;r=d.fSb?this.Svb(f,b,a,d.gSb):-1;if(-1 === r){q={track:this.Cqb(f,c,a,l,d),Ks:f,u:b,EZa:a,VL:[],sn:!1,LJ:!1};this.dh.push(q);v=function(){q.sn=!0;q.track.removeListener("created",v);};q.track.on("created",v);k=!1;}else (k=!0,q=this.dh[r]);a=new m.CDa(this.console,q.track,q.sn,k);q.VL.push(a);return a;};b.prototype.KJ=function(a){var b,f;a.pq();b=this.t1(function(b){return b.track === a.track;});if(-1 !== b){if((b=this.dh[b],1 === b.VL.length))(b.track.pq(),b.LJ=!0);else {f=b.VL.indexOf(a);0 <= f && b.VL.splice(f,1);}}else a.track.pq();};b.prototype.Pe=function(){this.IO.Pe();};b.prototype.Cqb=function(a,b,f,m,l){var k,q,r;k=this;q=!1;a?1 === f?(a=!1,b=1,l.wp?(a=!0,b=l.eL):l.Nu && 2 < l.Nu && (a=!0,b=l.Nu),a={type:this.IO.VIDEO,openRange:!a,pipeline:a,connections:b,socketBufferSize:l.eN,minRequestSize:l.oL}):0 === f?(q=l.wp && (l.WWb || b && l.XWb),a={type:this.IO.AUDIO,openRange:!q,pipeline:q,connections:1,socketBufferSize:l.A_,minRequestSize:l.oL}):a={type:this.IO.m9a,openRange:!1,pipeline:!0,connections:1,socketBufferSize:l.Nla,minRequestSize:l.oL}:a={type:0 === f?h["default"].Ua.AUDIO:h["default"].Ua.VIDEO,openRange:!1,pipeline:!1,connections:1,socketBufferSize:0 === f?l.A_:l.eN,minRequestSize:l.oL};r=new this.IO(a,m);r.on("transportreport",function(a){var b;b=k.t1(function(a){return a.track === r;});-1 !== b && (b=k.dh[b],b.VL.length && b.VL[0].emit("transportreport",a));});r.on("destroyed",function(){var a;a=k.t1(function(a){return a.track === r;});-1 !== a && k.dh.splice(a,1);r.removeAllListeners();});if(q && l.VWb || l.C4a)r.on("pipelinedisabled",function(){l.C4a && 1 === r.config.type?r.S5(c.__assign(c.__assign({},r.config),{socketBufferSize:l.THb,pipeline:!1,openRange:!0,connections:1})):r.S5(c.__assign(c.__assign({},r.config),{pipeline:!1,openRange:!0}));});return r;};b.prototype.Svb=function(a,b,f,c){return this.t1(function(k){return !k.LJ && (!c && k.track.config.k8b || !a?!k.Ks && k.EZa === f:k.Ks && k.u === b && k.EZa === f);});};b.prototype.t1=function(a){for(var b=0;b < this.dh.length;++b){if(a(this.dh[b]))return b;}return -1;};return b;})();b.jo=d;},function(d,b,a){(function(a,b){function c(a,b,c,q){this.console=new a("ASEJS_PROGRESS","media|asejs");this.now=b;this.W0a=this.eTb=a=this.now();this.d1=a + c;this.wLb=c;this.cNa=a + q;this.debug=!1;this.bA=this.Rx=0;this.mu=1E4;this.b3a=c / 100;this.d3a=a;this.c3a=1 * this.b3a / 4;this.k7=0;this.VQ="";this.fg(a,"progress tracking start");}c.prototype.constructor=c;c.prototype.fg=function(b,f){var c,q;c=((b - this.W0a) / 1E3).toFixed(3);c=("     ").slice(c.length - 4) + c;q=a.qHb();this.console.info(c + (" " + ((this.cNa - b) / 1E3).toFixed(3)) + (" " + Math.round(this.mu)) + (" M:(" + Math.floor(q.z6b / 1024 / 1024) + " MB/" + Math.floor(q.HSa / 1024 / 1024) + " MB) ") + this.VQ + f);};c.prototype.fib=function(a){var b;b=this.now();this.VQ=a?a + ": ":a;this.Rx=0;this.W0a=b;this.fg(b,"starting");};c.prototype.Hib=function(b){var f,c;this.bA++;if(!(this.bA < this.mu)){this.bA=0;f=this.now();c=f - (this.d3a + this.b3a);this.d3a=f;this.k7=.9 * this.k7 + .1 * c;this.k7 > this.c3a?(this.mu*=.875,this.mu=Math.max(1,this.mu)):this.k7 < -this.c3a && (this.mu*=1.5,this.mu=Math.min(this.mu,1E5));if(f >= this.cNa)throw (this.fg("Execution deadline exceeded after " + (f - this.eTb) + " ms" + this.VQ),Error("Execution deadline exceeded" + this.VQ));c=a.qHb();this.Rx=Math.max(this.Rx,c.HSa);if(7516192768 < c.HSa)throw Error("Heap total limit exceeded" + this.VQ);if(!(f <= this.d1)){for(;f > this.d1;){this.d1+=this.wLb;}this.fg(f,b);}}};c.$a=function(a,f,k,q){b.wB=new c(a,f,k || 5E3,q || 33E5);};c.lsa=function(a){b.wB && b.wB.fib(a);};c.update=function(a){b.wB && b.wB.Hib(a);};c.fRa=function(){if(b.wB)return b.wB.Rx;};c.now=function(){return b.wB?b.wB.now():Date.now();};d.exports=c;}).call(this,a(429),a(190));},function(d){var b;b={lS:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};d.exports=b;},function(d,b,a){var f,k;function c(a){return a instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(a);}function h(a){return f.te(a);}function l(a){return f.qa(a);}function m(a){return !c(a) && !h(a) && !l(a) && !Array.isArray(a) && f.zf(a);}f=a(8);k={kC:0,fY:1,yab:2,OBJECT:3,Wl:4};d.exports={rla:function(a){return c(a)?k.kC:h(a)?k.fY:l(a)?k.yab:m(a)?k.OBJECT:k.Wl;},m3:c,te:h,qa:l,zf:m,Rp:k};},function(d,b,a){var l,m,f,k;function c(a,b,f){var c,k,q,v;b=l.__assign({},null === (q=null === a || void 0 === a?void 0:a.context) || void 0 === q?void 0:q.call(a,{oXa:b,Gr:f}));if((null === a || void 0 === a?0:a.Gr) && f)if(!0 === a.Gr)b.args=f;else {q={};b.args=q;try{for(var m=l.__values(a.Gr),r=m.next();!r.done;r=m.next()){v=r.value;q[v]=f[v];}}catch(D){c={error:D};}finally{try{r && !r.done && (k=m["return"]) && k.call(m);}finally{if(c)throw c.error;}}}return b;}function h(a){var b;b=this.Fca;b && (b.data=l.__assign(l.__assign({},b.data),a));}Object.defineProperties(b,{__esModule:{value:!0}});b.XC=b.aSa=b.Rb=void 0;l=a(0);m=a(20);f=l.__importDefault(a(3));k=a(9);b.Rb=function(a){return function(f,q,m){var r;r=m.value;m.value=function(){var f,m,l,v,d,h,u;m=b.aSa(this);if(m){v=c(a,this,arguments);d=null !== (f=null === a || void 0 === a?void 0:a.Kc) && void 0 !== f?f:String(q);l=m.YP(d,v,null === a || void 0 === a?void 0:a.mm);}f=this.Fca;this.Fca=l;try{return h=null === r || void 0 === r?void 0:r.apply(this,arguments);}catch(O){throw (u=O,O);}finally{if((this.Fca=f,l))if((l.data || (l.data={}),u))l.data.error="" + u;else if(k.uS(h))h.then(function(b){l && (null === a || void 0 === a?0:a["return"]) && (l.data.resolve=b);},function(a){l && (l.data.reject="" + a);});else if(null === a || void 0 === a?0:a["return"])l.data.lRet=h;}};};};b.aSa=function(a){if(null === a || void 0 === a?0:a.Gca)return a.Gca;};d=(function(){function a(a){this.Dn=[];this.lZ=!1;this.H=l.__assign({eF:10},a);Object.defineProperties(a.Zu,{Gca:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(a.prototype,{source:{get:function(){return this.H.source;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !this.lZ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tEb:{get:function(){return l.__spread(this.Dn);},enumerable:!1,configurable:!0}});a.prototype.Aw=function(a){this.lZ || h.call(this.H.Zu,a);};a.prototype.YP=function(a,b,k){var q,m,r,d;if(!this.lZ){r=!1;d=null === (m=(q=this.H).ofa) || void 0 === m?void 0:m.call(q,this.H.Zu);q=c({},this.H.Zu);b=l.__assign(l.__assign(l.__assign({},d),q),b);d=0 < Object.keys(b).length;b={methodName:a,data:d?b:void 0,time:f["default"].time.aa()};k && this.Dn.length && (k=this.Dn[this.Dn.length - 1],k.methodName === a && (k.data=k.data || ({}),k.data.dedup=k.data.dedup || ({hitCount:1}),k.data.dedup.hitCount++,k.data.dedup.lJournal=b,r=!0));this.qob(b);r || this.Dn.push(b);this.Dn.length > this.H.eF && this.Dn.shift();return b;}};a.prototype.qob=function(a){var b;m.ma && (null === (b=this.H.console) || void 0 === b?void 0:b.trace(this.H.source + "::" + a.Kc,a.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.H,a);};a.prototype.Tb=function(){Object.defineProperties(this.H.Zu,{Gca:{enumerable:!1,value:null,configurable:!0}});this.lZ=!0;this.clear();};a.prototype.clear=function(){this.Dn=[];};return a;})();b.XC=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ct=void 0;d=b.Ct || (b.Ct={});d[d.PYb=8]="Backspace";d[d.Tab=9]="Tab";d[d.f_b=13]="Enter";d[d.i3b=16]="Shift";d[d.mZb=17]="Ctrl";d[d.rYb=18]="Alt";d[d.Z1b=19]="PauseBreak";d[d.fZb=20]="CapsLock";d[d.h_b=27]="Escape";d[d.k3b=32]="Space";d[d.Y1b=33]="PageUp";d[d.X1b=34]="PageDown";d[d.e_b=35]="End";d[d.O_b=36]="Home";d[d.h0b=37]="LeftArrow";d[d.y3b=38]="UpArrow";d[d.o2b=39]="RightArrow";d[d.MZb=40]="DownArrow";d[d.b0b=45]="Insert";d[d.JZb=46]="Delete";d[d.K3b=48]="Zero";d[d.u1b=49]="One";d[d.t3b=50]="Two";d[d.r3b=51]="Three";d[d.C_b=52]="Four";d[d.A_b=53]="Five";d[d.j3b=54]="Six";d[d.h3b=55]="Seven";d[d.d_b=56]="Eight";d[d.b1b=57]="Nine";d[d.iYb=65]="A";d[d.tYb=66]="B";d[d.XYb=67]="C";d[d.u7a=68]="D";d[d.E=69]="E";d[d.i_b=70]="F";d[d.D_b=71]="G";d[d.G_b=72]="H";d[d.w9a=73]="I";d[d.c0b=74]="J";d[d.r$=75]="K";d[d.C$a=76]="L";d[d.k0b=77]="M";d[d.oab=78]="N";d[d.o1b=79]="O";d[d.w1b=80]="P";d[d.Q=81]="Q";d[d.h2b=82]="R";d[d.Zbb=83]="S";d[d.Kcb=84]="T";d[d.u3b=85]="U";d[d.z3b=86]="V";d[d.D3b=87]="W";d[d.Cca=88]="X";d[d.I3b=89]="Y";d[d.J3b=90]="Z";d[d.i0b=91]="LeftWindowKey";d[d.p2b=92]="RightWindowKey";d[d.f3b=93]="SelectKey";d[d.e1b=96]="Numpad0";d[d.f1b=97]="Numpad1";d[d.g1b=98]="Numpad2";d[d.h1b=99]="Numpad3";d[d.i1b=100]="Numpad4";d[d.j1b=101]="Numpad5";d[d.k1b=102]="Numpad6";d[d.l1b=103]="Numpad7";d[d.m1b=104]="Numpad8";d[d.n1b=105]="Numpad9";d[d.C0b=106]="Multiply";d[d.qYb=107]="Add";d[d.m3b=109]="Subtract";d[d.IZb=110]="DecimalPoint";d[d.LZb=111]="Divide";d[d.j_b=112]="F1";d[d.n_b=113]="F2";d[d.o_b=114]="F3";d[d.p_b=115]="F4";d[d.q_b=116]="F5";d[d.r_b=117]="F6";d[d.s_b=118]="F7";d[d.t_b=119]="F8";d[d.u_b=120]="F9";d[d.k_b=121]="F10";d[d.l_b=122]="F11";d[d.m_b=123]="F12";d[d.d1b=144]="NumLock";d[d.d3b=145]="ScrollLock";d[d.g3b=186]="SemiColon";d[d.g_b=187]="Equals";d[d.iZb=188]="Comma";d[d.HZb=189]="Dash";d[d.$1b=190]="Period";d[d.B_b=191]="ForwardSlash";d[d.s3b=192]="Tilde";d[d.v1b=219]="OpenBracket";d[d.OYb=220]="BackSlash";d[d.hZb=221]="CloseBracket";d[d.g2b=222]="Quote";},function(d,b,a){var c,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.or=b.ika=void 0;c=a(12);h=a(72);l=a(481);b.ika=function(a,b,k,q){var f,m;m=a.ot;m=null === (f=null === m || void 0 === m?void 0:m[0].yc) || void 0 === f?void 0:f[0].GQ;f=c.c0(k.xd);m=c.oha(! !a.Ro,!1,m);f=h.vg.rd.nq(Object.assign(Object.assign({},f),m));b=l.tla(b,l.HNa);return {u:q,Ud:0,dzb:function(){return {pa:a,Sf:!1,ND:a.pNa[0].ND};},config:f,Dd:! !k.Dd,tWa:k.tWa,D_:b};};b.or=function(){return "";};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.PX=b.Oi=b.Lh=void 0;b.Lh=function(){};(function(a){a.vH="PRE_FETCH";a.Eba="QC";a.bk="STANDARD";a.gY="SUPPLEMENTAL";a.q8a="DOWNLOAD";})(b.Oi || (b.Oi={}));b.PX="PboManifestCommandSymbol";},function(d,b,a){var k;function c(a){return "function" === typeof a?a.name:"symbol" === typeof a?a.toString():a;}function h(a,b){return null === a.cy?!1:a.cy.Ff === b?!0:h(a.cy,b);}function l(a){function b(a,f){void 0 === f && (f=[]);f.push(c(a.Ff));return null !== a.cy?b(a.cy,f):f;}return b(a).reverse().join(" --\x3e ");}function m(a){a.Qga.forEach(function(a){if(h(a,a.Ff))throw (a=l(a),Error(k.V6a + " " + a));m(a);});}function f(a){var b;if(a.name)return a.name;a=a.toString();b=a.match(/^function\s*([^\s(]+)/);return b?b[1]:"Anonymous function: " + a;}Object.defineProperty(b,"__esModule",{value:!0});k=a(52);b.pK=c;b.CUa=function(a,b,c){var k;k="";a=c(a,b);0 !== a.length && (k="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null !== a.ul && (b=f(a.ul));k=k + "\n " + b;a.aE.$Va && (k=k + " - " + a.aE.$Va);}));return k;};b.xnb=m;b.dFb=function(a,b){var f,c;if(b.Wma() || b.Nma()){f="";c=b.rzb();b=b.Yxb();null !== c && (f+=c.toString() + "\n");null !== b && b.forEach(function(a){f+=a.toString() + "\n";});return " " + a + "\n " + a + " - " + f;}return " " + a;};b.getFunctionName=f;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xH=void 0;b.xH="PlatformConfigDefaultsSymbol";},function(d,b,a){var h,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.UG=b.Wb=void 0;h=a(132);l=a(40);m=a(2);c.qka=function(a){if(a){if(a.includes(b.UG.rB))return h.Rm.rB;if(a.includes("fps"))return h.Rm.wE;if(a.includes(b.UG.T7))return h.Rm.T7;}throw new l.Bc(m.L.K8a,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + a);};c.xQa=function(a){switch(a){case h.Rm.rB:return b.UG.rB;case h.Rm.wE:return b.UG.wE;default:return b.UG.T7;}};b.Wb=c;c.Mt="com.microsoft.playready";c.mf="com.microsoft.playready.hardware";c.oO="com.microsoft.playready.software";c.b2b="com.chromecast.playready";c.c2b="org.chromium.external.playready";c.z_b="com.apple.fps.2_0";c.kdb="com.widevine.alpha";c.d2b="com.microsoft.playready.recommendation";c.e2b="com.microsoft.playready.recommendation.3000";c.f2b="com.microsoft.playready.recommendation.2000";b.UG={wE:"fairplay",T7:"widevine",rB:"playready"};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.exa=b.Rm=void 0;d=b.Rm || (b.Rm={});d[d.rB=0]="playready";d[d.T7=1]="widevine";d[d.wE=2]="fairplay";d[d.U4b=3]="clearkey";b.exa="DrmTypeSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oY=b.mo=void 0;b.mo=function(){};b.oY="StringObjectReaderSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(24),b);d.__exportStar(a(304),b);d.__exportStar(a(586),b);d.__exportStar(a(199),b);d.__exportStar(a(115),b);a(593);a(597);a(600);a(604);a(607);a(610);a(612);a(615);a(619);a(622);a(623);a(629);a(631);a(633);a(635);a(636);a(642);},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.rO=b.eca=void 0;b.eca="SystemRandomSymbol";b.rO="RandomGeneratorSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.SG=b.w8a=void 0;c=a(30);b.w8a=function(){this.fJ=[];this.XB=[];this.Nfa=c.Ny.lC;this.N7=c.Xl.lC;};b.SG="DeviceCapabilitiesConfigSymbol";},function(d,b,a){var h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gd=void 0;h=a(30);c.SMa=function(a){var b;b={};b[h.Od.uO]=c.ZG;b[h.Od.KW]=c.ZG;b[h.Od.IH]=c.NN;b[h.Od.Iv]=c.Iv;b[h.Od.kr]=a || c.kr;b[h.Od.KG]=c.ZG;b[h.Od.YC]=c.CO;b[h.Od.Yj]=c.Yj;return b;};b.Gd=c;c.ZG="avc1.640028";c.NN="hev1.1.6.L93.B0";c.jW="dvhe.05.01";c.R8="dvhe.05.04";c.S8="dvhe.05.05";c.T8="dvhe.05.06";c.U8="dvhe.05.07";c.V8="dvhe.05.09";c.kr=c.jW;c.Iv=c.NN;c.QV="mp4a.40.2";c.FO="mp4a.40.42";c.v7a="ec-3";c.B3b="vp9";c.CO="vp09.00.11.08.02";c.C3b="vp09.02.31.10.01";c.Yj="av01.0.04M.08";c.m7a=[c.V8,c.U8,c.T8,c.S8,c.R8,c.jW];},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.nH=void 0;b.nH="MslProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sY=b.so=void 0;b.so={wH:"PRIMARY",uua:"ASSISTIVE",Lva:"COMMENTARY",NONE:"NONE"};b.sY={assistive:b.so.uua,closedcaptions:b.so.uua,directorscommentary:b.so.Lva,commentary:b.so.Lva,subtitles:b.so.wH,primary:b.so.wH,none:b.so.NONE};},function(d){var f,k,q,v;function b(){b.$a.call(this);}function a(a){if("function" !== typeof a)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof a);}function c(f,c,k,q){var m,r;a(k);m=f.cg;void 0 === m?(m=f.cg=Object.create(null),f.eD=0):(void 0 !== m.W7b && (f.emit("newListener",c,k.listener?k.listener:k),m=f.cg),r=m[c]);void 0 === r?(m[c]=k,++f.eD):("function" === typeof r?r=m[c]=q?[k,r]:[r,k]:q?r.unshift(k):r.push(k),k=void 0 === f.nP?b.hsb:f.nP,0 < k && r.length > k && !r.LXb && (r.LXb=!0,k=Error("Possible EventEmitter memory leak detected. " + r.length + " " + String(c) + " listeners added. Use emitter.setMaxListeners() to increase limit"),k.name="MaxListenersExceededWarning",k.$r=f,k.type=c,k.count=r.length,console && console.warn && console.warn(k)));return f;}function h(){if(!this.rPa)return (this.target.removeListener(this.type,this.i5a),this.rPa=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function l(a,b,f){a={rPa:!1,i5a:void 0,target:a,type:b,listener:f};b=h.bind(a);b.listener=f;return a.i5a=b;}function m(a){var b;b=this.cg;if(void 0 !== b){a=b[a];if("function" === typeof a)return 1;if(void 0 !== a)return a.length;}return 0;}f="object" === typeof Reflect?Reflect:null;k=f && "function" === typeof f.apply?f.apply:function(a,b,f){return Function.prototype.apply.call(a,b,f);};q=Number.isNaN || (function(a){return a !== a;});d.exports=b;d.exports.once=function(a,b){return new Promise(function(f,c){var q;function k(){void 0 !== q && a.removeListener("error",q);f([].slice.call(arguments));}"error" !== b && (q=function(f){a.removeListener(b,k);c(f);},a.once("error",q));a.once(b,k);});};b.EventEmitter=b;b.prototype.cg=void 0;b.prototype.eD=0;b.prototype.nP=void 0;v=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return v;},set:function(a){if("number" !== typeof a || 0 > a || q(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + a + ".");v=a;}});b.$a=function(){if(void 0 === this.cg || this.cg === Object.getPrototypeOf(this).cg)(this.cg=Object.create(null),this.eD=0);this.nP=this.nP || void 0;};b.prototype.setMaxListeners=function(a){if("number" !== typeof a || 0 > a || q(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + a + ".");this.nP=a;return this;};b.prototype.emit=function(a){var c,f,q;for(var b=[],f=1;f < arguments.length;f++){b.push(arguments[f]);}c="error" === a;f=this.cg;if(void 0 !== f)c=c && void 0 === f.error;else if(!c)return !1;if(c){0 < b.length && (q=b[0]);if(q instanceof Error)throw q;b=Error("Unhandled error." + (q?" (" + q.message + ")":""));b.context=q;throw b;}f=f[a];if(void 0 === f)return !1;if("function" === typeof f)k(f,this,b);else {q=f.length;for(var c=Array(q),m=0;m < q;++m){c[m]=f[m];}for(f=0;f < q;++f){k(c[f],this,b);}}return !0;};b.prototype.addListener=function(a,b){return c(this,a,b,!1);};b.prototype.on=b.prototype.addListener;b.prototype.hZa=function(a,b){return c(this,a,b,!0);};b.prototype.once=function(b,f){a(f);this.on(b,l(this,b,f));return this;};b.prototype.RMb=function(b,f){a(f);this.hZa(b,l(this,b,f));return this;};b.prototype.removeListener=function(b,f){var c,k,q,m,l;a(f);k=this.cg;if(void 0 === k)return this;c=k[b];if(void 0 === c)return this;if(c === f || c.listener === f)0 === --this.eD?this.cg=Object.create(null):(delete k[b],k.removeListener && this.emit("removeListener",b,c.listener || f));else if("function" !== typeof c){q=-1;for(m=c.length - 1;0 <= m;m--){if(c[m] === f || c[m].listener === f){l=c[m].listener;q=m;break;}}if(0 > q)return this;if(0 === q)c.shift();else {for(;q + 1 < c.length;q++){c[q]=c[q + 1];}c.pop();}1 === c.length && (k[b]=c[0]);void 0 !== k.removeListener && this.emit("removeListener",b,l || f);}return this;};b.prototype.BL=b.prototype.removeListener;b.prototype.removeAllListeners=function(a){var b,f,c;f=this.cg;if(void 0 === f)return this;if(void 0 === f.removeListener)return (0 === arguments.length?(this.cg=Object.create(null),this.eD=0):void 0 !== f[a] && (0 === --this.eD?this.cg=Object.create(null):delete f[a]),this);if(0 === arguments.length){b=Object.keys(f);for(f=0;f < b.length;++f){c=b[f];"removeListener" !== c && this.removeAllListeners(c);}this.removeAllListeners("removeListener");this.cg=Object.create(null);this.eD=0;return this;}b=f[a];if("function" === typeof b)this.removeListener(a,b);else if(void 0 !== b)for(f=b.length - 1;0 <= f;f--){this.removeListener(a,b[f]);}return this;};b.prototype.listeners=function(a){var b;b=this.cg;if(void 0 === b)a=[];else if((a=b[a],void 0 === a))a=[];else if("function" === typeof a)a=[a.listener || a];else {for(var b=Array(a.length),f=0;f < b.length;++f){b[f]=a[f].listener || a[f];}a=b;}return a;};b.listenerCount=function(a,b){return "function" === typeof a.listenerCount?a.listenerCount(b):m.call(a,b);};b.prototype.listenerCount=m;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Tl=void 0;c=a(0).__importDefault(a(3));h=a(108);d=(function(){function a(a){this.G=new c["default"].Console("ASEJS","media|asejs","(" + a + ")");this.$da=[];}a.prototype.ip=function(a){this.$da[a] || (this.$da[a]=h.Ku(c["default"],this.G,"[" + a + "]"));return this.$da[a];};return a;})();b.Tl=new d(0);},function(d,b,a){function c(a,b){this.TI=a;this.Yi=Math.floor((a + b - 1) / b);this.dd=b;this.reset();}a(5);c.prototype.shift=function(){this.qd.shift();this.bu.shift();};c.prototype.$u=function(a){return this.$Ka(this.qd[a],a);};c.prototype.update=function(a,b){this.qd[a]=(this.qd[a] || 0) + b;};c.prototype.push=function(){this.qd.push(0);this.bu.push(0);this.eb+=this.dd;};c.prototype.add=function(a,b,c){var f,k,q;if(null === this.eb)for((f=Math.max(Math.floor((c - b + this.dd - 1) / this.dd),1),this.eb=b);this.qd.length < f;){this.push();}for(;this.eb <= c;){this.push();this.qd.length > this.Yi && this.shift();}if(null === this.Zm || b < this.Zm)this.Zm=b;if(b > this.eb - this.dd)this.update(this.qd.length - 1,a);else if(b == c)(f=this.qd.length - Math.max(Math.ceil((this.eb - c) / this.dd),1),0 <= f && this.update(f,a));else for(f=1;f <= this.qd.length;++f){k=this.eb - f * this.dd;q=k + this.dd;if(!(k > c)){if(q < b)break;this.update(this.qd.length - f,Math.round(a * (Math.min(q,c) - Math.max(k,b)) / (c - b)));}}for(;this.qd.length > this.Yi;){this.shift();}};c.prototype.start=function(a){null === this.Zm && (this.Zm=a);null === this.eb && (this.eb=a);};c.prototype.stop=function(a){var b,c;if(null !== this.eb)if(a - this.eb > 10 * this.TI)this.reset();else {for(;this.eb <= a;){this.push();this.qd.length > this.Yi && this.shift();}b=this.qd.length - Math.ceil((this.eb - this.Zm) / this.dd);c=this.qd.length - Math.ceil((this.eb - a) / this.dd);if(0 <= c)if((0 > b && (this.Zm=this.eb - this.dd * this.qd.length,b=0),b === c))this.bu[b]+=a - this.Zm;else if(c > b)for((this.bu[b]+=(this.eb - this.Zm) % this.dd,this.bu[c]+=this.dd - (this.eb - a) % this.dd,a=b + 1);a < c;++a){this.bu[a]=this.dd;}this.Zm=null;}};c.prototype.$Ka=function(a,b){b=this.$ja(b);return 0 === b?null:8 * a / b;};c.prototype.$ja=function(a){var b;b=this.bu[a];null !== this.Zm && (a=this.eb - (this.qd.length - a - 1) * this.dd,a > this.Zm && (b=a - this.Zm <= this.dd?b + (a - this.Zm):this.dd));return b;};c.prototype.get=function(a,b){var c,f;c=this.qd.map(this.$Ka,this);if("last" === a)for(a=0;a < c.length;++a){null === c[a] && (c[a]=0 < a?c[a - 1]:0);}else if("average" === a){b=1 - Math.pow(.5,1 / ((b || 2E3) / this.dd));for(a=0;a < c.length;++a){null === c[a]?c[a]=Math.floor(f || 0):f=void 0 !== f?b * c[a] + (1 - b) * f:c[a];}}return c;};c.prototype.reset=function(){this.Gda || (this.qd=[],this.bu=[],this.Zm=this.eb=null);};c.prototype.setInterval=function(a){this.Yi=Math.floor((a + this.dd - 1) / this.dd);};d.exports=c;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);return b;})(Error);b.assert=function(a,b){if(!a)throw new h(b || "Assertion failed");};},function(d){var c,h;function b(){var b,m;if(DataView.prototype && DataView.prototype.rK && !h){try{b=new ArrayBuffer(4);m=new DataView(b);m.sK(0,4,1);}catch(f){return;}try{b=new ArrayBuffer(4);m=new DataView(b);m.sK(1,2,2);}catch(f){DataView.prototype.sK=a(DataView.prototype.sK,DataView.prototype.getUint8,Uint8Array);DataView.prototype.u2=a(DataView.prototype.u2,DataView.prototype.getUint16,Uint16Array);DataView.prototype.rK=a(DataView.prototype.rK,DataView.prototype.getUint32,Uint32Array);DataView.prototype.zka=a(DataView.prototype.zka,DataView.prototype.getInt8,Int8Array);DataView.prototype.xka=a(DataView.prototype.xka,DataView.prototype.getInt16,Int16Array);DataView.prototype.yka=a(DataView.prototype.yka,DataView.prototype.getInt32,Int32Array);}c.NAb=function(a,b,c,m,d){return c?a.sK(b,c,m || 1,d):new Uint8Array(0);};c.LAb=function(a,b,c,m,d){return c?a.u2(b,c,m || 2,d):new Uint16Array(0);};c.MAb=function(a,b,c,m,d){return c?a.rK(b,c,m || 4,d):new Uint32Array(0);};c.h6b=function(a,b,c,m,d){return c?a.zka(b,c,m || 1,d):new Int8Array(0);};c.f6b=function(a,b,c,m,d){return c?a.xka(b,c,m || 2,d):new Int16Array(0);};c.g6b=function(a,b,c,m,d){return c?a.yka(b,c,m || 4,d):new Int32Array(0);};h=!0;}}function a(a,b,f){return function(c,q,m,d){var k;m=m || f.BYTES_PER_ELEMENT;if(c + q * m > this.byteLength){k=new f(q);k.set(a.call(this,c,q - 1,m,d));k[q - 1]=b.call(this,c + (q - 1 * m),d);return k;}return a.call(this,c,q,m,d);};}c={sK:function(a,b,f,c,q){var k;k=new Uint8Array(f);c=c || 1;for(var m=0;m < f;(++m,b+=c)){k[m]=a.getUint8(b,q);}return k;},u2:function(a,b,f,c,q){var k;k=new Uint16Array(f);c=c || 2;for(var m=0;m < f;(++m,b+=c)){k[m]=a.getUint16(b,q);}return k;},rK:function(a,b,f,c,q){var k;k=new Uint32Array(f);c=c || 4;for(var m=0;m < f;(++m,b+=c)){k[m]=a.getUint32(b,q);}return k;},zka:function(a,b,f,c,q){var k;k=new Int8Array(f);c=c || 1;for(var m=0;m < f;(++m,b+=c)){k[m]=a.getInt8(b,q);}return k;},xka:function(a,b,f,c,q){var k;k=new Int16Array(f);c=c || 2;for(var m=0;m < f;(++m,b+=c)){k[m]=a.getInt16(b,q);}return k;},yka:function(a,b,f,c,q){var k;k=new Int32Array(f);c=c || 4;for(var m=0;m < f;(++m,b+=c)){k[m]=a.getInt32(b,q);}return k;},R5b:b};h=!1;c.fyb=function(){return h;};b();d.exports=c;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(237);d=(function(){function a(a,b,c){this.tag=a;this.view=b;this.M=c;this.startOffset=c.offset;}a.KZa=function(b,f){var c,q;c=b.Nd();q=b.RNb();b=new (h.JJ[c] || a)(c,b.Zxb(q),b);b.parse(f);return b;};Object.defineProperties(a.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});a.prototype.parse=function(){this.M.offset=this.startOffset + this.length;this.M.nF=0;return !0;};a.prototype.jPa=function(a){var b;b=[];this.tag === a && b.push(this);if(this.JJ)for(var k=0;k < this.JJ.length;k++){b=c.__spreadArrays(b,this.JJ[k].jPa(a));}return b;};a.prototype.rA=function(a){for(a=this.jPa(a);0 < a.length;){return a[0];}};a.prototype.UHa=function(){for(this.JJ=[];this.M.offset < this.startOffset + this.length;){this.JJ.push(a.KZa(this.M,this));}};return a;})();b.b9=d;d.prototype.skip=d.prototype.parse;},function(d,b,a){var c,h,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.al=b.Sba=void 0;c=a(21);(function(a){a[a.absolute=0]="absolute";a[a.h_a=1]="relative";})(h=b.Sba || (b.Sba={}));m=(function(){function a(a,b){this.type=a;this.timestamp=b;}a.prototype.toString=function(){return "timeStamp: " + this.timestamp + ", type: " + h[this.type];};Object.defineProperties(a,{nb:{get:function(){l || (l=new a(h.h_a,c.T.nb));return l;},enumerable:!1,configurable:!0}});return a;})();d=(function(){function a(){}a.LV=function(a){return new m(h.absolute,a);};Object.defineProperties(a,{JXb:{get:function(){return m.nb;},enumerable:!1,configurable:!0}});a.hN=function(a){return new m(h.h_a,a);};a.kua=new m(h.absolute,c.T.yx);return a;})();b.al=d;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.kGb=b.kYa=b.WKb=b.sQa=b.dLb=b.ZB=b.W7=b.hr=b.mN=b.lN=b.sj=void 0;c=a(23);h=a(18);b.sj="$attributes";b.lN="$children";b.mN="$name";b.hr="$text";b.W7="$parent";b.ZB="$sibling";b.dLb=/^\s*\<\?xml.*\?\>/i;b.sQa=function(a,b,f){for(var c=2;c < arguments.length;++c){;}for(c=1;(b=arguments[c++]) && (a=a[b]);){;}return a;};b.WKb=function(a,m){var f;a?f=c.de(a[b.hr]):void 0 !== m && (f=m);h.UQ(f);return f;};b.kYa=function(a,c){var f;a?f=a[b.hr]:void 0 !== c && (f=c);h.dNa(f);return f;};b.kGb=function(a,c){var f;f={};f[b.sj]=a;f[b.hr]=c;return f;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.BH=void 0;b.BH="PlaygraphConfigSymbol";},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(1104),b);d.__exportStar(a(1105),b);},function(d,b,a){var h,l,m;function c(a,b){this.Vt=b?[b]:[];this.Fda="$op$" + m++;this.o=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Cc=void 0;h=a(11);l=a(18);m=0;c.prototype.addListener=function(a,b){var f;f=this;l.Wha(a);l.fb(0 > this.Vt.indexOf(a));a[h.HX + this.Fda]=b;this.Vt=this.Vt.slice();this.Vt.push(a);this.Vt.sort(function(a,b){return f.WSb(a,b);});};c.prototype.removeListener=function(a){var b;l.Wha(a);this.Vt=this.Vt.slice();0 <= (b=this.Vt.indexOf(a)) && this.Vt.splice(b,1);};c.prototype.set=function(a,b){if(this.o !== a){b={oldValue:this.o,newValue:a,Xr:b};this.o=a;a=this.Vt;for(var f=a.length,c=0;c < f;c++){a[c](b);}}};c.prototype.when=function(a){var b;b=this;return new Promise(function(f){function c(k){if(a(k.newValue))return (b.removeListener(c),f(k.newValue));}if(a(b.o))return f(b.o);b.addListener(c);});};c.prototype.WSb=function(a,b){return (a[h.HX + this.Fda] || 0) - (b[h.HX + this.Fda] || 0);};ma.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});b.Cc=c;},function(d,b,a){var c,h,l,m,f,k,q,v,r;Object.defineProperty(b,"__esModule",{value:!0});b.Xh=void 0;c=a(11);h=a(12);d=a(2);l=a(18);m=a(7);f=a(448);k=a(10);q=a(29);v=a(31);r=m.ha.get(q.qg);r.register(d.L.h$,function(a){var q,d,u,I;q=m.ha.get(v.vj);l.fb(h.config);l.fb(k.Qv && k.Qv.getDeviceId || k.BX || q.K1);d=m.ha.get(f.d9);u=m.Bh("Device");r.vd("devs");I=m.ha.get(v.Lt);d.create({deviceId:h.config.deviceId,K1:q.K1,CNa:"deviceid",Yh:h.config.Yh,pA:I.pxa,pia:q.pia,userAgent:k.Wm,Kna:h.config.Kna,oka:h.config.oka,Qsb:I.Q7a || !1,clb:h.config.iKa.e,Psb:I.uZb || !1,P7b:h.config.qu?"mslstoretest":"mslstore"}).then(function(f){b.Xh=f;ja._cad_global.device=b.Xh;u.info("Esn source: " + b.Xh.fja);r.vd("devdone");a(c.ke);})["catch"](function(b){b.ja=void 0;a(b);});});},function(d,b,a){var h,l,m;function c(a,b,c,d,r){b=m.Mh.call(this,a,b,d,l.Oh.events,r,l.Oh.events + "/" + c) || this;b.context=a;b.Tub=c;return b;}Object.defineProperty(b,"__esModule",{value:!0});b.Np=void 0;d=a(0);h=a(1);l=a(46);m=a(73);a(181);L(c,m.Mh);c.prototype.Pe=function(a,b){var f,c;f=this;c=this.J_(b);!1;!1;return this.send(a,b.href,c).then(function(){return b;})["catch"](function(a){throw f.um(a);});};c.prototype.fp=function(a,b,c){var f,k;f=this;k=this.J_(c);!1;!1;return this.send(a,b.NR("events").href,k).then(function(a){b.gfa(a.result.links);return c;})["catch"](function(a){throw f.um(a);});};c.prototype.J_=function(a){return {event:this.Tub,xid:a.ea,position:a.position || 0,clientTime:a.CQ,sessionStartTime:a.zU,mediaId:a.gL,trackId:a.Ya,sessionId:a.sessionId,appId:a.$P,playTimes:this.cmb(a.GT),sessionParams:a.Wn,mdxControllerEsn:a.toa};};c.prototype.rga=function(a){return {downloadableId:a.Jd,duration:a.duration};};c.prototype.cmb=function(a){var b;b={total:a.total,audio:a.audio.map(this.rga),video:a.video.map(this.rga),text:a.text.map(this.rga)};a.total !== a.xG && (b.totalContentTime=a.xG);return b;};a=c;a=d.__decorate([h.O(),d.__param(0,h.Hi()),d.__param(1,h.Hi()),d.__param(2,h.Hi()),d.__param(3,h.Hi()),d.__param(4,h.Hi())],a);b.Np=a;},function(d){function b(a,b){return a.some(function(a){return a.id === b;});}function a(a,b){return a.filter(c.bind(null,b)).map(h).reduce(l,0);}function c(a,b){return a.id === b.id && a.displayTime + a.duration === b.displayTime;}function h(a){return a.duration;}function l(a,b){return a + b;}d.exports={Ynb:function(a,b,c){for(var f=0;f < a.length;f++){if(a[f] !== b[f])return (c.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1);}return !0;},Kha:function(a,b,c){var f;f={};f.displayTime=a.qm;f.duration=a.duration;f.originX=a.wKb;f.originY=a.xKb;f.sizeX=a.OSb;f.sizeY=a.PSb;f.imageData=b;f.id=a.OE;f.rootContainerExtentX=c.XPb;f.rootContainerExtentY=c.YPb;return f;},pka:function(a,b){return "o_" + a + "s_" + b;},nXb:function(a,b){b("P" === String.fromCharCode(a[1]));b("N" === String.fromCharCode(a[2]));b("G" === String.fromCharCode(a[3]));},ic:function(a){return "undefined" !== typeof a;},U8b:b,C5b:a,MR:function(a,b){var f,c;f=Object.create({});for(c in a){f[c]=a[c];}a instanceof Error && (f.message=a.message,f.stack=a.stack);f.errorString=b;return f;},assert:function(a,b){if(!a)throw (b && b.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},TSa:function(a){return a && 0 < a.entries.length && 0 === a.images.length;},XTb:function(a,b){for(var f=b.entries.length,c,m=0;m < f;m++){if((c=b.entries[m],c.qm <= a && c.qm + c.duration >= a))return !0;}return !1;},YTb:function(a,b,c){for(var f=c.entries.length,k,m,d=0;d < f;d++){k=c.entries[d];m=k.qm;k=m + k.duration;if(b < m)break;if(m <= a && k >= a || m > a && m <= b)return !0;}return !1;},kMa:function(c){return c.map(function(b,k){b.duration+=a(c.slice(k + 1),b);return b;}).reduce(function(a,c){b(a,c.id) || a.push(c);return a;},[]);},gla:function(a){return a.reduce(function(a,b){return a + b.entries.reduce(function(a,b){return b.ema + a;},0);},0);},mtb:function(a,b){return a && a.hv <= b && a.Ap >= b;},Byb:function(a){if(a)return a.endTime;},Xyb:function(a){try{return String.fromCharCode.apply(String,a);}catch(f){}return "";}};},function(d,b,a){var h,l,m,f,k,q,v,r,u,B,A,y,I,J,g,U,S,O,Y;function c(a){var b,d;b=this;this.createPlayer=function(a,c){var k;c=void 0 === c?{}:c;c="number" === typeof c?{rj:c}:c;k=f.ha.get(S.lH);k=c.manifest?k.create(c.manifest):void 0;a=f.ha.get(A.pO).drb(a);return b.RMa(a,c,k);};this.createPlaygraphPlayer=function(a,c,k){var q;q=f.ha.get(S.lH);k=k?q.create(k):void 0;return b.RMa(U.Kbb.encode(a),c,k);};this.closeAllPlayers=function(a){m.iba(void 0 === a?function(){}:a);};this.init=function(a){a=void 0 === a?function(){}:a;b.dJ.IS(function(k){k.ja?(l.config.v6?b.WQb().then(function(){h.mCa();})["catch"](function(a){f.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(b,c.eQ);a(Object.assign({success:!0},c.eQ));}):a({success:!1,error:f.ECa(k.errorCode || q.L.Bya,k)});});};this.applyConfig=function(a){b.g4a(a);l.nha(a);};this.prepare=function(a,c){var k;a=b.sqa.zNa(a) || [];k=new Set();a=a.filter(function(a){var b;b=k.has(a.u);k.add(a.u);return !b;});if(l.config.Ms && b.kc)try{b.kc.tB(a,c);}catch(ca){f.log.warn("Prepare call failed",ca);}};this.predownload=function(a,c){if((a=b.sqa.zNa(a)) && l.config.UB && b.kc)try{b.kc.wMb(a,c);}catch(ta){f.log.warn("Predownload call failed",ta);}};this.lookupPredownloaded=function(){return l.config.UB && b.kc?b.kc.$Fb():Promise.resolve([]);};this.ppmUpdate=function(a){ja._cad_global.playerPredictionModel?(a=b.sqa.Fsb(a)) && ja._cad_global.playerPredictionModel.update(a):f.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){f.jK().$U().then(function(b){return a(b.result);})["catch"](function(){return a(!1);});};this.supportsUltraHd=function(a){f.jK().aV().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){f.jK().YU().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyVision=function(a){f.jK().e7().then(function(b){return a(b.result);})["catch"](function(){return a(!1);});};this.close=function(){};this.deviceThroughput=function(){var a;a=f.ha.get(r.fO).Eha();return a?Promise.resolve(a.zn()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=f.ha.get(r.fO).Eha();return a?Promise.resolve(a.wzb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return l.config.tub;};this.g4a(a);f.ha.get(Y.a8);this.sqa=f.ha.get(k.cba);this.dJ=f.ha.get(I.qg);d=f.ha.get(O.aba).apply();l.hMa([a],d);this.kc=f.ha.get(y.Yv);f.jK().aV();}Object.defineProperty(b,"__esModule",{value:!0});b.EO=void 0;h=a(276);l=a(12);m=a(57);f=a(7);k=a(480);q=a(2);v=a(32);r=a(264);u=a(184);B=a(521);A=a(185);y=a(99);I=a(29);J=a(524);g=a(19);U=a(149);S=a(168);O=a(296);Y=a(457);c.prototype.g4a=function(a){f.ha.get(v.gH).rHb(a);};c.prototype.WQb=function(){return f.ha.get(u.kO)()["catch"](function(a){f.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){f.log.error("Unable to send deferred playdata",a);});};c.prototype.RMa=function(a,b,c){var k,q,m,d;b=void 0 === b?{}:b;q=f.ha.get(g.Fd);m=f.ha.get(B.sba);d=f.ha.get(J.vba);m=m.create(a);a=m.V1();q=q.Bb();b=Object.assign(Object.assign({startPts:b.playbackState && b.playbackState.currentTime || a.tc,uiPlayStartTime:Date.now()},b),{endPts:null !== (k=a.Ad) && void 0 !== k?k:void 0,isPlaygraph:!0});k=d.create(q,m);k.addEpisode({movieId:a.fa,playbackParams:b,manifest:c});return k;};b.EO=c;c.eQ={};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.CN=void 0;b.CN="CannedChallengeProvider";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L9=b.K9=b.Jba=b.Kba=void 0;b.Kba="ReportSyncSymbol";b.Jba="ReportApiErrorSyncSymbol";b.K9="FtlProbeConfigSymbol";b.L9="FtlProbeSymbol";},function(d,b){b.isArray=Array.isArray || (function(a){return a && "number" === typeof a.length;});},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(){a.apply(this,arguments);}c(b,a);b.prototype.V4=function(a,b){this.destination.next(b);};b.prototype.QIb=function(a){this.destination.error(a);};b.prototype.Wu=function(){this.destination.complete();};return b;})(a(64).qo);b.JX=d;},function(d,b,a){var c,h,l,m,f,k,q,v;c=a(89);h=a(310);l=a(311);m=a(302);f=a(24);k=a(202);q=a(596);v=a(201);b.b7=function(a,b,d,A){var r;r=new q.cza(a,d,A);if(r.closed)return null;if(b instanceof f.Eb){if(b.jw)(r.next(b.value),r.complete());else return (r.ao=!0,b.subscribe(r));}else if(h.vTa(b)){a=0;for(d=b.length;a < d && !r.closed;a++){r.next(b[a]);}r.closed || r.complete();}else {if(l.uS(b))return (b.then(function(a){r.closed || (r.next(a),r.complete());},function(a){return r.error(a);}).then(null,function(a){c.root.setTimeout(function(){throw a;});}),r);if(b && "function" === typeof b[k.iterator]){b=b[k.iterator]();do {a=b.next();if(a.done){r.complete();break;}r.next(a.value);if(r.closed)break;}while(1);}else if(b && "function" === typeof b[v.observable]){if((b=b[v.observable](),"function" !== typeof b.subscribe))r.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return b.subscribe(new q.cza(a,d,A));}else (b="You provided " + (m.zf(b)?"an invalid object":"'" + b + "'") + " where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",r.error(new TypeError(b)));}return null;};},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b){a.call(this);this.Ea=b;}c(b,a);b.create=function(a){return new b(a);};b.Ic=function(a){a.Vj.complete();};b.prototype.gn=function(a){var f;f=this.Ea;if(f)return f.bd(b.Ic,0,{Vj:a});a.complete();};return b;})(a(24).Eb);b.AW=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.GH=void 0;b.GH="TimeoutMonitorFactorySymbol";},function(d,b,a){var h,l,m,f;function c(a,b,c,d){var k;k=m.DN.call(this,a,b,h.sr.lFa,d) || this;k.config=a;k.Qu=b;k.is=c;k.l4=d;k.type=h.Xl.lC;k.GV=f.Gd.SMa();return k;}Object.defineProperty(b,"__esModule",{value:!0});b.Op=void 0;h=a(30);l=a(56);m=a(351);d=a(105);f=a(137);new d.cz();L(c,m.DN);c.prototype.rv=function(){return Promise.resolve(!1);};c.prototype.rx=function(){return Promise.resolve("");};c.prototype.$U=function(){return this.config().Oia?this.l4.Kma()?this.l4.aK(l.P.aH).then(function(a){return {result:a,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.e7=function(){return this.config().Oia?this.l4.Kma()?this.l4.aK(l.P.QG).then(function(a){return {result:a,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.aV=function(){return Promise.resolve(!1);};c.prototype.YU=function(){return Promise.resolve(!1);};c.prototype.gK=function(a){return this.GV[a];};c.prototype.efa=function(a){return a;};c.prototype.mVa=function(a){switch(a){case h.Mi.tC:return "1.4";case h.Mi.Dt:return "2.2";}};c.prototype.gE=function(){var a;a={};a[l.P.MN]="avc1.4D401E";a[l.P.$G]="avc1.4D401F";a[l.P.N9]="avc1.4D4028";a[l.P.V9]="hev1.2.6.L90.B0";a[l.P.W9]="hev1.2.6.L93.B0";a[l.P.X9]="hev1.2.6.L120.B0";a[l.P.Y9]="hev1.2.6.L123.B0";a[l.P.bH]="hev1.2.6.L150.B0";a[l.P.cH]="hev1.2.6.L153.B0";a[l.P.UW]="hev1.2.6.L90.B0";a[l.P.WW]="hev1.2.6.L93.B0";a[l.P.YW]="hev1.2.6.L120.B0";a[l.P.$W]="hev1.2.6.L123.B0";a[l.P.O9]="hev1.2.6.L90.B0";a[l.P.P9]="hev1.2.6.L93.B0";a[l.P.Q9]="hev1.2.6.L120.B0";a[l.P.R9]="hev1.2.6.L123.B0";a[l.P.S9]="hev1.2.6.L150.B0";a[l.P.T9]="hev1.2.6.L153.B0";a[l.P.PN]="hev1.2.6.L90.B0";a[l.P.QN]="hev1.2.6.L93.B0";a[l.P.aH]="hev1.2.6.L120.B0";a[l.P.RN]="hev1.2.6.L123.B0";a[l.P.SN]="hev1.2.6.L150.B0";a[l.P.TN]="hev1.2.6.L153.B0";a[l.P.LW]="hev1.2.6.L90.B0";a[l.P.MW]="hev1.2.6.L93.B0";a[l.P.NW]="hev1.2.6.L120.B0";a[l.P.OW]="hev1.2.6.L123.B0";a[l.P.PW]="hev1.2.6.L150.B0";a[l.P.QW]="hev1.2.6.L153.B0";a[l.P.EN]=f.Gd.jW;a[l.P.FN]=f.Gd.R8;a[l.P.QG]=f.Gd.S8;a[l.P.GN]=f.Gd.T8;a[l.P.HN]=f.Gd.U8;a[l.P.pW]=f.Gd.V8;a[l.P.kW]=f.Gd.jW;a[l.P.lW]=f.Gd.R8;a[l.P.mW]=f.Gd.S8;a[l.P.nW]=f.Gd.T8;a[l.P.oW]=f.Gd.U8;a[l.P.qW]=f.Gd.V8;a[l.P.i9a]="avc1.640016";a[l.P.IW]="avc1.64001E";a[l.P.JW]="avc1.64001F";a[l.P.M9]="avc1.640028";a[l.P.iFa]=f.Gd.CO;a[l.P.JH]=f.Gd.CO;a[l.P.KH]=f.Gd.CO;a[l.P.DO]=f.Gd.CO;a[l.P.wua]=f.Gd.Yj;a[l.P.xua]=f.Gd.Yj;a[l.P.yua]=f.Gd.Yj;a[l.P.zua]=f.Gd.Yj;a[l.P.Aua]=f.Gd.Yj;a[l.P.Bua]=f.Gd.Yj;a[l.P.Cua]=f.Gd.Yj;a[l.P.Dua]=f.Gd.Yj;return a;};c.prototype.vRa=function(a){return a || this.config().XB;};c.prototype.nK=function(){return Promise.resolve(void 0);};c.prototype.k2=function(){return Promise.resolve(void 0);};c.prototype.MQ=function(a){var b;b=[];this.is.Rf(a) && b.push(this.mVa(a));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:b,isHdcpEngaged:! !b.length}];};b.Op=c;c.CG="video/mp4;codecs={0};";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.f$=b.naa=b.WAa=void 0;b.WAa="NativeLocalStorageSymbol";b.naa="NativeLocalStorageFactorySymbol";b.f$="IDBFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jX=b.k$=b.e$=void 0;b.e$="IDBDatabaseFactorySymbol";b.k$="IndexedDBFactorySymbol";b.jX="IndexedDBStorageFactorySymbol";},function(d,b,a){var c,h,l;c=a(119);h=a(54);l=a(166);d.exports=function(a){return function k(b,m,d){switch(arguments.length){case 0:return k;case 1:return l(b)?k:h(function(c,k){return a(b,c,k);});case 2:return l(b) && l(m)?k:l(b)?h(function(b,c){return a(b,m,c);}):l(m)?h(function(c,k){return a(b,c,k);}):c(function(c){return a(b,m,c);});default:return l(b) && l(m) && l(d)?k:l(b) && l(m)?h(function(b,c){return a(b,c,d);}):l(b) && l(d)?h(function(b,c){return a(b,m,c);}):l(m) && l(d)?h(function(c,k){return a(b,c,k);}):l(b)?c(function(b){return a(b,m,d);}):l(m)?c(function(c){return a(b,c,d);}):l(d)?c(function(c){return a(b,m,c);}):a(b,m,d);}};};},function(d){d.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.yO=void 0;b.yO="TrackStreamFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lH=void 0;b.lH="ManifestFactorySymbol";},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.nDa=b.eY=b.Z1=void 0;c=a(48);h=a(2);b.Z1=function(a){return a === c.Ac.Zj.AUDIO?h.K.aAa:h.K.bAa;};b.eY=50;b.nDa=1E3;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Bv=void 0;c=a(228);h=a(5);d=(function(){function a(a){this.config=a;this.reset();}a.yf=function(){h.assert(void 0 !== a.fD);return a.fD;};a.oob=function(b){a.fD=new a(b);};a.T4b=function(){a.fD=void 0;};a.prototype.push=function(a){this.qj && this.qj.push(a);};a.prototype.kb=function(){if(this.qj)return (this.qj.Zw(),this.qj.ti([.25,.5,.75,.9,.95,.99]).map(function(a){return a?parseFloat(a.toFixed(1)):0;}));};a.prototype.reset=function(){this.config.DOa && this.config.q$ && (this.qj=new c.n3b(this.config.q$.c,this.config.q$.maxc));};return a;})();b.Bv=d;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(28);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.M.offset+=8;this.cnb=this.M.Ih();this.iQb=this.M.Ih();this.M.offset+=4;this.l0a=this.M.Ih();this.M.offset+=2;h.ma && this.M.console.trace("MP4AudioSampleEntry: channelcount: " + this.cnb + ", samplesize: " + this.iQb + ", samplerate: " + this.l0a);return b;};b.Jc=!1;return b;})(a(236)["default"]);b["default"]=d;},function(d,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.tt=void 0;a(5);d=(function(){function a(b,c){a.$a(this,b,c);}a.$a=function(a,b,c){a.Yc=b;a.zc=c.ba;a.me=c.offset;};Object.defineProperties(a.prototype,{stream:{get:function(){return this.Yc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{offset:{get:function(){return this.me;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{N:{get:function(){return this.Yc.N;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.Yc.u;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{I:{get:function(){return this.Yc.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Da:{get:function(){return this.Yc.Da;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.Yc.U;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Yc.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Yc.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sL:{get:function(){return this.Yc.sL;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wa:{get:function(){return this.Yc.wa;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return {movieId:this.u,streamId:this.Da,offset:this.offset,bytes:this.ba};};return a;})();b.tt=d;},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.dC=void 0;c=a(0);h=c.__importDefault(a(25));l=c.__importDefault(a(3));d=(function(a){function b(f,c,d,m,l){var k;k=a.call(this,d) || this;k.qfa=!1;b.$a(k,f,c,d,m,l);return k;}c.__extends(b,a);b.$a=function(a,b,f,c,d,m){a.ve=c;a.K_a=b;a.rd=d;a.fHa=b.location || f.location;a.GP=b.Nc || f.Zb;a.isa=b.isa || f.isa;a.l7=l["default"].time.aa();a.G=m;};Object.defineProperties(b.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{location:{get:function(){return this.fHa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zb:{get:function(){return this.GP;},enumerable:!1,configurable:!0}});b.prototype.$a=function(a){this.Pa=a;};b.prototype.G6=function(a,b){this.fHa=a;this.GP=b;};b.prototype.uea=function(a){var b,f,c;b={type:"logdata",target:"endplay",fields:{}};f=this.I === h["default"].Ua.AUDIO?"audioedit":"videoedit";c=[this.uA === this.X?this.Pb:this.Qb,this.uA === this.X?-this.duration:this.duration];a && a.Gp && c.push(a.Gp);b.fields[f]={type:"array",value:c};return b;};b.prototype.D7=function(){var a,b;if(this.complete)return 0;a=this.K_a;b=a.N;return a.url?this.url === a.url || (b.G6(this,a.location,a.Nc),this.cV(a.url))?0:(this.G.warn("swapUrl failed: ",this.vE),2):(this.G.warn("updateurl, missing url for streamId:",a.Da,"mediaRequest:",this,"stream:",a),1);};return b;})(a(94).Av);b.dC=d;},function(d,b,a){var h,l,m,f,k,q,v,r,u,B;function c(a){return a.Fa(k.T.$b(a.TF));}Object.defineProperties(b,{__esModule:{value:!0}});b.A8=b.rp=void 0;h=a(0);d=a(16);l=h.__importDefault(a(25));m=h.__importDefault(a(3));f=a(896);k=a(21);q=a(5);v=a(897);r=a(411);u=a(82);B=a(71);b.rp=c;a=(function(a){function b(b,f,c,k,q,d,m,r){var l,h;h=a.call(this) || this;h.G=b;h.rf=f;h.Of=c;h.Pc=k;h.H=q;h.R=d;h.Fz=m;h.Bg=r;h.pf=h.G.error.bind(h.G);h.yb=h.G.warn.bind(h.G);h.kk=h.G.trace.bind(h.G);null === (l=k.events) || void 0 === l?void 0:l.addListener("ready",function(){h.Qt();});h.H.xIb && (h.Aoa=new v.HAa(h.H,h.rf,h.Of.Yb,h.G));h.reset();return h;}h.__extends(b,a);Object.defineProperties(b.prototype,{endOfStream:{get:function(){return this.ZY;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{I_:{get:function(){return this.Pc?this.Pc.I_:-1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{KXb:{get:function(){return this.Bj.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{IEb:{get:function(){return this.Qh;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{C2a:{get:function(){return ! !this.Pc.Gub;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{MB:{get:function(){return ! !this.Pc.reset;},enumerable:!1,configurable:!0}});b.prototype.reset=function(a){var b,c,q;this.ik=!1;a || (this.Bj=[]);this.Qh=this.Bda=this.tI=void 0;this.mda=!1;this.pZ=void 0;this.wP=k.T.nb;this.Zt=void 0;this.s0a=new f.SDa(this.H,this.G);this.ZY=!1;this.MZ(k.T.nb);null === (c=(b=this.Pc).reset) || void 0 === c?void 0:c.call(b);null === (q=this.Aoa) || void 0 === q?void 0:q.reset();};b.prototype.APa=function(){this.Bda=!0;};b.prototype.pause=function(){this.ik=!0;};b.prototype.resume=function(){this.ik=!1;this.Qt();};b.prototype.Yr=function(){this.ik || this.Qt();};b.prototype.Cka=function(){var a;return null === (a=this.Qh) || void 0 === a?void 0:a.ee;};b.prototype.Pkb=function(a){var b;if(this.H.uOa){q.assert(a.Pa);b=a.Pa.Kb;q.assert(void 0 !== a.Qb);q.assert(void 0 !== b.Pb);if(a.Qb >= b.Pb)return;a.Qn !== b.Hd && a.k1a(new k.T(b.Hd,1E3));}this.Bj.push(a);this.Qt();};b.prototype.jt=function(){this.Qt();};b.prototype.X5=function(a){a=this.Bj.indexOf(a);-1 !== a && this.Bj.splice(a,1);};b.prototype.$Wa=function(a,b){this.H.yfa && b && void 0 === this.Qh && this.IFa(a,0);this.Qt();};b.prototype.U4=function(){this.ZY || (this.ZY=!0,this.Qt(),this.C2a || this.Pc.endOfStream());};b.prototype.y6=function(){return JSON.stringify(this.Bj);};b.prototype.MZ=function(a){var b;null !== (b=this.Jea) && void 0 !== b && b.equal(a) || (this.Jea=a,this.Pc.TRb(a.xb,a.S));};b.prototype.Qt=function(){var a,b,f,c,k,q,d,r,v;b=this.H;if(this.Bj.length || this.Qh && !this.Qh.ze)if(!this.Pc || !1 === this.Pc.ready)this.GI("@" + m["default"].time.aa() + ", append: not appending, sourceBuffer not ready");else if(!this.Qh || this.Qh.ze || this.Qh.ws())if(this.Qh && !this.Qh.ze || this.Bj.length)if(this.ik){f=this.Qh && !this.Qh.ze?this.Qh:this.Bj[0];this.GI("@" + m["default"].time.aa() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(f));}else if((!this.Qh || this.Qh.ze || (this.jGa(this.Qh),this.Qh.ze)) && this.Bj.length)if((f=this.Bj[0],!f.complete && f.Fr))(this.yb("aborted MediaRequest should not appear in the toAppend list"),this.GI("@" + m["default"].time.aa() + ", append: removing aborted request from toAppend: " + f.toString()),this.Bj.shift());else {c=f.stream;k=c.N;if(c.Dh)if(this.kSb(c,f.index))(this.Bda=!1,this.IFa(c,f.index));else {q=this.R.An(k);d=this.tCb(c);if(q || d || !(this.mda && c.track.TS || b.R7))if((c=this.yRa(f),this.rf === l["default"].Ua.AUDIO && f.En && f.xa && !b.Us && !this.ZY && 1 === this.Bj.length && c > b.Ooa && (null === (a=f.WF) || void 0 === a || !a.z3)))this.rQb();else {if(b.uOa || b.gub)if((a=f.Pa.Kb,q=this.Lsb())){r=a.Gj;v=f.Pb >= q;c=c > b.Ooa;if(q < a.Pb && v && c && !r)return;}if(b.gLb && this.Bg && (b=this.Bg(k.sb)) && !b.aQ)this.pause();else {this.mda || (this.mda=d);this.Bj.shift();try{this.zdb(f);}catch(sa){throw (this.G.error(sa),sa);}}}}}};b.prototype.rQb=function(){var a;a=this;this.Fz && (this.cna?this.cna.iDb || this.cna.Gl():this.cna=this.Fz.fE(function(){return a.xEb();}));};b.prototype.xEb=function(){var a,b,f,c;return h.__generator(this,function(q){switch(q.label){case 0:if(1 !== this.Bj.length)return [3,3];a=this.Bj[0];if(!a.En || (null === (c=a.WF) || void 0 === c?0:c.z3))return [2];b=this.yRa(a);f=this.H.Ooa;return b > f?[4,B.al.hN(k.T.$b(b - f))]:[3,2];case 1:(q.di(),q.label=2);case 2:return (this.Qt(),[3,0]);case 3:return [2];}});};b.prototype.yRa=function(a){return a.Rc - this.R.$d();};b.prototype.kSb=function(a,b){var f;if(this.Bda || void 0 === this.tI || a.Da !== this.tI.Da)return !0;a=a.Dh;q.assert(a);f=this.tI.DTa;return f === a.length - 1?!1:b >= a[f + 1].Ag;};b.prototype.tCb=function(a){if(0 === a.I || !a.Iu)return !0;if(void 0 === this.tI)return !1;a=a.Dh;q.assert(a);return !1 === a[this.tI.DTa].zk;};b.prototype.Lsb=function(){throw Error("not supported");};b.prototype.udb=function(a){this.wP=r.WX.O_(this.H,a.Cd,this.Of.Yb,this.G);};b.prototype.IFa=function(a,b){var f;f=a.Dh.reduce(function(a,f,c){return f.Ag <= b?c:a;},0);if(this.Pc.appendBuffer(a.Dh[f].data,{wc:!0,profile:a.profile,U:a.U,Da:a.id}))(this.GI("@" + m["default"].time.aa() + ", header appended, streamId: " + a.Da),this.tI={Da:a.Da,DTa:f},this.Lhb(a.N.sb || 0,a.Da,f),this.udb(a),this.Qt());else throw (this.yb("appendHeader error: " + this.Pc.error),this.GI("@" + m["default"].time.aa() + ", appendHeader error: " + this.Pc.error),Error("appendHeaderError"));};b.prototype.zdb=function(a){var b,f,c,q,d,m,r;c=a.K5 || k.T.nb;q=a.Pa.Kb.W;q.sa && Infinity !== q.sa && (c=new k.T(q.sa,1E3).add(c).ah,Infinity === this.Of.duration || this.Of.duration < c) && (this.Of.duration=c);if(this.Aoa){c=!0;q=!1;d=k.T.nb;m=void 0 !== a.$s?k.T.$b(a.$s).add(a.K5):void 0;r=null === (f=this.Bj[0]) || void 0 === f?void 0:f.Qj;f={endOfStream:this.endOfStream || !(null === (b=a.WF) || void 0 === b || !b.z3),r4:m,Zoa:r};b=this.Aoa.append(a,f);this.MZ(b);}else (b=this.Kfb(a),c=b.pU,q=b.Hia,d=b.Sfa);this.Zt && d && (this.Zt=this.Zt.add(d));this.jGa(a,c,q);};b.prototype.jGa=function(a,b,f){var c,q,d;f=a.LD(this.Pc,this.Of.Yb,this.Qh,this.Bj[0],b,f);b=f.status;(f=f.ij) && this.emit(f.type,f);b !== u.Ji.ERROR?(this.Qh=a,b === u.Ji.Dv && (void 0 === this.Zt || this.rf !== l["default"].Ua.AUDIO || a.Qj.equal(this.Zt) || (this.Ghb(a,this.Zt),this.Zt=void 0),this.GI("@" + m["default"].time.aa() + ", request appended, type: " + a.I + ", streamId: " + a.Da + ", pts: " + a.Rc + "-" + a.ee),a.En?(this.Zt=a.wi,this.Ifb=this.Udb(a,this.Jea || k.T.nb),null === (q=(c=this.Pc).Gub) || void 0 === q?void 0:q.call(c,a.WF),this.H.Pl && this.H.qE && (null === (d=a.WF) || void 0 === d?0:d.z3) && this.U4()):this.Zt=void 0,this.Mhb(a),this.Qt())):this.ydb(a);};b.prototype.ydb=function(a){if(void 0 !== this.Pc.error){if("done" === this.Pc.error)return;this.pf("failure to append queued mediaRequest: " + (a && a.toJSON()) + " err: " + this.Pc.error);throw this.Pc.error;}a=Error("failure to append queued mediaRequest: " + (a && JSON.stringify(a)) + " err: " + this.Pc.error);this.pf(a.message);throw a;};b.prototype.Kfb=function(a){var b,f,c,q,d;f=a.K5 || k.T.nb;if(void 0 === this.pZ || f && !f.equal(this.pZ)){c=this.wP.add(this.s0a.$v).add(f);this.MZ(c);this.pZ=f;}q=this.s0a.pU(this.rf,a,this.Zt,this.wP,this.pZ,this.Qh,this.Bj[0],this.Ifb,this.MZ.bind(this),this.Nhb.bind(this));f=q.pU;c=q.Hia;q=q.Sfa;if(void 0 === this.Qh && !this.H.q4 && a.stream.Cd && this.H.$i){d=null === (b=a.yh) || void 0 === b?void 0:b.Fa(a.stream.Cd).add(this.Jea);d.lessThan(k.T.nb) && a.eR(Math.ceil(d.mF(-1).Xo(a.stream.wa)));}return {pU:f,Hia:c,Sfa:q};};b.prototype.Udb=function(a,b){var f,k;f=a.stream.wa;k=a.lm;this.H.$i && a.stream.Cd && (k=k.Fa(a.stream.Cd));return c(k.Fa(f)).add(c(f)).add(c(b));};b.prototype.Lhb=function(a,b,f){a={type:"headerAppended",mediaType:this.rf,manifestIndex:a,streamId:b,isIndex:f};this.emit(a.type,a);};b.prototype.Mhb=function(a){a={type:"requestAppended",mediaType:this.rf,request:a};this.emit(a.type,a);};b.prototype.GI=function(a){a={type:"managerdebugevent",message:a};this.emit(a.type,a);};b.prototype.Ghb=function(a,b){var f;f=a.Qb;a=a.Qj.Fa(b).da;f={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[f,a]}}};this.emit(f.type,f);};b.prototype.Nhb=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.da,minavsyncerror:b.da}};this.emit(a.type,a);};return b;})(d.EventEmitter);b.A8=a;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Lka=b.ufa=void 0;b.ufa=function(a,b){var c,d,m;c=b.profile;b=b.u;d=a.wQb;m=a.xQb;return a.vQb || Array.isArray(d) && -1 !== d.indexOf(c) || "object" === typeof m && Array.isArray(m[c]) && -1 !== m[c].indexOf("" + b);};b.Lka=function(a,b){return void 0 !== a.mL?a.mL:b && void 0 !== b.mL?b.mL:100;};},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.hca=b.cl=void 0;c=a(146);(function(a){a[a.Fm=0]="pending";a[a.lU=1]="running";a[a.complete=2]="complete";a[a.LJ=3]="destroyed";})(h=b.cl || (b.cl={}));d=(function(){function a(){this.Yd=h.Fm;}Object.defineProperties(a.prototype,{state:{get:function(){return this.Yd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{iDb:{get:function(){return this.Yd === h.Fm || this.Yd === h.lU;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bh:{get:function(){return this.Fz;},enumerable:!1,configurable:!0}});a.prototype.Jkb=function(a){var b;null === (b=this.Fz) || void 0 === b?void 0:b.gra(this);this.Fz=a;};a.prototype.CB=function(){this.Yd=h.lU;this.Pe();this.O4() === c.al.kua && (this.Yd=h.complete);};a.prototype.Tb=function(){var a;this.Yd=h.LJ;null === (a=this.Fz) || void 0 === a?void 0:a.gra(this);};return a;})();b.hca=d;},function(d,b,a){var l,m,f,k,q,v,r,u;function c(a){return a && "function" === typeof a.Ug?!0:!1;}function h(a){return c(a) && (a=typeof a.wDb,"boolean" === a || "undefined" === a)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.wu=b.map=b.t7a=b.dvb=b.vDb=b.b6a=b.gC=void 0;l=a(0);m=a(20);f=l.__importDefault(a(3))["default"].Promise;q=(function(){function a(a){var b;b=this;this.tfb=a;this.eP=!1;this.thb=function(a){return b.iNb(a);};this.CMa();}a.pEb=function(a,b){function f(){var c;c=a.next();c.then(function(f){h(a) && a.wDb || b(f);});c.then(function(a){return !a.done && f();});}f();};Object.defineProperties(a.prototype,{Ex:{get:function(){return this.eP;},enumerable:!1,configurable:!0}});a.tyb=function(){return new v([]);};a.nla=function(){k || (k=f.resolve({done:!0}));return k;};a.t6b=function(){return {done:!0};};Object.defineProperties(a.prototype,{HK:{get:function(){return this.vr || !1;},enumerable:!1,configurable:!0}});a.prototype.Ug=function(){this.cancel();};a.prototype.cancel=function(){this.EHa();this.vr=!0;return this.Yca;};a.prototype.next=function(){return this.vr?this.Yca:f.race([this.Yca,this.tfb()]).then(this.thb);};a.prototype.iNb=function(a){a.done && (this.eP=!0,this.Ug());this.HK || (this.EHa(),this.CMa());return a;};a.prototype.CMa=function(){var a;a=this;this.Yca=new f(function(b){a.EHa=function(){b({done:!0});};});};return a;})();b.gC=q;v=(function(a){function b(b){var f;f=a.call(this,function(){return f.tzb();}) || this;f.Lo=b;f.index=0;return f;}l.__extends(b,a);b.prototype.Ug=function(){c(this.Lo) && this.Lo.Ug();a.prototype.Ug.call(this);};b.prototype.tzb=function(){return this.Lo.length > this.index?f.resolve({value:this.Lo[this.index++],done:!1}):f.resolve({done:!0});};return b;})(q);b.b6a=v;b.vDb=c;b.dvb=h;r=(function(a){function b(b,f,c){var k;k=a.call(this,function(){return k.$oa();}) || this;k.console=f;k.gk=c;k.Cqa=!1;Array.isArray(b)?k.qP=new v(b):k.qP=b;return k;}l.__extends(b,a);b.prototype.kNb=function(a){var b;this.Cqa=!1;b=this.console;m.ma && b && b.trace("CompoundIterator: processNextOuterIterator");if(a.done)return a;a=a.value;if(this.qI)return (c(a) && a.Ug(),q.nla());Array.isArray(a)?this.gk=new v(a):this.gk=a;return this.$oa();};b.prototype.jNb=function(a){var b;b=this.console;m.ma && b && b.trace("CompoundIterator: processNextInnerResult",this.qI,a.done);if(!a.done || this.qI)return a;this.gk=void 0;return this.$oa();};b.prototype.Ug=function(){var b;b=this.console;m.ma && b && b.trace("CompoundIterator: dispose");this.qI=!0;a.prototype.Ug.call(this);c(this.qP) && this.qP.Ug();c(this.gk) && this.gk.Ug();};b.prototype.toString=function(){return "CompoundIterator " + this.qI + " " + this.qP + " " + this.gk;};b.prototype.$oa=function(){var a,b;a=this;b=this.console;m.ma && b && b.trace("CompoundIterator: nextImpl");if(this.gk)return (m.ma && b && b.trace("CompoundIterator: getNextInner"),this.gk.next().then(function(b){return a.jNb(b);}));this.Cqa=!0;m.ma && b && b.trace("CompoundIterator: getNextOuter");return this.qP.next().then(function(b){return a.kNb(b);});};return b;})(q);b.t7a=r;b.map=function(a,b,f){return new u(a,b,f);};u=(function(a){function b(b,f,c){var k;k=a.call(this,function(){return k.ffb();}) || this;k.source=b;k.doa=f;k.iob=c;return k;}l.__extends(b,a);b.prototype.Ug=function(){c(this.source) && this.source.Ug();a.prototype.Ug.call(this);};b.prototype.ffb=function(){var a,b,f;a=this.iob;b=this.doa;f=this.source;m.ma && a && a.trace("MappedIterator: Requesting next");return f.next().then(function(a){return a.done?a:b(a.value);});};return b;})(q);b.wu=function(a,b,f){return new r(a,b,f);};},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});d=a(930);c=a(419);a=a(932);b["default"]={STARTING:a.E0a,BUFFERING:d.s6,REBUFFERING:d.s6,PLAYING:c.ov,PAUSED:c.ov};},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.GE=b.MG=void 0;c=a(946);h=a(947);l=a(251);Object.defineProperties(b,{MG:{enumerable:!0,get:function(){return l.MG;}}});b.GE=function(a,b){switch(a.eoa){case "manifold":return new c.oAa(a,b);default:return new h.hEa(a,b);}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d.exports=function(a){return {minInitVideoBitrate:a.Su,minHCInitVideoBitrate:a.Joa,maxInitVideoBitrate:a.Sx,minInitAudioBitrate:a.dT,maxInitAudioBitrate:a.QS,minHCInitAudioBitrate:a.cT,minAcceptableVideoBitrate:a.u4,minRequiredBuffer:a.eT,minPrebufSize:a.jj,minCheckBufferingCompleteInterval:a.Ioa,rebufferingFactor:a.Uqa,useMaxPrebufSize:a.cua,maxPrebufSize:a.bB,maxRebufSize:a.ooa,maxBufferingTime:a.Lq,minAudioMediaRequestSizeBytes:a.v4,minVideoMediaRequestSizeBytes:a.B4,initialBitrateSelectionCurve:a.a3,initSelectionLowerBound:a.gTa,initSelectionUpperBound:a.hTa,throughputPercentForAudio:a.i7,bandwidthMargin:a.Yfa,bandwidthMarginContinuous:a.Zfa,bandwidthMarginCurve:a.$fa,conservBandwidthMargin:a.rha,switchConfigBasedOnInSessionTput:a.dta,conservBandwidthMarginTputThreshold:a.FQ,conservBandwidthMarginCurve:a.sha,switchAlgoBasedOnHistIQR:a.I2a,switchConfigBasedOnThroughputHistory:a.NB,maxPlayerStateToSwitchConfig:a.noa,lowEndMarkingCriteria:a.Qna,IQRThreshold:a.i$,histIQRCalcToUse:a.Xla,maxTotalBufferLevelPerSession:a.Ds,highWatermarkLevel:a.KSa,toStableThreshold:a.r3a,toUnstableThreshold:a.p7,skipBitrateInUpswitch:a.Isa,watermarkLevelForSkipStart:a.mua,highStreamRetentionWindow:a.Qla,lowStreamTransitionWindow:a.Rna,highStreamRetentionWindowUp:a.Sla,lowStreamTransitionWindowUp:a.Tna,highStreamRetentionWindowDown:a.Rla,lowStreamTransitionWindowDown:a.Sna,highStreamInfeasibleBitrateFactor:a.Pla,lowestBufForUpswitch:a.Lx,lockPeriodAfterDownswitch:a.U3,lowWatermarkLevel:a.Vna,lowestWaterMarkLevel:a.Mx,lowestWaterMarkLevelBufferRelaxed:a.Wna,mediaRate:a.zoa,maxTrailingBufferLen:a.i4,audioBufferTargetAvailableSize:a.gQ,videoBufferTargetAvailableSize:a.CV,maxVideoTrailingBufferSize:a.OVa,maxAudioTrailingBufferSize:a.wVa,fastUpswitchFactor:a.o1,fastDownswitchFactor:a.qja,maxMediaBufferAllowed:a.Tx,simulatePartialBlocks:a.Gsa,simulateBufferFull:a.H1a,considerConnectTime:a.tha,connectTimeMultiplier:a.qha,lowGradeModeEnterThreshold:a.WUa,lowGradeModeExitThreshold:a.XUa,maxDomainFailureWaitDuration:a.AVa,maxAttemptsOnFailure:a.vVa,exhaustAllLocationsForFailure:a.UOa,maxNetworkErrorsDuringBuffering:a.GVa,maxBufferingTimeAllowedWithNetworkError:a.c4,fastDomainSelectionBwThreshold:a.bPa,throughputProbingEnterThreshold:a.W2a,throughputProbingExitThreshold:a.X2a,locationProbingTimeout:a.JUa,finalLocationSelectionBwThreshold:a.gPa,throughputHighConfidenceLevel:a.U2a,throughputLowConfidenceLevel:a.V2a,locationStatisticsUpdateInterval:a.Hna,enablePerfBasedLocationSwitch:a.COa,probeServerWhenError:a.Os,probeRequestTimeoutMilliseconds:a.yqa,allowSwitchback:a.Gw,probeDetailDenominator:a.GF,maxDelayToReportFailure:a.d4,countGapInBuffer:a.xMa,bufferThresholdForAbort:a.IKa,allowCallToStreamSelector:a.lJa,pipelineScheduleTimeoutMs:a.Wpa,maxPartialBuffersAtBufferingStart:a.Ux,minPendingBufferLen:a.Koa,maxPendingBufferLen:a.aB,maxPendingBufferLenSABCell100:a.f4,maxActiveRequestsSABCell100:a.a4,maxStreamingSkew:a.poa,maxPendingBufferPercentage:a.loa,maxRequestsInBuffer:a.fL,headerRequestSize:a.K2,minBufferLenForHeaderDownloading:a.bT,reserveForSkipbackBufferMs:a.dM,numExtraFragmentsAllowed:a.npa,pipelineEnabled:a.wp,maxParallelConnections:a.eL,socketReceiveBufferSize:a.P1a,audioSocketReceiveBufferSize:a.A_,videoSocketReceiveBufferSize:a.eN,headersSocketReceiveBufferSize:a.Nla,updatePtsIntervalMs:a.A7,bufferTraceDenominator:a.kga,bufferLevelNotifyIntervalMs:a.RD,aseReportDenominator:a.cQ,aseReportIntervalMs:a.Ifa,enableAbortTesting:a.Ytb,abortRequestFrequency:a.Vib,streamingStatusIntervalMs:a.Xsa,prebufferTimeLimit:a.ky,minBufferLevelForTrackSwitch:a.w4,penaltyFactorForLongConnectTime:a.Ppa,longConnectTimeThreshold:a.Pna,additionalBufferingLongConnectTime:a.mfa,additionalBufferingPerFailure:a.nfa,rebufferCheckDuration:a.ZT,enableLookaheadHints:a.zOa,lookaheadFragments:a.RUa,enableOCSideChannel:a.lA,OCSCBufferQuantizationConfig:a.GX,updateDrmRequestOnNetworkFailure:a.d4a,deferAseScheduling:a.sNa,maxDiffAudioVideoEndPtsMs:a.zVa,useHeaderCache:a.ZM,useHeaderCacheData:a.iR,defaultHeaderCacheSize:a.XQ,defaultHeaderCacheDataPrefetchMs:a.A0,headerCacheMaxPendingData:a.Jla,neverWipeHeaderCache:a.pF,headerCachePriorityLimit:a.Kla,enableUsingHeaderCount:a.mR,networkFailureResetWaitMs:a.Xoa,networkFailureAbandonMs:a.Woa,maxThrottledNetworkFailures:a.h4,throttledNetworkFailureThresholdMs:a.h7,lowThroughputThreshold:a.Una,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.lja,mp4ParsingInNative:a.uWa,sourceBufferInOrderAppend:a.R1a,requireAudioStreamToEncompassVideo:a.Us,allowAudioToStreamPastVideo:a.kJa,enableManagerDebugTraces:a.Ah,managerDebugMessageInterval:a.kVa,managerDebugMessageCount:a.jVa,bufferThresholdToSwitchToSingleConnMs:a.jga,bufferThresholdToSwitchToParallelConnMs:a.iga,netIntrStoreWindow:a.rIb,minNetIntrDuration:a.NHb,fastHistoricBandwidthExpirationTime:a.ovb,bandwidthExpirationTime:a.nlb,failureExpirationTime:a.lvb,historyTimeOfDayGranularity:a.WBb,expandDownloadTime:a.Zub,minimumMeasurementTime:a.YHb,minimumMeasurementBytes:a.XHb,throughputMeasurementTimeout:a.DUb,initThroughputMeasureDataSize:a.NCb,throughputMeasureWindow:a.CUb,throughputIQRMeasureWindow:a.BUb,IQRBucketizerWindow:a.x$a,connectTimeHalflife:a.pob,responseTimeHalflife:a.PPb,historicBandwidthUpdateInterval:a.VBb,throughputWarmupTime:a.HUb,minimumBufferToStopProbing:a.WHb,throughputPredictor:a.EUb,ase_stream_selector:a.vkb,enableFilters:a.bub,filterDefinitionOverrides:a.Hvb,defaultFilter:a.fsb,secondaryFilter:a.zQb,defaultFilterDefinitions:a.gsb,initBitrateSelectorAlgorithm:a.vma,bufferingSelectorAlgorithm:a.oga,ase_ls_failure_simulation:a.fNa,ase_dump_fragments:a.Xha,ase_location_history:a.Zha,ase_throughput:a.$ha,ase_simulate_verbose:a.hNa,secondThroughputEstimator:a.Qra,secondThroughputMeasureWindowInMs:a.t0a,marginPredictor:a.eoa,networkMeasurementGranularity:a.Yoa,HistoricalTDigestConfig:a.tya,maxIQRSamples:a.DVa,minIQRSamples:a.hWa,periodicHistoryPersistMs:a.r5,saveVideoBitrateMs:a.n6,needMinimumNetworkConfidence:a.lT,biasTowardHistoricalThroughput:a.dga,maxFastPlayBufferInMs:a.ioa,maxFastPlayBitThreshold:a.hoa,headerCacheTruncateHeaderAfterParsing:a.FSa,minAudioMediaRequestDuration:a.lL,minVideoMediaRequestDuration:a.qL,minAudioMediaRequestDurationCache:a.lL,minVideoMediaRequestDurationCache:a.qL,addHeaderDataToNetworkMonitor:a.k_,useMediaCache:a.UB,mediaCachePartitionConfig:a.uoa,diskCacheSizeLimit:a.hA,mediaCachePrefetchMs:a.WS,hindsightDenominator:a.Wla,hindsightDebugDenominator:a.Vla,hindsightParam:a.O2,minimumTimeBeforeBranchDecision:a.Tu,enableSessionHistoryReport:a.lR,earlyStageEstimatePeriod:a.Mia,lateStageEstimatePeriod:a.uUa,maxNumSessionHistoryStored:a.e4,minSessionHistoryDuration:a.A4,appendMediaRequestOnComplete:a.AJa,waitForDrmToAppendMedia:a.R7,forceAppendHeadersAfterDrm:a.z1,startMonitorOnLoadStart:a.Qsa,reportFailedRequestsToNetworkMonitor:a.jra,reappendRequestsOnSkip:a.YNb,maxActiveRequestsPerSession:a.Nu,limitAudioDiscountByMaxAudioBitrate:a.Cna,appendFirstHeaderOnComplete:a.yfa,maxAudioFragmentOverlapMs:0,editVideoFragments:a.RJ,declareBufferingCompleteAtSegmentEnd:a.aia,applyProfileTimestampOffset:a.Lz,applyProfileStreamingOffset:a.$i,requireDownloadDataAtBuffering:a.a6,requireSetupConnectionDuringBuffering:a.b6,recordFirstFragmentOnSubBranchCreate:a.Wqa,earlyAppendSingleChildBranch:a.U0,selectStartingVMAFMethod:a.mM,activateSelectStartingVMAF:a.UP,minStartingVideoVMAF:a.pL,minAcceptableVMAF:a.aT,minAllowedVmaf:a.jF,alwaysNotifyEOSForPlaygraph:a.vfa,enableNewAse:a.qE,useNewApi:a.Pl,useBufferSizeLimiter:a.bua,enableHudsonFieldTest:a.Z0,hudsonTitles:a.hS,maxPartialBuffersAtHudson:a.koa,numberOfChunksPerSegment:a.sT,targetContentLatency:a.g7,targetLongContentLatency:a.hta,minimumTimeDelay:a.C4,enableWsslEstimate:a.a1,maxAllowedOutstandingRequests:a.b4,alwaysRunUnderflowTimer:a.YI,minStreamableConcurrencyWindow:a.Loa,streamableConcurrencyFactor:a.Vsa,bufferingConcurrencyWindow:a.vQ,singleStreamablePerBranch:a.NSb,enableResolutionVMAFStreamFilter:a.$0,resolutionVMAFCappingRuleList:a.g6,percentCapTitlesForResolutionVMAFStreamFilter:a.Rpa};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Z8=b.a9=void 0;(b.a9 || (b.a9={})).Gbb="PboDebugEvent";b.Z8={jab:"Manifest",Event:"Event",j0b:"Logblob"};},function(d,b,a){var h,l;function c(a){switch(a){case h.K.VN:return "http";case h.K.XN:return "connectiontimeout";case h.K.qC:return "readtimeout";case h.K.nya:return "corruptcontent";case h.K.Sy:return "abort";case h.K.YN:case h.K.c$:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.bla=b.Qka=b.Pka=void 0;h=a(2);l=a(10);b.Pka=c;b.Qka=function(a,b){a={errorcode:a + (b.errorCode || h.L.Wl)};b.ka && (a.errorsubcode=b.ka);b.Oe && (a.errorextcode=b.Oe);b.bja && (a.erroredgecode=b.bja);b.Ab && (a.errordetails=b.Ab);b.cj && (a.httperr=b.cj);b.mT && (a.aseneterr=b.mT);b.e1 && (a.errordata=b.e1);b.XS && (a.mediaerrormessage=b.XS);(b=c(Number(b.ka))) && (a.nwerr=b);return a;};b.bla=function(){return {screensize:l.Jt.width + "x" + l.Jt.height,screenavailsize:l.Jt.availWidth + "x" + l.Jt.availHeight,clientsize:ja.innerWidth + "x" + ja.innerHeight};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.hH=void 0;b.hH="LicenseProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.kO=b.Uaa=void 0;b.Uaa="PboPlaydataServicesSymbol";b.kO="PboPlaydataServicesProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pO=void 0;b.pO="PlaygraphHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.j9=b.Vwa=void 0;b.Vwa=function(){this.AUDIO=0;this.VIDEO=1;this.m9a=2;this.Pe=function(){};};b.j9="DownloadTrackConstructorFactorySymbol";},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sb=void 0;b.Sb=a;a.ie={fBa:"mr1",eBa:"mr2",gBa:"mr3",hO:"mr4",Iab:"mr5",GC:"mr6"};a.mc={UNSENT:0,OPENED:1,Uv:2,Sv:3,DONE:5,YG:6,nN:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.l2b={tua:0,QC:1,VAa:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.zW={NO_ERROR:-1,a8a:0,Cwa:1,m8a:2,e8a:3,b7a:4,Ova:5,Mva:6,c7a:7,d7a:8,e7a:9,Z6a:10,a7a:11,Nva:12,$6a:13,Y6a:14,q9a:15,lya:16,kya:17,Z9:18,b$:19,a$:20,oya:21,s9a:22,dX:23,mya:24,r9a:25,h8a:26,b8a:27,ocb:28,S7a:29,T7a:30,U7a:31,V7a:32,W7a:33,X7a:34,Y7a:35,Z7a:36,$7a:37,c8a:38,d8a:39,f8a:40,g8a:41,i8a:42,j8a:43,k8a:44,l8a:45,n8a:46,o8a:47,ncb:48,TIMEOUT:49,hya:50,iya:51,p9a:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Yb={gM:{tua:!0,QC:!1,VAa:!0}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lO=void 0;b.lO="PboPublisherSymbol";},function(d,b,a){var c,h,l,m,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.qq=b.storage=void 0;c=a(12);h=a(11);l=a(498);d=a(2);m=a(499);f=a(501);k=a(7);a=a(29);b.storage=b.storage || void 0;b.qq=b.qq || void 0;k.ha.get(a.qg).register(d.L.Kya,function(a){var k;switch(c.config.yTb){case "idb":k=m.k2a;break;case "none":k=l.m2a;break;case "ls":k=f.l2a;}k(function(f){f.ja?(b.storage=f.storage,b.qq=f.qq,a(h.ke)):a(f);});});},function(d){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof ja && (b=ja);}d.exports=b;},function(d,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.sC=void 0;c=/^\S+$/;a.prototype.kE=function(a){return void 0 !== a;};a.prototype.Rf=function(a){return null !== a && void 0 !== a;};a.prototype.JD=function(b){return a.pJa(b);};a.prototype.Xea=function(b){return !(!b || !a.pJa(b));};a.prototype.Hw=function(a){return Array.isArray(a);};a.prototype.qJa=function(a){return !(!a || a.constructor != Uint8Array);};a.prototype.Th=function(b,c,d){return a.GIa(b,c,d);};a.prototype.Wea=function(b){return a.Wea(b);};a.prototype.wfa=function(b,c,d){return a.q_(b,c,d) && 0 === b % 1;};a.prototype.ZI=function(b,c,d){return a.q_(b,c || 0,d);};a.prototype.QP=function(b){return a.q_(b,1);};a.prototype.Tib=function(b){return a.q_(b,0,255);};a.prototype.Uib=function(a){return a === +a && (0 === a || a !== (a | 0)) && !0 && !0;};a.prototype.rJa=function(a){return !(!a || !c.test(a));};a.prototype.Ho=function(b){return a.HIa(b);};a.prototype.jn=function(b){return !(!a.HIa(b) || !b);};a.prototype.PP=function(a){return !0 === a || !1 === a;};a.prototype.g_=function(a){return "function" == typeof a;};a.HIa=function(a){return "string" == typeof a;};a.GIa=function(a,b,c){return "number" == typeof a && !isNaN(a) && isFinite(a) && (void 0 === b || a >= b) && (void 0 === c || a <= c);};a.Wea=function(a){return "number" == typeof a && isNaN(a);};a.q_=function(b,c,d){return a.GIa(b,c,d) && 0 === b % 1;};a.pJa=function(a){return "object" == typeof a;};b.sC=new a();},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(193);d=(function(){function a(a){this.Xb=a;}a.prototype.Xu=function(a){this.Xb.Xu=a;return new c.u8(this.Xb);};return a;})();b.$V=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(192);a(292);d=(function(){function a(a){this.Xb=a;}a.prototype.when=function(a){this.Xb.aE=a;return new c.$V(this.Xb);};a.prototype.MV=function(){this.Xb.aE=function(a){return null !== a.target && !a.target.Nma() && !a.target.Wma();};return new c.$V(this.Xb);};return a;})();b.u8=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.nO=void 0;b.nO="PlatformEmeSymbol";},function(d,b,a){var c,h,l,m,f,k,q,v,r,u,B,A,y;Object.defineProperty(b,"__esModule",{value:!0});b.SJ=b.eme=void 0;d=a(1);c=a(112);h=a(297);l=a(196);m=a(197);f=a(565);k=a(566);q=a(76);v=a(113);r=a(567);u=a(155);B=a(568);A=a(198);y=a(570);b.eme=new d.Tc(function(a){a(h.k9).to(l.Ywa).Z();a(m.cW).to(f.Uva).Z();a(c.KN).mV(k.vZa);a(A.wW).to(y.$wa).Z();a(q.qr).QB(function(a){b.SJ.parent=a.ob;return b.SJ.get(q.qr);});a(v.zC).jf(function(){return function(){return new r.AAa();};});a(u.CN).to(B.Wva).Z;});b.SJ=new d.gW({fG:!0});},function(d,b,a){var l;function c(){}function h(a){a?(this.active=!1,this.Wja(a)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.Ywa=b.vW=void 0;d=a(0);a=a(1);h.prototype.Wja=function(a){this.qc=a.keySessionData?a.keySessionData.map(function(a){return {id:a.id,UA:a.licenseContextId,WK:a.licenseId};}):[];this.ea=a.xid;this.u=a.movieId;};h.prototype.tv=function(){return JSON.parse(JSON.stringify({keySessionData:this.qc?this.qc.map(function(a){return {id:a.id,licenseContextId:a.UA,licenseId:a.WK};}):[],xid:this.ea,movieId:this.u}));};b.vW=h;c.prototype.create=function(){return new h();};c.prototype.load=function(a){return new h(a);};l=c;l=d.__decorate([a.O()],l);b.Ywa=l;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cW=void 0;b.cW="CachedDrmDataSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.wW=void 0;b.wW="DrmServiceLogblobBuilderSymbol";},function(d,b){b.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(d,b,a){d=a(89).root.Symbol;b.UF="function" === typeof d && "function" === typeof d["for"]?d["for"]("rxSubscriber"):"@@rxSubscriber";b.hYb=b.UF;},function(d,b,a){function c(a){var b;b=a.Symbol;"function" === typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}d=a(89);b.s6b=c;b.observable=c(d.root);b.gYb=b.observable;},function(d,b,a){function c(a){var b,f;b=a.Symbol;if("function" === typeof b)return (b.iterator || (b.iterator=b("iterator polyfill")),b.iterator);if((b=a.Set) && "function" === typeof new b()["@@iterator"])return "@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),c=0;c < b.length;++c){f=b[c];if("entries" !== f && "size" !== f && a.prototype[f] === a.prototype.entries)return f;}return "@@iterator";}d=a(89);b.q9b=c;b.iterator=c(d.root);b.fYb=b.iterator;},function(d,b){b.y3=function(a){return a && "function" === typeof a.bd;};},function(d,b,a){var c,h,l,m;c=this && this.__extends || (function(a,b){function f(){this.constructor=a;}for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}a.prototype=null === b?Object.create(b):(f.prototype=b.prototype,new f());});d=a(24);h=a(315);l=a(160);m=a(203);a=(function(a){function b(b,f){a.call(this);this.Lo=b;(this.Ea=f) || 1 !== b.length || (this.jw=!0,this.value=b[0]);}c(b,a);b.create=function(a,f){return new b(a,f);};b.of=function(){var c;for(var a=[],f=0;f < arguments.length;f++){a[f - 0]=arguments[f];}f=a[a.length - 1];m.y3(f)?a.pop():f=null;c=a.length;return 1 < c?new b(a,f):1 === c?new h.PDa(a[0],f):new l.AW(f);};b.Ic=function(a){var b,f,c;b=a.Lo;f=a.index;c=a.Vj;f >= a.count?c.complete():(c.next(b[f]),c.closed || (a.index=f + 1,this.bd(a)));};b.prototype.gn=function(a){var f,c,k;f=this.Lo;c=f.length;k=this.Ea;if(k)return k.bd(b.Ic,0,{Lo:f,index:0,count:c,Vj:a});for(k=0;k < c && !a.closed;k++){a.next(f[k]);}a.complete();};return b;})(d.Eb);b.d8=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cxa=b.vC=b.Ft=void 0;b.Ft='video/mp4; codecs="avc1.640028"';b.vC='audio/mp4; codecs="mp4a.40.5"';b.cxa="DrmTraitsSymbol";},function(d,b,a){var h,l,m,f,k,q,v,r,u,B,A;function c(a,b,f,c,k,q){this.kT=a;this.is=b;this.oc=f;this.Ed=c;this.bj=k;this.eh=q;m.In(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.Ot=void 0;d=a(0);l=a(1);m=a(53);f=a(2);k=a(33);q=a(22);v=a(75);r=a(27);u=a(41);B=a(60);a=a(104);c.prototype.qx=function(){if(this.Za)return this.Za.sessionId;};c.prototype.tPb=function(a,b){return this.kT.requestMediaKeySystemAccess(a,b);};c.prototype.Uqb=function(a){return a.createMediaKeys();};c.prototype.rn=function(a,b){this.Za=a.createSession(b);};c.prototype.m0=function(){return Promise.reject(new v.Re(f.L.yW));};c.prototype.YDb=function(){return ! !this.Za;};c.prototype.MRb=function(a,b){return this.is.g_(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};c.prototype.eK=function(a,b){return this.Za?this.Za.generateRequest(a,b[0]):Promise.reject(new v.Re(f.L.yW,f.K.VG,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(a){return this.Za?this.Za.update(a[0]):Promise.reject(new v.Re(f.L.v9,f.K.VG,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(a){return this.Za?this.Za.load(a):Promise.reject(new v.Re(f.L.M8a,f.K.VG,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var a;this.bha=void 0;if(!this.Za)return Promise.reject(new v.Re(f.L.hxa,f.K.VG,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.qx() && (a=this.Za.close());this.Za=void 0;return a;};c.prototype.remove=function(){return this.Za?this.Za.remove():Promise.reject(new v.Re(f.L.nxa,f.K.VG,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.dU=function(){return Promise.reject(new v.Re(f.L.t9,void 0,"Unable to renew a key session, not supported"));};c.prototype.TIa=function(a){if(!this.Za)throw ReferenceError("Unable to add message handler, key session is not valid");this.Za.addEventListener(h.sxa,a);};c.prototype.PIa=function(a){if(!this.Za)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Za.addEventListener(h.rxa,a);};c.prototype.NIa=function(a){if(!this.Za)throw ReferenceError("Unable to add error handler, key session is not valid");this.Za.addEventListener(h.qxa,a);};c.prototype.ijb=function(a){var b;b=this;if(!this.Za)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.bha=a;this.Za.closed.then(function(){var a;return null === (a=b.bha) || void 0 === a?void 0:a.call(b);});};c.prototype.r_a=function(a){if(!this.Za)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Za.removeEventListener(h.sxa,a);};c.prototype.o_a=function(a){if(!this.Za)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Za.removeEventListener(h.rxa,a);};c.prototype.l_a=function(a){if(!this.Za)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Za.removeEventListener(h.qxa,a);};A=h=c;A.sxa="message";A.rxa="keystatuseschange";A.qxa="error";A=h=d.__decorate([l.O(),d.__param(0,l.l(k.EC)),d.__param(1,l.l(q.Ie)),d.__param(2,l.l(u.Ki)),d.__param(3,l.l(r.tg)),d.__param(4,l.l(B.Qp)),d.__param(5,l.l(a.gz))],A);b.Ot=A;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.A9=b.hz=void 0;b.hz="_ANY_";b.A9="EnricherSymbol";},function(d,b,a){var h,l,m;function c(a,b,c,d){this.za=a;this.Pw=b;this.Om=c;this.pn=void 0 === d?"General":d;this.dha={};}Object.defineProperty(b,"__esModule",{value:!0});b.iH=void 0;h=a(6);l=a(339);m=a(682);c.prototype.cfa=function(a,b){this.dha[a]=b;};c.prototype.fatal=function(a,b){for(var f=[],c=1;c < arguments.length;++c){f[c - 1]=arguments[c];}this.Jz(h.Ni.Y8a,a,m.UD(this.Pw,this.hK(f)));};c.prototype.error=function(a,b){for(var f=[],c=1;c < arguments.length;++c){f[c - 1]=arguments[c];}this.Jz(h.Ni.ERROR,a,m.UD(this.Pw,this.hK(f)));};c.prototype.warn=function(a,b){for(var c=[],f=1;f < arguments.length;++f){c[f - 1]=arguments[f];}this.Jz(h.Ni.yca,a,m.UD(this.Pw,this.hK(c)));};c.prototype.info=function(a,b){for(var c=[],f=1;f < arguments.length;++f){c[f - 1]=arguments[f];}this.Jz(h.Ni.g$,a,m.UD(this.Pw,this.hK(c)));};c.prototype.trace=function(a,b){for(var c=[],f=1;f < arguments.length;++f){c[f - 1]=arguments[f];}this.Jz(h.Ni.EEa,a,m.UD(this.Pw,this.hK(c)));};c.prototype.debug=function(a,b){for(var c=1;c < arguments.length;++c){;}!1;};c.prototype.log=function(a,b){for(var c=[],f=1;f < arguments.length;++f){c[f - 1]=arguments[f];}this.debug.apply(this,[].concat([a],X(c)));};c.prototype.write=function(a,b,c){for(var f=[],k=2;k < arguments.length;++k){f[k - 2]=arguments[k];}this.Jz(a,b,m.UD(this.Pw,this.hK(f)));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.pn};};c.prototype.Hha=function(a){return new c(this.za,this.Pw,this.Om,a);};c.prototype.Jz=function(a,b,c){a=new l.D$(a,this.pn,this.za.Bb(),b,c);b=N(this.Om.Om);for(c=b.next();!c.done;c=b.next()){c=c.value;c(a);}};c.prototype.hK=function(a){return 0 < Object.keys(this.dha).length?[].concat([this.dha],X(a)):a;};b.iH=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uX=void 0;b.uX="MomentObserverFactory";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iY=void 0;b.iY="SegmentManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.RX=void 0;b.RX="PboPlaydataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.rY=b.jca=void 0;b.jca="ThroughputTrackerSymbol";b.rY="ThroughputTrackerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.bba=b.o$=void 0;b.o$="IsTypeSupportedProviderFactorySymbol";b.bba="PlatformIsTypeSupportedSymbol";},function(d,b,a){var h,l,m,f,k,q;function c(a,b,k,d,h){var r;r=l.Op.call(this,a,b,k,h) || this;r.cast=d;r.type=m.Xl.D8;a=c.Rcb;r.GV[m.Od.IH]=f.Gd.NN + "; " + a;r.GV[m.Od.Iv]=f.Gd.Iv + "; " + a;a=f.Gd.m7a.find(function(a){return r.Tw(q(c.CG,a));});r.GV[m.Od.kr]=a;return r;}Object.defineProperty(b,"__esModule",{value:!0});b.dW=b.E8=void 0;h=a(56);l=a(162);m=a(30);d=a(105);f=a(137);k=a(352);q=new d.cz().format;L(c,l.Op);c.Cha=function(a,b){return (b=c.W_a(b))?{isTypeSupported:b}:a;};c.W_a=function(a){if("undefined" !== typeof a)return a.framework && a.framework.platform && a.framework.platform.canDisplayType?a.framework.platform.canDisplayType:a.receiver && a.receiver.platform && a.receiver.platform.canDisplayType || a.__platform__ && a.__platform__.canDisplayType || void 0;};c.prototype.rv=function(a){var b,k;b=this.cast.__platform__.display && this.cast.__platform__.display.getHdcpVersion;if(this.config().x4a){k={};if(b)return (k[m.Mi.tC]="1.4",k[m.Mi.Dt]="2.2",b().then(function(b){return b === k[a];}));b=this.mVa(a);b=q(c.CG,f.Gd.NN) + " hdcp=" + b;b=this.Tw.bind(this,b);return Promise.resolve(b());}return Promise.resolve(!1);};c.prototype.gK=function(a){return this.GV[a];};c.prototype.nK=function(){var a;a=this;return this.config().x4a?this.rv(m.Mi.Dt).then(function(b){return b?Promise.resolve(m.Mi.Dt):a.rv(m.Mi.tC).then(function(a){return a?Promise.resolve(m.Mi.tC):Promise.resolve(void 0);});}).then(function(b){return a.MQ(b);}):Promise.resolve(void 0);};c.prototype.gE=function(){var a,b;a=l.Op.prototype.gE.call(this);b=c.DSa;a[h.P.N9]=["avc1.4D4028","width=1920; height=1080; "];a[h.P.O9]=["hev1.2.6.L90.B0",b];a[h.P.P9]=["hev1.2.6.L93.B0",b];a[h.P.Q9]=["hev1.2.6.L120.B0",b];a[h.P.R9]=["hev1.2.6.L123.B0",b];a[h.P.S9]=["hev1.2.6.L150.B0","width=3840; height=2160; " + b];a[h.P.T9]=["hev1.2.6.L153.B0","width=3840; height=2160; " + b];a[h.P.PN]=["hev1.2.6.L90.B0",b];a[h.P.QN]=["hev1.2.6.L93.B0",b];a[h.P.aH]=["hev1.2.6.L120.B0",b];a[h.P.RN]=["hev1.2.6.L123.B0",b];a[h.P.SN]=["hev1.2.6.L150.B0","width=3840; height=2160; " + b];a[h.P.TN]=["hev1.2.6.L153.B0","width=3840; height=2160; " + b];a[h.P.V9]="hev1.2.6.L90.B0";a[h.P.W9]="hev1.2.6.L93.B0";a[h.P.X9]="hev1.2.6.L120.B0";a[h.P.Y9]="hev1.2.6.L123.B0";a[h.P.bH]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[h.P.cH]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[h.P.VW]="hev1.2.6.L90.B0";a[h.P.XW]="hev1.2.6.L93.B0";a[h.P.ZW]="hev1.2.6.L120.B0";a[h.P.aX]="hev1.2.6.L123.B0";a[h.P.bX]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[h.P.cX]=["hev1.2.6.L153.B0","width=3840; height=2160; "];return a;};c.prototype.qQa=function(){return [k.Hf.QV,k.Hf.fya,k.Hf.MN,k.Hf.$G];};c.prototype.Ama=function(){l.Op.prototype.Ama.call(this);!c.W_a(this.cast) && this.Im.push(k.Hf.Iv);};b.E8=c;c.DSa="eotf=smpte2084";c.y6b="video/mp4;codecs={0}; " + c.DSa;c.Rcb="width=3840; height=2160; ";b.dW="CastSDKSymbol";},function(d,b,a){var h,l,m;function c(){this.type=h.Ny.CC;}Object.defineProperty(b,"__esModule",{value:!0});b.Yy=void 0;h=a(30);d=a(105);l=a(131);m=new d.cz();c.Cha=function(){return {isTypeSupported:function(a){var b;try{if(-1 == a.toLowerCase().indexOf("codec"))return ja.MSMediaKeys.isTypeSupported(a,"video/mp4");b=a.split("|");return 1 === b.length?ja.MSMediaKeys.isTypeSupported(l.Wb.Mt,a):"probably" === c.bta(b[0],b[1]);}catch(q){return !1;}}};};c.l0=function(a,b,q){b=m.format(c.CG,b);if(0 === q.length)return b;q=m.format('features="{0}"',q.join());return m.format("{0}|{1}{2}",a,b,q);};c.bta=function(a,b){var c;try{c=ja.MSMediaKeys.isTypeSupportedWithFeatures?ja.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(v){c="exception";}return c;};b.Yy=c;c.CG='video/mp4;codecs="{0},mp4a";';},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.E9=b.Ry=void 0;d=b.Ry || (b.Ry={});d.adb="unknown";d.Eua="absent";d.bDa="present";d.Error="error";b.E9="ExternalDisplayLogHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.aW=void 0;b.aW="BookmarkSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zO=void 0;b.zO="TransportConfigSymbol";},function(d){d.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(d,b,a){var l,m,f,k;function c(a,b,c){for(var f=c.next();!f.done;){if((b=a["@@transducer/step"](b,f.value)) && b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}f=c.next();}return a["@@transducer/result"](b);}function h(a,b,c,k){return a["@@transducer/result"](c[k](f(a["@@transducer/step"],a),b));}l=a(744);m=a(746);f=a(747);g();g();p();k="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";d.exports=function(a,b,f){"function" === typeof a && (a=m(a));if(l(f)){for(var q=0,d=f.length;q < d;){if((b=a["@@transducer/step"](b,f[q])) && b["@@transducer/reduced"]){b=b["@@transducer/value"];break;}q+=1;}return a["@@transducer/result"](b);}if("function" === typeof f["fantasy-land/reduce"])return h(a,b,f,"fantasy-land/reduce");if(null != f[k])return c(a,b,f[k]());if("function" === typeof f.next)return c(a,b,f);if("function" === typeof f.reduce)return h(a,b,f,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(d){d.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,d){return a.apply(this,arguments);};case 3:return function(b,d,l){return a.apply(this,arguments);};case 4:return function(b,d,l,m){return a.apply(this,arguments);};case 5:return function(b,d,l,m,f){return a.apply(this,arguments);};case 6:return function(b,d,l,m,f,k){return a.apply(this,arguments);};case 7:return function(b,d,l,m,f,k,q){return a.apply(this,arguments);};case 8:return function(b,d,l,m,f,k,q,v){return a.apply(this,arguments);};case 9:return function(b,d,l,m,f,k,q,v,r){return a.apply(this,arguments);};case 10:return function(b,d,l,m,f,k,q,v,r,u){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(d,b,a){var h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.pY=void 0;h=a(10);c.Vka=function(){var a;a=h.Jt && h.Jt.height;return a?1080 <= a?1080:720:720;};b.pY=c;},function(d,b,a){var h,l,m,f;function c(a,b){return l.cO.call(this,a,b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vY=void 0;h=a(118);l=a(377);m=a(80);f=a(139);L(c,l.cO);c.prototype.Jpa=function(a){var b,c;b=this;a=N(h.Hs(function(a){return a.yc && 0 < a.yc.length;},a));c=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.Fs});});a=c.map(function(a){var c;c=a.fo;c={type:m.kh.video,Ya:a.Fs,Bx:a.yta,fo:f.sY[c.toLowerCase()] || f.so.wH,YT:c,yc:[],Eh:{},Ns:a.Ns};c.yc=b.B3a(a.yc,c);b.log.trace("Transformed video track",{StreamCount:c.yc.length});return c;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};c.prototype.$Kb=function(a){var b;b=a.map(function(a){return a.Ns;}).filter(Boolean);b=[].concat.apply([],[].concat(X(b))).map(function(a){return a.ba;});a=a.map(function(a){return a.Fia;}).filter(Boolean).map(function(a){return a.ba;});return 0 < b.length?b:a;};b.vY=c;},function(d,b,a){var h,l,m,f,k,q,v,r,u,B,A,y,I;function c(a,b,c,d,m,r,l,v,h,u,B,y,A,g,n,p){this.j=a;this.Ya=b;this.Bx=c;this.Jd=d;this.hx=m;this.yia=r;this.im=l;this.displayName=v;this.fo=h;this.YT=u;this.profile=B;this.Es=y;this.wL=A;this.ywb=g;this.v3=n;this.qs=p;this.type=f.kh.m7;this.kt=void 0;this.lp=!(!B || B != q.Vl.oH && B != q.Vl.AX);this.Eh={bcp47:l,trackId:b,downloadableId:d,isImageBased:this.lp};this.log=k.Ch(a,"TimedTextTrack");this.state=I.FX;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.UC=void 0;h=a(0);l=a(67);m=a(12);f=a(80);k=a(7);q=a(56);v=a(18);r=a(441);u=a(15);B=a(1032);A=a(13);y=a(2);(function(a){a[a.FX=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.bO=3]="LOAD_FAILED";})(I || (I={}));c.prototype.getEntries=function(){var a;a=this;if(this.j.state.value === A.Db.CLOSED || this.j.state.value === A.Db.CLOSING)return Promise.reject({ja:!1});if(this.lp)return this.SCb();this.XNa || (this.XNa=this.WNa());return this.XNa.then(function(b){return a.SKb(b);});};c.prototype.sd=function(){return this.state;};c.prototype.KK=function(){return this.wL;};c.prototype.r3=function(){return this.ywb;};c.prototype.BA=function(a,b){var c;c=[];try{this.lp?c=this.xf && this.xf.BA(a,b) || []:this.entries && (c=this.entries.filter(function(c){var f;f=N([c.startTime,c.endTime]);c=f.next().value;f=f.next().value;return c >= a && c <= b || c <= a && a <= f;}));}catch(S){this.log.error("error in getSubtitles",S,{start:a,end:b,isImageBased:this.lp});}return c;};c.prototype.sAb=function(){var a;if(!u.ic(this.X))try{this.X=this.lp?(a=this.BA(0,c.K$a)[0]) && a.displayTime:(a=this.entries && this.entries[0]) && a.startTime;}catch(D){this.log.error("exception in getStartPts",D);}return this.X;};c.prototype.H6=function(a){return this.j.state.value === A.Db.CLOSING || this.j.state.value === A.Db.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.Oc.value !== this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};c.prototype.SCb=function(){var a,b,c,f,q,d,r,l,v;a=this;if(!this.oTa){this.state=I.LOADING;b={ilb:!1,profile:this.profile,Goa:this.Es.offset,cWa:this.Es.length,jd:this.j.qb.value || 0,bufferSize:m.config.sCb,q6:{Ja:this.j.GR()}};c=k.Ch(this.j,"TimedTextTrack");c.warn=c.trace.bind(c);c.info=c.debug.bind(c);f=B.OMa(this.j,c,this.request,this);q=(this.yia || []).filter(function(b){return (b.id in a.hx);}).sort(function(a,b){return a.kg - b.kg;}).map(function(a){return a.id;});d=0;r={};l=!0;v=function(c,h){var B;if(u.ic(c)){if(l || a.H6(a.ks(a.Wr,"","image"))){l=!1;a.Es.url=a.hx[a.Wr];b.url=a.Es.url;r[c]=(r[c] || 0) + 1;B=new k.zEa(f,b);B.on("ready",function(){a.xf=B;h({ja:!0,track:a});});B.on("error",function(b){var f;b=Object.assign({ja:!1},b);f=a.ks(a.Wr,a.Es.url,"image");f.details={midxoffset:a.Es.offset,midxsize:a.Es.length};f.errorstring=b.errorString;r[c] <= m.config.h3a?(a.u1(f,!0,"retry with current cdn"),a.Wfa(r[c]).then(function(b){a.log.trace("retry timed text download after " + b,a.ks(a.Wr,"","image"));v(a.Wr,h);})):(a.Wr=q[d++],a.Wr?(a.u1(f,!0,"retry with next cdn"),a.Wfa(r[c]).then(function(b){a.log.trace("retry timed text download after " + b,a.ks(a.Wr,"","image"));v(a.Wr,h);})):(a.u1(f,!1,"all cdns tried"),h({ja:!1,hIb:"all cdns failed for image subs",track:a})));});B.start();}else h({ja:!1,Fr:!0});}else (h({ja:!1,hIb:"cdnId is not defined for image subs downloadUrl"}),a.u1(a.ks(0,"","image"),!1,"cdnId is undefined"));};this.Wr=q[d++];this.oTa=new Promise(function(b,c){v(a.Wr,function(f){f.ja?(a.log.info("Loaded image subtitle manager"),a.state=I.LOADED,b(f)):(a.log.error("Unable to load image subtitles manager",f),a.state=I.bO,c(f));});});}return this.oTa;};c.prototype.u1=function(a,b,c){a=Object.assign({},a,{$9b:b,status:c});this.j.fireEvent(A.V.LM,a);this.log.warn("subtitleerror event",a);};c.prototype.request=function(a,b){var c;c=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,kt:this.kt,responseType:l.gS,headers:{},Hc:this.jka(this.Wr)};this.j.T2.download(a,function(a){c.log.trace("imgsub: request status " + a.ja);a.ja?b(null,new Uint8Array(a.content)):b({ka:a.ka,Oe:a.Oe});});};c.prototype.ks=function(a,b,c){return {currentCdnId:a,url:b,profile:this.profile,dlid:this.Jd,subtitletype:c,bcp47:this.im,trackId:this.Ya,cdnCount:Object.keys(this.hx).length,isImageBased:this.lp};};c.prototype.jka=function(a){return (this.yia || []).find(function(b){return b.id === a;});};c.prototype.WNa=function(){var f,k;function a(a){return h.__awaiter(f,void 0,void 0,function(){var q,d,m,r,l;function f(){for(;;){switch(q){case 0:m=c();d=r.ks(a.Hc.id,a.url,"text");d.errorstring=a.reason;if(!m || !r.H6(d)){q=1;break;}q=-1;return {value:r.Wfa(k[m.id]).then(b),done:!0};case 1:return (q=-1,{value:Promise.reject({ja:!1,Fr:!0}),done:!0});default:return {value:void 0,done:!0};}}}q=0;r=this;l={next:function(){return f();},"throw":function(){return f();},"return":function(){throw Error("Not yet implemented");}};p();l[Symbol.iterator]=function(){return this;};return l;});}function b(){return h.__awaiter(f,void 0,void 0,function(){var f,q,d,m,r;function b(){for(;;){switch(f){case 0:q=(d=c()) && m.hx[d.id];if(!d || !q){f=1;break;}k[d.id]=(k[d.id] || 0) + 1;f=-1;return {value:m.ptb(q,d)["catch"](a),done:!0};case 1:return (f=-1,{value:Promise.reject({}),done:!0});default:return {value:void 0,done:!0};}}}f=0;m=this;r={next:function(){return b();},"throw":function(){return b();},"return":function(){throw Error("Not yet implemented");}};p();r[Symbol.iterator]=function(){return this;};return r;});}function c(){return (f.yia || []).find(function(a){return ! !((k[a.id] || 0) < m.config.h3a && f.hx[a.id]);});}f=this;this.state=I.LOADING;k={};return b();};c.prototype.Wfa=function(a){return new Promise(function(b){var c;c=1E3 * Math.min(Math.pow(2,a - 1),8);setTimeout(function(){return b(c);},c);});};c.prototype.SKb=function(a){var b,c;b=this;c=this.j.dN;v.fb(c);return r.iYa(a,c.width / c.height,m.config.i3a,m.config.qta).then(function(a){var c;if(m.config.j3a){c=0;b.entries=a.map(function(a){return Object.assign({},a,{startTime:c,endTime:c+=m.config.j3a});});}else b.entries=a;b.log.trace("Entries parsed",{Length:a.length},b.Eh);b.state=I.LOADED;return {ja:!0,entries:b.entries,track:b};})["catch"](function(a){b.log.error("Unable to parse timed text track",y.nr(a),b.Eh,{url:a.url});b.state=I.bO;a.reason="parseerror";a.track=b;throw a;});};c.prototype.ptb=function(a,b){var c;c=this;this.log.trace("Downloading",b && ({Hc:b.id}),this.ks(b.id,a,"text"));return new Promise(function(f,k){var q;q={responseType:l.Zla,url:a,track:c,Hc:b,lE:"tt-" + c.im};c.j.T2.download(q,function(a){a.ja?f(a.content):(a.reason="downloadfailed",a.url=q.url,a.track=c,a.Hc=b,k(a));});});};b.UC=c;c.K$a=72E7;c.Pba=I;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oHb=b.s4=b.je=void 0;b.je=[0,1];b.s4=function(a,b){return a || b?b?[1]:[0]:[0,1];};b.oHb=function(a){return 0 === a?"audio":1 === a?"video":"unknown";};},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.HH=void 0;d=(function(){function a(a){this.cIa=a;}Object.defineProperties(a.prototype,{HK:{get:function(){return this.Afb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.cIa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Z_a:{get:function(){var a;a=this;return this.cIa.then(function(){return a;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.Afb=!0;};a.prototype.wpa=function(a,b){var c;c=this;this.result.then(function(d){c.HK?b && b(d):a(d);});return this;};return a;})();b.HH=d;},function(d,b,a){var c,h,l,m,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.PG=void 0;d=a(0);c=a(170);h=d.__importDefault(a(229));l=d.__importDefault(a(852));m=d.__importDefault(a(109));f=a(5);a=(function(){function a(a,b){var f;f=this;this.Uf=new h["default"](a,b);this.Mn=new l["default"](a);this.mb=new m["default"](this.Mn,this.Uf,a);c.Bv.oob(a);a.r5 && setInterval(function(){f.Uf.save();f.Mn.save();},a.r5);}a.oRa=function(b,c){void 0 === k?(a.config=b,a.By=c,k=new a(b,c)):(f.assert(a.config === b),f.assert(a.By === c));return k;};a.reset=function(){a.config=void 0;k=a.By=void 0;};return a;})();b.PG=a;},function(d,b,a){var f;function c(a,b,c){this.MJ=!1 === a;this.HJ=a || .01;this.r$=void 0 === b?25:b;this.Tva=void 0 === c?1.1:c;this.Uh=new f(h);this.reset();}function h(a,b){return a.Bf > b.Bf?1:a.Bf < b.Bf?-1:0;}function l(a,b){return a.Ou - b.Ou;}function m(a){this.config=a || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?a.HJ:!1);this.Ssb=this.config.ratio || .9;this.Tsb=this.config.u9b || 1E3;this.H4=0;}f=a(832).Qbb;c.prototype.reset=function(){this.Uh.clear();this.vna=this.n=0;};c.prototype.size=function(){return this.Uh.size;};c.prototype.eo=function(a){var b;b=[];a?(this.RY(!0),this.Uh.oe(function(a){b.push(a);})):this.Uh.oe(function(a){b.push({Bf:a.Bf,n:a.n});});return b;};c.prototype.summary=function(){return [(this.MJ?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.ti(0),"Q1  = " + this.ti(.25),"Q2  = " + this.ti(.5),"Q3  = " + this.ti(.75),"max = " + this.ti(1)].join("\n");};c.prototype.push=function(a,b){b=b || 1;a=Array.isArray(a)?a:[a];for(var c=0;c < a.length;c++){this.iGa(a[c],b);}};c.prototype.Iqa=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b < a.length;b++){this.iGa(a[b].Bf,a[b].n);}};c.prototype.RY=function(a){var b;if(!(this.n === this.vna || !a && this.Tva && this.Tva > this.n / this.vna)){b=0;this.Uh.oe(function(a){a.Ou=b + a.n / 2;b=a.xJ=b + a.n;});this.n=this.vna=b;}};c.prototype.bwb=function(a){var b,c;if(0 === this.size())return null;b=this.Uh.lowerBound({Bf:a});c=null === b.data()?b.FF():b.data();return c.Bf === a || this.MJ?c:(b=b.FF()) && Math.abs(b.Bf - a) < Math.abs(c.Bf - a)?b:c;};c.prototype.AI=function(a,b,c){a={Bf:a,n:b,xJ:c};this.Uh.jp(a);this.n+=b;return a;};c.prototype.yY=function(a,b,c){b !== a.Bf && (a.Bf+=c * (b - a.Bf) / (a.n + c));a.xJ+=c;a.Ou+=c / 2;a.n+=c;this.n+=c;};c.prototype.iGa=function(a,b){var c,f,k;c=this.Uh.min();f=this.Uh.max();k=this.bwb(a);k && k.Bf === a?this.yY(k,a,b):k === c?this.AI(a,b,0):k === f?this.AI(a,b,this.n):this.MJ?this.AI(a,b,k.xJ):(c=k.Ou / this.n,Math.floor(4 * this.n * this.HJ * c * (1 - c)) - k.n >= b?this.yY(k,a,b):this.AI(a,b,k.xJ));this.RY(!1);!this.MJ && this.r$ && this.size() > this.r$ / this.HJ && this.Zw();};c.prototype.Nlb=function(a){var b,c;this.Uh.$l=l;b=this.Uh.upperBound({Ou:a});this.Uh.$l=h;c=b.FF();a=c && c.Ou === a?c:b.next();return [c,a];};c.prototype.ti=function(a){var b;b=(Array.isArray(a)?a:[a]).map(this.jhb,this);return Array.isArray(a)?b:b[0];};c.prototype.jhb=function(a){var b,c;if(0 !== this.size()){this.RY(!0);this.Uh.min();this.Uh.max();a*=this.n;b=this.Nlb(a);c=b[0];b=b[1];return b === c || null === c || null === b?(c || b).Bf:this.MJ?a <= c.xJ?c.Bf:b.Bf:c.Bf + (a - c.Ou) * (b.Bf - c.Bf) / (b.Ou - c.Ou);}};c.prototype.Zw=function(){var a;if(!this.dMa){a=this.eo();this.reset();for(this.dMa=!0;0 < a.length;){this.Iqa(a.splice(Math.floor(Math.random() * a.length),1)[0]);}this.RY(!0);this.dMa=!1;}};m.prototype=Object.create(c.prototype);m.prototype.constructor=m;m.prototype.push=function(a){c.prototype.push.call(this,a);this.rnb();};m.prototype.AI=function(a,b,f){this.H4+=1;c.prototype.AI.call(this,a,b,f);};m.prototype.yY=function(a,b,f){1 === a.n && --this.H4;c.prototype.yY.call(this,a,b,f);};m.prototype.rnb=function(){!("auto" !== this.mode || this.size() < this.Tsb) && this.H4 / this.size() > this.Ssb && (this.mode="cont",this.MJ=!1,this.HJ=this.config.HJ || .01,this.Zw());};d.exports={TDigest:c,Digest:m};},function(d,b,a){var f,k,q,v,r,u;function c(a){var b;b=a.xda;this.H=a;this.Si=k.bf.HAVE_NOTHING;this.gI=a.gI;a=new r(this.gI);this.KP=a.create("throughput-location-history",b);this.rw=a.create("respconn-location-history",b);this.iw=a.create("respconn-location-history",b);this.XZ=a.create("throughput-tdigest-history",b);this.jZ=a.create("throughput-iqr-history",b);this.eb=null;}function h(a,b,f,k,d){this.hw=new c(d);this.bq=[];this.$fb=q.time.aa() - Date.now() % 864E5;this.gw=null;this.H=d;for(a=0;a < k;++a){this.bq.push(new c(d));}}function l(a,b,c){return f.has(a,b)?a[b]:a[b]=c;}function m(a,b){var f;this.H=a;this.sIa=b;this.OOa();this.ZO=new c(this.H);this.iP();f=a.Zha;f && (f={Pd:k.bf.ON,Ka:{Ca:parseInt(f,10),hi:0},ci:{Ca:0,hi:0},ss:{Ca:0,hi:0}},this.get=function(){return f;});}f=a(8);k=a(25)["default"];b=a(9);q=a(3)["default"];v=b.Zxa;r=a(390).Txa;new q.Console("ASEJS_LOCATION_HISTORY","media|asejs");u={Pd:k.bf.HAVE_NOTHING};c.prototype.HD=function(a,b){this.Si=b;this.KP.add(a);this.XZ.add(a);this.eb=q.time.aa();};c.prototype.GG=function(a,b){this.jZ.set(a,b);};c.prototype.Ew=function(a){this.rw.add(a);};c.prototype.Bw=function(a){this.iw.add(a);};c.prototype.sd=function(){var a,b,c,k,d,m;a=this.KP.sd();b=this.rw.sd();c=this.iw.sd();k=this.jZ.sd();d=this.XZ.sd();if(f.ab(a) && f.ab(b) && f.ab(c))return null;m={c:this.Si,t:q.time.Roa(this.eb)};f.ab(a) || (m.tp=a);f.ab(b) || (m.rt=b);f.ab(c) || (m.hrt=c);f.ab(k) || (m.iqr=k);f.ab(d) || (m.td=d);return m;};c.prototype.ue=function(a){var b;b=q.time.now();if(!(a && f.has(a,"c") && f.has(a,"t") && f.has(a,"tp") && f.isFinite(a.c) && f.isFinite(a.t)) || 0 > a.c || a.c > k.bf.ON || a.t > b || !this.KP.ue(a.tp))return (this.Si=k.bf.HAVE_NOTHING,this.gw=this.eb=null,this.KP.ue(null),this.rw.ue(null),this.iw.ue(null),!1);this.Si=a.c;this.eb=q.time.kpa(a.t);this.rw.ue(f.has(a,"rt")?a.rt:null);this.iw.ue(f.has(a,"hrt")?a.hrt:null);f.has(a,"iqr") && this.jZ.ue(a.iqr);f.has(a,"td") && this.XZ.ue(a.td);return !0;};c.prototype.get=function(){var a,b,c,d,m,r;a=this.H;if(f.ab(this.eb))return u;b=(q.time.aa() - this.eb) / 1E3;b > a.ufb?this.Si=k.bf.HAVE_NOTHING:b > a.Seb && (this.Si=Math.min(this.Si,k.bf.pC));a=this.KP.get();c=this.rw.get();d=this.iw.get();m=this.jZ.get();r=this.XZ.get();b={mk:b,Pd:this.Si,Ka:a,ci:c,ss:d,us:m,qj:r};a && (b.w9b=v.prototype.mqa.bind(a));c && (b.N8b=v.prototype.mqa.bind(c));d && (b.D6b=v.prototype.mqa.bind(d));return b;};c.prototype.time=function(){return this.eb;};c.prototype.fI=function(){this.get();q.time.aa();};h.prototype.wj=function(){return ((q.time.aa() - this.$fb) / 1E3 / 3600 / (24 / this.bq.length) | 0) % this.bq.length;};h.prototype.sd=function(){var a;a={g:this.hw.sd(),h:this.bq.map(function(a){return a.sd();})};f.ab(this.gw) || (a.f=q.time.Roa(this.gw));return a;};h.prototype.ue=function(a){var b,c;if(!this.hw.ue(a.g))return !1;b=this.bq.length;c=!1;this.bq.forEach(function(f,k){c=!f.ue(a.h[k * a.h.length / b | 0]) || c;});this.gw=f.has(a,"f")?q.time.kpa(a.f):null;return c;};h.prototype.HD=function(a,b){this.hw.HD(a,b);this.bq[this.wj()].HD(a,b);this.gw=null;};h.prototype.GG=function(a,b){this.hw.GG(a,b);this.bq[this.wj()].GG(a,b);};h.prototype.Ew=function(a){this.hw.Ew(a);this.bq[this.wj()].Ew(a);};h.prototype.Bw=function(a){this.hw.Bw(a);this.bq[this.wj()].Bw(a);};h.prototype.fail=function(a){this.gw=a;};h.prototype.get=function(){var a,b;if(!f.ab(this.gw)){if((q.time.aa() - this.gw) / 1E3 < this.H.Reb)return {Pd:k.bf.HAVE_NOTHING,uq:!0};this.gw=null;}a=this.bq[this.wj()].get();b=this.hw.get();a=a.Pd >= b.Pd?a:b;a.uq=!1;return a;};h.prototype.time=function(){return this.hw.time();};h.prototype.fI=function(a){this.hw.fI(a + ": global");this.bq.forEach(function(b,c,k){f.ab(b.time()) || (c=24 * c / k.length,b.fI(a + ":  " + ((10 > c?"0":"") + c + "00") + "h"));});};m.prototype.EGa=function(a,b){var c;c=this.H;a=l(this.pz,a,{});return l(a,b,new h(0,0,0,c.FHa || 4,c));};m.prototype.iP=function(){var a,b;a=q.storage.get("lh");b=q.storage.get("gh");a && this.Dea(a);b && this.gib(b);};m.prototype.Dda=function(){var a;a={};f.oe(this.pz,function(b,c){f.oe(b,function(b,f){l(a,c,{})[f]=b.sd();},this);},this);return a;};m.prototype.gib=function(a){this.ZO.ue(a);};m.prototype.Dea=function(a){var b,c;b=null;c=this.H;f.oe(a,function(a,k){f.oe(a,function(a,d){var q;q=new h(0,0,0,c.FHa || 4,c);q.ue(a)?(l(this.pz,k,{})[d]=q,b=!0):f.ab(b) && (b=!1);},this);},this);return f.ab(b)?!0:b;};m.prototype.save=function(){var a;a=this.Dda();q.storage.set("lh",a);q.storage.set("gh",this.ZO.sd());this.sIa && this.sIa.nsa(this.ZO.sd());};m.prototype.OOa=function(a){a?(f.has(this.pz,a) && delete this.pz[a],this.TY == a && (this.bD=this.TY="",this.bm=null)):(this.pz={},this.bD=this.TY="",this.bm=null);};m.prototype.EU=function(a){this.TY=a;this.bm=null;};m.prototype.D6=function(a){this.bD=a;this.bm=null;};m.prototype.fZ=function(){f.ab(this.bm) && (this.bm=this.EGa(this.TY,this.bD));return this.bm;};m.prototype.HD=function(a,b){this.fZ().HD(a,b);this.ZO.HD(a,b);};m.prototype.GG=function(a,b){a && a.Lk && a.kj && a.Mk && (this.fZ().GG(a,b),this.ZO.GG(a,b));};m.prototype.Ew=function(a){this.fZ().Ew(a);};m.prototype.Bw=function(a){this.fZ().Bw(a);};m.prototype.fail=function(a,b){this.EGa(a,this.bD).fail(b);};m.prototype.get=function(a,b){var c,d,q,m;a=(a=this.pz[a])?a[this.bD]:null;c=null;if(a && (c=a.get(),c.Pd > k.bf.HAVE_NOTHING))return c;if(!1 === b)return u;d=c=null;q=!1;m=null;f.oe(this.pz,function(a){f.oe(a,function(a,b){var f;if(!q || b == this.bD){f=a.get();f && (!d || d <= f.Pd) && (!m || d < f.Pd || m < a.time()) && (d=f.Pd,q=b == this.bD,m=a.time(),c=f);}},this);},this);return c?c:u;};m.prototype.fI=function(){f.oe(this.pz,function(a,b){f.oe(a,function(a,c){a.fI(b + ":" + c);});});};d.exports=m;},function(d,b,a){var m;function c(a){this.SI=a;this.reset();}function h(a){this.Yi=new c(a);this.me=0;this.cc=null;}function l(a,b){this.SI=a;this.mHa=b;this.reset();}m=a(8);c.prototype.RHa=function(a,b){this.eb+=a;this.Ti+=a;this.zc+=b;this.zj.push({d:a,B_:b});};c.prototype.xP=function(){var a;for(;this.Ti > this.SI;){a=this.zj.shift();this.zc-=a.B_;this.Ti-=a.d;}};c.prototype.reset=function(){this.zj=[];this.eb=null;this.Ti=this.zc=0;};c.prototype.setInterval=function(a){this.SI=a;this.xP();};c.prototype.start=function(a){m.ab(this.eb) && (this.eb=a);};c.prototype.add=function(a,b,c){m.ab(this.eb) && (this.eb=b);b > this.eb && this.RHa(b - this.eb,0);this.RHa(c > this.eb?c - this.eb:0,a);this.xP();};c.prototype.get=function(){return {Ca:Math.floor(8 * this.zc / this.Ti),hi:0};};h.prototype.reset=function(){this.Yi.reset();this.me=0;this.cc=null;};h.prototype.add=function(a,b,c){!m.ab(this.cc) && c > this.cc && (b > this.cc && (this.me+=b - this.cc),this.cc=null);this.Yi.add(a,b - this.me,c - this.me);};h.prototype.start=function(a){!m.ab(this.cc) && a > this.cc && (this.me+=a - this.cc,this.cc=null);this.Yi.start(a - this.me);};h.prototype.stop=function(a){this.cc=m.ab(this.cc)?a:Math.min(a,this.cc);};h.prototype.get=function(){return this.Yi.get();};h.prototype.setInterval=function(a){this.Yi.setInterval(a);};l.prototype.reset=function(){this.zj=[];this.zc=this.Ti=0;};l.prototype.add=function(a,b,c,d){void 0 !== d && !0 === d && (b=c - b,this.Ti+=b,this.zc+=a,this.zj.push({d:b,B_:a}),this.xP());};l.prototype.xP=function(){var a;for(;this.Ti > this.SI || this.zj.length > this.mHa;){a=this.zj.shift();this.zc-=a.B_;this.Ti-=a.d;}};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.get=function(){return {Ca:Math.floor(8 * this.zc / this.Ti),hi:0};};l.prototype.setInterval=function(a,b){this.SI=a;this.mHa=b;this.xP();};d.exports={kZb:c,y8a:h,jdb:l};},function(d,b){function a(a){var b;b={profile:a.spoofedProfile || a.profile,Uja:a.max_framerate_value,Tja:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,HLb:a.pixelAspectX,ILb:a.pixelAspectY,Or:a.channels,sampleRate:a.channels?48E3:void 0};a.spoofedProfile && (b.l8b=a.profile);return b;}Object.defineProperties(b,{__esModule:{value:!0}});b.hRa=b.gRa=void 0;b.gRa=function(b,d,l){var c;c=[{},{}];(0 === l?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(f,k){b[f].some(function(b,f){return f === d[k]?(c[k]=a(b),!0):!1;});});return c;};b.hRa=a;},function(d,b,a){var c,h,l,m,f,k,q,v,r,u,B;Object.defineProperties(b,{__esModule:{value:!0}});b.YV=void 0;c=a(0);h=a(16);l=a(863);d=a(94);m=a(864);f=a(890);k=a(893);q=a(245);v=a(17);r=c.__importDefault(a(3));u=a(5);a(9);a(231);B=(function(){return function(a){var b;b=a.Tma;a=a.q3;this.US=this.replace=b;this.Sf=a;};})();a=(function(a){function b(b,d){var l,v,u,y,A,g,I,J,n,p,t,ca,Ca,P,aa,Q,ua,Ma,Ja,Ga,ka;l=d.sb;v=d.pa;u=d.Cl;y=d.Ee;A=d.soa;g=d.Vh;I=d.config;J=d.Mla;n=d.RF;p=d.DR;t=d.mb;ca=d.Uf;Ca=d.yL;P=d.dja;d=d.HB;aa=a.call(this) || this;aa.fa=b;aa.L2=!1;aa.VGa=[];aa.kHa=[];aa.qh=[];aa.fA=[];aa.am=!1;aa.sb=l;aa.lP=v;aa.Cl=u;aa.Mb=function(a){return 0 <= y.indexOf(a);};aa.config=I;aa.console=new r["default"].Console("ASEJS","media|asejs","<" + String(aa.fa) + ">");J && (b=J.zA,aa.ff=new k.qya(aa,aa.console,aa.config,J.Em,J.UR,b,J.n3,J.Ye,J.bd,J.Bg,J.NA),aa.zA=b);aa.MA=new h.EventEmitter();aa.DR=p;aa.mb=t;aa.yL=Ca;aa.wl=new q.mX(aa.pa,t,ca,aa.config,null === P || void 0 === P?void 0:P.Em);P && (J=P.zq,p=P.Cn,t=P.NK,aa.Co=P.Hg,aa.NK=t,aa.Cn=p,aa.zq=J,aa.tda=new f.Exa(aa.wl,aa.config,aa.jBb.bind(aa),aa.iBb.bind(aa)));aa.RF=n;aa.HB=d;aa.Qe=new B(A);aa.Vh=g;Q=[[],[]];ua=[{},{}];Ma=[0,0];Ja=!1;Ga=aa.Mb(0);ka=aa.Mb(1);["audio_tracks","video_tracks"].forEach(function(a,b){var f;f=0 === b;f && !Ga || 1 === b && !ka || aa.pa[a].forEach(function(a,k){a=new m.hva({N:aa,Qx:a,I:b,Sf:A.q3,WM:k,GD:k + (f?aa.pa.video_tracks.length:0)},aa.config,aa.console);Q[b].push(a);ua[b]=c.__assign(c.__assign({},ua[b]),a.HE());a.Am > Ma[a.I] && (Ma[a.I]=a.Am);Ja=Ja || a.$R;});});aa.PH=Q;aa.DTb=ua;aa.Cs=Ma;aa.$R=Ja;aa.UGa=aa.config && aa.config.hS && ! !aa.config.hS.length && -1 !== aa.config.hS.indexOf(String(aa.u)) && aa.config.dma && ! !aa.config.dma.length && void 0 !== aa.ls(1,aa.config.dma[0]);aa.Geb=aa.UGa && aa.config.Z0;return aa;}c.__extends(b,a);Object.defineProperties(b.prototype,{pa:{get:function(){return this.lP;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{TS:{get:function(){var a;return !(null === (a=this.PH[1][0]) || void 0 === a || !a.TS);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Dg:{get:function(){return this.VGa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{MGb:{get:function(){return this.kHa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{u:{get:function(){return this.pa.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ro:{get:function(){return this.pa.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{duration:{get:function(){return this.pa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{fj:{get:function(){return this.am;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ap:{get:function(){u.assert(this.tda,"ErrorDirector is not available on old architecture prefetch viewables.");return this.tda;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$ia:{get:function(){return this.ap.events;},enumerable:!1,configurable:!0}});b.prototype.Tb=function(){this.close();this.dc();};b.prototype.close=function(){var a;this.fA=[];null === (a=this.tda) || void 0 === a?void 0:a.Tb();this.wl.Tb();this.am=!0;};b.prototype.dc=function(){this.ff && this.ff.dc();};b.prototype.DWb=function(a){var b,c,f,k,d,q;b=this;c=a.pa;f=a.Ee;k=void 0 === f?v.je:f;u.assert(a.Vh === this.Vh,"Updating Viewable clearplay not supported");v.je.forEach(function(a){u.assert(b.Mb(a) === 0 <= k.indexOf(a),"Updating Viewable media types not supported");});u.assert(c.movieId === this.pa.movieId,"Changing Viewable manifest movieId unsupported");d=this.Mb(0);q=this.Mb(1);["audio_tracks","video_tracks"].forEach(function(a,c){var f;if((0 !== c || d) && (1 !== c || q)){a=b.pa[a];f=b.PH[c];u.assert(a.length === f.length,"Changing Viewable tracks unsupported");a.forEach(function(a,b){var c;b=f[b];u.assert(a.track_id === b.Ya);a=a.streams;c=Object.keys(b.HE());u.assert(a.length === c.length);a.forEach(function(a){u.assert(-1 !== c.indexOf(a.downloadable_id),"Changing Viewable track streams unsupported");});});}});this.lP=c;this.wl.Cw(this.pa);};b.prototype.bG=function(a){var b,c,f;b=a.xF;c=a.ea;f=a.gx;a=a.Dm;b && c?(this.J6=new l.eEa(b,{ea:String(c),gx:! !f,YGb:this.config.GX.mx,Wlb:this.config.GX.lv},a),this.ap.bG(this.J6)):a("SideChannel: pbcid/xid is missing.");};b.prototype.Cx=function(){return void 0 !== this.Ro;};b.prototype.getTracks=function(a){return this.PH[a];};b.prototype.getTrackById=function(a){var b;this.PH.some(function(c){return c.some(function(c){if(c.Ya === a)return (b=c,!0);});});b || this.console.warn("getTrackById not found:",a,"length:",this.PH.length);return b;};b.prototype.bSa=function(a,b){var c;c=this.PH[a];if(0 > b || b >= c.length)this.console.warn("getTrackByIndex out of range:",b,"length:",c.length,"mediaType:",a);else return c[b];};b.prototype.ls=function(a,b){return (a=this.HE(a)) && a[b];};b.prototype.HE=function(a){return this.DTb[a];};b.prototype.fWb=function(a,b){this.VGa[a]=b;b.stream.$ && this.i4a(a,b.stream.$);};b.prototype.wOa=function(a){return void 0 === a || 1 === a?this.Geb:!1;};b.prototype.CTa=function(a){return void 0 === a || 1 === a?this.UGa:!1;};b.prototype.hEb=function(a){var b,c;if(void 0 === a.F5 || void 0 === a.wqa){b=this.wl.Fka().filter(function(b){return void 0 !== b.yc[a.Da];})[0];c=b.children.filter(function(b){return b.He.some(function(b){return b.stream.id === a.Da;});})[0];a.F5=b.id;a.wqa=c.id;}return {ana:a.location === a.F5,iEb:a.Nc === a.wqa};};b.prototype.G6=function(a,b,c){void 0 !== b && void 0 !== c && (this.A_a(a.I,b),a.G6(b,c));};b.prototype.A_a=function(a,b){var c,f;f=this.config.Yoa;("location" === f || "video_location" === f && 1 === a) && this.mb.EU(b);null === (c=this.DR) || void 0 === c?void 0:c.call(this).TJb(a,b);};b.prototype.Hg=function(a,b,c,f,k){u.assert(this.Co,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.Co(a,b,c,f,k);};b.prototype.dr=function(){var a,b,c;a=this;b=[];if(this.fj)return (this.console.error("updateRequestUrls, closed Viewable:",this.fa),!1);v.je.forEach(function(c){a.Mb(c) && a.wWb(c) && (c=a.kWb(c),0 < c.length && b.push.apply(b,c));});c=this.gWb();0 < c.length && b.push.apply(b,c);return this.DPb(b);};b.prototype.wn=function(a,b){var c;c=this.getTracks(1)[0];u.assert(c);if(c.oS)return c.wn(a,b);};b.prototype.wWb=function(a){var b,f,k,m,r;if(this.fj)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1);if(!this.Mb(a))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),!1);k=!0;try{for(var d=c.__values(this.qh),q=d.next();!q.done;q=d.next()){m=q.value.Va(a);u.assert(m);r=this.wl.YM(this.fa,m.track.md);r || m.yb("location selector failed to update streamList");k=k && r;}}catch(da){b={error:da};}finally{try{q && !q.done && (f=d["return"]) && f.call(d);}finally{if(b)throw b.error;}}return k;};b.prototype.gWb=function(){u.assert(this.ff,"Headers not available on old architecture prefetch viewables.");return this.ff.dr();};b.prototype.kWb=function(a){var b,f,k,m;k=[];if(this.fj)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),k);if(!this.Mb(a))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",a),k);try{for(var d=c.__values(this.qh),q=d.next();!q.done;q=d.next()){m=q.value.dr(a);m.length && k.push.apply(k,m);}}catch(E){b={error:E};}finally{try{q && !q.done && (f=d["return"]) && f.call(d);}finally{if(b)throw b.error;}}return k;};b.prototype.DPb=function(a){var b,c,f;b=this;if(0 === a.length)return !0;c=0;f=[];a.forEach(function(a){var k;if(a.wc){k=a.N;k.sb > b.sb && (f.push({N:k,track:a.stream.track}),++c);}});f.forEach(function(a){var b;b=a.track;a.N.bM([0 === b.I?b:void 0,1 === b.I?b:void 0],void 0,b.I);});return c === a.length;};b.prototype.Kk=function(){var a;a=this;this.wl.Kk();this.ap.Kk();this.J6 && (u.assert(this.zA),v.je.forEach(function(b){b=a.zA(b);a.J6.$ra("rebuffer",b.una);}));};b.prototype.vpa=function(){this.ap.vpa();};b.prototype.Zta=function(a,b){u.assert(this.ff,"Headers not available on old architecture prefetch viewables.");this.ff.Zta(a,b);};b.prototype.F2=function(){u.assert(this.ff,"Headers not available on old architecture prefetch viewables..");return this.ff.F2();};b.prototype.Wga=function(){u.assert(this.ff,"Headers not available on old architecture prefetch viewables.");this.ff.Wga();};b.prototype.vM=function(a){u.assert(this.ff,"Headers not available on old architecture prefetch viewables.");this.ff.vM(a);};b.prototype.Ita=function(){u.assert(this.ff,"Headers not available on old architecture prefetch viewables.");return this.ff.Ita();};b.prototype.Jj=function(a,b){u.assert(this.ff,"Headers not available on old architecture prefetch viewables.");return this.ff.Jj(a,b);};b.prototype.FMa=function(a,b,c){u.assert(this.ff,"Headers not available on old architecture prefetch viewables.");this.ff.t7(a,b,c,!0);};b.prototype.l_=function(a,b,c){u.assert(this.ff,"Headers not available on old architecture prefetch viewables.");return this.ff.l_(a,b,! !c);};b.prototype.rRb=function(a,b){this.fA.push({stream:a,wAb:b});};b.prototype.OOb=function(){this.fA=[];};b.prototype.TOb=function(a){this.fA=this.fA.filter(function(b){return b.stream !== a;});};b.prototype.SOb=function(a){this.fA=this.fA.filter(function(b){return b !== a;});};b.prototype.qK=function(){var a;a=this;u.assert(this.Cn,"Streamables not available on old architecture prefetch viewables.");return this.Cn()?[]:this.fA.map(function(b){var c,f;c=b.stream;f=b.wAb;f=f();return {W:"" + c.fa,I:c.I,Pn:f.Pn,xg:f.xg,ey:f.ey,$n:f.$n,ne:f.ne,groupId:"" + a.fa,Ju:!0,kp:!1,WTa:function(){return {result:!0};},aUa:function(){if(c.AG())return (a.TOb(c),{op:!0,reason:"success"});a.SOb(b);return {op:!1,reason:"viewableTryIssueHeaderRequest"};}};});};b.prototype.AG=function(a,b){u.assert(this.ff,"Headers not available on old architecture prefetch viewables.");return this.ff.AG(a,b);};b.prototype.RP=function(a,b){u.assert(this.ff,"Headers not available on old architecture prefetch viewables.");return this.ff.RP(a,b);};b.prototype.h6=function(a){u.assert(this.ff,"Headers not available on old architecture prefetch viewables.");return this.ff.h6(a);};b.prototype.bM=function(a,b,c){u.assert(this.ff,"Headers not available on old architecture prefetch viewables.");return this.ff.bM(a,b,c);};b.prototype.lBb=function(a){var b,c,f;b=a.Da;c=a.I;this.i4a(c,a.stream.$);b=this.ls(c,b);f=this.Cx()?this.config.CVa:0;c=r["default"].ql()[c];b.b4a(c,f);this.MA.emit("onHeaderFragments",a);};b.prototype.g_a=function(a){this.qh.push(a);};b.prototype.W3a=function(a){a=this.qh.indexOf(a);u.assert(-1 !== a,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.qh.splice(a,1);};b.prototype.d5=function(a){var b;null === (b=this.RF) || void 0 === b?void 0:b.Dw(a);};b.prototype.ay=function(a){this.fj?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",a):void 0 !== a.location && this.A_a(a.I,a.location);};b.prototype.EL=function(a){this.fj?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",a):this.ap.x7({timestamp:a.ud,url:a.url});};b.prototype.Oj=function(a){var b;null === (b=this.RF) || void 0 === b?void 0:b.LF(a);u.assert(this.Cn && this.yL,"Requests cannot be handled on old architecture prefetch viewables.");this.fj?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",a):this.Cn() || (this.ap.x7({timestamp:a.ud,mediaRequest:a}),this.yL(a));};b.prototype.yT=function(a,b,c){var f;c && (null === (f=this.RF) || void 0 === f?void 0:f.LF(a));};b.prototype.zT=function(a){this.fj?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",a):(this.ap.Uq({url:a.url},a.status,a.zg,a.si),this.dr() || this.Hg(a.vE || "unknown","NFErr_MC_StreamingFailure",a.zg,a.status,a.si));};b.prototype.i4a=function(a,b){this.kHa[a]=b.joa;};b.prototype.jBb=function(a){var b,c,f;u.assert(this.NK,"Error handling not available on old architecture prefetch viewables.");if(!this.am){b=a.QDb;c=a.AKb;f=a.BKb;a=a.CKb;this.console.warn("Streaming failure, isBuffering " + this.NK() + " is permanent: " + b + ", last error code: " + c + ", last http code: " + f + ", last native code: " + a);b?(this.console.warn(" > Permanent failure, done"),this.Hg("Permanent failure","NFErr_MC_StreamingFailure",c,f,a)):this.NK()?(this.console.warn(" > We are buffering, calling it!"),this.Hg("Temporary failure while buffering","NFErr_MC_StreamingFailure",a,f,a)):(this.console.warn(" > Resetting failures"),this.ap.c6());}};b.prototype.iBb=function(){u.assert(this.zq,"Error handling not available on old architecture prefetch viewables.");this.am || (this.dr(),this.zq());};return b;})(d.Av);b.YV=a;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.HOa=b.yE=b.wn=b.IQa=b.p2=void 0;c=a(5);h=a(141);b.p2=function(a,b){return !(1 !== a || !b.RJ) || 0 === a;};b.IQa=function(a,b,c,k){a=a.sm(b,void 0,!0);c && (a=Math.floor(a / k) * k);return a;};b.wn=function(a,d,f,k,q,v){var m,l,B,A;h.Tl.ip(a);c.assert(f.$,"findFirstFragment called without stream fragments");m=f.$;l=b.p2(a,d);0 === a && !v && d.$i && !d.Lz && f.Cd && (k=Math.max(f.$.pj(0),k + f.Cd.da));B=b.IQa(m,k,f.N.CTa(a),4);A=f.ej(B);if(A.sa < k)return A;l && ((l=A.s1(k))?(0 < l.Sn && A.ei({start:l.Sn}),0 !== a || d.q4 || (0 > l.jd && A.ei({start:l.Sn}),l.jd < (d.$i && !d.Lz && f.Cd?Math.floor(f.Cd.da):0) && A.eR())):k >= A.sa && B < m.length - 1 && (A=f.ej(B + 1)));1 === a && q && A.sa === q && B < m.length - 1 && (A=f.ej(B + 1));0 === a && !A.xa && (d.g3 || d.Ptb) && v && A.ei({});A.GU(k);return A;};b.yE=function(a,c,f,k,d,v,r){var q;h.Tl.ip(a);q=f.$;void 0 === k && (k=q.sa);if(d && (d=d.Pvb(f,k,a,c,v)))return d;d=q.wa;r=k?k + b.HOa(a,d,c.Us,r):q.Via(q.length - 1);q=q.sm(r,void 0,!0);d=f.ej(q);0 === q || d.X !== k || 1 !== a && c.Us || (--q,d=f.ej(q));b.p2(a,c)?(r=1 === a?r:k,r < d.sa && ((v=d.Yvb(r)) && 0 !== v.Sn?d.ei({end:v.Sn}):0 === a && (v || r < d.X) && 0 !== q?d=f.ej(q - 1):1 === a && v && 0 !== q && (d=f.ej(q - 1))),0 === a && !d.xa && c.g3 && d.ei()):0 === a && !c.Us && k - d.X < d.duration / 2 && 0 !== q && (d=f.ej(q - 1));d.GU(k);return d;};b.HOa=function(a,b,c,k){var f;return 1 === a || k?0:c?null !== (f=null === b || void 0 === b?void 0:b.da) && void 0 !== f?f:0:b?-b.da:0;};},function(d,b,a){var t,Z,ta,ca,Ca,P,aa,Q,ua,Ma,Ja,Ga,ka,Qa,Ua,Va,Na,Ka,F,lb,ab,ia,L,qc,ef,N,R,T,V,X,fa;function c(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function h(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function l(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function m(a,b,c,f,k){ca.call(this,a,b,c,f,k);this.Dsa=a.config.Dsa;this.Zd=this.sizes=void 0;}function f(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function k(){for(var a=new DataView(this),b="",c,f=0;f < this.byteLength;f++){c=a.getUint8(f);b+=("00" + c.toString(16)).slice(-2);}return b;}function q(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function v(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function r(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function u(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function B(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function A(a){function b(b,c,f,k,d){ca.call(this,b,c,f,k,d);this.IWa=a;}b.Jc=!1;b.prototype=new ca();b.prototype.constructor=b;Object.defineProperties(b.prototype,{Dwa:{get:function(){return this.IWa;}}});b.prototype.parse=function(){this.M.console.trace("renaming '" + this.type + "' to draft type '" + this.IWa + "'");this.M.offset=this.startOffset + 4;this.rb.k5a(this.Dwa);this.type=this.Dwa;return !0;};return b;}function y(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function g(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function J(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function D(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function U(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function S(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function O(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function n(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function E(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function p(a,b,c,f,k){ca.call(this,a,b,c,f,k);}function sa(a,b){a.forEach(function(a){b[a.cf]=a;});}t=a(143).assert;b=a(96);Z=a(235).T;ta=a(399);a(144);a(81);a(81);a(81);ca=a(28).rg;Ca=a(866)["default"];P=a(867)["default"];aa=a(868)["default"];Q=a(869)["default"];ua=a(870)["default"];Ma=a(871)["default"];Ja=a(872)["default"];Ga=a(873)["default"];ka=a(874)["default"];a(236);a(171);Qa=a(400).v5a;Ua=a(400).G8a;Va=a(875)["default"];Na=a(876)["default"];Ka=a(97)["default"];F=a(97).R5a;lb=a(97).S5a;ab=a(97).T5a;ia=a(97).U5a;L=a(877)["default"];qc=a(878)["default"];ef=a(97).t9a;N=a(97).o9a;R=a(879)["default"];T=a(880)["default"];V=a(881)["default"];X=a(401)["default"];fa=a(402)["default"];a(145);a(239);a(240);a(238);a=a(882)["default"];c.Jc=!0;c.prototype=new ca();c.prototype.constructor=c;h.Jc=!0;h.prototype=new ca();h.prototype.constructor=h;l.Jc=!1;l.prototype=new ca();l.prototype.constructor=l;l.prototype.parse=function(){var a;this.ng();1 === this.version?(this.M.Sj(),this.M.Sj(),this.S=this.M.Ub(),this.duration=this.M.Sj()):(this.M.Ub(),this.M.Ub(),this.S=this.M.Ub(),this.duration=this.M.Ub());a=this.M.Ih() & 32767;this.language=String.fromCharCode(96 + (a >>> 10),96 + (a >>> 5 & 31),96 + (a & 31));return !0;};m.Jc=!1;m.prototype=new ca();m.prototype.constructor=m;m.prototype.fhb=function(){this.ng();this.M.Ub();this.S=this.M.Ub();0 === this.version?(this.eOa=this.M.Ub(),this.tPa=this.M.Ub()):(this.eOa=this.M.Sj(),this.tPa=this.M.Sj());this.GPb=this.M.Ih();this.e_a=this.M.Ih();};m.prototype.ieb=function(a,b){var c,f,k;c=this.S;a=a && a.S || c;f=a / c;c=this.M.N5(b,12,!1);k=1 === f?this.M.N5(b,12,!1):ta.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.M.Ub() * f);this.M.offset+=8;return a;},this);this.Iib(b,k,c,a);};m.prototype.Iib=function(a,b,c,f){if(this.Dsa){f=this.Dsa * f / 1E3;for(var k=0,d=1;d < a;d++){Math.abs(b[k] - f) > Math.abs(b[k] + b[d] - f)?(b[k]+=b[d],c[k]+=c[d]):(++k,k !== d && (b[k]=b[d],c[k]=c[d]));}++k;b=new Uint32Array(b.buffer.slice(0,4 * k));c=new Uint32Array(c.buffer.slice(0,4 * k));}this.sizes=c;this.Zd=b;};m.prototype.parse=function(a){var b,c,f,k;this.fhb();this.wa=a.wa;b=this.S;c=this.wa && this.wa.S || b;f=this.e_a;k=this.startOffset + this.length + this.tPa;b=new Z(this.eOa,b).Ge(c).xb;this.$={S:c,Tk:b,offset:k};this.ieb(this.wa,f);this.$.Zd=this.Zd;this.$.sizes=this.sizes;a.Zs=this;return !0;};f.Jc=!1;f.prototype=new ca();f.prototype.constructor=f;f.prototype.parse=function(){var a;this.YB=[];this.ALb=[];a=(this.length - 11) / 2;this.M.Nd();this.M.Nd();this.M.Nd();for(var b=0;b < a;b++){this.YB.push(this.M.Nd());this.ALb.push(this.M.Nd());}return !0;};q.Jc=!1;q.prototype=new ca();q.prototype.constructor=q;q.prototype.parse=function(){this.ng();this.M.offset+=4;this.fna=this.M.offset;this.pp=this.M.PNb();this.pp.toString=k;return !0;};v.Jc=!1;v.prototype=new ca();v.prototype.constructor=v;v.prototype.parse=function(){this.ng();this.$o=this.M.Ih();this.$Gb=this.M.N5(this.$o,void 0,!0);return !0;};r.Jc=!1;r.prototype=new ca();r.prototype.constructor=r;r.prototype.parse=function(a){var b,c,f,k,d,q;k=a.Zs;t(k);a=a.wa;b=k.S;k=k.e_a;t(a);t(b);t(k);this.ng();t(2 > this.version);this.$o=this.M.Ih();this.QL=new Uint16Array(k + 1);c=a.YRa(b);d=c / b;q=a.Ge(c).xb;if(0 === this.version)for((this.hM=new Uint16Array(),this.Fh=new Uint32Array(),a=b=0);a <= k;++a){if((this.QL[a]=b,a < this.$o && (f=this.M.Nd(),0 !== f)))for(c=0;c < f;(++c,++b)){this.hM[b]=Math.floor((this.M.Ub() + 1) * d) / q;this.Fh[b]=this.M.Ub();}}else if(1 === this.version)for((c=this.M.NNb(this.$o),this.M.offset+=4,this.Fh=this.M.N5(this.$o,10,!1),this.M.offset-=8,this.hM=ta.from(Uint16Array,{length:this.$o},function(){var a;a=Math.floor((this.M.Ub() + 1) * d) / q;this.M.offset+=6;return a;},this),b=a=0);a <= k;++a){for(;b < c.length && c[b] < a;){++b;}this.QL[a]=b;}this.Zi={QL:this.QL,hM:this.hM,Fh:this.Fh};return !0;};u.Jc=!0;u.prototype=Object.create(c.prototype);u.prototype.constructor=u;B.Jc=!0;B.prototype=Object.create(c.prototype);B.prototype.constructor=B;B.prototype.bK=function(){var a;a=this.ht("tfhd");a && (this.Mw=a.sKa?a.Mw:this.parent.startOffset);return !0;};y.Jc=!1;y.prototype=new ca();y.prototype.constructor=y;y.prototype.parse=function(){var a,r,l,c,k;a=this.M.offset;this.ng();if(1 === this.version){this.M.console.trace("translating vpcC box to draft equivalent");this.M.offset+=2;for(var b=this.M.offset,c=this.M.Nd(),f=this.M.Nd(),k=this.M.Nd(),d=this.M.Nd(),q=this.M.Ih(),m=[],r=0;r < q;++r){m=this.M.Nd();}r=(c & 240) >>> 4;l=(c & 14) >>> 1;c=c & 1;k=16 === k?1:0;f != d && this.M.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + f + " and matrixCoefficients " + d + " should be the same value!");d=2;switch(f){case 1:d=2;break;case 6:d=1;break;case 9:d=5;break;default:this.M.console.warn("VP9: Unknown colourPrimaries " + f + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.rb.U7(this.version,a);this.rb.U7(r << 4 | d,b++);this.rb.U7(l << 4 | k << 1 | c,b++);q+=2;m.push(0,0);this.rb.$Xb(q);b+=2;m.forEach(function(a){this.rb.U7(a,b++);});}return !0;};g.Jc=!1;g.prototype=new ca();g.prototype.constructor=g;g.cf="tfhd";Object.defineProperties(g.prototype,{sKa:{get:function(){return this.Zh & 1;}},hQb:{get:function(){return this.Zh & 2;}},ksb:{get:function(){return this.Zh & 8;}},nsb:{get:function(){return this.Zh & 16;}},lsb:{get:function(){return this.Zh & 32;}}});g.prototype.parse=function(){this.ng();this.xta=this.M.Ub();this.Mw=this.sKa?this.M.Sj():void 0;this.hQb && this.M.Ub();this.C0=this.ksb?this.M.Ub():void 0;this.E0=this.nsb?this.M.Ub():void 0;this.D0=this.lsb?this.M.Ub():void 0;return !0;};J.Jc=!1;J.prototype=new ca();J.prototype.constructor=J;J.prototype.parse=function(){this.ng();this.C_=1 === this.version?this.M.Sj():this.M.Ub();return !0;};J.prototype.xa=function(a){var b;b=this.startOffset + 12;this.C_+=a;1 === this.version?this.rb.aYb(this.C_,b):this.rb.fr(this.C_,b);};D.Jc=!1;D.prototype=new ca();D.prototype.constructor=D;Object.defineProperties(D.prototype,{aNa:{get:function(){return this.Zh & 1;}},Ija:{get:function(){return this.Zh & 4;}},l6:{get:function(){return this.Zh & 256;}},m6:{get:function(){return this.Zh & 512;}},k0a:{get:function(){return this.Zh & 1024;}},Ira:{get:function(){return this.Zh & 2048;}}});D.prototype.parse=function(){this.ng();this.DKa=this.M.offset;this.Fe=this.M.Ub();this.dx=this.aNa?this.M.Rqa():0;this.Ija && this.M.Ub();this.mU=(this.l6?4:0) + (this.m6?4:0) + (this.k0a?4:0) + (this.Ira?4:0);this.x1=this.M.offset;t(this.aNa,"Expected data offset to be present in Track Run");t(this.length - (this.M.offset - this.startOffset) === this.Fe * this.mU,"Expected remaining data in box to be sample information");return !0;};D.prototype.zP=function(a,b,c){var f,k,d;f=this.l6?this.M.Ub():a.C0;k=this.m6?this.M.Ub():a.E0;a=this.k0a?this.M.Ub():a.D0;d=0 === this.version?this.Ira?this.M.Ub():0:this.Ira?this.M.Rqa():0;return {gQb:d,S8b:a,A8b:c + d - (void 0 !== b?b:d),vy:k,nU:f};};D.prototype.xa=function(a,b,c,f,k,d,q){var m,r,l,h;m=0;r=0;this.rb.offset=this.x1;for(f=0;f < k;++f){h=this.zP(b,l,r);0 == f && (l=h.gQb);m+=h.vy;r+=h.nU;}f=k;k=this.M.offset;h=this.zP(b,l,r);this.zM=f;this.SSb=r;if(q){if((this.$L=this.dx + m,this.Ts=0,f === this.Fe))return !0;}else if((this.$L=this.dx,this.Ts=m,0 === f))return !0;if(0 === f || f === this.Fe)return !1;this.V0=!0;if(q){this.Ts+=h.vy;for(q=f + 1;q < this.Fe;++q){h=this.zP(b,l,r);this.Ts+=h.vy;}this.rb.offset=this.DKa;this.Fe=f;this.rb.fr(this.Fe);this.rb.qua(d);this.Ija && (this.M.offset+=4);this.El(this.length - (k - this.startOffset),k);}else (b=k - this.x1,this.rb.offset=this.DKa,this.Fe-=f,this.rb.fr(this.Fe),this.dx+=m,this.rb.qua(d,this.dx),this.Ija && (this.M.offset+=4),this.El(b,this.rb.offset));c.El(this.Ts,a.Mw + this.$L);return !0;};D.prototype.jPb=function(a,b,c,f,k,d){var m;if(f){f=this.$L;for(var q=this.Fe - 1;0 <= q && this.Fe - q <= k;--q){this.rb.offset=this.x1 + q * this.mU;m=this.zP(b);if(m.nU != d.duration){this.M.console.warn("Could not replace sample of duration " + m.nU + " with silence of duration " + d.duration);break;}if(this.m6)(this.rb.offset-=this.mU - (this.l6?4:0),this.rb.fr(d.wy.byteLength));else if(d.wy.byteLength !== m.vy){this.M.console.warn("Cannot replace sample with default size with silence of different size");break;}f-=m.vy;c.eU(m.vy,d.wy,a.Mw + f);}}else for((f=this.$L + this.Ts,q=0);q < this.Fe && q < k;++q){this.rb.offset=this.x1 + (q + this.zM) * this.mU;m=this.zP(b);if(m.nU != d.duration){this.M.console.warn("Could not replace sample of duration " + m.nU + " with silence of duration " + d.duration);break;}if(this.m6)(this.rb.offset-=this.mU - (this.l6?4:0),this.rb.fr(d.wy.byteLength));else if(d.wy.byteLength !== m.vy){this.M.console.warn("Cannot replace sample with default size with silence of different size");break;}c.eU(m.vy,d.wy,a.Mw + f);f+=m.vy;}};U.Jc=!1;U.prototype=Object.create(ca.prototype);U.prototype.constructor=U;Object.defineProperties(U.prototype,{OD:{get:function(){return this.Zh & 1;}}});U.prototype.parse=function(){this.ng();this.OD && this.M.xB();this.OD && this.M.Ub();this.msb=this.M.Nd();this.Fe=this.M.Ub();this.M.O5(this.Fe);return !0;};U.prototype.xa=function(a,b){if(a && 0 === this.msb){a=b?this.Fe - a:a;this.rb.offset=this.startOffset + 13 + (this.OD?8:0);this.Fe-=a;this.rb.fr(this.Fe);this.Gra=0;if(b)this.rb.offset+=this.Fe;else {for(b=0;b < a;++b){this.Gra+=this.rb.Nd();}this.rb.offset-=a;}this.El(a,this.M.offset);}return !0;};S.Jc=!1;S.prototype=Object.create(ca.prototype);S.prototype.constructor=S;Object.defineProperties(S.prototype,{OD:{get:function(){return this.Zh & 1;}}});S.prototype.parse=function(){this.ng();this.OD && this.M.xB();this.OD && this.M.Ub();this.$o=this.M.Ub();t(1 === this.$o,"Expected a single entry in Sample Auxiliary Information Offsets box");this.dx=0 === this.version?this.M.Rqa():this.M.VNb();return !0;};S.prototype.xa=function(a,b){this.dx+=a;this.rb.offset=this.startOffset + 16 + (this.OD?8:0) + (0 === this.version?0:4);this.rb.qua(b,this.dx);return !0;};O.Jc=!1;O.prototype=Object.create(ca.prototype);O.prototype.constructor=O;Object.defineProperties(O.prototype,{UXa:{get:function(){return this.Zh & 1;}},$Wb:{get:function(){return this.Zh & 2;}}});O.prototype.parse=function(){this.ng();this.UXa && (this.M.Ub(),this.M.O5(16));this.Fe=this.M.Ub();return !0;};O.prototype.xa=function(a,b){var c,f;c=b?this.Fe - a:a;this.rb.offset=this.startOffset + 28 + (this.UXa?20:0);this.Fe-=c;this.rb.fr(this.Fe);a=this.rb.offset;if(this.$Wb)for(c=b?this.Fe:c;0 < c;--c){this.rb.offset+=8;f=this.rb.Ih();this.rb.offset+=6 * f;}else this.rb.offset+=8 * (b?this.Fe:c);b?this.El(this.length - (this.M.offset - this.startOffset),this.M.offset):this.El(this.M.offset - a,a);};n.Jc=!1;n.prototype=Object.create(ca.prototype);n.prototype.constructor=n;n.prototype.parse=function(){this.ng();return !0;};n.prototype.xa=function(a,b,c){c?this.El(b - a,this.startOffset + 12 + a):this.El(a,this.startOffset + 12);return !0;};E.Jc=!1;E.prototype=Object.create(ca.prototype);E.prototype.constructor=E;E.prototype.parse=function(){this.ng();this.M.xB();1 === this.version && this.M.Ub();this.$o=this.M.Ub();this.oU=[];for(var a=0;a < this.$o;++a){for(var b=this.M.Ub(),c=this.M.Ub(),f=0;f < b;++f){this.oU.push(c);}}return !0;};E.prototype.xa=function(a,b){this.oU=b?this.oU.slice(0,a):this.oU.slice(a);a=this.oU.reduce(function(a,b){0 !== a.length && a[a.length - 1].group === b || a.push({group:b,count:0});++a[a.length - 1].count;return a;},[]);this.rb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.rb.fr(a.length);a.forEach((function(a){this.rb.fr(a.count);this.rb.fr(a.group);}).bind(this));this.$o > a.length && this.El(8 * (this.$o - a.length));this.$o=a.length;return !0;};p.Jc=!1;p.prototype=Object.create(ca.prototype);p.prototype.constructor=p;Ka={$c:{moov:h,trak:c,mdia:c,mdhd:l,minf:c,encv:Ka,schi:c,sidx:m,sinf:c,stbl:c,tenc:q,mvex:c,moof:u,traf:B,tfhd:g,trun:D,sbgp:E,sdtp:n,saiz:U,saio:S,tfdt:J,mdat:p,vmaf:f},wVb:{vpcC:y,SmDm:A("smdm"),CoLL:A("coll")},F3a:{schm:L},Hra:{}};sa([qc,Ma,Ja,Ga,ef,N,Ca,Q,X,fa,ua,ka,P,aa,a],Ka.$c);sa([Qa,Va,F,lb,ab,ia,Ua,Na,T,R],Ka.Hra);sa([qc,L],Ka.F3a);Ka.$c[b.vBa]=q;Ka.$c[b.zX]=v;Ka.$c[b.yX]=r;Ka.$c[b.uBa]=O;Ka.Hra[b.kaa]=V;Ka.rg=ca;d.exports={tL:Ka};},function(d,b){function a(a,b){return "number" !== typeof a || "number" !== typeof b?!1:a && b?Math.abs(a * b / c(a,b)):0;}function c(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a % b;a=c;}return a;}Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function b(a,b){"object" === typeof a?(this.Dr=a.xb,this.jl=a.S):(this.Dr=a,this.jl=b);}b.rKb=function(a){return new b(1,a);};b.$b=function(a){return new b(a,1E3);};b.o7=function(a,b){return Math.floor(1E3 * a / b);};b.Toa=function(a,b){return Math.floor(a * b / 1E3);};b.max=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.greaterThan(b)?a:b;});};b.min=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return a.reduce(function(a,b){return a.lessThan(b)?a:b;});};b.Yja=function(d,m){var f;if(d.S === m.S)return new b(c(d.xb,m.xb),d.S);f=a(d.S,m.S);return b.Yja(d.Ge(f),m.Ge(f));};Object.defineProperties(b.prototype,{xb:{get:function(){return this.Dr;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{S:{get:function(){return this.jl;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{da:{get:function(){return 1E3 * this.Dr / this.jl;},enumerable:!0,configurable:!0}});Object.defineProperties(b.prototype,{ah:{get:function(){return this.Dr / this.jl;},enumerable:!0,configurable:!0}});b.prototype.Ge=function(a){a/=this.S;return new b(Math.floor(this.xb * a),Math.floor(this.S * a));};b.prototype.add=function(c){var d;if(this.S === c.S)return new b(this.xb + c.xb,this.S);d=a(this.S,c.S);return this.Ge(d).add(c.Ge(d));};b.prototype.Fa=function(a){return this.add(new b(-a.xb,a.S));};b.prototype.mF=function(a){return new b(this.xb * a,this.S);};b.prototype.Xo=function(b){var c;if(this.S === b.S)return this.xb / b.xb;c=a(this.S,b.S);return this.Ge(c).Xo(b.Ge(c));};b.prototype.YRa=function(b){return a(this.S,b);};b.prototype.a_a=function(){return new b(this.S,this.xb);};b.prototype.compare=function(b,c){var f;if(this.S === c.S)return b(this.xb,c.xb);f=a(this.S,c.S);return b(this.Ge(f).xb,c.Ge(f).xb);};b.prototype.equal=function(a){return this.compare(function(a,b){return a === b;},a);};b.prototype.R4=function(a){return this.compare(function(a,b){return a !== b;},a);};b.prototype.lessThan=function(a){return this.compare(function(a,b){return a < b;},a);};b.prototype.greaterThan=function(a){return this.compare(function(a,b){return a > b;},a);};b.prototype.ZE=function(a){return this.compare(function(a,b){return a <= b;},a);};b.prototype.rl=function(a){return this.compare(function(a,b){return a >= b;},a);};b.prototype.toJSON=function(){return {ticks:this.xb,timescale:this.S};};b.prototype.toString=function(){return this.xb + "/" + this.S;};b.nb=new b(0,1);b.Al=new b(1,1E3);return b;})();b.T=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.M.offset+=6;this.M.Ih();return !0;};return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});d=a(0);d.__exportStar(a(145),b);d.__exportStar(a(238),b);d.__exportStar(a(239),b);d.__exportStar(a(240),b);d=a(239);c=a(240);a=a(238);b.JJ={3:a.oxa,4:d.Hwa,5:c.v8a};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.M.Ih();a=this.M.Nd();this.BTb=! !(a & 128);this.$cb=! !(a & 64);this.Hab=! !(a & 32);this.BTb && this.M.Ih();this.$cb && this.M.O5(this.M.Nd());this.Hab && this.M.Ih();this.UHa();return !0;};b.tag=3;return b;})(a(145).b9);b.oxa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.nJb=this.M.Nd();this.M.Nd();this.M.Ih();this.M.Nd();this.Am=this.M.Ub();this.klb=this.M.Ub();this.UHa();return !0;};b.tag=4;return b;})(a(145).b9);b.Hwa=d;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(145);h=a(237);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.QZa=function(){15 !== this.M.mg(4) || this.M.mg(24);};b.prototype.parse=function(a){if(this.uDb(a) && 64 === a.nJb)switch((this.MD=this.IZa(),this.QZa(),this.M.mg(4),this.fvb=5 === this.MD || 29 === this.MD?5:-1,0 < this.fvb && (this.QZa(),this.MD=this.IZa(),22 === this.MD && this.M.mg(4)),this.MD)){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.PPa=this.M.mg(1),(this.xsb=this.M.mg(1)) && this.M.mg(14),this.M.mg(1),this.H1=3 === this.MD?256:23 === this.MD?this.PPa?480:512:this.PPa?960:1024);}this.skip();return !0;};b.prototype.IZa=function(){var a;a=this.M.mg(5);31 === a && (a=32 + this.M.mg(6));return a;};b.prototype.uDb=function(a){return a.tag === h.Hwa.tag;};b.tag=5;return b;})(d.b9);b.v8a=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var a,b,d;for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}a=Array.prototype.concat.apply([],a);b=a.reduce(function(a,b){return a + b.byteLength;},0);d=new Uint8Array(b);a.reduce(function(a,b){d.set(new Uint8Array(b),a);return a + b.byteLength;},0);return d.buffer;};},function(d,b,a){var c,h,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(404);h=a(234);l=a(405);d=(function(){function a(a,b,c){this.console=a;this.stream=b;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);}a.prototype.parse=function(a){var b;b=new l.Lwa(this.view.byteLength);this.Zg=new c.x8(h.tL.$c,b,this.view,this.console,{Ipa:!0});a=this.Zg.parse(a);this.$c=this.Zg.$c;return a;};return a;})();b.DC=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.eC=void 0;d=a(38);a=a(120);c=(function(){function a(a,b){this.Zp=a;this.bI=b.Ra;this.Rt=b.jb;}Object.defineProperties(a.prototype,{Ra:{get:function(){return void 0 !== this.bI?this.bI:this.Zp.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jb:{get:function(){return void 0 !== this.Rt?this.Rt:this.Zp.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Zp.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Rk:{get:function(){return this.Zp.Rk;},enumerable:!1,configurable:!0}});a.prototype.BU=function(a){this.Rt=a;};a.prototype.Vga=function(){this.Rt=void 0;};return a;})();b.eC=c;d.af(a.fC,c);d.af(a.bC,c);},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.pN=void 0;c=a(0);d=c.__importDefault(a(110));h=a(82);l=a(172);a=(function(a){function b(b,c,f,d,m,h,A){c=a.call(this,b,c,f,d,m,h,A) || this;l.tt.$a(c,b,d);return c;}c.__extends(b,a);return b;})(h.cC);b.pN=a;d["default"](l.tt.prototype,a.prototype);},function(d,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(895),b);},function(d,b,a){var h;function c(a,b){return a < b?-1:a > b?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.tX=void 0;h=a(0);d=(function(){function a(a,b){this.data=null !== a && void 0 !== a?a:[];this.compare=null !== b && void 0 !== b?b:c;if(!this.empty)for(a=(this.length >> 1) - 1;0 <= a;a--){this.pda(a);}}Object.defineProperties(a.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});a.prototype.push=function(a){this.data.push(a);this.Pea(this.length - 1);};a.prototype.pop=function(){var a,b;if(!this.empty){a=this.data[0];b=this.data.pop();this.empty || (this.data[0]=b,this.pda(0));return a;}};a.prototype.$u=function(){return this.data[0];};a.prototype.ZMb=function(a){a=this.data.indexOf(a);-1 !== a && this.Pea(a);};a.prototype.map=function(a){return this.data.map(a);};a.prototype.find=function(a){return h.__read(this.data.filter(a),1)[0];};a.prototype.clear=function(){this.data=[];};a.prototype.remove=function(a){var b,c,d;b=this.data;a=b.indexOf(a);if(-1 !== a){c=b.pop();if(a < b.length){b[a]=c;d=a - 1 >> 1;b=b[d];0 <= d && 0 > this.compare(c,b)?this.Pea(a):this.pda(a);}}};a.prototype.contains=function(a){return 0 <= this.data.indexOf(a);};a.prototype.Pea=function(a){for(var b=this.data,c=this.compare,d=b[a],m,r;0 < a;){m=a - 1 >> 1;r=b[m];if(0 <= c(d,r))break;b[a]=r;a=m;}b[a]=d;};a.prototype.pda=function(a){for(var b=this.data,c=this.compare,d=this.length >> 1,m=b[a],r,l,h;a < d;){r=(a << 1) + 1;h=b[r];l=r + 1;l < this.length && 0 > c(b[l],h) && (r=l,h=b[l]);if(0 <= c(h,m))break;b[a]=h;a=r;}b[a]=m;};return a;})();b.tX=d;},function(d,b,a){var c,h,l,m,f,k,q,v,r;Object.defineProperties(b,{__esModule:{value:!0}});b.WV=void 0;c=a(0);a(5);d=a(38);h=c.__importDefault(a(25));l=c.__importDefault(a(110));m=c.__importDefault(a(3));f=a(248);k=a(70);q=a(82);v=m["default"].Vm;r=a(917);a=c.__importDefault(a(918));m=(function(a){var a00;a00=2;function b(b,c,f,d,q,m,r){var b00,l;b00=2;for(;b00 !== 6;){switch(b00){case 7:return l;break;case 3:void 0 === f.responseType && (f.responseType=f.xa || v.Yb && !v.Yb.gM.QC?0:1);l=a.call(this,b,c,l,f,d,m,r) || this;k.Lh.$a(l,b,f);b00=7;break;case 2:var M24="e";M24+="d";M24+="i";M24+="t";var J24="c";J24+="ac";J24+="he";var B24="1SIYb";B24+="Zr";B24+="N";B24+="JC";B24+="p9";l=this;B24;l=[J24,M24].filter(function(a,b){var c00;c00=2;for(;c00 !== 1;){switch(c00){case 2:return [q,f.xa][b];break;case 4:return [q,f.xa][b];break;c00=1;break;}}});l=l.length?"(" + l.join(",") + ")":"";b00=3;break;}}}for(;a00 !== 3;){switch(a00){case 2:c.__extends(b,a);b.create=function(a,c,k,d,m,l,u){var d00,B,y,A;d00=2;for(;d00 !== 19;){switch(d00){case 1:return new r.Pua(a,k,d,m,l,c,u);break;case 5:d00=d.dF && d.ba > d.dF?4:20;break;case 2:var G24="d";G24+="efau";G24+="lt";d00=!c.Ig && d.xa && a.I === h[G24].Ua.VIDEO && v.Yb && v.Yb.gM.QC?1:5;break;case 4:B=Math.ceil(d.ba / d.dF);l=d.offset;y=d.ba;m=new f.aC(a,d,m,c,u);d00=7;break;case 7:B=Math.ceil(d.ba / B);d00=6;break;case 14:A={offset:l,ba:Math.min(y,B),responseType:d.responseType};l+=A.ba;y-=A.ba;d00=11;break;case 6:d00=0 < y?14:10;break;case 11:var m24="sub";m24+="r";m24+="eq";m24+="uest";m.push(new q.cC(a,k,m24,A,m,c,u));d00=6;break;case 20:return new b(a,k,d,m,l,c,u);break;case 10:return m;break;}}};a00=5;break;case 5:b.prototype.toString=function(){var e00;e00=2;for(;e00 !== 1;){switch(e00){case 2:return q.cC.prototype.toString.call(this) + ":" + k.Lh.prototype.toString.call(this);break;}}};return b;break;}}})(q.cC);b.WV=m;l["default"](a["default"],m.prototype);d.af(k.Lh,m,!1);},function(d,b,a){var c,h,l,m,f,k,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.aC=void 0;c=a(0);h=c.__importDefault(a(110));l=a(5);d=a(38);m=a(9);f=a(34);k=a(409);q=a(70);v=a(82);a=(function(a){function b(b,c,f,k,d){f=a.call(this,b,c,f,k,d) || this;q.Lh.$a(f,b,c);f.zc=0;f.xa || f.ei();f.ze=!1;return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{wc:{get:function(){return !1;},enumerable:!1,configurable:!0}});b.prototype.push=function(b){this.zc+=b.ba;a.prototype.push.call(this,b);};b.prototype.ws=function(){var a;return !this.ze && ! !this.ya.length && !(null === (a=f.Qg(this.ya,function(a){return !a.ze;})) || void 0 === a || !a.ws());};b.prototype.LD=function(a,b){var c,f;l.assert(!this.ze);c=v.Ji.vab;f=m.qp(this);this.ze=this.ya.every(function(k){if(k.ze)return !0;if(!k.ws())return !1;c=k.LD(a,b,void 0,void 0,void 0,void 0,f).status;return c === v.Ji.Dv;});c !== v.Ji.Dv || this.ze || (c=v.Ji.Oab);return {status:c};};b.prototype.JOb=function(){this.ya.forEach(function(a){a.aU();});};b.prototype.Dk=function(){return this.ya?this.ya[0].Dk() + "-" + this.ya[this.ya.length - 1].Dk():"empty";};b.prototype.toString=function(){return q.Lh.prototype.toString.call(this) + "(aggregate)";};b.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);h["default"](q.Lh.prototype.toJSON.call(this),b);return b;};return b;})(k.e8);b.aC=a;d.af(q.Lh,a);},function(d,b,a){var c,h,l,m,f,k,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Obb=b.ZV=void 0;c=a(0);d=a(16);h=a(177);l=a(20);m=c.__importDefault(a(3));f=a(9);a=a(38);k=m["default"].Promise;q=(function(){function a(a,b){this.console=a;this.og=b;this.jgb=this.TO=0;this.ag=[];this.console=f.Ku(m["default"],this.console,"QueueIterator:");}Object.defineProperties(a.prototype,{ysb:{get:function(){return this.TO;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{aMa:{get:function(){var a,b,c;for(b=0;b < this.ag.length;b++){c=this.ag[b];if(!c.tS || (null === (a=c.item) || void 0 === a?0:a.done))break;}return b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{count:{get:function(){return this.og;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ex:{get:function(){return 0 === this.og;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sra:{get:function(){var a;for(a=0;a < this.ag.length && this.ag[a].Uma;a++){;}return a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{head:{get:function(){var a;a=c.__read(this.ag,1)[0];return (a=a && a.item) && !a.done && a.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{apa:{get:function(){var a;for(a=0;a < this.ag.length && this.ag[a].tS;a++){;}return a;},enumerable:!1,configurable:!0}});a.prototype.c1=function(){var a;if(void 0 === this.og){a=this.console;l.ma && a && a.trace("QueueIterator: enqueueEnd");this.Uta(this.apa - (this.og || 0));}};a.prototype.eo=function(){return this.ag.map(function(a){return a.item;});};a.prototype.uta=function(){return this.ag.filter(function(a){return (null === a || void 0 === a?void 0:a.item) && !a.item.done;}).map(function(a){return a.item.value;});};a.prototype.Uta=function(a){var b;l.ma && this.console.trace("updateCount",{f8b:this.og,HJ:a});if(void 0 !== this.og){b=this.ag[this.og];b && this.Bma(b);}this.og=void 0 === this.og?a:void 0 === a?a:this.og + a;void 0 !== this.og && (this.og=Math.max(0,this.og),(b=this.ag[this.og]) && b.QK.resolve({done:!0}));};a.prototype.enqueue=function(a){l.ma && this.console.trace("Enqueue called");return this.tNb(this.apa,{value:a,done:!1}).xNa.Sq;};a.prototype.R_a=function(){l.ma && this.console.trace("resetEnd");this.Uta(void 0);};a.prototype.clear=function(a){var b,c,f;l.ma && this.console.trace("clear");this.xZa();b=this.sra;c=this.ag.length - b;if(0 < c){f={index:b,opa:c};l.ma && this.console.trace("Removing items",f);this.ag.splice(b,c);this.emit("onRemoved",f);}for(c=1;c < b;c++){this.Bma(this.ag[c]);}this.og=void 0;this.Uta(a?a + b:a);this.TO && (this.TO=0);};a.prototype.SQa=function(){var a,b;a=this;b=f.Ku(m["default"],this.console,"QueueIteratorInstance::");return new v(this,function(b){return a.kRa(b);},b);};a.prototype.IJ=function(){var a;if(0 < this.sra){a=c.__read(this.ag,1)[0];if(a.tS)return (l.ma && this.console.trace("dequeue",a.id),this.xZa(1),this.emit("onDequeue",a.QK.Sq));}};a.prototype.remove=function(a){var b,c,f;for(b=0;b < this.ag.length;b++){c=this.ag[b];f=c.item;if(f && !f.done && f.value === a){this.ag.splice(b,1);l.ma && this.console.trace("removed",{id:c.id});this.emit("onRemoved",{index:b,opa:1});break;}}};a.prototype.xZa=function(a){var b;a=a || Math.min(this.sra,this.apa);if(0 < a){b=this.ag.splice(0,a);this.og && (this.og-=a);l.ma && this.console.trace("pruned",a);k.resolve().then(function(){b.forEach(function(a){a.xNa.resolve();});});this.emit("onRemoved",{index:0,opa:a});this.TO+=a;}};a.prototype.kRa=function(a){var b;l.ma && this.console.trace("getNextItemCalled",{offset:a});if(void 0 === this.count || 0 < this.count){this.eTa(a);b=this.ag[a];b.zPb.resolve();a=b.QK.Sq;l.ma && this.console.trace("getNextItem:return",{id:b.id});}else (l.ma && this.console.trace("getNextItem:returnDone"),a=k.resolve({done:!0}));return a;};a.prototype.tNb=function(a,b){var c;c=!b.done && b.value;c=c && c.toJSON?c.toJSON():c;l.ma && this.console.trace("Providing result",{qkb:a,item:c});this.eTa(a);a=this.ag[a];c=a.QK.resolve;c(b);return a;};a.prototype.eTa=function(a){var b;if(void 0 === this.ag[a]){b={};this.Bma(b);this.ag[a]=b;a === this.og && b.QK.resolve({done:!0});l.ma && this.console.trace("Item initialized",{qkb:a});}};a.prototype.Iha=function(a){var b;b={};b.Sq=new k(function(c,f){b.resolve=function(b){c(b);a && a(b);};b.reject=f;});return b;};a.prototype.Bma=function(a){var b;b=this;a.QK=this.Iha(function(c){a.item=c;a.tS=!0;l.ma && b.console.trace("Item resolved",{id:a.id});});a.id && a.Uma && !a.tS && (a.QK.resolve({done:!0}),l.ma && this.console.warn("Overwriting requested queue item",a.id));a.xNa=this.Iha();a.zPb=this.Iha(function(){a.Uma=!0;l.ma && b.console.trace("Item requested",{id:a.id});});a.id=this.jgb++;a.Uma=!1;a.tS=!1;a.item=void 0;};a.prototype.nxb=function(){var a,b;a=this;b=new h.gC(function(){var c,f;if(0 === a.count)return h.gC.nla();c=a.kRa(0);f=a.ag[0];c.then(function(){b.HK || f === a.ag[0] && a.IJ();});return c;});return b;};return a;})();b.ZV=q;a.af(d.EventEmitter,q);v=(function(a){function b(b,c,f){var k;k=a.call(this,function(){l.ma && k.console.trace("Next item requested",{index:k.index});return k.ZPb(k.index++);}) || this;k.parent=b;k.ZPb=c;k.console=f;k.qI=!1;k.index=0;k.Hda=!1;k.xXa=function(a){var b;b=a.index;a=a.opa;k.index >= b && (k.index=Math.max(b,k.index - a));b=k.console;l.ma && b && b.trace("QueueIteratorInstance: onRemoved modified",k.index);};return k;}c.__extends(b,a);b.prototype.Ug=function(){this.console.trace("disposed");this.qI=!0;this.dc();a.prototype.Ug.call(this);};b.prototype.next=function(){this.HK || this.EK();return a.prototype.next.call(this);};b.prototype.cancel=function(){this.dc();return a.prototype.cancel.call(this);};b.prototype.dc=function(){this.parent.BL("onRemoved",this.xXa);this.Hda=!1;};b.prototype.EK=function(){this.Hda || (this.Hda=!0,this.parent.on("onRemoved",this.xXa));};return b;})(h.gC);b.Obb=v;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.y5=void 0;c=a(17);b.y5=function(a){switch(a){case c.oa.cd:a=c.bc.cd;break;case c.oa.nf:a=c.bc.nf;break;case c.oa.oh:case c.oa.ck:case c.oa.Wv:a=c.bc.ck;break;default:a=c.bc.dk;}return a;};},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.MG=void 0;c=a(252);d=(function(){function a(a,b){var g00;g00=2;for(;g00 !== 3;){switch(g00){case 2:var z24="1";z24+="SIYb";z24+="Z";z24+="r";z24+="NJCp9";this.config=a;this.cL=b;this.Pfa=null;z24;g00=3;break;}}}var f00;f00=2;for(;f00 !== 3;){switch(f00){case 2:a.prototype.INa=function(a,b){var h00,f;h00=2;for(;h00 !== 3;){switch(h00){case 2:f=null === this.Pfa?a * (100 - this.config.i7) / 100:c.Afa(a,this.Pfa);b=null !== b && void 0 !== b?b:this.cL;this.config.Cna && b?(a=c.Afa(a,b),a=Math.max(a,f)):a=f;return a;break;}}};a.prototype.uM=function(a){var i00;i00=2;for(;i00 !== 1;){switch(i00){case 2:this.Pfa=a;i00=1;break;}}};a.prototype.Tta=function(a){var j00;j00=2;for(;j00 !== 1;){switch(j00){case 4:this.config=a;j00=0;break;j00=1;break;case 2:this.config=a;j00=1;break;}}};return a;break;}}})();b.MG=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Afa=b.ly=b.QOa=void 0;c=a(0).__importDefault(a(108))["default"].ROa;b.QOa=function(a,b,c){var f,k,d;f=0;if(c){a.some(function(a){var c;c=a.b;a=a.m;if(b <= c)return (f=d && c !== k?d + (a - d) / (c - k) * (b - k):a,!0);k=c;f=d=a;return !1;});}else a.some(function(a){f=a.m;return b <= a.b;});return f;};b.ly=function(a,b,d){var f;b=(null === (f=b.Ka) || void 0 === f?void 0:f.Ca) || 0;return a.qlb?(a=c(a.plb,d.uk - d.ad,1),b * (1 - a)):b * a.i7 / 100;};b.Afa=function(a,b){return a < 2 * b?a / 2:a - b;};},function(d,b,a){var m;function c(){}function h(a,b){this.mq=a;void 0 !== b?(m(b <= a.Hl,"require remain_sec <= chunk.sec but has " + b + " and " + a.Hl),this.Tj=b):this.Tj=a.Hl;}function l(a){void 0 === a && (a=[]);this.Dl=[];this.Jg=this.Xk=0;for(var b in a){this.add(a[b],void 0);}}m=a(5).assert;c.prototype=Error();h.prototype.constructor=h;h.prototype.nq=function(){return new h(this.mq,this.Tj);};l.prototype.constructor=l;l.prototype.add=function(a,b){a=new h(a,b);this.Dl.push(a);this.Jg+=a.Tj;this.Xk+=a.mq.ux() * a.Tj;};l.prototype.nq=function(){var a,b;a=new l(void 0);for(b in this.Dl){a.add(this.Dl[b].mq,this.Dl[b].Tj);}return a;};l.prototype.ns=function(){try{return this.Dl[0];}catch(f){}};l.prototype.JYa=function(a){var b;for(m(0 <= a,"unexpected play_for_x_sec: x=" + a);0 < a;){if(void 0 === this.ns())throw new c();if(a < this.ns().Tj){b=this.ns().mq.ux() * a;this.ns().Tj-=a;this.Jg-=a;this.Xk-=b;a=0;}else (b=this.Dl.shift(),this.Jg-=b.Tj,this.Xk-=b.mq.ux() * b.Tj,a-=b.Tj);}};l.prototype.SLb=function(a){var f;m(0 <= a,"unexpected play_y_kb: y=" + a);for(var b=0;0 < a;){if(void 0 === this.ns())throw new c();if(a < this.ns().Tj * this.ns().mq.ux()){f=a / this.ns().mq.ux();this.ns().Tj-=f;this.Jg-=f;this.Xk-=a;b+=f;a=0;}else (f=this.Dl.shift(),this.Jg-=f.Tj,this.Xk-=f.mq.ux() * f.Tj,b+=f.Tj,a-=f.mq.ux() * f.Tj);}return b;};d.exports={Hva:l,Q6a:c};},function(d){d.exports={Xza:{code:-1,description:"MediaCache is not supported."},k2b:{code:100,description:"Resource was not found"},Q$a:{code:101,description:"Resource Metadata was not found"},EH:{code:102,description:"Read failed",Mp:function(b,a){return {code:this.code,description:b,cause:a};}},xY:{code:200,description:"Daily write limit exceeded"},NG:{code:201,description:"Capacity has been exceeded"},wY:{code:202,description:"Write failed, cause unknown",Mp:function(b,a){return {code:this.code,description:b,cause:a};}},F3b:{code:203,description:"Write failed, cause unknown"},O7a:{code:300,description:"Failed to delete resource",Mp:function(b,a){return {code:this.code,description:b,cause:a};}},Uy:{code:900,description:"Invalid partition name"},o$a:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},Bwa:{code:701,description:"Failed to initialize underlying disk cache."},P$a:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(d){d.exports={jSa:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(b){var c;void 0 === b.error.code && (b.error.code=0);void 0 === b.error.description && (b.error.description="Unknown");a.forEach(function(a){b.error && b.error.code == a.error.code && b.error.description === a.error.description && (c=a);});c?c.kU.push(b.Ep):a.push({error:b.error,kU:[b.Ep]});});return a;}},kQa:function(b){var a;a={freeSize:b.Ck,dailyBytesRemaining:b.CJ,bytesWritten:b.Dj,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(a){return {key:a.key,operation:a.Gh,itemBytes:a.D3,error:a.error};}));return a;},dv:function(b){return b["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.FE=void 0;c=a(0).__importDefault(a(3));h=a(981);b.FE=function(){var a;if(!l){a=new c["default"].Console("ASEJS","media|asejs");l=new h.Fua(a);}return l;};},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.jY=void 0;d=a(16);c=a(38);h=a(21);a=(function(){function a(a){void 0 === a && (a={vl:!1,currentTime:h.T.nb,speed:1});this.Yd={vl:function(){return "function" === typeof a.vl?a.vl():a.vl;},currentTime:function(){return "function" === typeof a.currentTime?a.currentTime():a.currentTime;},speed:function(){return "function" === typeof a.speed?a.speed():a.speed;}};}Object.defineProperties(a.prototype,{vl:{get:function(){return this.Yd.vl();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{currentTime:{get:function(){return this.Yd.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{speed:{get:function(){return this.Yd.speed();},enumerable:!1,configurable:!0}});return a;})();b.jY=a;c.af(d.EventEmitter,a);},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.WC=void 0;c=a(20);h=a(9);l=a(69);d=(function(){function a(a){this.Xj=a;}Object.defineProperties(a.prototype,{jT:{get:function(){return "trace-" + this.Xj.source;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vk:{get:function(){return this.jT;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return c.ma;},enumerable:!1,configurable:!0}});a.prototype.yu=function(a){var b;if(a.Lj === l.If.pu || a.Lj === l.If.ho){b=h.kNa(this.Xj.tEb);a.Lj === l.If.pu && this.Xj.clear();return b;}};a.prototype.Tb=function(){this.Xj.Tb();};return a;})();b.WC=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.n2=b.ms=b.isEqual=b.vS=void 0;c=a(9);b.vS=function(a){return ! !a.fa;};b.isEqual=function(a,c){var d,f;d=b.vS(a);f=b.vS(c);return d === f?d?a.fa === c.fa:a.cb === c.cb:!1;};b.ms=function(a){if(b.vS(a))return a.fa;a=a.cb;return a.Ja[a.hf].fa;};b.n2=function(a,b){return a.E_?a.E_ instanceof c.T?{offset:a.E_,va:b.hf}:a.E_:{offset:c.T.nb,va:b.hf};};},function(d,b,a){var c,h,l,m,f,k,q;Object.defineProperty(b,"__esModule",{value:!0});b.bYa=b.aYa=b.i5=b.Gpa=b.cYa=b.eYa=b.dYa=b.fYa=b.j5=b.gYa=b.hYa=b.$Xa=void 0;c=a(18);h=a(26);l=a(11);m=a(147);f=a(10);k=a(15);q=a(23);b.$Xa=(function(){var t,Z,ta,ca,Ca,P,aa,Q,ua,Ma,Ja,Ga;function a(a){if(h.Gx(a)){a=a.toLowerCase();if("#" == a[0]){if(7 == a.length)return a;if(4 == a.length)return "#" + a[1] + a[1] + a[2] + a[2] + a[3] + a[3];}return b.fYa[a];}}function d(a,b,c){b=b[a];0 <= b || (b=parseFloat(a));if(0 <= b)return f.ko(b,c);}function u(a,b){var c,f;c=a.length;f=a[c - 1];if("t" === f)return parseFloat(a) * b | 0;if("s" === f)return "m" === a[c - 2]?parseFloat(a) | 0:parseFloat(a) * l.$j | 0;if((a=a.match(ua)) && 4 <= a.length)return (3600 * parseInt(a[1],10) + 60 * parseInt(a[2],10) + parseFloat(a[3])) * l.$j | 0;throw Error("dfxp-badtime");}function B(a,b,c,f,k){var d,q,m,r,l,v,h,u;d=void 0;if(a){q=a.style;c=q?c[q]:void 0;f=(q=a.region)?f[q]:void 0;q=k.length;for(m=0;m < q;m++){if((r=k[m],l=a[r],void 0 === l && c && (l=c[r]),void 0 === l && f && (l=f[r]),void 0 !== l && l !== b[r])){if(!d)for((d={},v=0);v < q;v++){h=k[v];u=b[h];void 0 !== u && (d[h]=u);}d[r]=l;}}}return d || b;}function g(a,b,c,f,k,d,q,r,l){var u,g;function v(a,y,A){var I,J,S,U,O,n;I=a[m.sj];J=I.style || y.style || "";S=I.region || y.region || "";J || S?(U=J + "/" + S,O=c[U]):O=b;if(!O){O=b;n=h.wM(f);h.Hb(n,k[J]);O=D(O,n,q,r,l);c[J + "/"]=O;S && (h.Hb(n,d[S]),h.Hb(n,k[J]),O=D(O,n,q,r,l),c[U]=O);}if(!A)a:{for(A=P.length;A--;){if(void 0 !== I[P[A]]){A=!0;break a;}}A=void 0;}A && (I=B(I,y,k,d,aa),O=D(O,I,q,r,l));y=(a=a[m.lN]) && a.length;for(J=0;J < y;J++){S=a[J];h.zf(S)?Ma.test(S[m.mN])?g++:v(S,I,A):(u.push({text:S,lineBreaks:g,style:O}),g=0);}}u=[];g=0;v(a,f,!1);0 < g && u.push({text:"",lineBreaks:g,style:b});return u;}function y(a,b,c,f,k,d,q,m){var r,l;c && (c=Z[c] || "top",a.verticalAlignment !== c && (a.verticalAlignment=c));f && (c=ta[f] || "left",a.horizontalAlignment !== c && (a.horizontalAlignment=c));k?((l=m[k])?(f=l.marginLeft,c=l.marginTop):(r=k.split(" "),f=O(r[0],q.x) || 0,c=O(r[1],q.y) || 0,l={Zo:0,marginLeft:f,marginTop:c,Pjb:f * b.zla + b.XR,Rjb:c * b.gua + b.L7},30 > m.Zo && (m.Zo++,m[k]=l)),a.marginLeft=l.Pjb,a.marginTop=l.Rjb):(c=f=0,(l=m["default"]) || (m["default"]=l={Zo:0}));d && (k=l[d],k || (r=d.split(" "),k={Qjb:(1 - (f + (O(r[0],q.x) || 0))) * b.zla + b.XR,Ojb:(1 - (c + (O(r[1],q.y) || 0))) * b.gua + b.L7},30 > l.Zo && (l.Zo++,l[d]=k)),a.marginRight=k.Qjb,a.marginBottom=k.Ojb);}function I(a,b,c,f,k){var d,q,m;d=a.displayAlign;q=a.textAlign;m=a.origin;a=a.extent;c=h.wM(c);y(c,b,d,q,m,a,f,k);c.id=t++;return c;}function J(c,f,k,q){var m,r,l,v,u,B;m=d(k.characterSize || f.characterSize,b.gYa,2) || 1;r=(r=c.fontSize) && Ja.test(r)?h.lo(h.de(r),25,200):void 0;m*=r / 100 || 1;r=c.textOutline;if(r && "none" != r){v=r.split(" ");Ga.test(v)?(B=0,u=c.color):(B=1,u=a(v[0]));l=S(v[B]);v=S(v[B + 1]);}return {characterStyle:k.characterStyle || b.hYa[c.fontFamily] || f.characterStyle,characterSize:m * q,characterColor:a(k.characterColor || c.color || f.characterColor),characterOpacity:d(h.Y_(k.characterOpacity,c.opacity,f.characterOpacity),b.j5,1),characterEdgeAttributes:k.characterEdgeAttributes || r && ("none" === r?b.dYa:v?b.i5:b.Gpa) || f.characterEdgeAttributes,characterEdgeColor:a(k.characterEdgeColor || u || f.characterEdgeColor),characterEdgeWidth:l,characterEdgeBlur:v,characterItalic:"italic" === c.fontStyle,characterUnderline:"underline" === c.textDecoration,backgroundColor:a(k.backgroundColor || c.backgroundColor || f.backgroundColor),backgroundOpacity:d(h.Y_(k.backgroundOpacity,c.opacity,f.backgroundOpacity),b.j5,1)};}function D(a,b,c,k,d){var m;b=J(b,c,k,d);q.Rd(b,function(b,c){c !== a[b] && (m || (m=f.IC(a)),m[b]=c);});return m || a;}function U(a,b,c,k,d,q,r,l){var v;v=a[m.sj];c=B(a[m.sj],b,c,d,Q);b=c.region;a=v.displayAlign;c=c.textAlign;d=v.origin;v=v.extent;b || a || c || d || v?((k=k[b])?k=f.IC(k):a || d || v?(k=f.IC(Ca),k.id=t++):k=f.IC(ca),y(k,q,a,c,d,v,r,l)):k=ca;return k;}function S(a){a=h.de(a);return k.Fx(a,0,100)?a:0;}function O(a,b){var c;c=a[a.length - 1];if("%" === c)return h.lo(.01 * parseFloat(a),0,1);if("c" === c)return h.lo(h.de(a) / b,0,1);}function n(a){for(var b=a.length,c=a[--b].endTime;b--;){c=f.ko(a[b].endTime,c);}return c;}function E(b){q.Rd(b,function(c,f){0 <= c.toLowerCase().indexOf("color") && (b[c]=a(f));});}function p(a,b){var k,d,q,m;k=a.pixelAspectRatio;m={XR:0,zla:1,L7:0,gua:1};a=(a.extent || "640px 480px").split(" ");2 <= a.length && (k=(k || "").split(" "),d=parseFloat(a[0]) * (parseFloat(k[0]) || 1),q=parseFloat(a[1]) * (parseFloat(k[1]) || 1));d=0 < d && 0 < q?d / q:1280 / 720;b=b || 1280 / 720;k=d / b;.01 < f.xC(b - d) && (b >= d?(m.XR=(1 - k) / 2,m.zla=k):c.fb(!1,"not implemented"));return m;}function sa(a){var c,f,k,d,q;if(c=a.cellResolution)if((c=c.split(" "),2 <= c.length)){f=h.de(c[0]);c=h.de(c[1]);if(0 < f && 0 < c)return {x:f,y:c};}c=a.extent;if(c && (c=c.split(" "),2 <= c.length)){f=h.de(c[0]);q=h.de(c[1]);if(a=a.pixelAspectRatio)(c=a.split(" "),k=h.de(c[0]),d=h.de(c[1]));if(f && q && 1.5 < f * (k || 1) / (q * (d || 1)))return b.bYa;}return b.aYa;}t=1;Z={before:"top",center:"center",after:"bottom"};ta={left:"left",start:"left",center:"center",right:"right",end:"right"};ca={id:t++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};Ca={id:t++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};P=("fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline").split(" ");aa=P.concat(["style","region"]);Q=["region","textAlign","displayAlign","extent","origin"];ua=/^([0-9]+):([0-9]+):([0-9.]+)$/;Ma=/^br$/i;Ja=/^[0-9]{1,3}%$/;Ga=/^[0-9]/;return function(c,k,q,r,v){var S,O,Y,da,P,ea,ta,ca,Z,Ja,ua,Ma,Ga,ka,Ua,Va,Qa,Na,F,L,R,T,V,X,fa,ha,ja,ga,ma,la;function y(){try{for(var a;V;){if((Z=V[m.sj],X.push({id:t++,startTime:u(Z.begin,Y),endTime:u(Z.end,Y),region:U(V,ha,ea,ca,ta,da,ka,Na),textNodes:g(V,ja,ga,fa,ea,ta,Va,Qa,Ua)}),V=V[m.ZB],a=f.RG(),100 < a - ma)){ma=Date.now();la=setTimeout(y,1);return;}}}catch(kf){D({ka:h.K.EW,Ab:h.Ve(kf)});return;}la=setTimeout(A,1);}function A(){var b,c,f,k,d,q,m;function a(a,f){for(var k,d=[],q={},m,r=c.length;r--;){k=c[r];m=k.region.id;q[m] || (q[m]=1,d.unshift(k));}(k=b[b.length - 1]) && k.endTime == a && h.Xz(k.blocks,d)?k.endTime=f:b.push({id:t++,startTime:a,endTime:f,blocks:d});}try{if(!X.length){D({ja:!0,entries:[]});return;}h.LJa(X,"startTime");b=[];c=[];f=X[0];d=X[0].startTime;for(q=1;c.length || f;){for(;!c.length || f && f.startTime == d;){c.push(f);d=f.startTime;f=X[q++];}k=n(c);if(!f || k <= f.startTime)for((a(d,k),d=k,m=c.length);m--;){c[m].endTime <= d && c.splice(m,1);}else (a(d,f.startTime),d=f.startTime,c.push(f),f=X[q++]);}for(q=b.length;q--;){b[q].index=q;b[q].previous=b[q - 1];b[q].next=b[q + 1];}}catch(lf){D({ka:h.K.EW,Ab:h.Ve(lf)});return;}D({ja:!0,entries:b});}function D(a){setTimeout(function(){S.abort=h.mh;v(a);},1);}S={abort:function(){la && clearTimeout(la);}};try{O=c[m.sj];Y=l.$j / (h.de(O.tickRate) || 1);da=p(O,k);P=h.Hb(Ca,{marginLeft:da.XR,marginTop:da.L7,marginRight:da.XR,marginBottom:da.L7});ea={};ta={};ca={};Ma=c.head;Ga=c.body;ka=sa(O);Ua=1 / ka.y * da.gua;Va=h.Hb({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:b.i5,characterEdgeColor:"#000000",characterSize:1},q,{$x:!0});Qa=r || ({});Na={Zo:0};if(Ma){F=Ma.styling;if(F)for(ua=F.style;ua;){Z=ua[m.sj];E(Z);ea[Z.id]=Z;ua=ua[m.ZB];}L=Ma.layout;if(L)for(var N=L.region;N;){Z=N[m.sj];R=Z.id;Ja=h.wM(ea[Z.style]);Ja=h.Hb(Ja,Z);for(ua=N.style;ua;){h.Hb(Ja,ua[m.sj]);ua=ua[m.ZB];}E(Ja);ta[R]=Ja;ca[R]=I(Ja,da,P,ka,Na);N=N[m.ZB];}}T=Ga.div;V=T.p;X=[];fa={};fa=B(Ga[m.sj],fa,ea,ta,aa);fa=B(T[m.sj],fa,ea,ta,aa);ha={};ha=B(Ga[m.sj],ha,ea,ta,Q);ha=B(T[m.sj],ha,ea,ta,Q);ja=J(fa,Va,Qa,Ua);h.Hb(ja,{windowColor:a(Qa.windowColor || Va.windowColor),windowOpacity:d(h.Y_(Qa.windowOpacity,Va.windowOpacity),b.j5,1),cellResolution:ka},{$x:!0});ga={};T.p=void 0;T[m.lN]=[];}catch(jf){D({ka:h.K.EW,Ab:h.Ve(jf)});return;}ma=f.RG();la=setTimeout(y,1);return S;};})();b.hYa={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};b.gYa={SMALL:.5,MEDIUM:1,LARGE:2};b.j5={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};b.fYa={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};b.dYa="NONE";b.eYa="RAISED";b.cYa="DEPRESED";b.Gpa="UNIFORM";b.i5="DROP_SHADOW";b.aYa={x:40,y:19};b.bYa={x:52,y:19};},function(d,b,a){var c,h,l,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.sua=void 0;c=a(7);h=a(2);l=a(442);m=a(443);f=a(55);b.sua=function(a,b){var k,d;try{k=l.o5a(a);}catch(u){c.log.error("xml2xmlDoc exception",u);}f.Ic(function(){if(k && k.documentElement)try{d=m.p5a(k);}catch(u){c.log.error("xmlDoc2js exception",u);}f.Ic(function(){d?b({ja:!0,object:d}):b({ja:!1,ka:h.K.Nxa});});});};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.G$=b.F$=void 0;b.F$="LogMessageRulerConfigSymbol";b.G$="LogMessageRulerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sX=void 0;b.sX="MilestonesEventBuilderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.fO=void 0;b.fO="NetworkMonitorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.Zka=function(){return this.buffer.length - this.position;};a.prototype.qy=function(){return this.buffer[this.position++];};a.prototype.mj=function(a){var b;b=this.position;this.position+=a;return this.gEb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.gEb=function(a){return void 0 !== a.subarray;};a.prototype.Bp=function(a){for(var b=0;a--;){b=256 * b + this.buffer[this.position++];}return b;};a.prototype.Pqa=function(a){for(var b="";a--;){b+=String.fromCharCode(this.buffer[this.position++]);}return b;};a.prototype.Gg=function(){return this.Bp(2);};a.prototype.Cp=function(){return this.Bp(4);};a.prototype.XL=function(){return this.Bp(8);};a.prototype.jv=function(a){for(var b,c="";a--;){b=this.qy();c+=("0123456789ABCDEF")[b >>> 4] + ("0123456789ABCDEF")[b & 15];}return c;};a.prototype.Qqa=function(a){for(var b=0,c=0;c < a;c++){b+=this.qy() << (c << 3);}return b;};a.prototype.WL=function(){return this.Qqa(4);};a.prototype.V7=function(a){this.buffer[this.position++]=a;};a.prototype.m5a=function(a,b){this.position+=b;for(var c=1;c <= b;c++){this.buffer[this.position - c]=a & 255;a=Math.floor(a / 256);}};a.prototype.pua=function(a){for(var b=a.length,c=0;c < b;c++){this.buffer[this.position++]=a[c];}};a.prototype.kN=function(a,b){this.pua(a.mj(b));};a.prototype.l5a=function(b){b=new a(b);for(var c,d;;){if((c=b.Zka(),d=c >>> 14))(d=Math.min(4,d),this.V7(192 | d),this.kN(b,16384 * d));else {128 > c?this.V7(c):this.m5a(c | 32768,2);this.kN(b,c);break;}}};a.prototype.HZa=function(){var l;for(var b=[],d=new a(b);;){l=this.qy();if(l & 128){if(128 == (l & 192))(l&=63,l=(l << 8) + this.qy(),d.kN(this,l));else if((l&=63,0 < l && 4 >= l)){d.kN(this,16384 * l);continue;}else throw Error("bad asn1");}else d.kN(this,l);break;}return new Uint8Array(b);};return a;})();b.rW=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.OX=void 0;b.OX="PboLicenseResponseTransformerSymbol";},function(d,b,a){var f,k,q,v,r,u;function c(a,b,c,f){this.ta=a;this.x2=b;this.za=c;this.profile=f;}function h(){}function l(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.aCa=b.QX=void 0;d=a(0);f=a(1);k=a(35);q=a(4);v=a(14);r=a(19);a=a(87);m.prototype.encode=function(a){return {downloadableId:a.Jd,duration:a.duration};};m.prototype.decode=function(a){return {Jd:a.downloadableId,duration:a.duration};};l.prototype.encode=function(a){return {total:a.total,totalContentTime:a.xG,audio:a.audio.map(new m().encode),video:a.video.map(new m().encode),text:a.text.map(new m().encode)};};l.prototype.decode=function(a){var b;return {total:a.total,xG:null !== (b=a.totalContentTime) && void 0 !== b?b:a.total,audio:a.audio.map(new m().decode),video:a.video.map(new m().decode),text:a.text.map(new m().decode)};};h.prototype.encode=function(a){return {type:a.type,href:a.href,xid:a.ea,movieId:a.u,position:a.position,clientTime:a.CQ,sessionStartTime:a.zU,mediaId:a.gL,playTimes:new l().encode(a.GT),trackId:a.Ya,sessionId:a.sessionId,appId:a.$P,sessionParams:a.Wn,mdxControllerEsn:a.toa,profileId:a.profileId};};h.prototype.decode=function(a){return {type:a.type,href:a.href,ea:a.xid,u:a.movieId,position:a.position,CQ:a.clientTime,zU:a.sessionStartTime,gL:a.mediaId,GT:new l().decode(a.playTimes),Ya:a.trackId,sessionId:a.sessionId,$P:a.appId,Wn:a.sessionParams,toa:a.mdxControllerEsn,profileId:a.profileId};};b.QX=h;c.prototype.create=function(a){return {href:a.pa && a.pa.hj?a.pa.hj.NR("events").href:"",type:"online",ea:a.ea.toString(),u:a.u,position:Math.floor(a.Rha || 0),CQ:this.ta.z6.ca(q.ga),zU:a.DK?a.DK.ca(q.ga):-1,gL:this.Wxb(a),GT:this.Kzb(a),Ya:void 0 !== a.rj?a.rj.toString():"",sessionId:this.x2().sessionId || this.za.id,$P:this.x2().$P || this.za.id,Wn:a.Wa.Wn || ({}),profileId:this.profile};};c.prototype.Hqb=function(a,b){return Object.assign({},this.create(a),{toa:b && b.h0});};c.prototype.load=function(a){return new h().decode(a);};c.prototype.Wxb=function(a){var b,c,f;b=a.Zc.value;c=a.pg.value;f=a.Oc.value;return b && c && f?(a=a.pa.Fc.media.find(function(a){return a.dh.AUDIO === b.Ya && a.dh.VIDEO === c.Ya && a.dh.fca === f.Ya;}))?a.id:"":"";};c.prototype.Tka=function(a){return a.map(function(a){return {Jd:a.downloadableId,duration:a.duration};});};c.prototype.Kzb=function(a){return (a=a.On)?(a=a.Jzb(),{total:a.total,xG:a.totalContentTime,audio:this.Tka(a.audio),video:this.Tka(a.video),text:this.Tka(a.timedtext)}):{total:0,xG:0,video:[],audio:[],text:[]};};u=c;u=d.__decorate([f.O(),d.__param(0,f.l(k.hh)),d.__param(1,f.l(v.Sc)),d.__param(2,f.l(r.Fd)),d.__param(3,f.l(a.DH))],u);b.aCa=u;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Taa=b.Saa=b.Vaa=void 0;b.Vaa="PboPlaydataValidatorSymbol";b.Saa="PboPlaydataArrayValidatorSymbol";b.Taa="PboPlaydataCollectionValidatorSymbol";},function(d,b,a){var h;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.eW=void 0;h=a(10);c.zha=function(a){var b;if(h.Ke.queryCommandSupported && h.Ke.queryCommandSupported("copy")){b=h.Ke.createElement("textarea");b.textContent=a;b.style.position="fixed";h.Ke.body.appendChild(b);b.select();try{h.Ke.execCommand("copy");}catch(f){console.warn("Copy to clipboard failed.",f);}finally{h.Ke.body.removeChild(b);}}};b.eW=c;},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.J$=void 0;b.J$=a;a.R7a="display";a.f7a="console";a.i2b="remote";a.E3b="writer";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.CS=void 0;b.CS=function(a,b,d){var c;if(d.set)throw Error("Property " + b + " has a setter and cannot be made into a lazy property.");c=d.get;d.get=function(){var m,f;m=c.apply(this,arguments);f={enumerable:d.enumerable,value:m};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,b,f):Object.defineProperty(this,b,f);return m;};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aba=b.CH=void 0;d=b.CH || (b.CH={});d.wUb="taskstart";d.uUb="taskabort";d.vUb="taskfail";d.xUb="tasksuccess";b.Aba="PreparerTaskSchedulerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zba=b.wba=b.xba=b.yba=b.UX=void 0;b.UX="PreparerManifestFetcherSymbol";b.yba="PreparerLicenseFetcherSymbol";b.xba="PreparerLegacyLicenseFetcherSymbol";b.wba="PreparerHeadersFetcherSymbol";b.zba="PreparerMediaFetcherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.l8=b.k8=void 0;b.k8="AsePrefetcherAdapterSymbol";b.l8="AsePrefetcherProviderSymbol";},function(d,b,a){var c,h,l,m,f,k,q,v,r,u,B;Object.defineProperty(b,"__esModule",{value:!0});b.jG=void 0;c=a(11);h=a(12);l=a(58);m=a(49);f=a(2);k=a(18);q=a(7);v=a(23);r=a(10);u=a(189);B=a(15);d=a(29);q.ha.get(d.qg).register(f.L.Lya,function(a){var A,D,U;function d(){var a;d=c.mh;a=setInterval(g,h.config.NFb);l.Xe.addListener(l.wm,function(b){b && b.isPopStateEvent?A.trace("popstate event, Lock timers can stay"):(v.Rd(D,function(a,b){localStorage.removeItem(b.Fq);}),clearInterval(a));},c.HC);}function g(){var a;a=m.X_();v.Rd(D,function(b,c){!1;b=localStorage.getItem(c.Fq);(b=JSON.parse(b))?b.updated=a:b={updated:a,sessionId:U,count:1};localStorage.setItem(c.Fq,JSON.stringify(b));});}k.fb(u.storage);A=q.Bh("StorageLock");D={};U=Date.now() + "-" + Math.floor(1E6 * Math.random());b.jG={zw:function(a,b,k){var l,u,g,y,I,J,S,O,n,Y;function q(a){localStorage.setItem(g,JSON.stringify(a));a={Fq:g};D[g]=a;A.trace("Lock acquired",{Name:a.Fq});d();b({ja:!0,V3:a});}k=void 0 === k?!1:k;l=this;if(localStorage){u=m.X_();g="lock-" + a;y={updated:u,sessionId:U,count:1};try{if((g in localStorage)){I=localStorage.getItem(g);J=0;S=JSON.parse(I);B.Fx(S.updated) && (J=S.updated);O=r.xC(u - J) * c.$j;n=U === S.sessionId;if(O < h.config.KUa){if(n)(S.count+=1,A.debug("Incremented lock count for existing playbackSession",{id:U,count:S.count}),S.updated=u,q(S));else if(k){Y=h.config.KUa - O + c.$j;A.error("Waiting until current expiration to confirm whether lock is still active",{id:U,count:S.count,Epoch:u,LockEpoch:J,waitTimeoutMs:Y});ja.setTimeout(function(){return l.zw(a,b,!1);},Y);}else b({ja:!1});}else (A.error("Lock was expired or invalid, ignoring",{Epoch:u,LockEpoch:J}),q(y));}else q(y);}catch(ua){A.error("Error acquiring Lock",{errorSubCode:f.K.ii,errorDetails:v.Ve(ua)});b({ja:!0});}}else (r.Fna?A.error("Local storage access exception",{errorSubCode:f.K.tcb,errorDetails:v.Ve(r.Fna)}):A.error("No localstorage",{errorSubCode:f.K.ucb}),b({ja:!0}));},release:function(a,b){var f,d;k.fb(D[a.Fq] == a);if(localStorage){try{f=localStorage.getItem(a.Fq);d=JSON.parse(f);1 < d.count?(--d.count,localStorage.setItem(a.Fq,JSON.stringify(d)),A.trace("Lock count decremented",{Name:a.Fq,count:d.count})):(localStorage.removeItem(a.Fq),delete D[a.Fq],A.trace("Lock released",{Name:a.Fq}));}catch(da){A.error("Unable to release Lock",{Name:a.Fq},da);}b && b(c.ke);}}};h.config.b1?b.jG.zw("session",function(f){b.jG.V0a=f;a(c.ke);}):a(c.ke);});},function(d,b,a){var m,f,k,q,v,r,u,B,g,y,I,J,D,U;function c(a,b){var g;function c(b){return m.i_a(a,b);}function d(){var a,b,f,d;b=r.Bh("Eme");f=r.ha.get(v.Lt);f.Fv && f.Ev || (a=r.ha.get(D.nO)(),f.Fv=a.Fb,f.Ev=a.request);a=new f.Ev(b,void 0,c,{zm:!1,sS:!1});d=r.ha.get(B.RC);return f.Fv(b,"cenc",void 0,{zm:!1,sS:!1,NTa:k.config.Il,y0a:{ZVa:k.config.EQb,nLa:k.config.Sra,K9b:k.config.DQb},AB:a,sZa:k.config.Fqa,HG:k.config.Nia,u8b:k.config.FQb,ZJa:d.KQ([]),P4a:d.PQ([]),BK:k.config.BK});}function q(){function a(a,b){var f,q;f=r.ha.get(U.wW);if(!b.qc || 0 === b.qc.length || !b.qc[0].UA)return (g.error("releaseDrmSession exception: missing valid keySessionData"),h(a,b));if(0 < b.qc.length){g.info("Sending the deferred playdata and secure stop data");q=d();return q.create(k.config.De).then(function(){return q.o5b(b);}).then(function(c){g.info("Sent the deferred playdata and secure stop data");f.w6(c,b);return h(a,b);})["catch"](function(c){c && c.code === u.L.fcb && h(a,b);c && c.code === u.L.ecb && h(a,b);g.error("Unable to send last stop",c);f.w6(c,b);throw c;});}g.info("No key session so just send the playdata");return c(b).then(function(){g.trace("Successfully sent stop command for previous session");return h(a,b);})["catch"](function(a){g.error("Unable to send stop command for previous session",a);throw a;});}l(g).then(function(c){var k;k=c.S0.filter(function(a){return !1 === a.active;}).map(function(b){return a(c,b);});Promise.all(k).then(function(){g.info("release drm session completed for " + k.length + " entries");b(f.ke);})["catch"](function(a){a=a || ({});a.DrmCacheSize=k.length;g.error("Unable to release one or more DRM session data",a);b(f.ke);});})["catch"](function(a){g.error("Unable to load DRM session data",a);b(f.ke);});}g=r.Bh("PlayDataManager");b=b || f.mh;k.config.Kp?b(f.ke):q();}function h(a,b){return a?a.fra(b):Promise.resolve();}function l(a){var c;if(!b.Eia){c=r.ha.get(g.cW);b.Eia=new Promise(function(b,f){c.LZa().then(function(){b(c);})["catch"](function(b){a.error("Unable to load DRM data for persistent secure stop",b);f(b);});});}return b.Eia;}Object.defineProperty(b,"__esModule",{value:!0});b.mCa=b.lCa=b.Eia=void 0;m=a(277);f=a(11);k=a(12);q=a(58);v=a(31);r=a(7);u=a(2);B=a(117);g=a(197);y=a(184);I=a(13);J=a(51);d=a(29);D=a(194);U=a(198);b.lCa=function(a){var m,u,B,g,A,S;function b(){u || (a.vd("pdsb"),u=r.ha.get(y.kO)().then(function(b){g=b;a.vd("pdsc");return b;})["catch"](function(b){m.error("Unable to initialize the playdata services",b);a.vd("pdse");throw b;}));return u;}function d(){B=!0;g && g.close();q.Xe.removeListener(q.wm,d);}m=r.Ch(a,"PlayDataManager");B=!1;A=r.ha.get(v.Lt);if(!A.Fv || !A.Ev){S=r.ha.get(D.nO)();A.Fv=S.Fb;A.Ev=S.request;}a.vd("pdctor");a.addEventListener(I.V.Qf,function(){q.Xe.removeListener(q.wm,d);});a.addEventListener(I.V.YK,function(){var b;if(!k.config.Kp && a.pe){b=a.HQ.DMa();l(m).then(function(a){return a.MIa(b);})["catch"](function(){m.error("Unable to load/add cached DRM data");});}});a.addEventListener(I.V.Qf,function(){var c;if(!B){a.IXb();c=[(function(){return k.config.Kp || !a.pe?Promise.resolve():new Promise(function(b){var c;m.info("Sending the expedited playdata and secure stop data");c=a.HQ.DMa();a.pe.P5b(c).then(function(b){m.info("Sent the expedited playdata and secure stop data");k.config.Il && a.Hq.o6({success:b.ja,persisted:!1,ss_km:b.uHb,ss_sr:b.A6,ss_ka:b.cob});return l(m);}).then(function(a){return h(a,c);}).then(function(){b(void 0);})["catch"](function(c){m.error("Unable to send the expedited playdata and secure stop data",c);k.config.Il && a.Hq.o6({success:c.ja,state:c.state,ErrorCode:c.code,ErrorSubCode:c.wd,ErrorExternalCode:c.Vg,ErrorEdgeCode:c.QJ,ErrorDetails:c.cause && c.cause.Ab});b(void 0);});});})(),(function(){return b().then(function(b){return b.i2a(a.ia);}).then(function(){m.info("Sent the playdata");})["catch"](function(a){m.error("Unable to send the playdata",a);});})(),(function(){return new Promise(function(a){r.ha.get(J.Tm).flush(!1)["catch"](function(){m.error("Unable to send logblob");a(void 0);}).then(function(){a(void 0);});});})()];Promise.all(c).then(function(){a.T4();})["catch"](function(){a.T4();});}});q.Xe.addListener(q.wm,d);return {VQb:function(d){a.vd("pdpb");k.config.v6 || b().then(function(b){return b.send(a.u);}).then(function(){k.config.Kp?(a.vd("pdpc"),d(f.ke)):c(a,function(){a.vd("pdpc");d(f.ke);});})["catch"](function(){a.vd("pdpe");d(f.ke);});}};};b.mCa=function(){return new Promise(function(a){c({},function(b){a(b);});});};r.ha.get(d.qg).register(u.L.Ty,function(a){a(f.ke);});},function(d,b,a){var l,m,f,k,q,v,r,u,B,g,y,I,J,D,U,S;function c(a){var b;b=this;this.j=a;this.jKa=this.BUa=!1;this.log=k.Ch(this.j,"Playback");this.XK=k.ha.get(g.hH);this.Hh=k.ha.get(J.ur);this.kc=k.ha.get(D.Yv);this.jLb=k.ha.get(U.MX);this.j.addEventListener(I.V.YK,function(){return b.IWb();});q.fb(m.config);m.config.Kp || (this.Ctb=k.ha.get(v.k9));}function h(a,b){var f;function c(a){return a && 0 < a.length && a[0].UA;}f=k.ha.get(g.hH);return a.ea && c(a.qc)?f.release(Object.assign(Object.assign({},b),{ea:a.ea,qc:a.qc})):b.ea && c(b.qc)?f.release(b):Promise.resolve(l.ke);}Object.defineProperty(b,"__esModule",{value:!0});b.i_a=b.qwa=void 0;l=a(11);m=a(12);f=a(49);k=a(7);q=a(18);v=a(297);r=a(2);u=a(78);B=a(15);g=a(183);y=a(184);I=a(13);J=a(66);D=a(99);U=a(278);S=a(31);c.prototype.mQ=function(a){var b;b=this;q.EJ(this.j.u);q.EJ(this.j.rj);Promise.all([this.j.pa,m.config.Ms && this.kc.ZR(this.j.u,"manifest")?this.kc.yq(this.j.u,"manifest")["catch"](function(){}):void 0]).then(function(a){var c,k;c=N(a);a=c.next().value;c=c.next().value;a && c?k=m.config.xMb || c.Fc.qR > a.Fc.qR?c:a:a?k=a:c && (k=c);k && 18E5 > k.Fc.qR - f.Zga() && (k=void 0);return k?(b.j.Tz=k === a?"ui":"videopreparer",k):b.j.K0a();}).then(function(c){try{b.j.pZa(c);a(l.ke);b.cwb();}catch(da){b.log.error("Exception processing authorization response",da);a({ja:!1,ka:r.K.Ebb});}})["catch"](a);};c.prototype.Dka=function(a){var b;b=this;return new Promise(function(c,f){var d,q,m;d=u.Gv.uMa(a.gj);q=a.aj.map(function(a){return {sessionId:a.sessionId,dataBase64:k.Mz(a.data)};});m=b.j.Mzb(a.aj[0].sessionId);d={vi:m.vi,gj:B.is.jn(a.gj)?a.gj:d,R0:[m.ol],aj:q,ea:m.ea,nu:a.nu,hj:m.pa.hj};b.j.IQ && b.j.IQ.h0 && (d.VS=b.j.IQ.h0);b.XK.zw(d).then(function(a){b.j.qc=a.qc;c(a);b.dwb(m);})["catch"](f);});};c.prototype.release=function(a){return h(this.j,a);};c.prototype.DMa=function(){var a;a=this.Ctb.create();this.j.pe && (a.De=this.j.pe.rx());a.qc=this.j.qc;a.ea=this.j.ea;a.u=this.j.u;return a;};c.prototype.dwb=function(a){this.BUa || (this.BUa=!0,this.j.fireEvent(I.V.YK,{u:a.u}));};c.prototype.cwb=function(){var a;a=this;this.jKa || (this.jKa=!0,this.j.fireEvent(I.V.elb),k.ha.get(y.kO)().then(function(b){b.iG(a.j);}));};c.prototype.IWb=function(){var a,b;a=this;b=k.ha.get(S.vj);this.Hh.w3 || c.s4a || (c.s4a=!0,b.fXb && m.config.HWb && this.jLb.Pe(this.log,{}).then(function(){return a.log.trace("Updated NetflixId");})["catch"](function(b){return a.log.error("NetflixId upgrade failed",r.nr(b));}));};b.qwa=c;c.s4a=!1;b.i_a=h;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.MX=void 0;b.MX="PboBindCommandSymbol";},function(d,b,a){var h,l,m,f,k,q,v,r,u,B,g,y;function c(a,b,c,d,q){var r,u;r=this;this.j=a;this.type=b;this.KFa=d;this.log=q;this.kZ=new f.Cc(!1);this.cD={data:[],state:"",operation:""};this.kL=this.YOa((this.type === h.Ac.Ua.VIDEO?this.j.pg.value:this.j.Zc.value).yc);this.zr=new k.tj();this.Wda={Type:this.type};m.config.VA && (u=!0,this.Dja=new f.Cc(!1));this.log.trace("Adding source buffer",this.Wda,{TypeId:this.kL});this.Pc=c.addSourceBuffer(this.kL);this.Pc.addEventListener("updatestart",function(){!1;r.cD.state="updatestart";});this.Pc.addEventListener("update",function(){!1;r.cD.state="update";});this.Pc.addEventListener("updateend",function(){var a;!1;r.kZ.set(!1);r.UFa && r.UFa();r.cD.state="updateend";a=0;try{a=r.Pc.buffered.length;}catch(da){}u && a && (u=!1,r.Dja.set(!0),!1);});this.Pc.addEventListener("error",function(b){var c;!1;try{c=b.target.error && b.target.error.message;(b.message || c) && q.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(sa){}a.ed(v.L.ybb,l.Z1(r.type));});this.Pc.addEventListener("abort",function(){!1;});a.addEventListener(B.V.closed,function(){r.Pc=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Z$=void 0;h=a(48);l=a(169);m=a(12);f=a(150);k=a(68);q=a(7);a(92);v=a(2);a(4);r=a(18);u=a(15);B=a(13);g=a(117);y=a(187);c.prototype.$h=function(){return this.kZ.value;};c.prototype.updating=function(){return this.Pc?this.Pc.updating:!1;};c.prototype.C6=function(a){this.UFa=a;};c.prototype.V1=function(){return this.cD;};c.prototype.buffered=function(){return this.Pc.buffered;};c.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};c.prototype.toJSON=function(){return {type:this.type};};c.prototype.T1=function(){var a,b,c,f,k,d,q;try{a=this.Pc.buffered;k=0;if(a)for((b=[],c=0,f=a.length,c=0);c < f;c++){d=a.start(c);q=a.end(c);k=k + (q - d);r.fb(q > d);b.push(d + "-" + q);}if(b)return {Buffered:k.toFixed(3),Ranges:b.join("|")};}catch(E){}};c.prototype.zJa=function(a,b){!1;try{r.fb(this.Pc.buffered && 1 >= this.Pc.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.T1()));}catch(D){}r.fb(!this.$h());this.z1a("append",a);b=b && b.Qn / 1E3;u.qa(b) && this.Pc.timestampOffset !== b && (!1,this.Pc.timestampOffset=b);this.Pc.appendBuffer(a);!1;this.kZ.set(!0);};c.prototype.remove=function(a,b){r.fb(!this.$h());try{this.z1a("remove");!1;this.Pc.remove(a,b);this.kZ.set(!0);}catch(D){this.log.error("SourceBuffer remove exception",D,this.Wda);}};c.prototype.z1a=function(a,b){this.cD.data=b || [];this.cD.state="init";this.cD.operation=a;};c.prototype.TRb=function(a,b){this.UEb=Math.floor(1E3 * a / b);};c.prototype.$mb=function(a){var b;if(this.Pc){if((a=this.YOa([{type:this.xob,yg:a}]),a !== this.kL)){b=this.kL;this.log.info("Changing SourceBuffer mime-type from: " + this.kL + " to: " + a);try{if(this.Pc.changeType)(this.Pc.changeType(a),this.kL=a);else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(D){throw (this.log.error("Error changing SourceBuffer type",D,this.Wda,{From:b,To:a}),D);}}}else this.log.info("No SourceBuffer");};c.prototype.appendBuffer=function(a,b){!b || b.wc?this.zfa(a,b):this.s_(a,b);return !0;};c.prototype.zfa=function(a,b){this.j.Wf.zfa(this,a,b || ({}));};c.prototype.s_=function(a,b){a=this.rob(a,b);!1;this.j.Wf.s_(a);};c.prototype.rob=function(a,b){var c;c=this.UEb || 0;return {BLa:function(){this.response=void 0;},Dk:function(){return this.requestId;},constructor:{name:"MediaRequest"},I:this.I,readyState:y.Sb.mc.DONE,py:b.X,fv:b.X + b.duration,ix:b.duration,Qn:c,Wh:b.Wh,va:b.va,Da:b.Da,Zb:+b.Zb,location:b.location,kJ:b.offset,jJ:b.offset + b.ba - 1,U:b.U,response:a,tSa:a && 0 < a.byteLength,RA:!0,get wc() {return !this.RA;},B0a:this.Ti - c || Infinity,toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.va,isHeader:this.wc,ptsStart:this.py,ptsOffset:this.Qn,responseType:this.a4b,duration:this.ix,readystate:this.Ng};this.stream && (a.bitrate=this.stream.U);return JSON.stringify(a);}};};c.prototype.endOfStream=function(){var a;this.j.fq("EndOfStream");null === (a=this.j.Wf) || void 0 === a?void 0:a.U4(this.I);};c.prototype.addEventListener=function(a,b,c){this.zr.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.zr.removeListener(a,b);};c.prototype.YOa=function(a){var b;b=q.ha.get(g.RC);return this.type === h.Ac.Ua.VIDEO?b.PQ(a):b.KQ(a);};ma.Object.defineProperties(c.prototype,{I:{configurable:!0,enumerable:!0,get:function(){return this.type;}},I_:{configurable:!0,enumerable:!0,get:function(){return this.KFa.I_;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.KFa.sourceId;}},xob:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.Z$=c;},function(d,b,a){var c,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.VMa=b.Xna=void 0;c=a(18);h=a(23);l=a(15);(function(){var f,k,d;function a(a){c.fb(void 0 !== f[a]);return f[a];}f={'"':'""',"\r":"","\n":" "};k=/["\r\n]/g;d=/[", ]/;b.VMa=function(b){return l.ic(b)?l.qa(b)?b:l.te(b)?b.replace(k,a):l.Fma(b)?b:isNaN(b)?"NaN":"":"";};b.Xna=function(a){var c,f;c=b.VMa;f="";h.Rd(a,function(a,b){a=c(a) + "=" + c(b);d.test(a) && (a='"' + a + '"');f=f?f + ("," + a):a;});return f;};})();},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pi=void 0;d=b.Pi || (b.Pi={});d[d.T1a=1]="sourceopen";d[d.oq=2]="currentTimeChanged";d[d.tU=3]="seeked";d[d.Q7b=4]="needlicense";d[d.AUa=5]="licenseadded";d[d.S1a=6]="sourceBuffersAdded";d[d.zpa=7]="onNeedKey";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tp=void 0;d=b.Tp || (b.Tp={});d[d.aBa=0]="None";d[d.Sxa=1]="Fetching";d[d.h9=2]="Done";d[d.Error=3]="Error";},function(d){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Zka:function(){return this.buffer.length - this.position;},qy:function(){return this.buffer[this.position++];},mj:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},Bp:function(a){for(var b=0;a--;){b=256 * b + this.buffer[this.position++];}return b;},Pqa:function(a){for(var b="";a--;){b+=String.fromCharCode(this.buffer[this.position++]);}return b;},Gg:function(){return this.Bp(2);},Cp:function(){return this.Bp(4);},XL:function(){return this.Bp(8);},jv:function(a){for(var b,d="";a--;){b=this.qy();d+=("0123456789ABCDEF")[b >>> 4] + ("0123456789ABCDEF")[b & 15];}return d;},Qqa:function(a){for(var b=0,d=0;d < a;d++){b+=this.qy() << (d << 3);}return b;},WL:function(){return this.Qqa(4);},V7:function(a){this.buffer[this.position++]=a;},m5a:function(a,b){this.position+=b;for(var c=1;c <= b;c++){this.buffer[this.position - c]=a & 255;a=Math.floor(a / 256);}},pua:function(a){for(var b=a.length,d=0;d < b;d++){this.buffer[this.position++]=a[d];}},kN:function(a,b){this.pua(a.mj(b));}};d.exports=b;},function(d,b,a){b=a(429);d.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.aa:Date.now;},function(d){d.exports={Cv:{gca:0,GDa:1,ak:2,name:["transient","semiTransient","permanent"]},zv:{Mxa:0,EDa:1,dY:2,iO:3,Rv:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},A3b:{p3b:0,q0b:1,eZb:2,Rv:100,name:["trailer","montage","content"]},Gt:{nza:0,oDa:1,Zcb:2,p8a:3,Rv:100,name:["left","right","up","down"]},aO:{k7a:0,dY:1,F_b:2,b_b:3,xYb:4,E_b:5,g6a:6,Rv:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},fH:{iO:0,zwa:1,Rv:100,name:["playFocused","detailsOpened"]}};},function(d,b,a){var c,h,l,m,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.ae=void 0;d=a(1);c=a(87);h=a(563);l=a(195);m=a(571);f=a(579);k=a(653);a=a(1195);b.ae=new d.gW({fG:!0});k.EUa(b.ae);b.ae.load(h.platform);b.ae.load(m.config);l.SJ.load(f.iOa);b.ae.load(a.wJa);b.ae.load(a.profile);b.ae.bind(c.l$).gi(b.ae);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);d=(function(){function a(){}a.prototype.lQa=function(a){var b;b=Reflect.getMetadata(c.vaa,a);a=Reflect.getMetadata(c.BEa,a);return {XLa:b,cXb:a || ({})};};a.prototype.Tzb=function(a){return Reflect.getMetadata(c.CEa,a) || [];};return a;})();b.gaa=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);b.PTa=function(a){return a instanceof RangeError || a.message === c.pcb;};},function(d,b,a){var c,h,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);h=a(39);l=a(59);m=a(86);d=(function(){function a(a){this.Ydb=a;}a.prototype.$Vb=function(){return this.Ydb();};return a;})();b.w$=d;b.l=function(a){return function(b,f,d){var k;if(void 0 === a)throw Error(c.Wcb(b.name));k=new l.Metadata(h.ZN,a);"number" === typeof d?m.oG(b,f,d,k):m.gV(b,f,k);};};},function(d,b,a){var c,h,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);h=a(101);l=a(59);m=a(544);d=(function(){function a(a,b,f,d){this.id=h.id();this.type=a;this.Ff=f;this.name=new m.Mbb(b || "");this.Td=[];a=null;"string" === typeof d?a=new l.Metadata(c.$y,d):d instanceof l.Metadata && (a=d);null !== a && this.Td.push(a);}a.prototype.xSa=function(a){for(var b=0,c=this.Td;b < c.length;b++){if(c[b].key === a)return !0;}return !1;};a.prototype.isArray=function(){return this.xSa(c.wC);};a.prototype.FGb=function(a){return this.goa(c.wC)(a);};a.prototype.Nma=function(){return this.xSa(c.$y);};a.prototype.Wma=function(){return this.Td.some(function(a){return a.key !== c.ZN && a.key !== c.wC && a.key !== c.xX && a.key !== c.AO && a.key !== c.$y;});};a.prototype.JTa=function(){return this.goa(c.hBa)(!0);};a.prototype.rzb=function(){return this.Nma()?this.Td.filter(function(a){return a.key === c.$y;})[0]:null;};a.prototype.Yxb=function(){return this.Wma()?this.Td.filter(function(a){return a.key !== c.ZN && a.key !== c.wC && a.key !== c.xX && a.key !== c.AO && a.key !== c.$y;}):null;};a.prototype.goa=function(a){var b;b=this;return function(c){var d;for(var f=0,k=b.Td;f < k.length;f++){d=k[f];if(d.key === a && d.value === c)return !0;}return !1;};};return a;})();b.qY=d;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(192);h=a(193);d=(function(){function a(a){this.Xb=a;this.MO=new h.u8(this.Xb);this.Rca=new c.$V(this.Xb);}a.prototype.when=function(a){return this.MO.when(a);};a.prototype.MV=function(){return this.MO.MV();};a.prototype.Xu=function(a){return this.Rca.Xu(a);};return a;})();b.hC=d;},function(d,b,a){var l;function c(a){return function(b){function c(c){return null !== c && null !== c.target && c.target.goa(a)(b);}c.$Va=new l.Metadata(a,b);return c;};}function h(a,b){a=a.cy;return null !== a?b(a)?!0:h(a,b):!1;}Object.defineProperty(b,"__esModule",{value:!0});d=a(39);l=a(59);b.I3a=h;b.M2a=c;b.DWa=c(d.$y);b.O3a=function(a){return function(b){var c;return null !== b?(c=b.pQ[0],"string" === typeof a?c.Ff === a:a === b.pQ[0].ul):!1;};};},function(d,b,a){var l;function c(a,b){this.Gf=b;this.Nx=Math.floor(a);this.display=this.Nx + " " + this.Gf.name;}function h(a,b,c){this.Gf=a;this.name=b;this.Mo=c?c:this;l.In(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.pr=b.BO=void 0;l=a(53);h.prototype.oR=function(a){return this.Gf == a.Gf;};h.prototype.toJSON=function(){return this.name;};b.BO=h;c.prototype.ca=function(a){return this.Gf.oR(a)?this.Nx:Math.floor(this.Nx * this.Gf.Gf / a.Gf);};c.prototype.$Ya=function(a){return this.Gf.oR(a)?this.Nx:this.Nx * this.Gf.Gf / a.Gf;};c.prototype.to=function(a){return new c(this.ca(a),a);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.Nx,units:this.Gf.name};};c.prototype.add=function(a){return this.SLa(a);};c.prototype.Fa=function(a){return this.SLa(a,function(a){return -a;});};c.prototype.scale=function(a){return new c(this.ca(this.Gf.Mo) * a,this.Gf.Mo);};c.prototype.tk=function(a){return this.ca(this.Gf.Mo) - a.ca(this.Gf.Mo);};c.prototype.oR=function(a){return 0 == this.tk(a);};c.prototype.XTa=function(){return 0 == this.Nx;};c.prototype.Oma=function(){return 0 > this.Nx;};c.prototype.TDb=function(){return 0 < this.Nx;};c.prototype.SLa=function(a,b){b=void 0 === b?function(a){return a;}:b;return new c(this.ca(this.Gf.Mo) + b(a.ca(this.Gf.Mo)),this.Gf.Mo);};b.pr=c;},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.qN=void 0;b.qN=a;a.Fbb="PSK";a.R$a="MGK";a.p0b="MGK_WITH_FALLBACK";a.o0b="MGK_JWE";a.d0b="JWEJS_RSA";a.iza="JWK_RSA";a.e0b="JWK_RSAES";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uN=void 0;b.uN="BrowserInfoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.aba=void 0;b.aba="PlatformConfigOverridesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.k9=void 0;b.k9="DrmDataFactorySymbol";},function(d,b,a){var h,l;function c(a,b,c,d,l){this.version=a;this.KL=b;this.o2a=c;this.Vk=d;this.tv=l;this.ju=[];}Object.defineProperty(b,"__esModule",{value:!0});b.j$=void 0;h=a(2);l=a(40);c.prototype.load=function(a){return this.wFb(a);};c.prototype.add=function(a){this.ju.push(a);return this.Spa();};c.prototype.remove=function(a,b){a=this.fQa(this.yq(a,b));return 0 <= a?(this.ju.splice(a,1),this.Spa()):Promise.resolve();};c.prototype.update=function(a,b){b=this.fQa(this.yq(a,b));return 0 <= b?(this.ju[b]=a,this.Spa()):Promise.resolve();};c.prototype.wFb=function(a){var b;b=this;this.FUa || (this.FUa=new Promise(function(c,f){function k(a){b.qsb().then(function(){f(a);})["catch"](function(){f(a);});}b.ila().then(function(a){b.storage=a;return b.storage.load(b.KL);}).then(function(f){var d;f=f.value;try{d=a(f);b.version=d.version;b.ju=d.data;c();}catch(B){k(B);}})["catch"](function(a){a.ka !== h.K.bz?f(a):c();});}));return this.FUa;};c.prototype.Spa=function(){var a,b,c,d,l;a=this;if(!this.o2a)return Promise.resolve();if(this.V6){d=new Promise(function(a,f){b=a;c=f;});l=function(){a.V6=d;a.n2a().then(function(){b();})["catch"](function(a){c(a);});};this.V6.then(l)["catch"](l);return d;}return this.V6=this.n2a();};c.prototype.n2a=function(){var a,b;a=this;b=this.tv();return new Promise(function(f,d){a.ila().then(function(c){return c.save(a.KL,b,!1);}).then(function(){f();})["catch"](function(a){d(c.$Ub(h.L.gbb,a));});});};c.prototype.qsb=function(){var a;a=this;return this.o2a?new Promise(function(b,c){a.ila().then(function(b){return b.remove(a.KL);}).then(function(){b();})["catch"](function(a){c(a);});}):Promise.resolve();};c.prototype.ila=function(){return this.storage?Promise.resolve(this.storage):this.Vk.create();};c.prototype.yq=function(a,b){for(var c=0;c < this.ju.length;++c){if(b(this.ju[c],a))return this.ju[c];}};c.prototype.fQa=function(a){return a?this.ju.indexOf(a):-1;};c.$Ub=function(a,b){var c;if(b.ka && b.cause)return new l.Bc(a,b.ka,void 0,void 0,void 0,void 0,void 0,b.cause);if(void 0 !== b.wd){c=(b.message?b.message + " ":"") + "";b.code=a;b.message="" === c?void 0:c;return b;}return b instanceof Error?new l.Bc(a,h.K.ii,void 0,void 0,void 0,void 0,b.stack,b):new l.Bc(a,h.K.Wl,void 0,void 0,void 0,void 0,void 0,b);};b.j$=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.XX=void 0;b.XX="QueryStringDataProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oaa=void 0;b.oaa="NetworkMonitorConfigSymbol";},function(d,b){b.vc=function(a){return "function" === typeof a;};},function(d,b){b.zf=function(a){return null != a && "object" === typeof a;};},function(d,b){b.oA={e:{}};},function(d,b,a){var c,h,l,m,f,k,q,v;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});h=a(24);d=a(64);l=a(115);m=a(305);f=a(306);k=a(200);q=(function(a){function b(b){a.call(this,b);this.destination=b;}c(b,a);return b;})(d.qo);b.l3b=q;a=(function(a){function b(){a.call(this);this.Yx=[];this.aS=this.Xg=this.closed=!1;this.nta=null;}c(b,a);b.prototype[k.UF]=function(){return new q(this);};b.prototype.zs=function(a){var b;b=new v(this,this);b.EXa=a;return b;};b.prototype.next=function(a){if(this.closed)throw new m.tH();if(!this.Xg)for(var b=this.Yx,c=b.length,b=b.slice(),f=0;f < c;f++){b[f].next(a);}};b.prototype.error=function(a){if(this.closed)throw new m.tH();this.aS=!0;this.nta=a;this.Xg=!0;for(var b=this.Yx,c=b.length,b=b.slice(),f=0;f < c;f++){b[f].error(a);}this.Yx.length=0;};b.prototype.complete=function(){if(this.closed)throw new m.tH();this.Xg=!0;for(var a=this.Yx,b=a.length,a=a.slice(),c=0;c < b;c++){a[c].complete();}this.Yx.length=0;};b.prototype.unsubscribe=function(){this.closed=this.Xg=!0;this.Yx=null;};b.prototype.Mea=function(b){if(this.closed)throw new m.tH();return a.prototype.Mea.call(this,b);};b.prototype.gn=function(a){if(this.closed)throw new m.tH();if(this.aS)return (a.error(this.nta),l.dz.EMPTY);if(this.Xg)return (a.complete(),l.dz.EMPTY);this.Yx.push(a);return new f.yEa(this,a);};b.prototype.Gfa=function(){var a;a=new h.Eb();a.source=this;return a;};b.create=function(a,b){return new v(a,b);};return b;})(h.Eb);b.po=a;v=(function(a){function b(b,c){a.call(this);this.destination=b;this.source=c;}c(b,a);b.prototype.next=function(a){var b;b=this.destination;b && b.next && b.next(a);};b.prototype.error=function(a){var b;b=this.destination;b && b.error && this.destination.error(a);};b.prototype.complete=function(){var a;a=this.destination;a && a.complete && this.destination.complete();};b.prototype.gn=function(a){return this.source?this.source.subscribe(a):l.dz.EMPTY;};return b;})(a);b.sYb=v;},function(d,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(b){function c(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.tH=d;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b,c){a.call(this);this.WU=b;this.Vj=c;this.closed=!1;}c(b,a);b.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.WU;b=a.Yx;this.WU=null;!b || 0 === b.length || a.Xg || a.closed || (a=b.indexOf(this.Vj),-1 !== a && b.splice(a,1));}};return b;})(a(115).dz);b.yEa=d;},function(d,b,a){var c,h;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var k in b){b.hasOwnProperty(k) && (a[k]=b[k]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});h=a(89);d=(function(a){function b(b,c){a.call(this,b,c);this.Ea=b;this.Fm=!1;this.oua=c;}c(b,a);b.prototype.bd=function(a,b){var c;void 0 === b && (b=0);if(this.closed)return this;this.state=a;this.Fm=!0;a=this.id;c=this.Ea;null != a && (this.id=this.Zqa(a,b));this.om=b;this.id=this.id || this.mra(c,this.id,b);return this;};b.prototype.mra=function(a,b,c){void 0 === c && (c=0);return h.root.setInterval(a.flush.bind(a,this),c);};b.prototype.Zqa=function(a,b){void 0 === b && (b=0);return null !== b && this.om === b && !1 === this.Fm?a:(h.root.clearInterval(a),void 0);};b.prototype.Pe=function(a){if(this.closed)return Error("executing a cancelled action");this.Fm=!1;if(a=this.qGa(a))return a;!1 === this.Fm && null != this.id && (this.id=this.Zqa(this.id,null));};b.prototype.qGa=function(a){var b,c;b=!1;c=void 0;try{this.oua(a);}catch(v){b=!0;c=! !v && v || Error(v);}if(b)return (this.unsubscribe(),c);};b.prototype.Oea=function(){var a,b,c;a=this.id;b=this.Ea.Io;c=b.indexOf(this);this.state=this.oua=null;this.Fm=!1;this.Ea=null;-1 !== c && b.splice(c,1);null != a && (this.id=this.Zqa(a,null));this.om=null;};return b;})(a(589).X5a);b.kva=d;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(){a.apply(this,arguments);this.Io=[];this.active=!1;}c(b,a);b.prototype.flush=function(a){var b,c;b=this.Io;if(this.active)b.push(a);else {this.active=!0;do {if(c=a.Pe(a.state,a.om))break;}while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();){a.unsubscribe();}throw c;}}};return b;})(a(591).zcb);b.nva=d;},function(d,b,a){var c,h,l,m,f;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(64);h=a(592);b.d8b=function(a,b){void 0 === b && (b=0);return function(c){return c.zs(new l(a,b));};};l=(function(){function a(a,b){void 0 === b && (b=0);this.Ea=a;this.om=b;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.Ea,this.om));};return a;})();b.t1b=l;m=(function(a){function b(b,c,f){void 0 === f && (f=0);a.call(this,b);this.Ea=c;this.om=f;}c(b,a);b.Ic=function(a){a.notification.observe(a.destination);this.unsubscribe();};b.prototype.Mra=function(a){this.add(this.Ea.bd(b.Ic,this.om,new f(a,this.destination)));};b.prototype.cm=function(a){this.Mra(h.Notification.Yqb(a));};b.prototype.pf=function(a){this.Mra(h.Notification.Eqb(a));};b.prototype.le=function(){this.Mra(h.Notification.tqb());};return b;})(d.qo);b.lBa=m;f=(function(){return function(a,b){this.notification=a;this.destination=b;};})();b.s1b=f;},function(d,b){b.vTa=function(a){return a && "number" === typeof a.length;};},function(d,b){b.uS=function(a){return a && "function" !== typeof a.subscribe && "function" === typeof a.then;};},function(d,b,a){var c,h;c=a(313);h=a(609);b.gF=function(a){void 0 === a && (a=Number.POSITIVE_INFINITY);return c.jL(h.jCb,null,a);};},function(d,b,a){var c,h,l,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});h=a(159);d=a(158);b.jL=function(a,b,c){void 0 === c && (c=Number.POSITIVE_INFINITY);return function(f){"number" === typeof b && (c=b,b=null);return f.zs(new l(a,b,c));};};l=(function(){function a(a,b,c){void 0 === c && (c=Number.POSITIVE_INFINITY);this.HF=a;this.nv=b;this.mha=c;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.HF,this.nv,this.mha));};return a;})();b.z0b=l;m=(function(a){function b(b,c,f,k){void 0 === k && (k=Number.POSITIVE_INFINITY);a.call(this,b);this.HF=c;this.nv=f;this.mha=k;this.qSa=!1;this.buffer=[];this.index=this.active=0;}c(b,a);b.prototype.cm=function(a){this.active < this.mha?this.Cib(a):this.buffer.push(a);};b.prototype.Cib=function(a){var b,c;c=this.index++;try{b=this.HF(a,c);}catch(u){this.destination.error(u);return;}this.active++;this.yfb(b,a,c);};b.prototype.yfb=function(a,b,c){this.add(h.b7(this,a,b,c));};b.prototype.le=function(){this.qSa=!0;0 === this.active && 0 === this.buffer.length && this.destination.complete();};b.prototype.V4=function(a,b,c,f){this.nv?this.Egb(a,b,c,f):this.destination.next(b);};b.prototype.Egb=function(a,b,c,f){var k;try{k=this.nv(a,b,c,f);}catch(A){this.destination.error(A);return;}this.destination.next(k);};b.prototype.Wu=function(a){var b;b=this.buffer;this.remove(a);this.active--;0 < b.length?this.cm(b.shift()):0 === this.active && this.qSa && this.destination.complete();};return b;})(d.JX);b.A0b=m;},function(d,b,a){d=a(204);b.of=d.d8.of;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b,c){a.call(this);this.value=b;this.Ea=c;this.jw=!0;c && (this.jw=!1);}c(b,a);b.create=function(a,c){return new b(a,c);};b.Ic=function(a){var b,c;b=a.value;c=a.Vj;a.done?c.complete():(c.next(b),c.closed || (a.done=!0,this.bd(a)));};b.prototype.gn=function(a){var c,k;c=this.value;k=this.Ea;if(k)return k.bd(b.Ic,0,{done:!1,value:c,Vj:a});a.next(c);a.closed || a.complete();};return b;})(a(24).Eb);b.PDa=d;},function(d,b,a){d=a(625);b.from=d.f9a.create;},function(d,b,a){var l,m;function c(a){var b;b=a.value;a=a.Vj;a.closed || (a.next(b),a.complete());}function h(a){var b;b=a.sE;a=a.Vj;a.closed || a.error(b);}l=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});m=a(89);d=(function(a){function b(b,c){a.call(this);this.Sq=b;this.Ea=c;}l(b,a);b.create=function(a,c){return new b(a,c);};b.prototype.gn=function(a){var b,f,k;b=this;f=this.Sq;k=this.Ea;if(null == k)this.jw?a.closed || (a.next(this.value),a.complete()):f.then(function(c){b.value=c;b.jw=!0;a.closed || (a.next(c),a.complete());},function(b){a.closed || a.error(b);}).then(null,function(a){m.root.setTimeout(function(){throw a;});});else if(this.jw){if(!a.closed)return k.bd(c,0,{value:this.value,Vj:a});}else f.then(function(f){b.value=f;b.jw=!0;a.closed || a.add(k.bd(c,0,{value:f,Vj:a}));},function(b){a.closed || a.add(k.bd(h,0,{sE:b,Vj:a}));}).then(null,function(a){m.root.setTimeout(function(){throw a;});});};return b;})(a(24).Eb);b.hDa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.l9=void 0;b.l9="DrmProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.y9=void 0;b.y9="EmeSessionFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uxa=b.fz=void 0;d=b.fz || (b.fz={});d[d.Request=0]="Request";d[d.tDa=1]="Renewal";d[d.Bcb=2]="SecureStop";b.uxa="EmeApiSymbol";},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.hY=void 0;a.FCb=function(a){return "ID" + (a + 1);};a.u2a=function(a){return Number(a.substr(2)) - 1;};b.hY=a;},function(d,b,a){var h,l,m,f,k,q,v,r,u,B,g,y,I,J,D,U,S,n,Y,E,p;function c(a,c,k,d,q,r,m,v,h){var u;u=this;this.za=c;this.Kr=k;this.config=d;this.Pf=q;this.Gi=r;this.nu=m;this.Ea=v;this.Jm=h;this.onMessage=function(a){var c,k,d,q;try{c=u.Gi.yha(a);k=c.hF;d=c.Foa;q=c.sessionId;u.VE=u.VE || c.VE;u.AU(q);u.log.trace("Received " + a.type + " event",{sessionId:q,messageType:d,keyIds:u.VE});d === b.M$ && (u.log.trace("Received a renewal request"),u.gj=B.jh.bk,u.Gh=E.MF);u.Gh === E.ri && (u.Ana={nu:u.nu,data:k},u.Jo(g.mr.XZa));u.Gh === E.MF && u.Jo(g.mr.YZa);if(u.GS){if(u.Ela(k)){u.ys(new Y.Bc(f.L.mxa));return;}u.GS.next({aj:k,lLa:d,gj:u.gj});u.gj === B.jh.bk && (u.GS.complete(),u.GS=void 0);}u.Gh === E.stop && (u.Di.Rmb(),u.config.Il && u.qU && (u.qU.next({aj:k}),u.qU.complete(),u.qU=void 0));}catch(Ua){u.ys(Ua);}};this.ypa=function(a){var b,c,k,d,q,l,v,h,g,y,A,I,S,n,O,Y,E;c=a.target;k=c.keyStatuses;u.AU(c.sessionId);u.log.trace("Received event: " + a.type);try{q=null === (b=u.context.Ns) || void 0 === b?void 0:b.reduce(function(a,b){a[b.pp]=b.e6.height;return a;},{});a=[];for(var r=N(k),m=r.next();!m.done;m=r.next()){l=N(m.value);v=l.next().value;h=l.next().value;g=u.Kr.encode(new Uint8Array(v));a.push({pp:g,status:h,height:null === q || void 0 === q?void 0:q[g]});}a.sort(function(a,b){return (a.height || 0) - (b.height || 0);});y=a.map(function(a){return a.pp;});A=a.map(function(a){return a.height;});I=a.map(function(a){return a.status;});u.log.trace("KeyStatus: " + y + ", " + A + ", " + I);for(var J=N(k),D=J.next();!D.done;D=J.next()){S=N(D.value);n=S.next().value;O=S.next().value;Y=u.Kr.encode(new Uint8Array(n));E=p[O];u.gna.next({pp:Y,value:E.status});u.PA(Y,E.error) && (d=new U.Re(E.error),u.wS(d));}}catch(sb){d=new U.Re(f.L.qbb);d.ZQ(sb);}d?u.bna(d):(u.Gi.a0() || u.$Ta(),u.gj !== B.jh.Lv || u.Gi.Tfa() || u.gPb());};this.sF=function(a){var b;b=u.Gi.Rr(a);u.log.error("Received event: " + a.type,b);u.ys(b);u.bna(b);u.Ij || u.Fn || u.wS(b);};this.LJb=function(){u.log.error("MediaKeySession closed unexpectedly.");u.wS(new Y.Bc(f.L.N8a));};this.ys=function(a){u.Ij && u.close().subscribe(void 0,function(b){u.log.error("EmeSession closed with an error.",u.Gi.Rr(b));u.Ij && (u.Ij.error(a),u.Ij=void 0);},function(){u.log.trace("Issuing a generate challenge error");u.Ij && (u.Ij.error(a),u.Ij=void 0);});};this.ZTa=function(){u.Ij && (u.Ij.complete(),u.Ij=void 0);};this.bna=function(a){u.Fn && (u.log.error("Failed to add license",a),u.close().subscribe(void 0,function(b){u.log.error("EmeSession closed with an error.",u.Gi.Rr(b));u.Gh === E.MF && u.Jo(g.mr.WIa);u.Ij=void 0;u.Fn && (u.Fn.error(a),u.Fn=void 0);},function(){u.log.trace("Issuing a license error");u.Ij=void 0;u.Fn && (u.Fn.error(a),u.Fn=void 0);}));};this.$Ta=function(){u.Fn && (u.log.info("Successfully added license"),u.Gh === E.ri?u.Jo(g.mr.RIa):u.Gh === E.MF && u.Jo(g.mr.VIa),u.Fn.complete(),u.Fn=void 0);};this.wS=function(a){u.fs && u.close().subscribe(void 0,function(b){u.log.error("EmeSession closed with an error.",u.Gi.Rr(b));u.Ij=void 0;u.Fn=void 0;u.fs && (u.fs.next(a),u.fs.complete(),u.fs=void 0);},function(){u.log.trace("Issuing a CDM error");u.Ij=void 0;u.Fn=void 0;u.fs && (u.fs.next(a),u.fs.complete(),u.fs=void 0);});};this.Jo=function(a){u.Md.push({time:u.za.Bb(),IHb:a});};this.x_a=!1;this.log=a.wb("EmeSession");this.GS=new l.po();this.config.Il && (this.qU=new l.po());this.gna=new l.Wbb();this.fs=new l.po();this.Gh=E.WVb;this.Md=[];}Object.defineProperty(b,"__esModule",{value:!0});b.yxa=b.M$=b.N$=void 0;d=a(0);h=a(1);l=a(134);m=a(4);f=a(2);k=a(19);q=a(6);v=a(41);r=a(42);u=a(60);B=a(61);g=a(323);y=a(650);I=a(132);J=a(205);D=a(320);U=a(75);S=a(651);n=a(62);Y=a(40);(function(a){a[a.WVb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.ri=3]="license";a[a.MF=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";})(E || (E={}));b.N$="license-request";b.M$="license-renewal";p={usable:{status:y.zt.t4a},expired:{status:y.zt.VOa,error:f.L.xBa},released:{status:y.zt.LOb},"output-not-allowed":{status:y.zt.NXa,error:f.L.yBa},"output-restricted":{status:y.zt.NXa,error:f.L.Baa},"output-downscaled":{status:y.zt.HKb},"status-pending":{status:y.zt.pTb},"internal-error":{status:y.zt.YCb,error:f.L.pbb}};c.prototype.rx=function(){var a;return (null === (a=this.WVa) || void 0 === a?void 0:a.keySystem) || "";};c.prototype.qx=function(){return this.sessionId;};c.prototype.close=function(){var a;a=this;this.gna.complete();this.Gh=E.closed;this.Md=[];return this.Pf.YDb()?(this.log.trace("Closing the session"),this.Pf.r_a(this.onMessage),this.Pf.o_a(this.ypa),this.Pf.l_a(this.sF),this.Cm=void 0,l.Eb.create(function(b){a.Jm.Dp(a.config.tJa,a.Pf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(c){a.log.error("Close failed",c);c=a.Gi.Rr(c);c.code=f.L.sbb;b.error(c);});})):l.Eb.empty();};c.prototype.iUa=function(){return this.gna.Gfa();};c.prototype.ru=function(){return this.fs?this.fs.Gfa():void 0;};c.prototype.js=function(){return this.nu;};c.prototype.yK=function(){return void 0 !== this.Gn;};c.prototype.rn=function(a,b,c,k){var d;d=this;this.context=a;this.WVa=b;this.YS=c;this.gj=k;this.Gh=E.create;this.Jo(g.mr.zUa);return l.Eb.create(function(a){(c.uSa()?Promise.resolve():d.Jm.Dp(d.config.uJa,d.Pf.Uqb(b)).then(function(a){d.log.trace("Created media keys");c.aG(a);return d.kkb(a);})).then(function(){d.Cm=c.Cm;try{d.Pf.rn(d.Cm,d.Gi.o2(k));d.Pf.TIa(d.onMessage);d.Pf.PIa(d.ypa);d.Pf.NIa(d.sF);d.Pf.ijb(d.LJb);d.AU(d.Pf.qx());a.next(d);a.complete();}catch(P){a.error(new U.Re(f.L.H8a,f.K.ii,void 0,"Unable to create a persisted key session",P));}})["catch"](function(b){b.code && b.wd?a.error(b):a.error(new U.Re(f.L.r9,b instanceof n.ro?f.K.LN:f.K.ii,void 0,"Unable to create MediaKeys. " + b.message,b));});});};c.prototype.FRb=function(a){this.Eg=a;this.log.cfa("xid",a.ea);};c.prototype.HUa=function(a){var b;b=this;this.log.trace("Loading the session");this.Gh=E.load;this.qc=a.qc;this.IOb={ea:a.ea};return l.Eb.xu(this.Pf.load(a.qc[0].id).then(function(){b.log.trace("Loaded the session.");return b;})["catch"](function(a){b.log.error("Loading the session failed.",a);throw a;}));};c.prototype.NMb=function(a){return this.config.x0a && !a?this.MOb():Promise.resolve();};c.prototype.MOb=function(){var a,b;a=this;this.log.trace("Reloading the session.");b={qc:this.qc,De:this.rx(),u:this.Eg.u,ea:this.Eg.ea};return this.close().ft().then(function(){return a.log.trace("Creating the session.");}).then(function(){return a.rn(a.context,a.WVa,a.YS,B.jh.bk).ft();}).then(function(){return a.log.trace("Created the session.");}).then(function(){return a.HUa(b).ft();}).then(function(){return a.log.trace("Reloaded the session.");});};c.prototype.L1=function(a){var b;b=this;this.Gh=E.ri;this.log.trace("Generating a license challenge");this.Ij=new l.po();if(!a)return this.$ga(new U.Re(f.L.jxa,f.K.u9));if(this.Ela(a))return this.$ga(new U.Re(f.L.jxa,f.K.s9));this.Jm.Dp(this.config.vJa,this.Pf.eK("cenc",a)).then(function(){b.AU(b.Pf.qx());})["catch"](function(a){var c,k;c=new U.Re(f.L.yW,a instanceof n.ro?f.K.LN:f.K.ii);k=b.Gi.Rr(a);c.Vg=k.Vg;c.message="Unable to generate request.";c.ZQ(a);b.log.error("Unable to generate a license request",c);b.ys(c);});this.log.trace("Returning the challenge subject");return this.Ij;};c.prototype.QIa=function(a){this.qc=a.qc;a=a.Gn.map(function(a){return a.data;});this.Ela(a)?(this.log.error("The license buffer is empty"),this.ys(new U.Re(f.L.kxa,f.K.s9))):(this.Gh === E.ri && (this.Jo(g.mr.WZa),this.Gn=a,this.$Na=this.Gi.kK(this.VE,a),this.ZTa()),this.Gh === E.MF && (this.Jo(g.mr.ZZa),this.Gn=a,this.$Na=this.Gi.kK(this.VE,a),this.Dfa()));};c.prototype.ujb=function(a){this.Gh === E.MF?(this.Jo(g.mr.$Za),this.wS(a)):this.ys(a);};c.prototype.Dfa=function(){var a,b;a=this;if(!this.Gn)return this.$ga(new U.Re(f.L.kxa,f.K.u9));this.Fn=new l.po();b=this.Gn;this.Gn=void 0;this.Jm.Dp(this.config.yJa,this.Pf.update(b,this.Gh === E.ri?D.fz.Request:D.fz.tDa,this.VE)).then(function(){a.Gi.a0() && a.$Ta();})["catch"](function(b){b=a.Gi.Rr(b);b.code=f.L.BBa;b.message="Unable to update the EME";a.log.error(b.message,b);a.bna(b);});return this.Fn;};c.prototype.HS=function(){return this.GS;};c.prototype.TPa=function(a){var b;b=this;if(this.Gh === E.ri && this.gj === B.jh.Lv)return l.Eb.empty();this.Ij=new l.po();this.Di=new S.wxa(this.za,this.config,this.Ea,function(a){b.ys(a);},"non-persisted");this.Di.Smb();this.NMb(a).then(function(){b.Gh=E.stop;b.log.trace("Generating a secure stop challenge");return b.Pf.remove();}).then(function(){return b.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(a){var c;c=b.Gi.Rr(a);c.code=f.L.nxa;c.wd=f.K.ii;c.message="Call to 'remove' on key session failed";b.log.error("Call to 'remove' on key session failed",{error:a});b.ys(c);});return this.Ij;};c.prototype.XIa=function(a){a && a.constructor !== Uint8Array?this.ys(a):a?0 === a.length?(this.log.error("The secure stop buffer is empty"),this.ys(new U.Re(f.L.lxa,f.K.s9))):(this.log.trace("Secure stop is ready to apply"),this.v0a=a,this.Di.bRb(),this.ZTa()):(this.log.error("The secure stop buffer is undefined"),this.ys(new U.Re(f.L.lxa,f.K.u9)));};c.prototype.EJa=function(){var a;a=this;if(!this.v0a)return l.Eb.from([this]);this.log.trace("Setting the secure stop data");return l.Eb.create(function(b){a.Di.Tmb();a.Pf.update([a.v0a],D.fz.Bcb).then(function(){a.Di.gLa();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(c){var k;a.Di.gLa();k=a.Gi.Rr(c);k.code=f.L.v9;k.wd=f.K.ii;k.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:c});b.error(k);});});};c.prototype.kK=function(){return this.$Na;};c.prototype.kkb=function(a){var b,c;b=this;c=this.Gi.kka();return c?(c=this.Kr.decode(c),this.Jm.Dp(this.config.xJa,this.Pf.MRb(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};c.prototype.AU=function(a){a && a !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + a),this.sessionId=a,this.log.cfa("sessionId",a));};c.prototype.gPb=function(){var a;a=this;this.x_a || (this.x_a=!0,this.log.info("Kicking off license renewal",{timeout:this.config.VA}),setTimeout(function(){a.dU();},this.config.VA.ca(m.ga)));};c.prototype.fEb=function(a){var b;return !(null === (b=this.context.Ns) || void 0 === b || !b.some(function(b){return b.pp === a && 1080 < b.e6.height;}));};c.prototype.PA=function(a,b){return b === f.L.Baa?this.fEb(a)?this.config.OXa:this.config.e5:! !b;};c.prototype.dU=function(){this.log.trace("Initiating a renewal request");this.gj=B.jh.bk;this.Gh=E.MF;this.Gi.Bga()?this.Gi.Cma(this.Pf):this.m0();};c.prototype.m0=function(){var a,b;a=this;b=this.Gi.o2(B.jh.bk);this.Pf.m0(this.Cm,b,this.onMessage,this.ypa,this.sF).then(function(){a.log.debug("createSession(" + b + ")");a.AU(a.Pf.qx());})["catch"](function(){a.wS(new U.Re(f.L.yW));});};c.prototype.$ga=function(a){var b;b=this;return l.Eb.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};c.prototype.Ela=function(a){return 0 === a.length || a.reduce(function(a,b){return a || 0 === b.length;},!1);};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(q.zb)),d.__param(1,h.l(k.Fd)),d.__param(2,h.l(v.Ki)),d.__param(3,h.l(u.Qp)),d.__param(4,h.l(D.uxa)),d.__param(5,h.l(J.cxa)),d.__param(6,h.l(I.exa)),d.__param(7,h.l(r.ph)),d.__param(8,h.l(n.az))],a);b.yxa=a;},function(d,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.aOa=b.mr=void 0;(function(a){a[a.zUa=0]="licenseStarted";a[a.XZa=1]="receivedLicenseChallenge";a[a.WZa=2]="receivedLicense";a[a.YZa=3]="receivedRenewalChallengeComplete";a[a.ZZa=4]="receivedRenewalLicenseComplete";a[a.$Za=5]="receivedRenewalLicenseFailed";a[a.bOb=6]="receivedIndivChallengeComplete";a[a.cOb=7]="receivedIndivLicenseComplete";a[a.RIa=8]="addLicenseComplete";a[a.VIa=9]="addRenewalLicenseComplete";a[a.WIa=10]="addRenewalLicenseFailed";})(a=b.mr || (b.mr={}));b.aOa=function(b){switch(b){case a.zUa:return "lg";case a.XZa:return "lc";case a.WZa:return "lr";case a.YZa:return "renew_lc";case a.ZZa:return "renew_lr";case a.$Za:return "renew_lr_failed";case a.bOb:return "ilc";case a.cOb:return "ilr";case a.RIa:return "ld";case a.VIa:return "renew_ld";case a.WIa:return "renew_ld_failed";default:return "unknown";}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.H8=void 0;b.H8="ClockConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.saa=void 0;b.saa="OneWayCounterFactorySymbol";},function(d,b,a){var h,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.r8=void 0;d=a(0);a=a(1);h={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(a){for(var b=new Uint8Array(a.length / 2),c=0;c < b.length;c++){b[c]=this.s3a(a.substr(2 * c,2));}return b;};c.prototype.encode=function(a){var m,b;for(var b="",c=a.length,d=0;d < c;d++){m=a[d];b=b + (("0123456789ABCDEF")[m >>> 4] + ("0123456789ABCDEF")[m & 15]);}return b;};c.prototype.zR=function(a,b){var c;c="";for(b<<=1;b--;){c=(("0123456789ABCDEF")[a & 15] || "0") + c;a>>>=4;}return c;};c.prototype.s3a=function(a){var b;b=a.length;if(7 < b)throw Error("hex to long");for(var c=0,d=0;d < b;d++){c=16 * c + h[a[d]];}return c;};l=c;l=d.__decorate([a.O()],l);b.r8=l;},function(d,b,a){var h,l;function c(){this.ep={};this.id="$es$" + h.bA++;}Object.defineProperty(b,"__esModule",{value:!0});b.tj=void 0;d=a(0);a=a(1);c.prototype.addListener=function(a,b,c){var f,k;f="$netflix$player$order" + this.id + "$" + a;if(this.ep){k=this.ep[a]?this.ep[a].slice():[];c && (b[f]=c);0 > k.indexOf(b) && (k.push(b),k.sort(function(a,b){return (a[f] || 0) - (b[f] || 0);}));this.ep[a]=k;}};c.prototype.removeListener=function(a,b){if(this.ep && this.ep[a]){for(var c=this.ep[a].slice(),f;0 <= (f=c.indexOf(b));){c.splice(f,1);}this.ep[a]=c;}};c.prototype.ec=function(a,b,c){var f;if(this.ep){f=this.ska(a);for(a={Ek:0};a.Ek < f.length;(a={Ek:a.Ek},a.Ek++)){c?(function(a){return function(){var c;c=f[a.Ek];setTimeout(function(){c(b);},0);};})(a)():f[a.Ek].call(this,b);}}};c.prototype.Ug=function(){this.ep=void 0;};c.prototype.on=function(a,b,c){this.addListener(a,b,c);};c.prototype.ska=function(a){var b;return null !== (b=this.ep && (this.ep[a] || (this.ep[a]=[]))) && void 0 !== b?b:[];};l=h=c;l.bA=0;l=h=d.__decorate([a.O()],l);b.tj=l;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dca=void 0;b.dca="StringUtilsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.M8=void 0;b.M8="CsvEncoderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sW=void 0;b.sW="DecoderTimeoutPathologistSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.iaa=b.nab=void 0;b.nab=function(){};b.iaa="MseConfigSymbol";},function(d,b,a){var h;function c(a){this.Efb=void 0 === a?!1:a;this.we={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.Dba=void 0;d=a(0);a=a(1);c.prototype.add=function(a,b){var c;b=void 0 === b?0:b;c=this.we[b];c?this.Efb && -1 !== c.indexOf(a) || c.push(a):this.we[b]=[a];};c.prototype.remove=function(a,b){this.pw(a,void 0 === b?0:b);};c.prototype.removeAll=function(a){this.pw(a);};c.prototype.wu=function(){var a;a=this;return Object.keys(this.we).sort().reduce(function(b,c){return b.concat(a.we[c]);},[]);};c.prototype.pw=function(a,b){Object.entries(this.we).forEach(function(c){var f,d;f=N(c);c=f.next().value;f=f.next().value;if(void 0 === b || b === parseInt(c)){-1 < (d=f.indexOf(a)) && f.splice(d,1);}});};h=c;h=d.__decorate([a.O()],h);b.Dba=h;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tca=void 0;b.tca="UrlFactorySymbol";},function(d,b,a){var h,l,m,f;function c(a,b,c,f,d,h,g){this.debug=a;this.config=b;this.platform=c;this.o4=f;this.debug.assert(d && d != l.L.Wl,"There should always be a specific error code");this.errorCode=d || l.L.Wl;h && m.zf(h)?(this.ka=h.ka || h.wd,this.Oe=h.Oe || h.Vg,this.bja=h.bja || h.QJ,this.Ab=h.Ab || h.fx,this.mE=h.aja,this.YJ=h.YJ || h.yWa || h.Uu,this.e1=h.e1 || h.data,h.XS && (this.XS=h.XS),this.cj=h.cj,this.method=h.method,this.mT=h.mT,this.alert=h.alert,this.sfa=h.sfa,this.debug.assert(!this.cj || this.cj == this.Oe)):(this.ka=h,this.Oe=g);this.stack=[this.errorCode];this.ka?this.stack.push(this.ka):this.Oe && this.stack.push(l.K.Wl);this.Oe && this.stack.push(this.Oe);this.K0=this.platform.tE + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.FCa=void 0;h=a(11);l=a(2);m=a(26);f=a(15);a(23);c.prototype.toString=function(){var a;a="[PlayerError #" + this.K0 + "]";this.Ab && (a+=" " + this.Ab);this.mE && (a+=" (CustomMessage: " + this.mE + ")");return a;};c.prototype.tta=function(){var a,b;this.mE && (a=["streaming_error"]);a || this.o4.js() !== h.xW || ("80080017" == this.Oe && (a=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Oe && (a=["pause_timeout"]));a || this.o4.js() !== h.n9 || this.errorCode !== l.L.ixa && this.errorCode !== l.L.r9 || (a=["no_cdm","platform_error","plugin_error"]);this.$Db() && (a=["received_soad"]);b=this.Jxb();b && (a=[b],this.mE=void 0);if(!a)switch(this.errorCode){case l.L.KX:case l.L.hX:case l.L.M5a:case l.L.xBa:a=["pause_timeout"];break;case l.L.Sya:case l.L.Tya:a=this.ka?["platform_error"]:["multiple_tabs"];break;case l.L.H$a:case l.L.xcb:case l.L.f$a:case l.L.e$a:case l.L.h$a:a=["should_signout_and_signin"];break;case l.L.h$:case l.L.ABa:case l.L.zBa:case l.L.Eaa:case l.L.jbb:a=["platform_error","plugin_error"];break;case l.L.ubb:a=["no_cdm","platform_error","plugin_error"];break;case l.L.Caa:a=this.ka?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case l.L.v9:case l.L.LX:case l.L.BBa:switch(this.Oe){case "FFFFD000":a=["device_needs_service","platform_error"];break;case "48444350":a=["unsupported_output","platform_error"];break;case "00000024":a=["private_mode"];}break;case l.L.yBa:case l.L.Baa:a=["unsupported_output"];}!a && l.Gxa(this.ka) && (a=this.ka == l.K.WN?["geo"]:["internet_connection_problem"]);a || this.errorCode !== l.L.r9 || this.ka !== l.K.ii || "S" !== this.platform.tE || (a=["private_mode"]);if(!a)switch(this.x2a(this.ka)){case l.K.zca:a=["should_upgrade"];break;case l.K.sBa:a=["should_reset_device"];break;case l.K.rBa:a=["should_reload_device"];break;case l.K.qBa:a=["should_exit_device"];break;case l.K.pab:case l.K.cAa:a=["should_signout_and_signin"];break;case l.K.qab:a=["internet_connection_problem"];break;case l.K.Awa:a=["platform_error","plugin_error"];break;case l.K.P8:case l.K.zya:case l.K.Aya:a=["private_mode"];}a=a || [];a.push(this.platform.tE + this.errorCode);if(this.ka)switch(this.x2a(this.ka)){case l.K.tBa:a.push("incorrect_pin");break;default:a.push("" + this.ka);}a={display:{code:this.K0,text:this.mE},messageIdList:a,alert:this.alert,alertTag:this.sfa};if(this.YJ || this.yWa)a.mslErrorCode=this.YJ || this.yWa || this.Uu;return a;};c.prototype.x2a=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};c.prototype.$Db=function(){var a;a=f.qa(this.Oe)?this.Oe.toString():f.te(this.Oe)?this.Oe:"";return this.YJ === l.wX.sca && (a.endsWith("2018") || a.endsWith("2020"));};c.prototype.Jxb=function(){if(this.errorCode === l.L.kX && (this.ka === l.K.waa || this.ka === l.K.pBa))return this.Kxb(this.ka === l.K.waa);};c.prototype.Kxb=function(a){var b,c,f,d;f=this.config().browserInfo || ({});d=null === (b=f.os) || void 0 === b?void 0:b.name;b=((null === (c=f.os) || void 0 === c?void 0:c.version) || "").split(".");c=parseInt(b && b[0]);b=parseInt(b && b[1]);switch(d){case "windows":return 6 > c || 6 === c && 1 > b?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > c || 10 === c && 10 > b?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.FCa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.rX=void 0;b.rX="MediaElementHelpersSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.XG=void 0;b.XG="EventSourceFactorySymbol";},function(d,b,a){var h,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.XG=b.Jxa=void 0;d=a(0);h=a(327);a=a(1);c.prototype.create=function(){return new h.tj();};l=c;l=d.__decorate([a.O()],l);b.Jxa=l;b.XG="EventSourceFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.X8=void 0;b.X8="DebouncerFactorySymbol";},function(d,b,a){var h;function c(a,b,c,d,q,v){this.level=a;this.pn=b;this.timestamp=c;this.message=d;this.fd=q;this.index=void 0 === v?0:v;this.D$a={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.D$=void 0;h=a(4);c.prototype.n7=function(a,b){var c;c="" + this.message;this.fd.forEach(function(f){c+=f.wG(a,b);});return (this.timestamp.ca(h.ga) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.D$a[this.level] || this.level) + "|" + this.pn + "| " + c;};b.D$=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Uba=void 0;b.Uba="SegmentConfigFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mba=void 0;b.mba="PlaybackFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.xca=void 0;b.xca="VideoPlayerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.mca=void 0;b.mca="TransitionLoggerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.f9=void 0;b.f9="DiagnosticsFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Maa=void 0;b.Maa="PboGenerateScreenshotsCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ica=void 0;b.ica="ThroughputTrackerConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F8=void 0;b.F8="CdnThroughputTracker";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.F9=void 0;b.F9="ExtraPlatformInfoProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.C8=void 0;b.C8="CapabilityDetectorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.m8=void 0;b.m8={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(d,b,a){var h,l,m;function c(a,b,c,d){this.config=a;this.Qu=b;this.I=c;this.Pu=d;this.Boa={};this.Boa[h.sr.Audio]="audio";this.Boa[h.sr.lFa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.DN=void 0;h=a(30);d=a(105);l=a(352);m=new d.cz().format;c.prototype.SRa=function(a){return this.Msb(this.vRa(a));};c.prototype.Tw=function(a){return this.Qu.isTypeSupported(a);};c.prototype.qQa=function(){return [l.Hf.QV,l.Hf.fya,l.Hf.ZG];};c.prototype.Ama=function(){this.Im=[];this.cv=[];this.config().SXa && this.cv.push(l.Hf.eya);this.config().RXa && this.cv.push(l.Hf.cya);this.config().QXa && this.cv.push(l.Hf.kr);this.config().BT && this.cv.push(l.Hf.KG);this.config().TXa && this.cv.push(l.Hf.YC);this.config().PXa && this.cv.push(l.Hf.Yj);this.cv=this.cv.concat(this.qQa());!this.config().zub && this.Im.push(l.Hf.FO);!this.config().sOa && this.Im.push(l.Hf.w7a);!this.config().rOa && this.Im.push(l.Hf.x7a);!this.config().hR && this.Im.push(l.Hf.y7a);!this.config().nub && this.Im.push(/prk$/);this.config().QXa || this.config().aub || this.Im.push(l.Hf.kr);this.config().SXa || this.config().cub || this.Im.push(l.Hf.eya);this.config().RXa || this.config().Oia || this.Im.push(l.Hf.cya);this.config().BT || this.config().Y0 || this.Im.push(l.Hf.KG);this.config().TXa || this.config().xub || this.Im.push(l.Hf.YC);this.config().PXa || this.config().Xtb || this.Im.push(l.Hf.Yj);!this.config().wub && this.Im.push(l.Hf.IH);};c.prototype.fPa=function(a){var b,c;b=this;c=a.map(function(a){for(var c=N(b.cv),f=c.next();!f.done;f=c.next()){if(f.value.test(a))return Promise.resolve(!0);}c=N(b.Im);for(f=c.next();!f.done;f=c.next()){if(f.value.test(a))return Promise.resolve(!1);}return b.aK(a);});return Promise.all(c).then(function(b){return a.filter(function(a,c){return b[c];});});};c.prototype.aK=function(a){return this.config().kub?this.Pu.aK(a):this.Ivb(a);};c.prototype.Ivb=function(a){var b;a=this.Eqa[a];b="";return a?(Array.isArray(a) && (b=1 < a.length?" " + a[1]:"",a=a[0]),a=m("{0}/mp4;codecs={1};{2}",this.Boa[this.I],a,b),a=this.Tw(a),Promise.resolve(a)):Promise.resolve(!1);};c.prototype.Msb=function(a){var b;b={};this.Ama();return this.fPa(a).then(function(a){return a.map(function(a){return b[a]=1;});}).then(function(){return Object.keys(b);});};ma.Object.defineProperties(c.prototype,{Eqa:{configurable:!0,enumerable:!0,get:function(){this.NHa || (this.NHa=this.gE());return this.NHa;}}});b.DN=c;},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Hf=void 0;b.Hf=a;a.eya=/^hevc-main/;a.cya=/^hevc-hdr-|hevc-dv/;a.Iv=/^hevc-hdr-/;a.kr=/^hevc-dv/;a.ZG=/-h264mpl/;a.MN=/-h264mpl30/;a.$G=/-h264mpl31/;a.KG=/-h264hpl/;a.YC=/^vp9-/;a.Yj=/^av1-/;a.IH=/-L5[0-1]-/;a.QV=/^heaac-2-/;a.fya=/^heaac-2hq-dash/;a.FO=/^xheaac-dash/;a.w7a=/ddplus-2/;a.x7a=/ddplus-5/;a.y7a=/ddplus-atmos/;},function(d,b,a){var h,l,m,f,k;function c(a,b,c){c=l.DN.call(this,a,b,h.sr.Audio,c) || this;c.config=a;c.Qu=b;c.type=h.Ny.lC;return c;}Object.defineProperty(b,"__esModule",{value:!0});b.tW=void 0;h=a(30);l=a(351);m=a(56);f=a(137);k=new (a(105).cz)().format;L(c,l.DN);c.prototype.YU=function(){var a;a=k(c.CG,f.Gd.v7a);return Promise.resolve(this.config().hR && this.Qu.isTypeSupported(a));};c.prototype.gE=function(){var a;a={};a[m.lf.RW]="mp4a.40.2";a[m.lf.dya]="mp4a.40.2";a[m.lf.U9]="mp4a.40.5";a[m.lf.SW]="mp4a.40.2";a[m.lf.FO]="mp4a.40.42";a[m.lf.hW]="ec-3";a[m.lf.N8]="ec-3";a[m.lf.iW]="ec-3";return a;};c.prototype.vRa=function(a){return a || this.config().fJ;};b.tW=c;c.CG="audio/mp4;codecs={0};";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.W$=void 0;b.W$="MediaCapabilitiesDetectorSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Y$=void 0;b.Y$="MediaCapabilitiesSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.X$=void 0;b.X$="MediaCapabilitiesLogHelperSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bba=void 0;b.Bba="PresentationAPISymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$N=void 0;b.$N="IndexedDBConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.lY=void 0;b.lY="Storage";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.J8=void 0;b.J8="CorruptedStorageValidatorConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.z$=void 0;b.z$="LocalStorageSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.daa=void 0;b.daa="MemoryStorageSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.g9=void 0;b.g9="DiskStorageRegistrySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.w8=void 0;b.w8="BookmarkConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.v8=void 0;b.v8="BookmarkConfigParserSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.B8=void 0;b.B8="CDMAttestedDescriptorProvider";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.S$=void 0;b.S$="ManifestParserFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.R$=void 0;b.R$="ManifestProviderConfigSymbol";},function(d){d.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(d,b,a){var c,h,l,m,f,k;b=a(54);c=a(371);h=a(743);l=a(369);m=a(220);f=a(748);k=a(374);a=b(c(["filter"],f,function(a,b){return l(b)?m(function(c,f){a(b[f]) && (c[f]=b[f]);return c;},{},k(b)):h(a,b);}));d.exports=a;},function(d,b,a){var c,h;c=a(372);h=a(742);d.exports=function(a,b,f){return function(){var d,q;if(0 === arguments.length)return f();d=Array.prototype.slice.call(arguments,0);q=d.pop();if(!c(q)){for(var m=0;m < a.length;){if("function" === typeof q[a[m]])return q[a[m]].apply(q,d);m+=1;}if(h(q))return b.apply(null,d)(q);}return f.apply(this,arguments);};};},function(d){d.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(d){d.exports={$a:function(){return this.PV["@@transducer/init"]();},result:function(b){return this.PV["@@transducer/result"](b);}};},function(d,b,a){var c,h,l,m,f;b=a(119);c=a(219);h=a(749);l=!({toString:null}).propertyIsEnumerable("toString");m=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");f=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || f?function(a){var b,d,k,u;if(Object(a) !== a)return [];k=[];d=f && h(a);for(b in a){!c(b,a) || d && "length" === b || (k[k.length]=b);}if(l)for(d=m.length - 1;0 <= d;){b=m[d];if(u=c(b,a)){a:{for(u=0;u < k.length;){if(k[u] === b){u=!0;break a;}u+=1;}u=!1;}u=!u;}u && (k[k.length]=b);--d;}return k;}:function(a){return Object(a) !== a?[]:Object.keys(a);});d.exports=a;},function(d){d.exports=function(b,a){for(var c=0,d=a.length,l=Array(d);c < d;){l[c]=b(a[c]);c+=1;}return l;};},function(d,b,a){var c,h,l;c=a(221);h=a(119);b=a(54);l=a(752);a=b(function(a,b){return 1 === a?h(b):c(a,l(a,[],b));});d.exports=a;},function(d,b){function a(a,b){this.log=a;this.RB=b;}Object.defineProperty(b,"__esModule",{value:!0});b.cO=void 0;a.prototype.B3a=function(a,b){var c,d;c=this;if(!a)return (this.log.warn("There are no media streams for " + b.type + " track - " + b.Ya),[]);d=a.map(function(a){var f;f=c.RB(b,b.type,a.Bia,a.U,a.tb,a.size,c.kyb(a.He),a.GQ,a.Ewb / a.Dwb,a.Iu);f.YRb(a.FPb,a.EPb,a.EYa,a.DYa);f.oRb(a.yrb,a.zrb,a.xrb,a.wrb,a.EYa,a.DYa);b.ol && (f.ol=b.ol);a.GQ && (f.yg=a.GQ);return f;});d.sort(function(a,b){return a.U - b.U;});d.forEach(function(a,b){a.lower=d[b - 1];a.SBb=d[b + 1];});return d;};a.prototype.kyb=function(a){return a.reduce(function(a,b){a[b.iLa]=b.url;return a;},{});};b.cO=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.rba=void 0;b.rba="PlayerTextTrackFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oca=void 0;b.oca="TrickPlayFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.U$=void 0;b.U$="ManifestVerifyErrorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.T$=void 0;b.T$="ManifestTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oaa=b.Paa=void 0;b.Paa="PboLinksManagerSymbol";b.Oaa="PboLinksManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.P$=void 0;b.P$="ManifestEnricherSymbol";},function(d,b,a){Object.defineProperties(b,{__esModule:{value:!0}});d=a(0);d.__exportStar(a(771),b);d.__exportStar(a(772),b);d.__exportStar(a(773),b);d.__exportStar(a(774),b);d.__exportStar(a(775),b);d.__exportStar(a(776),b);d.__exportStar(a(777),b);d.__exportStar(a(778),b);d.__exportStar(a(779),b);d.__exportStar(a(780),b);d.__exportStar(a(781),b);d.__exportStar(a(782),b);d.__exportStar(a(786),b);d.__exportStar(a(385),b);d.__exportStar(a(787),b);d.__exportStar(a(225),b);d.__exportStar(a(788),b);d.__exportStar(a(789),b);d.__exportStar(a(790),b);d.__exportStar(a(791),b);d.__exportStar(a(792),b);d.__exportStar(a(793),b);d.__exportStar(a(794),b);d.__exportStar(a(795),b);d.__exportStar(a(796),b);d.__exportStar(a(797),b);d.__exportStar(a(798),b);d.__exportStar(a(799),b);d.__exportStar(a(800),b);d.__exportStar(a(801),b);d.__exportStar(a(802),b);d.__exportStar(a(803),b);d.__exportStar(a(804),b);d.__exportStar(a(812),b);d.__exportStar(a(814),b);},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.GTb=void 0;b.GTb=function(a){var b,d,l;return "IStreamable: " + a.W + " [" + a.I + "] " + ("p:" + JSON.stringify(a.Pn) + " ") + ("b:" + a.xg + " pc:" + (null === (b=a.ey) || void 0 === b?void 0:b.da) + " ") + ("s:" + (null === (d=a.$n) || void 0 === d?void 0:d.da) + " c:" + (null === (l=a.ne) || void 0 === l?void 0:l.da));};},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Bfa=void 0;b.Bfa=function(a,b,d){var c,m;c=!0;d.forEach(function(f){var d;if(c && a === f.profile){d=f.ranges;c=void 0 === d?b >= f.min && b <= f.max:d.some(function(a){return b >= a.min && b <= a.max;});!c && f.disallowed && f.disallowed.some(function(a){if(a.stream.bitrate === b)return (m=a.disallowedBy,!0);});}});return {inRange:c,J0:m};};},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FC=void 0;b.FC={pl:function(a){return a;}};},function(d){function b(){}function a(a){this.vIa=a;this.vo=[];this.Nf=null;}b.prototype.clear=function(){this.we=null;this.size=0;};b.prototype.find=function(a){var c;for(var b=this.we;null !== b;){c=this.$l(a,b.data);if(0 === c)return b.data;b=b.Cg(0 < c);}return null;};b.prototype.lowerBound=function(a){var f;for(var b=this.we,c=this.iterator(),d=this.$l;null !== b;){f=d(a,b.data);if(0 === f)return (c.Nf=b,c);c.vo.push(b);b=b.Cg(0 < f);}for(f=c.vo.length - 1;0 <= f;--f){if((b=c.vo[f],0 > d(a,b.data)))return (c.Nf=b,c.vo.length=f,c);}c.vo.length=0;return c;};b.prototype.upperBound=function(a){for(var b=this.lowerBound(a),c=this.$l;null !== b.data() && 0 === c(b.data(),a);){b.next();}return b;};b.prototype.min=function(){var a;a=this.we;if(null === a)return null;for(;null !== a.left;){a=a.left;}return a.data;};b.prototype.max=function(){var a;a=this.we;if(null === a)return null;for(;null !== a.right;){a=a.right;}return a.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.oe=function(a){for(var b=this.iterator(),c;null !== (c=b.next());){a(c);}};a.prototype.data=function(){return null !== this.Nf?this.Nf.data:null;};a.prototype.next=function(){var a;if(null === this.Nf){a=this.vIa.we;null !== a && this.pHa(a);}else if(null === this.Nf.right){do {if((a=this.Nf,this.vo.length))this.Nf=this.vo.pop();else {this.Nf=null;break;}}while(this.Nf.right === a);}else (this.vo.push(this.Nf),this.pHa(this.Nf.right));return null !== this.Nf?this.Nf.data:null;};a.prototype.FF=function(){var a;if(null === this.Nf){a=this.vIa.we;null !== a && this.nHa(a);}else if(null === this.Nf.left){do {if((a=this.Nf,this.vo.length))this.Nf=this.vo.pop();else {this.Nf=null;break;}}while(this.Nf.left === a);}else (this.vo.push(this.Nf),this.nHa(this.Nf.left));return null !== this.Nf?this.Nf.data:null;};a.prototype.pHa=function(a){for(;null !== a.left;){this.vo.push(a);a=a.left;}this.Nf=a;};a.prototype.nHa=function(a){for(;null !== a.right;){this.vo.push(a);a=a.right;}this.Nf=a;};d.exports=b;},function(d){function b(a){this.Zda=a;this.sf=[];this.cq=!1;this.zD=void 0;this.Wi={};}b.prototype.m_=function(a){this.sf.length === this.Zda && this.sf.shift();Array.isArray(a)?this.sf=this.sf.concat(a):this.sf.push(a);this.cq=!0;};b.prototype.oK=function(){return this.sf.length;};b.prototype.xga=function(){var a;a=this.sf;return 0 < a.length?a.reduce(function(a,b){return a + b;},0) / this.sf.length:void 0;};b.prototype.Q_=function(){var a,b;a=this.sf;if(0 < a.length){b=this.xga();a=a.reduce(function(a,b){return a + b * b;},0) / a.length;return Math.sqrt(a - b * b);}};b.prototype.Nr=function(a){var b,d,l;if(this.cq || void 0 === this.zD)(this.zD=this.sf.slice(0).sort(function(a,b){return a - b;}),this.Wi={},this.cq=!1);if(void 0 === this.Wi[a]){b=this.zD;d=Math.floor(a / 100 * (b.length - 1) + 1) - 1;l=(a / 100 * (b.length - 1) + 1) % 1;this.Wi[a]=d === b.length - 1?b[d]:b[d] + l * (b[d + 1] - b[d]);}return this.Wi[a];};d.exports=b;},function(d,b,a){d.exports={O5b:a(391),g9b:a(230),UYb:a(846),TYb:a(392),VYb:a(393),Txa:a(849)};},function(d,b,a){var m;function c(a){this.reset();this.ERb(a);}function h(a){this.setInterval(a);this.reset();}function l(a){this.mz=new h(a);this.me=0;this.cc=null;}m=a(8);c.prototype.ERb=function(a){this.OH=Math.pow(.5,1 / a);this.$O=a;};c.prototype.reset=function(a){a && a.Ca && m.qa(a.Ca)?a.hi && m.qa(a.hi)?(this.St=this.vfb,this.wo=a.Ca,this.iz=a.hi + a.Ca * a.Ca):(this.St=this.vfb,this.wo=a.Ca,this.iz=a.Ca * a.Ca):this.iz=this.wo=this.St=0;};c.prototype.add=function(a){var b;if(m.qa(a)){this.St++;b=this.OH;this.wo=b * this.wo + (1 - b) * a;this.iz=b * this.iz + (1 - b) * a * a;}};c.prototype.get=function(){var a,b,c;if(0 === this.St)return {Ca:0,hi:0};a=this.wo;b=this.iz;c=1 - Math.pow(this.OH,this.St);a=a / c;b=b / c;c=a * a;return {Ca:Math.floor(a),hi:Math.floor(b > c?b - c:0)};};c.prototype.sd=function(){return 0 === this.St?null:{a:Number(this.wo.toPrecision(6)),s:Number(this.iz.toPrecision(6)),n:this.St};};c.prototype.ue=function(a){if(m.ab(a) || !m.has(a,"a") || !m.has(a,"s") || !m.isFinite(a.a) || !m.isFinite(a.s))return (this.iz=this.wo=this.St=0,!1);this.wo=a.a;this.iz=a.s;m.has(a,"n") && m.qa(a.n)?this.St=a.n:this.St=16 * this.$O;return !0;};h.prototype.setInterval=function(a){this.$O=a;this.OH=-Math.log(.5) / a;};h.prototype.reset=function(a){this.eb=this.xe=null;a && m.isFinite(a.Ca)?this.wo=a.Ca:this.wo=0;};h.prototype.start=function(a){m.ab(this.xe) && (this.eb=this.xe=a);};h.prototype.add=function(a,b,c){var f,d;m.ab(this.xe) && (this.eb=this.xe=b);this.xe=Math.min(this.xe,b);b=Math.max(c - b,1);f=this.OH;d=c > this.eb?c:this.eb;this.wo=this.wo * (d > this.eb?Math.exp(-f * (d - this.eb)):1) + 8 * a / b * (1 - Math.exp(-f * b)) * (c > d?Math.exp(-f * (d - c)):1);this.eb=d;};h.prototype.get=function(a){var b;a=Math.max(a,this.eb);b=this.wo * Math.exp(-this.OH * (a - this.eb));a=1 - Math.exp(-this.OH * (a - this.xe));0 < a && (b/=a);return {Ca:Math.floor(b)};};h.prototype.toString=function(){return "ewmav(" + this.$O + ")";};l.prototype.setInterval=function(a){this.mz.setInterval(a);};l.prototype.reset=function(a){this.mz.reset(a);this.me=0;this.cc=null;};l.prototype.start=function(a){!m.ab(this.cc) && a > this.cc && (this.me+=a - this.cc,this.cc=null);this.mz.start(a - this.me);};l.prototype.add=function(a,b,c){!m.ab(this.cc) && c > this.cc && (this.me+=b > this.cc?b - this.cc:0,this.cc=null);this.mz.add(a,b - this.me,c - this.me);};l.prototype.stop=function(a){this.cc=Math.max(m.ab(this.mz.eb)?0:this.mz.eb + this.me,m.ab(this.cc)?a:Math.min(this.cc,a));};l.prototype.get=function(a){return this.mz.get((m.ab(this.cc)?a:this.cc) - this.me);};l.prototype.toString=function(){return this.mz.toString();};d.exports={z8a:c,lZb:h,x8a:l};},function(d,b,a){var h,l;function c(a,b,c,d){h.call(this,c,d);this.Xt=new l(a);this.agb=b;}h=a(142);l=a(389);c.prototype=Object.create(h.prototype);c.prototype.shift=function(){var a;a=this.$u(0);h.prototype.shift.call(this);null !== a && this.Xt.m_(a);return a;};c.prototype.flush=function(){var a;a=this.get();this.Xt.m_(a);h.prototype.reset.call(this);return a;};c.prototype.get=function(){var a;a=this.QR();return {iM:this.oK(),p5:a,qT:a.kj?(a.Mk - a.Lk) / a.kj:void 0};};c.prototype.oK=function(){return this.Xt.oK();};c.prototype.QR=function(){return this.Xt.oK() < this.agb?{Lk:void 0,kj:void 0,Mk:void 0,iM:void 0,ti:void 0}:{Lk:this.Xt.Nr(25),kj:this.Xt.Nr(50),Mk:this.Xt.Nr(75),iM:this.Xt.oK(),ti:this.Xt.Nr.bind(this.Xt)};};c.prototype.toString=function(){return "biqr(" + this.TI + "," + this.dd + "," + this.Yi + ")";};d.exports=c;},function(d,b,a){var h,l;function c(a){this.H={SS:a.maxc || 25,lha:a.c || .5,RXb:a.w || 15E3,Nw:a.b || 5E3};h.call(this,this.H.RXb,this.H.Nw);this.DP();}h=a(142);l=a(228).TDigest;c.prototype=Object.create(h.prototype);c.prototype.shift=function(){var a;a=this.$u(0);h.prototype.shift.call(this);null !== a && (this.ye.push(a,1),this.cq=!0);return a;};c.prototype.flush=function(){var a;a=this.get();this.ye.push(a,1);this.cq=!0;h.prototype.reset.call(this);return a;};c.prototype.get=function(){return this.URa();};c.prototype.sx=function(){var a;a=this.URa();return {min:a.min,p10:a.f5,p25:a.Lk,p50:a.kj,p75:a.Mk,p90:a.g5,max:a.max,centroidSize:a.Xmb,sampleSize:a.iM,centroids:a.Uh};};c.prototype.URa=function(){var a;if(0 === this.ye.size())return null;a=this.ye.ti([0,.1,.25,.5,.75,.9,1]);if(a[2] === a[4])return null;if(this.cq || !this.Le)(this.cq=!1,this.Le={min:a[0],f5:a[1],Lk:a[2],kj:a[3],Mk:a[4],g5:a[5],max:a[6],ti:this.ye.ti.bind(this.ye),Xmb:this.ye.size(),iM:this.ye.n,Uh:this.Mxb(),sx:this.sx.bind(this)});return this.Le;};c.prototype.Mxb=function(){var a;if(0 === this.ye.size())return null;if(!this.cq && this.Le)return this.Le.centroids;a=this.ye.ti([.25,.75]);if(a[0] === a[1])return null;this.ye.size() > this.H.SS && this.ye.Zw();a=this.ye.eo(!1).map(function(a){return {mean:a.Bf,n:a.n};});return JSON.stringify(a);};c.prototype.QRa=function(){return this.ye.summary();};c.prototype.size=function(){return this.ye.size();};c.prototype.toString=function(){return "btdtput(" + this.TI + "," + this.dd + "," + this.Yi + "): " + this.ye.summary();};c.prototype.DP=function(){this.ye=new l(this.H.lha,this.H.SS);};d.exports=c;},function(d,b,a){var h,l;function c(a){this.H={SS:a.maxc || 25,lha:a.c || .5,dOb:a.rc || "none",gBb:a.hl || 7200};this.DP();this.Bhb=this.H.dOb;this.$O=this.H.gBb;this.Qca=Math.exp(Math.log(2) / this.$O);this.Qca=Math.max(this.Qca,1);this.QY=1;}h=a(8);l=a(228).TDigest;new (a(3)["default"].Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.sd=function(){var a;if(0 === this.ye.size())return null;a=this.ye.ti([.25,.75]);if(a[0] === a[1])return null;this.ye.size() > this.H.SS && this.ye.Zw();a=this.ye.eo(!1).reduce((function(a,b){h.qa(b.Bf) && h.qa(b.n) && a.push({mean:b.Bf,n:b.n / this.QY});return a;}).bind(this),[]);return {tdigest:JSON.stringify(a)};};c.prototype.ue=function(a){var b;if(h.ab(a) || !h.has(a,"tdigest") || !h.te(a.tdigest))return !1;try{b=JSON.parse(a.tdigest);}catch(k){return !1;}b.forEach(function(a){h.isFinite(a.n) || (a.n=1);});a=b.map(function(a){return {Bf:a.mean,n:a.n};});this.QY=1;this.ye.Iqa(a);void 0 === this.ye.ti(0) && this.DP();};c.prototype.get=function(){var a,b;a=this.ye;b=a.ti([0,.1,.25,.5,.75,.9,1]);return {min:b[0],f5:b[1],Lk:b[2],kj:b[3],Mk:b[4],g5:b[5],max:b[6],Uh:a.eo(!1)};};c.Gzb=function(a){var b;b=new c({});h.ab(a) || h.Y(a) || !h.isArray(a.Uh) || (b.ye.Iqa(a.Uh),void 0 === b.ye.ti(0) && b.DP());a=b.ye.ti([.25,.75]);return a[0] === a[1]?null:function(a){return b.ye.ti(a);};};c.prototype.add=function(a){var b;b=1;"ewma" === this.Bhb && (this.QY=b=this.QY * this.Qca);this.ye.push(a,b);};c.prototype.toString=function(){return "TDigestHist(" + this.ye.summary() + ")";};c.prototype.DP=function(){this.ye=new l(this.H.lha,this.H.SS);};d.exports={IEa:c};},function(d){(function(){var k00;k00=2;for(;k00 !== 8;){switch(k00){case 2:b.prototype.start=function(a){var m00;m00=2;for(;m00 !== 1;){switch(m00){case 2:this.xe?a < this.xe?(this.zz+=this.xe - a,this.xe=a):a > this.eb && (this.eb=this.xe=a):this.eb=this.xe=a;m00=1;break;}}};b.prototype.stop=function(a){var n00;n00=2;for(;n00 !== 1;){switch(n00){case 2:this.eb && a > this.eb && (this.zz+=a - this.eb,this.eb=a);n00=1;break;}}};b.prototype.add=function(a,b,d){var o00;o00=2;for(;o00 !== 4;){switch(o00){case 2:this.start(b);this.stop(d);this.zc+=a;o00=4;break;}}};k00=4;break;case 4:b.prototype.get=function(){var p00;p00=2;for(;p00 !== 1;){switch(p00){case 2:return {Ca:this.zz?Math.floor(8 * this.zc / this.zz):null,N0:this.zz?this.zz:0};break;}}};d.exports=b;k00=9;break;case 9:var N24="1";N24+="SIY";N24+="bZrN";N24+="JCp9";N24;k00=8;break;}}function b(){var l00;l00=2;for(;l00 !== 5;){switch(l00){case 2:this.zz=this.zc=0;this.eb=this.xe=void 0;l00=5;break;}}}})();},function(d,b,a){var c,h,l,m,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.sya=b.fX=void 0;c=a(0);h=c.__importStar(a(8));l=c.__importDefault(a(3));m=a(859);f=a(860);k=(function(){return function(){this.gJ=new f.mO(100);this.K4=new f.mO(100);};})();d=(function(){function a(a,b,c){var f,d,k;this.H=b;this.G=c;this.LZ=a;f=this.xD=this.SH=this.RH=0;d=0;k=0;this.LZ.length >= this.H.y4 && (this.LZ.forEach(function(a){!(a=a.get().rwb) || h.Y(a.avtp) || h.Y(a.neuhd) || (f+=a.avtp,d+=1 * a.neuhd,k++);}),this.xD=k,this.RH=f / k,this.SH=d / k);}Object.defineProperties(a.prototype,{mKa:{get:function(){return this.RH;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nKa:{get:function(){return this.SH;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fRb:{get:function(){return this.xD;},enumerable:!1,configurable:!0}});a.prototype.t3=function(){return this.xD >= this.H.y4 && this.RH >= this.H.baselineHighAndStableThreshold.bwThreshold && this.SH < this.H.baselineHighAndStableThreshold.nethreshold;};return a;})();b.fX=d;d=(function(a){function b(b,c,f){b=a.call(this,b,c,f) || this;b.Cca=[];b.vvb={};b.T2a=[];b.bx=new k();b.LZ.length >= b.H.y4 && (b.BIa("avtp",b.bx.gJ),b.BIa("neuhd",b.bx.K4));return b;}c.__extends(b,a);b.prototype.t3=function(){var a;this.Fzb();a=new m.Rza(this.G,this.T2a,this.Blb);a.pqa(this.Cca);a=a.Dnb(this.H.M2.B8b);return this.RWb && 1 === a && this.xD >= this.H.y4;};b.prototype.JR=function(){var a,b,c,f;a={};b=l["default"].time.now();c=new Date(b);f=c.getHours();a.currentMonoTime=b;a.currentTime=c.getTime();a.currentHour=f;return a;};b.prototype.uQa=function(a,b,c){a="avtp" === a?this.RH:this.SH;for(var f=b.Q_(),d=0,k="skew" === c?3:4,q=0;q < b.sf.length;q++){h.Y(a) || h.Y(f) || (d+=Math.pow(b.sf[q] - a,k));}d/=b.sf.length;return !h.Y(f) && 0 < f?d / Math.pow(f,k) - 3 * ("skew" === c?0:1):NaN;};b.prototype.GQa=function(a,b,c){var f;f=0;"lte" === c?f=a.reduce(function(a,c){return c <= b?a + 1:a;},0) / (1 * a.length):"gte" === c && (f=a.reduce(function(a,c){return c >= b?a + 1:a;},0) / (1 * a.length));return f;};b.prototype.qzb=function(a){var b,c;b=a.Nr(25);c=a.Nr(50);a=a.Nr(75);return h.Y(b) || h.Y(c) || h.Y(a)?NaN:0 < c?(a - b) / c:NaN;};b.prototype.Dxb=function(a,b){a="avtp" === a?this.RH:this.SH;b=b.Q_();return !h.Y(b) && !h.Y(a) && (0 < b || 0 < a) && 0 < a?(a - b) / (a + b):NaN;};b.prototype.QR=function(a,b){a=a.Nr(b);return h.Y(a)?NaN:a;};b.prototype.normalize=function(a,b,c){return !isNaN(a) && 0 < c?(a - b) / c:NaN;};b.prototype.Fzb=function(){var a,b,c,f,d,k,q,m,l,v,g,n;a=this;b=this.H.M2.$Ua.f7b;c=this.H.M2.$Ua.d7b;f=this.H.M2.$Ua.e7b;m=[];n=0;this.RWb=!Object.keys(b).some(function(r){var u;g=NaN;if(!(b.hasOwnProperty(r) && c.hasOwnProperty(r) && f.hasOwnProperty(r) && !h.Y(a.bx) && a.bx.gJ && a.bx.K4) || 1 > a.xD || "number" !== typeof b[r] || "number" !== typeof c[r] || "number" !== typeof f[r])return !0;d=b[r];k=c[r];q=f[r];m=r.split("_",2);l=m[0];v=m[1];switch(l){case "avtp":u=a.bx.gJ;break;case "neuhd":u=a.bx.K4;break;default:u=void 0;}if("avtp" === l || "neuhd" === l){if(u)switch(v){case "last":g=u.sf[a.xD - 1];break;case "mean":g="avtp" === l?a.RH:a.SH;break;case "niqr":g=a.qzb(u);break;case "skew":g=a.uQa(l,u,"skew");break;case "kurtosis":g=a.uQa(l,u,"kurtosis");break;case "std":g=u.Q_();break;case "b":g=a.Dxb(l,u);break;default:-1 !== r.search("[p][1-9]?[1-9]") && (g=a.QR(u,Number(r.split("_p",2)[1])));}}else switch(r){case "fracAbove20Mbps":u=a.bx.gJ;g=h.Y(u)?NaN:a.GQa(u.sf,2E4,"gte");break;case "fracBelow20p":u=a.bx.K4;g=h.Y(u)?NaN:a.GQa(u.sf,.15,"lte");break;case "hour_current":g=a.JR().currentHour;break;case "session_ct":g=a.xD;break;case "intercept":(g=d,a.Blb=g);}g=a.normalize(g,k,q);if(isNaN(g))return !0;"intercept" !== r && (a.Cca.push(g),a.T2a.push(d),a.vvb[r]=n,n+=1);});};b.prototype.BIa=function(a,b){this.LZ.forEach(function(c){c=c.get().rwb;!c || "avtp" !== a && "neuhd" !== a || h.Y(c[a]) || b.m_(Number(c[a]));});};return b;})(d);b.sya=d;},function(d,b,a){var h,l,m,f;function c(a){return function(){for(var b=Array(this.length),c=0;c < this.length;++c){b[c]=a.call(this,c);}return b;};}Object.defineProperties(b,{__esModule:{value:!0}});b.skb=b.NS=b.lca=b.UEa=void 0;d=a(0);h=a(5);d=d.__importDefault(a(3));l=a(21);m=new d["default"].Console("FRAGMENTS","media|asejs");f=(function(){function a(a,b){this.Dc=a;this.wj=b;}Object.defineProperties(a.prototype,{index:{get:function(){return this.wj;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yh:{get:function(){return new l.T(this.Ra,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.Dc.QZ + this.Dc.Dz[this.wj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jb:{get:function(){return this.Ra + this.Dc.Wp[this.wj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rq:{get:function(){return this.Dc.Wp[this.wj];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wa:{get:function(){return this.Dc.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Dc.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return Math.floor(1E3 * this.Ra / this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return Math.floor(1E3 * (this.Ra + this.rq) / this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.sa - this.X;},enumerable:!1,configurable:!0}});a.prototype.toJSON=function(){return {startPts:1E3 * this.Ra / this.wa.S,endPts:1E3 * this.jb / this.wa.S,duration:1E3 * this.rq / this.wa.S,index:this.index};};return a;})();b.UEa=f;a=(function(){function a(a,b,c,f){this.I=a;this.length=c.Zd.length;this.jl=c.S;this.Wp=c.Zd;this.o_=f && f.QL;this.dJa=f && f.hM;this.mI=b;this.Ota=this.Pta=this.jHa=void 0;this.QZ=c.Tk;this.Dz=new Uint32Array(this.length + 1);if(this.length){for(b=a=0;b < this.length;++b){this.Dz[b]=a;a+=this.Wp[b];}this.Dz[b]=a;this.Pca=Math.floor((this.sa - this.X) / this.length);}}Object.defineProperties(a.prototype,{Tk:{get:function(){return this.e2a(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Uia:{get:function(){return this.e2a(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.pj(0);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return this.pj(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cs:{get:function(){return new l.T(this.Uia,this.S);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{joa:{get:function(){return this.jHa || this.Tdb();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wa:{get:function(){return this.mI;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.jl;},enumerable:!1,configurable:!0}});a.prototype.e2a=function(a){return this.QZ + this.Dz[a];};a.prototype.pj=function(a){return Math.floor(1E3 * (this.QZ + this.Dz[a]) / this.S);};a.prototype.Via=function(a){return this.pj(a + 1);};a.prototype.Zd=function(a){return this.Via(a) - this.pj(a);};a.prototype.get=function(a){return new f(this,a);};a.prototype.sm=function(a,b,c){if(0 === this.length || a < this.pj(0))return -1;a=Math.max(a,b || 0);for(var f=0,d=this.length - 1,k,q;d >= f;){if((k=f + (d - f >> 1),q=this.pj(k),a < q))d=k - 1;else if(a >= q + this.Zd(k))f=k + 1;else {for(;b && k < this.length && this.pj(k) < b;){++k;}return k < this.length?k:c?this.length - 1:-1;}}return c?this.length - 1:-1;};a.prototype.r1=function(a,b,c){a=this.sm(a,b,c);return 0 <= a?this.get(a):void 0;};a.prototype.Aha=function(a,b){var c,f;c=Math.floor(b * this.S / 1E3);b=Math.min(a + Math.ceil(b / this.Pca),this.length);f=this.Dz[b] - this.Dz[a];if(f > c){for(;f >= c;){--b;f-=this.Wp[b];}return b - a + 1;}for(;f < c && b <= this.length;){f+=this.Wp[b];++b;}return b - a;};a.prototype.subarray=function(b,c){h.assert(void 0 === b || 0 <= b && b < this.length);h.assert(void 0 === c || c > b && c <= this.length);return new a(this.I,this.wa,{S:this.S,Tk:this.QZ + this.Dz[b],Zd:this.Wp.subarray(b,c)},this.o_ && ({QL:this.o_.subarray(b,c + 1),hM:this.dJa}));};a.prototype.forEach=function(a){for(var b=0;b < this.length;++b){a(this.get(b),b,this);}};a.prototype.map=function(a){for(var b=[],c=0;c < this.length;++c){b.push(a(this.get(c),c,this));}return b;};a.prototype.reduce=function(a,b){for(var c=0;c < this.length;++c){b=a(b,this.get(c),c,this);}return b;};a.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.Pca};};a.prototype.dump=function(){var b;m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.Pca + "ms");for(var a=0;a < this.length;++a){b=this.get(a);m.trace("TrackFragments: " + a + ": [" + b.X + "-" + b.sa + "]");}};a.prototype.Tdb=function(){for(var a=0,b=0;b < this.length;b++){a=Math.max(this.Wp[b],a);}return this.jHa=a;};return a;})();b.lca=a;b.NS=c;a.prototype.d2a=c(a.prototype.pj);b.skb=function(a){return "[" + Array(a.length).map(function(b,c){return a[c].toString();}).join(",") + "]";};},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fva=void 0;c=a(865);h=a(21);a(5);l=a(70);d=(function(){function a(a,b,c){this.H=b;this.G=c;this.uh=a.track;this.qib=a.Yf;this.Px=a.Px;this.Bfb=-1 === this.profile.indexOf("none");this.oI=this.La=void 0;b=a.Hu;this.Hu=void 0 === b?!0:b;this.J0=a.J0;this.lI=void 0;this.lHa=this.Mf=0;this.url=this.YF=this.Nc=this.Yq=this.Ina=this.location=this.Ka=this.kb=void 0;this.JA=!1;this.ana=this.Ce=void 0;a=this.H && "object" === typeof this.H.rZa && this.H.rZa[this.profile];"object" === typeof a && (a=a[this.U]) && (this.wP=new h.T(a.ticks,a.timescale));}Object.defineProperties(a.prototype,{se:{get:function(){return ! !this.La;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{N:{get:function(){return this.uh.N;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fa:{get:function(){return this.N.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return this.uh.u;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{I:{get:function(){return this.uh.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wa:{get:function(){return this.uh.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.uh.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sL:{get:function(){return this.uh.sL;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ya:{get:function(){return this.uh.Ya;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.uh;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Yf:{get:function(){return this.qib;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Da:{get:function(){return this.Px.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.Da;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Iu:{get:function(){return this.Bfb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{U:{get:function(){return this.Px.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tb:{get:function(){return this.Px.vmaf || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{IPb:{get:function(){return this.Px.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{f6:{get:function(){return this.Px.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Px.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yg:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Zs:{get:function(){return this.Px.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Cd:{get:function(){return this.wP;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.La;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{g4:{get:function(){return this.La && this.La.g4;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Uja:{get:function(){return this.uh.Uja;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tja:{get:function(){return this.uh.Tja;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{uu:{get:function(){return void 0 !== this.lI?this.lI:this.bEb();},set:function(a){this.lI=a;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xs:{get:function(){return this.Hu && !this.JA;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Dh:{get:function(){return this.oI;},enumerable:!1,configurable:!0}});a.prototype.Jj=function(){return this.N.Jj(this.I,this.Da);};a.prototype.d2=function(){var a;a=this.Jj();return a && a.stream.$;};a.prototype.AG=function(a){return this.N.AG(this,a);};a.prototype.xpa=function(){this.track.xpa();};a.prototype.Z4=function(a,b,d,m,r,l,h){m && void 0 !== m.Tk && (this.track.se || void 0 !== m.Zd && m.Zd.length) && void 0 !== m.offset && void 0 !== m.sizes && m.sizes.length?(this.H.$i && this.Cd && 0 === m.Tk && (m.Tk+=this.Cd.Ge(m.S).xb),this.oI=a,this.se || (this.track.Z4(this,b,d,m,l),this.La=new c.sEa(this.track.Nl,m,r,l,h,this.u),this.track.QJb(this))):m?this.G.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== m.Tk) + "," + this.track.se + "," + this.track.Gia + "," + (void 0 !== m.Zd) + "," + !(!m.Zd || !m.Zd.length) + "," + (void 0 !== m.offset) + "," + (void 0 !== m.sizes) + "," + !(!m.sizes || !m.sizes.length)):this.G.error("AseStream.onHeaderReceived: fragmentsData was undefined.");};a.prototype.j0=function(a){this.se || (this.track.Gob(a.track),this.La=a.$,this.oI=a.Dh);};a.prototype.ej=function(a){return new l.Lh(this,this.$.get(a));};a.prototype.FQa=function(a){var b;b=this.ej(a.index);a.xa && (b.ei(a.xa),b.GU(a.$s));return b;};a.prototype.b4a=function(a,b){this.Mf=a;this.lHa=b;};a.prototype.Inb=function(){this.Ka=this.kb=this.Nc=this.location=this.url=void 0;};a.prototype.toJSON=function(){return {movieId:this.u,mediaType:this.I,streamId:this.Da,bitrate:this.U,streamIndex:this.Yf,isAvailable:this.Hu,fittable:this.uu,vmaf:this.tb,resolutionWidth:this.IPb,resolutionHeight:this.f6};};a.prototype.toString=function(){return (0 === this.I?"a":"v") + ":" + this.Da + ":" + this.U;};a.prototype.bEb=function(){var a,b,c,d,r;if(!this.se)return !0;if(this.track.Tla >= this.U)return this.lI=!0;if(this.track.YUa <= this.U)return this.lI=!1;r=this.La.omb(this.H.eT,this.Mf,null !== (b=null === (a=this.N) || void 0 === a?void 0:a.HB.da) && void 0 !== b?b:0,null !== (d=null === (c=this.N) || void 0 === c?void 0:c.HB.ba) && void 0 !== d?d:0,this.lHa);if(r){if(!this.track.Gia || this.Iu)this.track.Tla=this.U;}else this.track.YUa=this.U;return this.lI=r;};return a;})();b.fva=d;},function(d){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,b,d){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),d * a.byteLength / a.length);}:function(a,b,d){a.set(b,d);};d.exports={from:function(a,b,d,l){a=new a(b.length);for(var c="function" === typeof d,f=0;f < b.length;++f){a[f]=c?d.call(l,b[f],f,b):b[f];}return a;},set:b};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){var b;b=null !== a && a.apply(this,arguments) || this;b.H1=1536;return b;}c.__extends(b,a);b.Jc=!0;return b;})(a(171)["default"]);b["default"]=d;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.cf="ac-3";return b;})(d);b.v5a=a;d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.cf="ec-3";return b;})(d);b.G8a=d;},function(d,b,a){var c,h,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(96);d=a(28);l=h.laa;d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.ng();this.fileSize=this.M.Sj();this.S=this.M.Sj();this.duration=this.M.Sj(!1,!0);this.wJb=this.M.Sj();this.M.Sj();this.AJb=this.M.Sj();this.FIb=this.M.Ub();this.xJb=this.M.Sj();this.mwb=this.M.Ub();this.M.Q5();this.Qk={moof:{offset:this.wJb},sidx:{offset:this.xJb,size:this.mwb}};this.Qk[h.UAa]={offset:this.AJb,size:this.FIb};this.M.offset - this.startOffset <= this.length - 24 && (this.zJb=this.M.Sj(),this.tIb=this.M.Ub(),this.yJb=this.M.Sj(),this.sIb=this.M.Ub(),this.Qk[h.zX]={offset:this.zJb,size:this.tIb},this.Qk[h.yX]={offset:this.yJb,size:this.sIb});return !0;};b.cf=l;b.Jc=!1;return b;})(d.rg);b["default"]=d;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(96);a=a(28);h=d.maa;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a,d,r;this.ng();1 <= this.version && this.M.Q5();a=this.M.Ub();this.Qk={};for(var b=this.startOffset + this.length,c=0;c < a;++c){d=this.M.xB();"uuid" === d && (d=this.M.Q5());r=this.M.Sj();this.Qk[d]={offset:b,size:r};b+=r;}return !0;};b.cf=h;b.Jc=!1;return b;})(a.rg);b["default"]=a;},function(d){var b,a,c,h;b={name:"heaac-2-dash reset sample",profile:53,Or:2,sampleRate:24E3,duration:1024,wy:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,Or:2,sampleRate:24E3,duration:1024,wy:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,Or:6,sampleRate:48E3,duration:1536,wy:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};h={name:"ddplus-2.0-dash standard sample",profile:57,Or:2,sampleRate:48E3,duration:1536,wy:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};d.exports={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":h},reset:{"heaac-2-dash":b,"heaac-2hq-dash":b},"heaac-2-dash":b,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":h};},function(d,b,a){var c,h,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(28);l=a(81);d=(function(a){function b(b,c,f,d,m){f=a.call(this,f,d,m) || this;f.Olb=b;f.JM=c;f.$c={};return f;}c.__extends(b,a);b.prototype.parse=function(a){var b,c,f,d,k,m;this.offset=0;b=[];for(a=a || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){c=this.offset;f=this.Ub();if(0 === f)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};d=l.kz(this.Ub());if(null === d)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === d){if(16 > this.view.byteLength - this.offset)break;d=this.Q5();}if(0 === b.length && this.JM.IPa(d,c,f))break;if(c + f > this.view.byteLength)break;k=this.Olb[d];m=void 0;if(k){if((m=new k(this,d,c,f,b[0]),(b[0] || this).WP(m),m.parse(a)))this.config.Ipa && k.Jc?b.unshift(m):this.offset=c + f;else return {done:!1,offset:this.offset,error:"parse error in " + d + " box"};}else this.offset=c + f;for(;b.length && this.offset > b[0].byteOffset + b[0].wF - 8;){m=b.shift();if(!m.bK(a))return {done:!1,offset:this.offset,error:"finalize error in " + m.type + " box"};this.offset=m.byteOffset + m.wF;}if(0 === b.length && this.JM.SNa(d,c,f,m))break;}return !this.JM.done && (a=this.JM.endOffset?this.JM.endOffset - this.view.byteLength:4096,0 < a)?{done:!1,offset:this.offset,EWa:a}:{done:!0,offset:Math.min(this.JM.endOffset || Infinity,this.offset)};};b.prototype.WP=function(a){h.rg.WP(this,a);};return b;})(a(885).edb);b.x8=d;},function(d,b,a){var h;function c(a,b){a=b.indexOf(a);-1 !== a && b.splice(a,1);}Object.defineProperty(b,"__esModule",{value:!0});h=a(96);d=(function(){function a(a){this.endOffset=a;this.done=!1;}a.prototype.IPa=function(){return this.done;};a.prototype.SNa=function(a,b,c){return this.done=b + c >= this.endOffset;};return a;})();b.Lwa=d;d=(function(){function a(a,b,c,d){void 0 === b && (b=[]);void 0 === c && (c=[]);void 0 === d && (d=!1);this.Vs=a;this.H0=b;this.O2a=c;this.lYa=d;this.done=!1;this.Qk={};}a.prototype.IPa=function(b,c,d){-1 !== a.MBb.indexOf(b) && (this.Qk[b]={offset:c,size:d});if(-1 !== this.O2a.indexOf(b)){if((this.Qk[b]={offset:c,size:d},this.lYa))this.endOffset=c + d;else return (this.endOffset=c,this.done=!0);}else this.Vs && -1 !== this.Vs.indexOf(b)?(b=1 < this.Vs.length?4096:0,this.endOffset=Math.max(c + d + b,this.endOffset || 0)):-1 !== this.H0.indexOf(b) && (b=this.Vs?4096:0,this.endOffset=Math.max(c + d + b,this.endOffset || 0));return this.done;};a.prototype.SNa=function(a,b,d,q){var f;f=this;if(-1 !== this.O2a.indexOf(a))return this.done=!0;a === h.laa && this.j1a(q.Qk);a === h.maa && this.j1a(q.Qk);this.Vs && c(a,this.Vs);c(a,this.H0);return this.Vs && 0 === this.Vs.length && !this.H0.some(function(a){return f.Qk[a];})?this.done=!0:this.done;};a.prototype.j1a=function(a){var b;b=this;this.Qk=a;this.endOffset=(this.Vs || []).concat(this.H0).reduce(function(a,c){return b.Qk[c]?(c=b.Qk[c],Math.max(c.offset + (c.size || 4096),a)):a;},this.endOffset || 0);};a.MBb=["moov","sidx"];return a;})();b.u9a=d;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Wba=void 0;c=a(0);h=a(95);a(5);c.__importDefault(a(37));d=(function(){function a(a,b,c,d){this.S=c;this.Zd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.zc=d;}Object.defineProperties(a.prototype,{ba:{get:function(){return void 0 !== this.zc?this.zc:this.zc=this.Xca();},enumerable:!1,configurable:!0}});a.prototype.subarray=function(b,c){return new a(this.Zd.subarray(b,c),this.sizes.subarray(b,c),this.S);};a.prototype.concat=function(){var f,b,d,q;for(var b=[],f=0;f < arguments.length;f++){b[f]=arguments[f];}f=[this];b=f.concat.apply(f,c.__spread(b));f=b.reduce(function(a,b){return a + b.length;},0);d=new Uint32Array(f);q=new Uint32Array(f);f=b.reduce(function(a,b){return a || b.S;},void 0);b.reduce(function(a,b){h.rca.set(d,b.Zd,a);h.rca.set(q,b.sizes,a);return a + b.length;},0);return new a(d,q,f);};a.prototype.Xca=function(){for(var a=this.sizes,b=this.length,c=0,d=0;d < b;++d){c+=a[d];}return c;};return a;})();b.Wba=d;},function(d,b,a){var c,h,l,m,f,k,q,v,r,u;Object.defineProperties(b,{__esModule:{value:!0}});b.h8=void 0;c=a(0);h=a(95);d=a(16);l=c.__importDefault(a(25));m=c.__importDefault(a(3));f=a(9);k=a(38);q=a(5);v=a(244);r=a(408);a=a(409);u=m["default"].MediaSource;a=(function(a){function b(b,c,f,d,k,q,m){c=a.call(this,b,d,k,c,m) || this;r.XV.dTa(c,b,d,m);c.Dl=f;c.track=f.track;c.tu=! !d.tu;c.uL=! !d.uL;c.kA=! !d.kA;c.yKb=d.ba;c.BM=! !d.BM;c.Qda=(q?"(cache)":"") + c.Da + " header";c.MI(b.url || d.url,d.offset,d.ba);return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{wc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{k5:{get:function(){return this.ghb;},enumerable:!1,configurable:!0}});b.prototype.dc=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.dc.call(this);};b.prototype.yR=function(b){this.stream.xpa();a.prototype.yR.call(this,b);};b.prototype.Oj=function(b){this.Vp=this.Vp?f.$z(this.Vp,b.response):b.response;b.aU();this.dhb()?a.prototype.Oj.call(this,b):this.GFa?(this.MI(b.url,b.offset + b.ba,this.GFa),a.prototype.Oj.call(this,b)):this.E1(this);};b.prototype.MI=function(a,b,c){a=new v.pN(this.stream,this.track,this.Qda + " (" + this.ya.length + ")",{offset:b,ba:c,url:a,location:this.location,Zb:this.Zb,responseType:0},this,this.rd,this.G);this.push(a);this.zc=this.ya.reduce(function(a,b){return a + b.ba;},0);};b.prototype.dhb=function(){var a,c,d;a=this.rd;c=new h.Zy(b.eIb,this.stream,this.Vp,["sidx"],this.I === l["default"].Ua.VIDEO && a.RJ || this.I === l["default"].Ua.AUDIO,{d9b:this.stream.track.Gia,jYa:void 0 === this.wa,E3a:!u.Yb || !u.Yb.NLa,Cta:a.Cta,$i:a.$i,$M:this.rd.$M,WPb:!0,O6:!u.Yb || !u.Yb.AWa});d=c.parse({wa:this.wa});this.aXb=a.$M && c.FBb;d.mB?(q.assert(d.Dh),this.oI=d.Dh,this.ghb=d.k5,this.pGa=! !d.Fub,void 0 === this.wa && void 0 === d.wa && this.G.error("No frame duration available for " + this.Da),c=d.wa?new f.T(d.wa):this.wa,this.stream.Z4(d.Dh,d.S,c,d.$,d.rL,d.Zi,a.nB && a.nB.enabled?d.YB:void 0),this.Vp=void 0):this.GFa=d.Ljb || 0;return ! !d.mB;};b.eIb=new m["default"].Console("MP4","media|asejs");return b;})(a.e8);b.h8=a;k.af(r.XV,a,!1,!1);k.af(d.EventEmitter,a);},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.XV=void 0;c=a(0);h=a(5);l=a(172);d=(function(a){function b(c,f,d){var k;k=a.call(this,c,f) || this;k.BM=!1;k.tu=!1;k.uL=!1;k.kA=!1;k.Dl=void 0;b.dTa(k,c,f,d);return k;}c.__extends(b,a);b.dTa=function(a,b,c,f){l.tt.$a(a,b,c);a.oI=c.Dh;a.Vp=c.Lpa;a.pGa=c.zk;a.G=f;};Object.defineProperties(b.prototype,{wc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Dh:{get:function(){return this.oI;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Lpa:{get:function(){return this.Vp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zk:{get:function(){return this.pGa;},enumerable:!1,configurable:!0}});b.prototype.dc=function(){};b.prototype.D7=function(){};b.prototype.Sjb=function(a){h.assert(this.Yc.Da === a.Da);!a.se && this.Yc.se && a.j0(this.Yc);!a.location && this.Yc.location && (a.location=this.Yc.location,a.Nc=this.Yc.Nc,a.YF=this.Yc.YF,a.url=this.Yc.url,a.kb=this.Yc.kb);this.Yc=a;};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.$});};return b;})(l.tt);b.XV=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.e8=void 0;c=a(0);c.__importDefault(a(3));a(5);d=(function(a){function b(b,c,d,q,l){b=a.call(this,b,c,d,q,l) || this;b.zGa=!1;b.yGa=!1;b.YO=!1;b.ya=[];b.$t=!1;b.BHa=!1;b.WGa=!1;b.pd=!1;b.Og=!1;b.le=!1;b.LH=!1;b.sI=void 0;b.Ut=void 0;return b;}c.__extends(b,a);Object.defineProperties(b.prototype,{Pma:{get:function(){return this.$t && !this.YO;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.pd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vqa:{get:function(){return this.Og;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.le || (this.le=this.ya.every(function(a){return a.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fr:{get:function(){return this.LH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fi:{get:function(){return this.ya.reduce(function(a,b){return a + b.Fi;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{df:{get:function(){return this.ya.reduce(function(a,b){return a + b.df;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ud:{get:function(){return this.sI || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{url:{get:function(){return this.ya[0] && this.ya[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.Ng || this.ya.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return this.Ut && this.Ut.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zg:{get:function(){return this.Ut && this.Ut.zg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vE:{get:function(){return this.Ut && this.Ut.vE;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{si:{get:function(){return this.Ut && this.Ut.si;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mp:{get:function(){return ! !this.ya.length && this.ya[0].mp;},enumerable:!1,configurable:!0}});b.prototype.push=function(a){this.WGa && a.$a(this.Pa);this.ya.push(a);this.$t && a.Yu();};b.prototype.$a=function(b){a.prototype.$a.call(this,b);this.ya.forEach(function(a){return a.$a(b);});this.WGa=!0;};b.prototype.Yu=function(){this.BHa=!0;(this.$t=this.ya.every(function(a){return a.Yu();})) && this.yR(this);this.BHa=!1;return this.$t;};b.prototype.dc=function(){7 !== this.readyState && 5 !== this.readyState && (this.G.warn("AseCompoundRequest: in-progress request should be aborted before cleanup",this),this.abort());this.ya.forEach(function(a){return a.dc();});};b.prototype.cV=function(a){this.Ng=this.Ut=void 0;return this.ya.every(function(b){return 5 !== b.readyState && 7 !== b.readyState?b.cV(a):!0;});};b.prototype.abort=function(){var a,b;a=this.active;this.Ng=7;this.LH=!0;this.Og=this.pd=!1;b=this.ya.map(function(a){return a.abort();}).every(function(a){return a;});this.D1(this,a,this.Pma);return b;};b.prototype.getResponseHeader=function(a){var b;b=null;this.ya.some(function(c){return ! !(b=c.getResponseHeader(a));});return b;};b.prototype.getAllResponseHeaders=function(){var a;a=null;this.ya.some(function(b){return ! !(a=b.getAllResponseHeaders());});return a;};b.prototype.d5=function(){};b.prototype.ay=function(a){this.pd || (this.pd=!0);this.zGa || (this.zGa=!0,this.Gm=0,this.sI=this.Hm=a.ud,this.zE(this));};b.prototype.DL=function(a){this.Og || (this.Og=!0);this.yGa || (this.yGa=!0,this.sI=a.ud,this.sA(this));};b.prototype.EL=function(a){this.sI=a.ud;this.AE(this);this.Gm=this.df;this.Hm=a.ud;};b.prototype.Oj=function(a){this.sI=a.ud;this.complete?(this.le=!0,this.Ng=5,this.Og=this.pd=!1,this.YO=!0,this.hs(this)):this.AE(this);this.Gm=this.df;this.Hm=a.ud;};b.prototype.zT=function(a){this.sI=a.ud;this.Ut=a;this.Ng=6;this.E1(this);};b.prototype.yT=function(){};b.prototype.Dk=function(){return this.ya[0].Dk() + "-" + this.ya[this.ya.length - 1].Dk();};b.prototype.toString=function(){return "Compound[" + this.ya.map(function(a){return a.toString();}).join(",") + "]";};b.prototype.toJSON=function(){return {requests:this.ya};};return b;})(a(173).dC);b.e8=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wja=void 0;b.wja=function(a,b){for(var c,d,m=a.length - 1;0 <= m;--m){if((d=a[m],d.xs)){if(d.U <= b)return m;c=m;}}return c;};},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.WX=void 0;c=a(21);h=a(20);d=(function(){function a(a){this.Cd=a;}a.O_=function(a,b,d,q){var f;f=c.T.nb;b && (d=null === d || void 0 === d?void 0:d.q5b,a.PWb && void 0 !== d && 0 <= d?(a=new c.T(d,48E3),f=b.add(a),h.ma && q.trace("Adjusting profile timestamp offset of " + b + (" by DPI assumed delay of " + a) + (" for ASE applied offset of " + f + "."))):a.Lz && (f=b));return f;};a.prototype.append=function(a){return {Sd:a.Sd,offset:a.offset.add(this.Cd)};};return a;})();b.WX=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.I8=void 0;c=a(910);d=(function(){var q00;q00=2;for(;q00 !== 3;){switch(q00){case 2:a.prototype.JFa=function(a,b){var s00,f;s00=2;for(;s00 !== 14;){switch(s00){case 8:return b;break;case 4:var X24="appl";X24+="ying manifest based streaming";X24+="ClientConfig";return (a=f.streamingClientConfig,this.G.trace(X24 + JSON.stringify(a)),this.CHa(b,a));break;case 2:b=c.qMa(b,a);f=a.steeringAdditionalInfo;s00=5;break;case 5:s00=f && f.streamingClientConfig && Object.keys(f.streamingClientConfig).length?4:3;break;case 7:var P24="using sab cell >= 100, pipelineEn";P24+="abled:";P24+=" ";var a24="using sab c";a24+="ell >";a24+="= 200, pipelineEnabled:";a24+=" ";var U24=", ";U24+="all";U24+="owSwi";U24+="tchbac";U24+="k";var j24=", pr";j24+="obeD";j24+="e";j24+="tailDenominator: ";var w24="using sab cell >";w24+="= 300, prob";w24+="eServerWhenError: ";var h24=", a";h24+="llowSwitchbac";h24+="k";var S24=", p";S24+="robeDetail";S24+="Den";S24+="omi";S24+="nator: ";var E24="usi";E24+="ng sab cell >= 400, pr";E24+="o";E24+="beServerWhenError";E24+=": ";(a=a.sessionABTestCell) && (a=a.split(".")) && 1 < a.length && (a=parseInt(a[1].replace(/cell/i,""),10),400 <= a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!0})):(b.Os=!0,b.GF=1,b.Gw=!0),this.G.trace(E24 + b.Os + S24 + b.GF + h24 + b.Gw)):300 <= a?(b.set?(b.set({probeServerWhenError:!0}),b.set({probeDetailDenominator:1}),b.set({allowSwitchback:!1})):(b.Os=!0,b.GF=1,b.Gw=!1),this.G.trace(w24 + b.Os + j24 + b.GF + U24 + b.Gw)):200 <= a?(b.set?b.set({pipelineEnabled:!1}):b.wp=!1,this.G.trace(a24 + b.wp)):100 <= a && (b.set?(b.set({pipelineEnabled:!0}),b.set({maxParallelConnections:1}),b.set({maxActiveRequestsPerSession:b.a4}),b.set({maxPendingBufferLen:b.f4})):(b.wp=!0,b.eL=1,b.Nu=b.a4,b.aB=b.f4),this.G.trace(P24 + b.wp)));return b;break;case 3:a=a.cdnResponseData;s00=9;break;case 9:s00=!a?8:7;break;}}};a.prototype.Cdb=function(a,b){var t00;t00=2;for(;t00 !== 9;){switch(t00){case 2:t00=!b.xha || a === this.Ffb?1:5;break;case 5:this.Ffb=a;for(var c in b.xha){new RegExp(c).test(a) && (b=this.CHa(b,b.xha[c]));}return b;break;case 6:return b;break;t00=5;break;case 1:return b;break;}}};a.prototype.CHa=function(a,b){var u00,c,d,q;u00=2;for(;u00 !== 4;){switch(u00){case 2:for(d in b){if(b.hasOwnProperty(d)){var b24="I";b24+="nvalid ke";b24+="y";q=b[d];a.set?0 === a.set((c={},c[d]=q,c)) && this.G.trace(b24 + d):a[d]=q;}}return a;break;}}};return a;break;}}function a(a){var r00;r00=2;for(;r00 !== 5;){switch(r00){case 2:var d24="1";d24+="S";d24+="IYbZ";d24+="rNJ";d24+="Cp9";this.G=a;d24;r00=5;break;}}}})();b.I8=d;},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qza=b.sDa=void 0;c=a(0).__importDefault(a(3))["default"].Promise;h=(function(){function a(){var a;a=this;this.BZ=[];this.ZOb=function(b){b=a.BZ.indexOf(b);0 <= b && a.BZ.splice(b,1);};}Object.defineProperties(a.prototype,{Kz:{get:function(){return 0 !== this.BZ.length;},enumerable:!1,configurable:!0}});a.prototype.add=function(){var a;a=new l(this.ZOb);this.BZ.push(a);return a;};a.prototype.h5a=function(a){var b;b=this.add();try{return c.resolve(a()).then(function(a){b.release();return a;},function(a){b.release();return c.reject(a);});}catch(q){return (b.release(),c.reject(q));}};return a;})();b.sDa=h;l=(function(){function a(a){this.Dhb=a;}a.prototype.release=function(){this.Dhb(this);};return a;})();d=(function(){function a(a){this.eKb=a;this.bA=new h();}a.prototype.zw=function(){var a,b;a=this;b=this.bA.add();return {release:function(){b.release();a.eKb(function(){return !a.bA.Kz;});}};};return a;})();b.qza=d;},function(d,b,a){var c,h,l,m,f,k,q,v,r,u,B;Object.defineProperties(b,{__esModule:{value:!0}});b.sza=b.sO=void 0;c=a(0);d=a(16);h=c.__importStar(a(8));l=c.__importDefault(a(83));m=a(415);f=a(17);k=a(250);q=a(21);v=a(38);r=c.__importDefault(a(3));u=a(422);(function(a){a[a.HPa=0]="forwards";a[a.Xfa=1]="backwards";a[a.wL=2]="none";})(B=b.sO || (b.sO={}));a=(function(a){function b(b,c,f,d,k,r,l,m,h,v,B,g,y,A,n,p){var I,J;I=a.call(this,c,d,h.N,b,h,function(){return v;},y,q.T.$b(B),l.$d.bind(l),g,p,void 0,void 0,void 0) || this;I.Za=b;I.sh=f;I.Ib=k;I.YY=r;I.R=l;I.JI=m;I.Ef=g;I.FR=A;I.bg=n;I.Yl=p;I.active=!1;I.OGa=[];I.nea=0;I.children=Object.create(null);I.vv=[];I.Ld=void 0;void 0 === y && (y=q.T.$b(h.X));J=[I.H.Rfa,I.H.W6];v.forEach(function(a){var f,d;f=a.I;d=k.b2.bind(k,I,f);a=new u.lX(b,I.sh,I.G,I,a,y.da,J[f],c,I.YY,I.bg,I.eZ[f],null === g || void 0 === g?void 0:g.Va(f),d);I.Rh.Z0a(f,a);});I.vP=I.Rh.RT;return I;}c.__extends(b,a);Object.defineProperties(b.prototype,{u:{get:function(){return this.N.u;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Km:{get:function(){var a,b,c,f;return [null !== (b=null === (a=this.Va(0)) || void 0 === a?void 0:a.Km) && void 0 !== b?b:0,null !== (f=null === (c=this.Va(1)) || void 0 === c?void 0:c.Km) && void 0 !== f?f:0];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{So:{get:function(){var a,b,c,f;return [null !== (b=null === (a=this.Va(0)) || void 0 === a?void 0:a.So) && void 0 !== b?b:{da:0,ba:0},null !== (f=null === (c=this.Va(1)) || void 0 === c?void 0:c.So) && void 0 !== f?f:{da:0,ba:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{r6:{get:function(){return this.W.X;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{eqa:{get:function(){return this.r6 + this.Hd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pb:{get:function(){return this.W.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ee:{get:function(){return this.Pb + this.Hd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Mb:{get:function(){return this.N.Mb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{weight:{get:function(){return this.W.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{W:{get:function(){return this.xea;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ze:{get:function(){return this.Rh;},enumerable:!1,configurable:!0}});b.prototype.gg=function(){this.pk || (this.active=!1,this.Ef && (delete this.Ef.children[this.W.id],this.Ef=void 0),h.oe(this.children,function(a){a && a.Ef && (a.Ef=void 0);}),this.children=Object.create(null),this.XH=void 0,a.prototype.gg.call(this),this.Rh.clear());};b.prototype.vra=function(a,b){void 0 === b && (b=B.Xfa);this.Ze.forEach(function(b){(h.Y(a) || b.I === a) && b.reset();});switch(b){case B.Xfa:this.Ef && this.Ef.vra(a,b);break;case B.HPa:this.children && h.oe(this.children,function(c){c && c.vra(a,b);});}};b.prototype.uTa=function(a){var b,c,f;if(!this.active)return !1;b=this.Ef;if(b){c=b.Va(a);f=c.Pa.tYa;if(0 !== f && (b.eJ(a),f=c.Pa.tYa,0 !== f))return !1;}return !0;};b.prototype.gd=function(a){return this.Ze.Va(a);};b.prototype.HBb=function(){return this.Ze.every(function(a){return 0 === a.yB;});};b.prototype.toJSON=function(){return c.__assign(c.__assign({},a.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.Rc,playerEndPts:this.ee,pipelines:this.Ze,previousBranch:this.Ef});};b.prototype.v1a=function(a,b){this.N.W3a(this);this.Ec=this.W.N=a;this.ssa(this.N);this.N.g_a(this);this.Ze.forEach(function(a){var c;c=b[a.I];c && a.IU(c);});};b.prototype.Nzb=function(a){return this.Yl[a];};b.prototype.Va=function(a){return this.Ze.Va(a);};b.prototype.$zb=function(a){return this.Va(a).yB;};b.prototype.qsa=function(a,b,c){var f,d,k,q;f=this;d=this.W;a=this.P_(d.X,this.N,a,this.u === (a?a.u:this.Ib.pc.u));k=a.TL;q=a.nx;void 0 === b && (b=[0,1]);0 === q.length || b.forEach(function(a){var b,k;b=f.Va(a);c && (b.We=q[a]);k=f.uR(d.sa);b.E6(k[a]);});return k;};b.prototype.d_a=function(a,b){var c,f,d,k;c=this.Za;f=this.Va(0);void 0 === b && (b=f.RCb);this.Ef && (d=this.Ef.gd(0));k=this.Ib.b2.bind(this.Ib,this,0);c=new u.lX(c,this.sh,this.G,this,a,b,f.qM,this.H,this.YY,this.bg,this.eZ[0],d,k);this.Rh.replace(f,c);this.vP=this.Rh.RT;this.qsa(this.Ef,[0],!0);c.cG(b,! !this.Ef);f.gg();h.oe(this.children,function(b){b && b.d_a(a);});};b.prototype.gs=function(a,b){if(b=this.Va(b))return b.Pa.gs(a);};b.prototype.eJ=function(a){void 0 === a?this.Ze.forEach(function(a){a.eJ();}):this.Va(a).eJ();};b.prototype.TT=function(a,b,c){(a=this.Va(a)) && a.Pa.TT(b,c);};b.prototype.m2=function(a,b){(b=this.Va(b)) && b.Pa.m2(a);};b.prototype.xGb=function(a){this.OGa[a]=!0;};b.prototype.gnb=function(){var a;a=this;return [0,1].every(function(b){return !a.Mb(b) || a.OGa[b];});};b.prototype.enb=function(a,b,c,d){var q,l,m,h,v,u,B,g,y;q=this.H;l=this.Za;m=this.R.sd();h=m === f.oa.cd || m === f.oa.nf;if(!h && void 0 === c)return {wg:!0};if(m === f.oa.nf && r["default"].time.aa() < this.nea + q.lWa)return {wg:!1};v=this.Va(0);u=this.Va(1);B=this.Ib.ku(this,0);g=this.Ib.ku(this,1);y=k.y5(m);B=!v || v.qLa(y,this.R.$d(),b,B,this.R.xn(),d);g=!u || u.qLa(y,this.R.$d(),a,g,this.R.xn(),d);void 0 !== c && B && (c=c.Ya,a=this.N.getTrackById(c),this.Idb(c,a.WM),l.Lw=void 0);if(B && g)return (this.JI(),this.uQ=r["default"].time.aa(),m === f.oa.nf && (this.nea=r["default"].time.aa()),{wg:!0,Mr:u?u.TD:v.TD});B=this.dj(0);g=this.dj(1);if(h){l=!u || g > q.jj;if((!v || B > q.jj) && l && (v=this.FR(),v >= q.ky))return (this.yb("buffering longer than limit: " + v + " >= " + q.ky + ", audio buffer: " + B + " ms, video buffer: " + g + " ms"),this.JI(),this.uQ=r["default"].time.aa(),m === f.oa.nf && (this.nea=r["default"].time.aa()),{wg:!0,Mr:"prebufferTimeLimit"});this.sh.ogb();}return {wg:!1};};b.prototype.Mga=function(a,b){var c,f,d,k,q,r;c=this.H;f=this.Va(0);d=this.Va(1);b?(b=this.dj(0,a),a=this.dj(1,a)):(b=this.Ib.ku(this,0,a),a=this.Ib.ku(this,1,a));k=c.jj;q=!this.Mb(0) || f.ih && 0 === f.Pa.dy && 0 === f.Pa.cr;f=!this.Mb(1) || d.ih && 0 === d.Pa.dy && 0 === d.Pa.cr;r=q && f;c=!q && b < c.jj;if(!r && (c || !f && a < k))return !1;if(d && d.wg || !this.Mb(1))return !0;if(r)if(this.Za.yZ && 0 === b && 0 === a)this.yb("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};b.prototype.B6=function(a,b){var c,f;c=this;f=this.H;this.Ze.forEach(function(a){a.seeking=void 0;});a && f.Ah && this.Ze.forEach(function(a){var f;if(a){f=c.Ib.WD(c,a.I);a="bufferingComplete: , mediaType: " + a.I + ", bufferLevelBytes: " + a.So.ba + ", completedMs: " + a.sJ + ", completedBytes: " + f + ", partials: " + a.Pa.dy + ", streamingPts: " + a.ac + ", completeStreamingPts: " + a.Pr + ", fragments: " + JSON.stringify(a.Pa.$) + ", toAppend: " + b(a.I);c.sh.zl(a);}});};b.prototype.IB=function(a,b,c){var f,d,k;f=this;d=r["default"].time.aa();k={};h.oe(this.children,function(a){var b,c,q,r;if(a){a.Ld?(a.Ld.Atb=d - a.Ld.b3,a.Ld.b3=void 0,b=a.Ld.weight):b=f.Ib.BRa(f.W.id,a.W.id);c=a.hka();q=f.Va(0) && 0 === c.cu;r=f.Va(1) && 0 === c.Lp;k[a.W.id]={weight:b,kq:c,YR:!q && !r};}});c={requestTime:d,Sk:a,osb:c,P6:this.W.id,Ld:k};a || (a=b.$d(),c.DM=a - (this.W.X + this.Hd),c.DM=Math.max(0,c.DM),c.GJ=0,c.startTime=d);this.vv.unshift(c);return c;};b.prototype.eob=function(a){var b,c;b=this.vv[0];b.Sk && (b.DM=this.Pb - this.W.X,b.DM=Math.max(0,b.DM));b.C3a={};c=a.hka();l["default"](c,b.C3a);b.YR=a.So.every(function(a){return 0 < a.da;});this.vv=[];return b;};b.prototype.Uj=function(a){var b;b=this.W;a-=this.Hd;if(b.X < a && a < b.sa)this.vv.shift();else if(b=this.vv[0])b.Uj=!0;};b.prototype.P_=function(a,b,c,f){var d,k,q,r;d=this;void 0 === b && (b=this.N);k=!1;if(c){k=!0;q=c.Va(1).Tf;c=c.Va(0).Tf;if(!q || !c)return {TL:[],nx:[]};q=q.sa;f || (q=void 0);}r=this.kPa(a,q,k,b);b.sb === this.Ib.Brb && [1,0].forEach(function(a){var b;b=d.Va(a);b && (b.We=r[a]);});return {TL:r.map(function(a){return a.X;}),nx:r};};b.prototype.kPa=function(a,b,c,f){var d;d=this;void 0 === f && (f=this.N);return this.DIa(f)?[1,0].map(function(k){var q;if(!d.Mb(k))return {};q=f.Dg[k];k=d.Va(k).wn(q.stream,a,b,c);a=k.X;return k;}).reverse():[];};b.prototype.uR=function(a,b){var c;c=this;void 0 === b && (b=this.N);return this.DIa(b)?[1,0].map(function(f){var d;if(!c.Mb(f))return {};d=b.Dg[f].stream;f=c.Va(f).yE(d,a);a=c.H.Ig?new q.T(f.jb,d.wa.S).da:f.sa;return f;}).reverse():[];};b.prototype.hWb=function(a,b){var c;c=this.W.sa;c && c < b && (a=this.uR(c));b=this.gd(1);c=this.gd(0);b && b.E6(a[1]);c && c.E6(a[0]);};b.prototype.DIa=function(a){var b;b=a.Dg;if(!b)return !1;a=b[1];a=!this.Mb(1) || a && a.stream.se;b=b[0];b=!this.Mb(0) || b && b.stream.se;return a && b?!0:!1;};b.prototype.Idb=function(a,b){this.sh.mgb(a,b);};return b;})(m.y8);b.sza=a;v.af(d.EventEmitter,a);},function(d,b,a){var h,l,m,f,k,q,v,r,u,B,g,y,I,J;function c(a,b){return (1 === a.I?0:1) - (1 === b.I?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.y8=b.Ibb=void 0;h=a(0);l=a(16);m=a(416);f=a(94);k=a(177);q=a(942);v=a(17);r=a(943);u=a(9);B=a(5);g=a(21);y=h.__importDefault(a(3));d=a(120);I=a(38);J=a(945);b.Ibb={W9b:c};a=(function(a){function b(b,c,f,d,k,q,r,m,h,v,B,A,I,D){var S,n;n=a.call(this) || this;n.H=b;n.Ec=f;n.DLb=d;n.xea=k;n.RQa=q;n.PFa=m;n.afb=h;n.parent=v;n.Yl=B;n.Vca=A;n.oD=I;n.b2=D;n.Rh=new J.hCa([]);n.mea=!1;n.vr=!1;n.$Ga=0;n.TFa=n.HJb.bind(n);n.G=u.Ku(y["default"],c,k.id && k.id.length?"{" + k.id + "}":"");n.pf=n.G.error.bind(n.G);n.yb=n.G.warn.bind(n.G);n.kk=n.G.trace.bind(n.G);n.nS=null !== r && void 0 !== r?r:g.T.$b(n.W.X);n.Vta(n.nS.da,n.H.g7);n.events=new l.EventEmitter();null === (S=n.Vca) || void 0 === S?void 0:S.addListener(n.TFa);f && n.iTa(f);return n;}h.__extends(b,a);Object.defineProperties(b.prototype,{pk:{get:function(){return this.vr;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ks:{get:function(){return this.mea;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{W:{get:function(){return this.xea;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{SK:{get:function(){return this.cS && this.Rh.every(function(a){return a.SK;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{XI:{get:function(){return this.cS && this.Rh.every(function(a){return a.XI;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fw:{get:function(){return this.mK().reduce(function(a,b){return a + b.Fw;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Bn:{get:function(){return this.cS && this.mK().every(function(a){return a.Bn();});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dh:{get:function(){return this.mK().map(function(a){return a.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cS:{get:function(){return ! !this.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{N:{get:function(){B.assert(this.Ec,"Expected for viewable to exist");return this.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{S:{get:function(){return this.vP.S;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ra:{get:function(){return this.vP.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jb:{get:function(){return this.vP.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Rk:{get:function(){return this.Oo.Ge(this.S).xb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pS:{get:function(){return this.nS.add(this.Oo);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{x5:{get:function(){return this.W.Uk.add(this.Oo);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dqa:{get:function(){return this.W.cs.add(this.Oo);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{WEb:{get:function(){return this.Rh.reduce(function(a,b){return a && b.wi?g.T.max(a,b.wi):b.wi?b.wi:a;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mTa:{get:function(){return this.pS.da;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Hd:{get:function(){return this.Oo.da;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Oo:{get:function(){return this.PFa;},enumerable:!1,configurable:!0}});b.prototype.$a=function(a){a=a?this.iTa(a):this.RQa(this.N);this.fTa(a);};b.prototype.Rta=function(a){this.Oo.equal(a) || (this.PFa=a);};b.prototype.TR=function(a){return (a=this.Va(a))?a.TR():k.gC.tyb();};b.prototype.KRb=function(a){this.xea=a;};b.prototype.Tia=function(){this.mK().forEach(function(a){return a.Tia();});};b.prototype.SP=function(){this.Rh.forEach(function(a){return a.SP();});};b.prototype.gg=function(){var a,b;this.vr || (this.vr=!0,this.N.W3a(this),null === (a=this.EI) || void 0 === a?void 0:a.dc(),this.EI=void 0,this.Rh.forEach(function(a){a.gg();}),null === (b=this.Vca) || void 0 === b?void 0:b.removeListener(this.TFa),this.events.removeAllListeners());};b.prototype.uTa=function(){return !0;};b.prototype.Va=function(a){return this.Rh.Va(a);};b.prototype.mK=function(){var a;void 0 === a && (a=c);return this.Rh.Ze.slice().sort(a);};b.prototype.Ika=function(a){return this.Va(a);};b.prototype.dj=function(a,b){a=this.Va(a);if(!a)return 0;if(b)return a.Km;b=a.Pr;if(void 0 === b)return 0;a=this.afb();return b - a;};b.prototype.hka=function(){var a,b,c,f,d,k,q;q=null === (a=this.Va(0)) || void 0 === a?void 0:a.So;a=null === (b=this.Va(1)) || void 0 === b?void 0:b.So;return {Lp:null !== (c=null === a || void 0 === a?void 0:a.da) && void 0 !== c?c:0,cu:null !== (f=null === q || void 0 === q?void 0:q.da) && void 0 !== f?f:0,VB:null !== (d=null === a || void 0 === a?void 0:a.ba) && void 0 !== d?d:0,h_:null !== (k=null === q || void 0 === q?void 0:q.ba) && void 0 !== k?k:0};};b.prototype.JRa=function(a){var b;return (a=this.Va(a))?null !== (b=a.Pr) && void 0 !== b?b:0:0;};b.prototype.dG=function(a,b,c){var f;b=null !== (f=null !== b && void 0 !== b?b:this.yh) && void 0 !== f?f:this.nS;this.HMa(a,b,c);this.fTa();this.SP();};b.prototype.Vta=function(a,b){this.ICb=a + b;this.OCb=y["default"].time.aa();};b.prototype.dr=function(a){a=this.Va(a);B.assert(a);return a.dr();};b.prototype.HJb=function(a){v.Dx(a.newValue) && this.lD();};b.prototype.vha=function(a){return this.cS && this.Rh.every(function(b){return b.vha(a);});};b.prototype.Vxb=function(a){var b,c;return null !== (c=null === (b=this.Rh.Va(a)) || void 0 === b?void 0:b.Crb) && void 0 !== c?c:g.T.nb;};b.prototype.Oj=function(a){this.vr || (a.qfa || B.assert(!a.wc),this.lD(),this.XI && this.Ygb());this.hs(a);};b.prototype.EL=function(a){this.H.AOa && this.lD(!0);this.AE(a);};b.prototype.DL=function(a){this.H.AOa && this.lD(!0);this.sA(a);};b.prototype.Tgb=function(a,b){var c;null === (c=this.EI) || void 0 === c?void 0:c.dc();this.EI=void 0;a && this.events.emit("branchNormalized",{type:"branchNormalized",segmentContentStart:this.W.Uk,branchContentStart:this.yh,branchContentEnd:this.lm,didNormalizeSegment:b});};b.prototype.nSb=function(a){var b;return v.Dx((null === (b=this.Vca) || void 0 === b?void 0:b.value) || v.bc.dk) && (!a || this.$Ga + this.H.Ioa < y["default"].time.aa());};b.prototype.lD=function(a){void 0 === a && (a=!1);this.nSb(a) && (this.$Ga=y["default"].time.aa(),a={type:"checkBufferingProgress"},this.events.emit(a.type,a));};b.prototype.Ygb=function(){var a;a={type:"branchStreamingComplete"};this.events.emit(a.type,a);};b.prototype.Zqb=function(a,b,c){var f;f=a.I;return new m.Yaa(this,this.H,this.G,this.DLb,this,a,b,[this.H.Rfa,this.H.W6][f],this.eZ[f],this.H.o5,c,this.b2,this.oD);};b.prototype.HMa=function(a,b,c,f){var k,q,l,m;function d(){return 0 === --m && k.events.emit("requestQueuesCreated");}k=this;void 0 === b && (b=this.nS);m=0;a.forEach(function(a,c){var q,r;q=a.I;r=k.Va(q);c=null === f || void 0 === f?void 0:f[c];if((null === r || void 0 === r?void 0:r.track) !== a){null === r || void 0 === r?void 0:r.gg();a=k.Zqb(a,b,c);k.Rh.Z0a(q,a);++m;if(k.H.o5)a.events.once("requestQueueCreated",d);a.events.on("lastRequestIssued",function(){return k.SK && k.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});}});this.Rh=this.Rh.filter(function(b){var c;c=a.some(function(a){return a.I === b.I;});return null !== c && void 0 !== c?c:b.gg();});null === (q=this.EI) || void 0 === q?void 0:q.dc();this.EI=new r.iCa({config:this.H,N:this.N,W:this.W,Ze:this.Rh,yh:b,lm:null !== (l=this.W.cs) && void 0 !== l?l:void 0 !== this.W.sa?g.T.$b(this.W.sa):void 0,splice:c});this.vP=this.Rh.RT;};b.prototype.iTa=function(a){var b;b=this;this.ssa(a);B.assert(a.fa === this.W.fa || isNaN(a.fa) && isNaN(this.W.fa));this.Ec=a;this.Ec.g_a(this);this.eZ=[];a=this.RQa(a);a.forEach(function(a){var c;a=a.I;c=b.N.CTa(a)?new q.xya(b.H.sT,a,b.H,b.G):new q.bBa(a,b.H,b.G);b.eZ[a]=c;});return a;};b.prototype.fTa=function(a){var b,c,f;b=this;if(a){f=this.parent && a.map(function(a){var c;return null === (c=b.parent) || void 0 === c?void 0:c.Va(a.I);});B.assert(!f || f.every(function(a){return a;}),"parent must have a pipeline for every media type");f=f && f.map(function(a){return a.Zf;});this.HMa(a,this.nS,! !this.parent,f);}null === (c=this.EI) || void 0 === c?void 0:c.$a(this.Tgb.bind(this));};b.prototype.toJSON=function(){var a,b;return {segment:this.W.id,branchOffset:this.Hd,viewableId:this.N.fa,contentStartPts:null === (a=this.yh) || void 0 === a?void 0:a.da,contentEndPts:null === (b=this.lm) || void 0 === b?void 0:b.da};};return b;})(f.Av);b.y8=a;I.af(d.fC,a);I.af(d.bC,a);},function(d,b,a){var c,h,l,m,f,k,q,v,r,u,B,g,y,I,J,D;Object.defineProperties(b,{__esModule:{value:!0}});b.Yaa=void 0;c=a(0);h=a(16);l=a(915);m=a(94);f=a(233);k=a(916);q=a(925);v=a(417);r=a(418);u=a(9);B=a(5);g=a(21);y=c.__importDefault(a(3));d=a(120);I=a(38);J=a(421);D=a(121);a=(function(a){function b(b,c,f,d,m,B,g,A,I,D,n,U,S){var O;O=a.call(this,b) || this;O.H=c;O.Vc=m;O.uh=B;O.Jda=g;O.Yeb=I;O.bfb=U;O.oD=S;O.events=new h.EventEmitter();O.connected=!1;O.Dla=!1;O.vr=!1;O.G=u.Ku(y["default"],f,"[" + O.I + "]");O.pf=O.G.error.bind(O.G);O.yb=O.G.warn.bind(O.G);O.kk=O.G.trace.bind(O.G);O.UZ=g.da;O.Zf=new v.mY(n);O.Zf.IU(B);O.mIa=new r.nY(A,c,O.Zf,0 === O.I && c.pOa || 1 === O.I && c.qOa);O.dm=new l.jCa(O,d,O.H,O.G,O.I);O.Do=new k.ADa(O,c,O.G,O.dm,O.Vc,O.I,O.oD);O.FP=!1;c.Ig && (O.Ig=new q.nEa(c.Ig,O.G));D && (O.$g=J.Ur(O.I,O.track.N,O.H,O.G,O.dm.Awb.bind(O.dm),function(){}),O.$g.on("created",function(){return O.events.emit("requestQueueCreated");}));return O;}c.__extends(b,a);Object.defineProperties(b.prototype,{I:{get:function(){return this.uh.I;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{track:{get:function(){return this.uh;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Kb:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{va:{get:function(){return this.Vc.W.id;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pa:{get:function(){return this.Do;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{md:{get:function(){return this.uh.md;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{So:{get:function(){return this.Do.So;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Km:{get:function(){return this.Do.Km;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ac:{get:function(){return this.UZ;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{b0:{get:function(){var a,b;return null !== (b=null !== (a=this.Pa.b0) && void 0 !== a?a:this.Qj) && void 0 !== b?b:this.pS;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{i_:{get:function(){return this.Pa.b0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pr:{get:function(){return this.Pa.Pr;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{iha:{get:function(){return this.Pa.iha;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{SK:{get:function(){return ! !this.Tf && this.yl > this.Tf.index;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{XI:{get:function(){return this.SK && 0 === this.Do.dy;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fw:{get:function(){return this.Pa.Fw;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Crb:{get:function(){return this.Pa.$.T0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ay:{get:function(){return this.mIa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Jx:{get:function(){return this.Zf.Jx;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{S:{get:function(){var a,b;return null !== (b=null === (a=this.We) || void 0 === a?void 0:a.S) && void 0 !== b?b:1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ra:{get:function(){var a;return null === (a=this.We) || void 0 === a?void 0:a.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jb:{get:function(){var a;return null === (a=this.Tf) || void 0 === a?void 0:a.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Rk:{get:function(){return this.Kb.Oo.Ge(this.S).xb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{H2:{get:function(){return this.Pa.H2;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qv:{get:function(){return this.Pa.qv;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Rsa:{get:function(){return this.Pa.Rsa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pS:{get:function(){return this.Jda.add(this.Kb.Oo);},enumerable:!1,configurable:!0}});b.prototype.SP=function(){var a;a=this;this.Do.SP(void 0,function(b){var c;c=b[0];b=c.Qb;c=c.index;c < a.yl && a.F6(b,c);});};b.prototype.gg=function(){this.vr=!0;this.Do.gg();this.Zf.Tb();this.$g && (this.Kb.N.RP(this.I,this.$g),D.jo.yf.KJ(this.$g),this.$g.removeAllListeners(),this.$g=void 0);};b.prototype.toJSON=function(){return {started:this.qv,startOfSequence:this.Rsa,segmentId:this.va,requestedBufferLevel:this.Km,viewableId:this.Vc.N.fa,hasFragments:this.H2};};b.prototype.dr=function(){return this.Pa.dr();};b.prototype.F6=function(a,b){this.UZ=a;this.yl=b;};b.prototype.TR=function(){return this.Pa.TR();};b.prototype.Tia=function(){this.Pa.close();};b.prototype.vha=function(a){return (a=this.Pa.gs(a.da))?a.complete:!1;};Object.defineProperties(b.prototype,{Pn:{get:function(){return this.Vc.Pn;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$n:{get:function(){return void 0 === this.uh.Nl || void 0 === this.yl?this.Jda.add(g.T.$b(this.Vc.Hd)):this.uh.Nl.get(this.yl).yh.add(g.T.$b(this.Vc.Hd));},enumerable:!1,configurable:!0}});b.prototype.LVb=function(a,b,c){var f;B.assert(! !b !== ! !this.$g);b=null !== b && void 0 !== b?b:this.$g;B.assert(b);B.assert(!this.vr,"pipeline.tryIssueRequest on disabled pipeline");f=a.d2();return f?this.M3a(a,f,b,c):(a=a.AG(b))?{op:a,reason:"success"}:{op:a,reason:"pipelineTryIssueHeaderRequest"};};b.prototype.FK=function(a,b){a && (this.We=a);b && (this.Tf=b);B.assert(this.We);B.assert(this.Tf);B.assert(void 0 === this.yl);this.F6(this.We.Qb,this.We.index);};b.prototype.Asa=function(){return f.p2(this.uh.I,this.H);};b.prototype.Ju=function(){return this.kp()?!1:this.Bn()?!0:this.track.Uoa;};b.prototype.Bn=function(){return void 0 !== this.We && void 0 !== this.Tf;};b.prototype.kp=function(){return this.vr || this.SK;};Object.defineProperties(b.prototype,{SMb:{get:function(){var a;a=!0;this.H.b6 && (a=this.connected);this.H.a6 && (a=a && this.Dla);return a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{IKb:{get:function(){return void 0 !== this.Ig;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{JKb:{get:function(){var a;return (null === (a=this.Ig) || void 0 === a?0:a.Ww())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});b.prototype.Oj=function(a){this.dm.YIb(a);"oncomplete" === this.H.bTa && (this.Dla=!0);this.hs(a);};b.prototype.ay=function(a){a.wc || this.dm.eXa(a.stream,a.X,a.Qb);this.dm.UIb(this.va,a.stream,a.wc);this.zE(a);};b.prototype.DL=function(a){a.qfa || (this.connected=!0);"onfirstbyte" === this.H.bTa && (this.Dla=!0);this.sA(a);};b.prototype.Eyb=function(a){var b,c;b=this.Pa.$;if(0 === b.length)return {$:[],Mpa:0,Pj:0};c=b.cK(a.da);0 > c && (c=void 0 === b.X || a.da <= b.X?0:b.length);return {$:b.NQb(c),Mpa:Math.max(0,b.jha - c),Pj:b.Pj};};b.prototype.M3a=function(a,b,c,f){var d,k,q,r,l,m,h;r=this.Vc;l=r.N;m=this.I;h=this.yl;if(h >= b.length)return (this.yb("makeRequest nextFragmentIndex:",h,"past fragments length:",b.length),{op:!1,reason:"insufficientFragments"});if(!this.We || !this.Tf)return (this.yb("makeRequest delayed, first or last fragment not set","first:",! !this.We,"last:",! !this.Tf),{op:!1,reason:"noFirstOrLastFragment"});b=this.Yeb.HQa(a,h,this,l.Cx());null === (d=this.Ig) || void 0 === d?void 0:d.ECb(b,a);b.En && 1 === m && this.dm.gea(r.W,b.sa);b.k1a(r.Oo);d=null === (k=this.bfb) || void 0 === k?void 0:k.call(this);this.H.dF && void 0 !== d && (b.dF=this.H.dF);void 0 !== a && (b.location=a.location,b.Zb=a.Nc,b.isa=a.Yq);if(k=r.N.J6)(m=0 === m && this.H.pOa || 1 === m && this.H.qOa,d=this.H.rub && 1 === this.I && this.H.wp,b.MKb=m && f && 0 < f.JQ,b.K6=k.Tr({iJ:r.dj(this.I),P4:this.H.mub?this.H.P4:void 0,m3a:String(y["default"].time.aa()),vJ:m?f:void 0,ega:d?{start:b.offset,size:b.ba}:void 0}));y["default"].time.aa();c=this.Pa.irb(b,c,a);if(!c.Yu()){this.yb("MediaRequest.open error: " + c.zg + " native: " + c.si);if(7 === c.readyState)return {op:!1,reason:"requestAborted"};this.yb("makeRequest caught:",c.zg);l.Hg("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {op:!1,reason:"openAseMediaRequest"};}null === (q=this.Ig) || void 0 === q?void 0:q.Kub(c,b,a);this.dm.ZIb(c);this.F6(c.Pb,b.nT);this.kp() && (this.Pa.iRb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",I:this.I}));return {op:!0,reason:"success"};};return b;})(m.Av);b.Yaa=a;I.af(d.bC,a);I.af(d.fC,a);},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mY=void 0;d=(function(){function a(a){this.parent=a;this.Vd=null;}Object.defineProperties(a.prototype,{mUa:{get:function(){var a,b;return null !== (a=this.PBb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.mUa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{zS:{get:function(){var a,b;return null !== (a=this.NIb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.zS;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Jx:{get:function(){var a,b;return null !== (a=this.Vn) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.Jx;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{AS:{get:function(){var a;return null === this.Vd?null === (a=this.parent) || void 0 === a?void 0:a.AS:this.Vd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sUa:{get:function(){var a,b;return null !== (a=this.zTb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.sUa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qna:{get:function(){var a,b;return null !== (a=this.ATb) && void 0 !== a?a:null === (b=this.parent) || void 0 === b?void 0:b.qna;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.QQb;},enumerable:!1,configurable:!0}});a.prototype.Tb=function(){this.parent=void 0;};a.prototype.d1a=function(a){this.PBb=a;};a.prototype.CRb=function(a){this.NIb=a;};a.prototype.m1a=function(a){this.Vn=a;};a.prototype.tsa=function(a){this.Vd=a;};a.prototype.PRb=function(a){this.zTb=a;};a.prototype.o1a=function(a){this.ATb=a;};a.prototype.IU=function(a){this.QQb=a;};return a;})();b.mY=d;},function(d,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(926),b);},function(d,b,a){var c,h,l,m,f,k,q,v,r,u;Object.defineProperties(b,{__esModule:{value:!0}});b.ov=void 0;d=a(0);c=d.__importStar(a(8));h=a(34);l=a(70);m=d.__importDefault(a(25));f=d.__importDefault(a(37));k=d.__importDefault(a(931));q=a(17);v=f["default"].assert;r=f["default"].oo;b.ov=u;(function(){var v00;v00=2;function a(a,b,c){var w00;w00=2;for(;w00 !== 4;){switch(w00){case 2:a=new r();a.Vn=c[0];return a;break;}}}for(;v00 !== 5;){switch(v00){case 2:var T84="1SI";T84+="Yb";T84+="Z";T84+="rNJ";T84+="Cp9";b.ov=u=function(b,f,d,u,B,g){var x00,Ja,Ga,ka,Qa,Ua,Va,Na,I,J,D,n,U,p,t,ca,Ca,P,aa,Q,ua,Ma;function y(a,b,c){var y00;y00=2;for(;y00 !== 1;){switch(y00){case 2:return a.$?a.$.Aha(b,c):0;break;}}}x00=2;function A(a,c,d,q,r,l,m){var z00,h,u,B,sa,ea,ta,ca,y,A,J,S,O,Y,E,da;z00=2;for(;z00 !== 43;){switch(z00){case 28:var g84="d";g84+="e";g84+="faul";g84+="t";c=0 < q || 0 < r?k[g84](d.concat(ea),A + q + r,l,u,m,J,B,A,A + q,Y,S,sa / E,O,b.eT,b.Y6):sa > a.g4?{result:!0,MS:0,uu:!0}:{result:!1,MS:0,uu:!0};z00=25;break;case 31:da=r;z00=30;break;case 2:(h=a.Ka || 0,u=a.$ && a.$.length,B=l?b.qja:u?b.o1:b.rvb);z00=1;break;case 9:z00=u && !b.Y6?8:6;break;case 3:z00=!l || !u?9:13;break;case 33:z00=0 < da?32:31;break;case 18:var y84="Second";y84+=" stream";y84+=" ";y84+="undefi";y84+="ned";v(c,y84);(sa=a.Ka,ea=u - l,ta=a.$ && a.$.length,ca=c.$ && c.$.length);v(d.length === A);b.Wna && (O=Math.min(O,ea));z00=27;break;case 13:l=!b.tha || a === d || a.Nc === d.Nc && g?0:(d=a.kb) && d.ci && d.ci.Ca?d.ci.Ca + b.qha * (d.ci.hi?Math.sqrt(d.ci.hi):0):0;d=Ja;a000.W24(0);l=a000.r24(l,D,n);z00=10;break;case 14:return !0;break;case 44:(q=Math.max(0,Math.min(q,a.$.length - y)),r=Math.max(0,Math.min(r,c.$.length - y - q)),0 < q && ea.push(a.$.yM.subarray(y,y + q)),0 < r && ea.push(c.$.yM.subarray(y + q,y + q + r)));z00=28;break;case 1:z00=Q && !Q.p1 && Q.Ka >= h && Q.U <= a.U?5:4;break;case 27:z00=!sa || sa < a.U * E * b.Pla || !ta?26:22;break;case 25:c && c.result && (I.c7b=c.MS);z00=24;break;case 26:c=!1;z00=25;break;case 29:(ta=Math.min(da,c.$.length - y),ea.push(c.$.yM.subarray(y,y + ta)),da-=ta,y+=ta,y >= c.$.length && (y=0));z00=30;break;case 22:ca || (c=a);ea=[];z00=35;break;case 32:(ta=Math.min(da,a.$.length - y),ea.push(a.$.yM.subarray(y,y + ta)),da-=ta,y+=ta,y >= a.$.length && (y=0));z00=33;break;case 5:return !1;break;case 4:l || u || (a.Usa=!0);z00=3;break;case 34:da=q;z00=33;break;case 6:z00=h >= a.U * m * B?14:13;break;case 8:z00=h >= Math.max(a.g4 * m,a.U * m * B) && a.uu?7:13;break;case 10:var e84="Fir";e84+="st stream u";e84+="ndefined";m=P;(u=p - D,B=U - D,y=t,A=Ja.length,J=Ca,S=Ga,O=aa,Y=f.Cia,E=f.playbackRate,da=! !f.UUa);v(a,e84);z00=18;break;case 30:z00=0 < da?29:28;break;case 24:Q={p1:c && c.result,Ka:h,U:a.U};return c && c.result;break;case 7:return !0;break;case 35:z00=da?34:44;break;}}}for(;x00 !== 15;){switch(x00){case 8:return a.call(this,0,0,d);break;case 7:B.$ && B.$.length || (B.Usa=!0);(Ja=l.Lh.MMa(f.buffer.$),Ga=f.buffer.lq - Ja.ba,ka=d[0]);x00=14;break;case 9:var V84="d";V84+="e";V84+="fa";V84+="ul";V84+="t";var D84="d";D84+="e";D84+="faul";D84+="t";x00=(this.Zf.mUa || m[D84].TW.oh) === m[V84].TW.Ycb || !B.Ka?8:7;break;case 17:x00=(B=h.Qg(d.slice(0,u).reverse(),function(a,b){var B00;B00=2;for(;B00 !== 1;){switch(B00){case 2:return A(a,d[Math.max(u - b - 2,0)],J,Va,Na,!0,f.playbackRate);break;}}})) && B.Yf < ka.Yf || !B?16:10;break;case 10:I.Vn=B || J;return I;break;case 14:x00=A(B,d[Math.max(u - 1,0)],B,ua,Ma,!1,f.playbackRate)?13:19;break;case 12:(Qa=y(B,t,b.Sla),Ua=y(B,t + Qa,b.Tna));x00=11;break;case 18:(Va=y(B,t,b.Rla),Na=y(B,t + Va,b.Sna));x00=17;break;case 13:x00=u + 1 < d.length && ca > b.Lx && (void 0 === this.L3 || this.tna && this.tna > this.L3 || U - this.L3 > b.U3 && ca > b.Vna)?12:10;break;case 11:B=h.Qg(d.slice(u + 1,b.Isa && ca >= b.mua?d.length:u + 2),function(a,b){var A00;A00=2;for(;A00 !== 1;){switch(A00){case 2:return A(a,d[u + b],J,Qa,Ua,!1,f.playbackRate);break;}}});x00=10;break;case 2:var p84="num";p84+="b";p84+="e";p84+="r";var l84="nu";l84+="m";l84+="b";l84+="er";var u84="player mi";u84+="ss";u84+="ing fra";u84+="gmentIndex";var O84="Mu";O84+="st have at least one selec";O84+="te";O84+="d stream";v(!c.Y(u),O84);v(c.qa(f.Ag),u84);v(l84 === typeof f.buffer.lq);v(p84 === typeof f.Cia);x00=3;break;case 16:B=ka;x00=10;break;case 3:(I=new r(),J=B=d[u],D=f.buffer.X,n=f.buffer.ad,U=f.buffer.ac,p=f.buffer.uk,t=f.Ag,ca=p - n,Ca=f.state === q.oa.Uc || f.state === q.oa.uj?f.buffer.Pj:0,P=b.i4,aa=b.Mx?b.Mx:1E3,ua=y(B,t,b.Qla),Ma=y(B,t + ua,b.Rna));x00=9;break;case 19:x00=B.$ && B.$.length?18:10;break;}}};T84;v00=5;break;}}})();},function(d,b,a){var l,m,f,k,q,v;function c(a,b,c,f){k(!l.Y(f),"Must have at least one selected stream");return new v(f);}function h(a,b,c,f){k(!l.Y(f),"Must have at least one selected stream");return new v(f);}l=a(8);b=a(37);m=b.console;f=b.debug;k=b.assert;q=b.PK;v=b.oo;d.exports={STARTING:function(a,b,c){var k,r,l,h;function d(c,d){var k,q,r,h;k=c.id;q=c.U;r=c.Ka || 0;h=! !r;f && m.log("Checking feasibility of [" + d + "] " + k + " (" + q + " Kbps)");if(!c.xs)return (f && !c.Hu && m.log("  Not available"),f && c.JA && m.log("  Failed"),!1);if(q > a.QS)return (f && m.log("  Above maxInitAudioBitrate (" + a.QS + " Kbps)"),!1);if(!(q * a.z4 / 8 < b.buffer.lq))return (f && m.log("  audio buffer too small to handle this stream"),!1);if(h){f && m.log("  Have throughput history = " + h + " : available throughput = " + r + " Kbps");if(q * b.playbackRate < r / l)return (f && m.log(" +FEASIBLE: bitrate less than available throughput"),!0);f && m.log(" bitrate requires more than available throughput");return !1;}c=a.dT;b.s3 && (c=Math.max(c,a.cT));if(q <= c)return (f && m.log("  Bitrate is less than max of minInitAudioBitrate (" + a.dT + " Kbps) " + (b.s3?" and also minHCInitAudioBitrate (" + a.cT + " Kbps)":"")),f && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);f && m.log("  No throughput history");return !1;}k=new v();l=a.o4b || 1;for(h=c.length - 1;0 <= h;--h){r=c[h];if(d(r,h)){k.Vd=h;break;}q(r) && (k.Vd=h);}return k;},BUFFERING:c,REBUFFERING:c,PLAYING:h,PAUSED:h};},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Ur=void 0;c=a(20);h=a(121);l=a(5);b.Ur=function(a,b,d,q,v,r){var f;c.ma && q.trace("AsePlaygraph.createRequestQueue()");f=h.jo.yf.Ur(a,b.u,!0,!1,{vOa:d.vOa},d);f.ig.on(f,"networkfailing",function(){var a;c.ma && q.trace("requestQueue OnNetworkFailing: ",f);f.m1 && (l.assert(f.tR),null === (a=b.ap) || void 0 === a?void 0:a.Uq(f.tR,void 0,f.zg,f.si));b.dr();});f.ig.on(f,"error",function(){r(f.zg,f.si);});f.on("transportreport",v);f.$a();return f;};},function(d,b,a){var c,h,l,m,f,k,q,v,r,u;Object.defineProperties(b,{__esModule:{value:!0}});b.lX=void 0;c=a(0);d=a(416);h=a(175);l=c.__importDefault(a(25))["default"].Ua;m=a(233);f=a(17);k=c.__importDefault(a(3));q=a(179);v=a(5);r=a(21);u=a(948);a=(function(a){function b(b,c,f,d,l,m,h,v,B,g,A,n,p){f=a.call(this,d,v,f,d,d,l,r.T.$b(m),h,A,!1,null === n || void 0 === n?void 0:n.Zf,p) || this;f.Za=b;f.sh=c;f.uf=B;f.bg=g;f.nga=0;f.qA=[];f.cw=!1;f.Do.v4a=!1;f.aib=v;f.XO=new u.tza(d,f.bg,v,f.G,f.I,f.sh,f.Pa,f.Za);f.SEb=k["default"].time.aa();f.LEb=void 0;f.fF=v.yma;f.kZa=k["default"].time.aa();c=q.GE(v);b=c.ly;c=c.NT;f.vMb=0 === f.I?b:c;f.IU(l);return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{Fw:{get:function(){return this.Pa.Fw;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sJ:{get:function(){return this.Pa.sJ;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Yz:{get:function(){return this.Pa.Yz;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yB:{get:function(){return this.Pa.yB;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ih:{get:function(){return this.XO.ih;},set:function(a){this.XO.ih=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pp:{get:function(){return this.XO.Pp;},set:function(a){this.XO.Pp=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{R3:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{RCb:{get:function(){return this.Jda.da;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qM:{get:function(){return this.mIa.qM;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{nAb:{get:function(){return this.Za.sea;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wg:{get:function(){return this.cw;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{TD:{get:function(){return this.SFa;},enumerable:!1,configurable:!0}});b.prototype.reset=function(){this.seeking=void 0;this.connected=this.ih=!1;this.Do.reset();};b.prototype.gg=function(){this.reset();a.prototype.gg.call(this);};b.prototype.yE=function(a,b){return m.yE(this.uh.I,this.H,a,b,this.Ig,this.Za.nHb,this.FP);};b.prototype.wn=function(a,b,c,f){return m.wn(this.uh.I,this.H,a,b,c,f);};b.prototype.Uj=function(){this.fF=this.H.yma;};b.prototype.eJ=function(){this.Pa.u7();};b.prototype.IU=function(a){var b,c;b=this.Za;c=this.I;v.assert(a.I === c);v.assert(a.N === this.Kb.N);this.uh=a;this.Kb.N.Zta(c,a.md);0 === c && (this.FP=h.ufa(this.aib,a.md[0]));b.qfb(this,a.Qx);this.pmb(a.md);this.Zf.IU(a);this.Kb.N.Wga();this.ih=!1;};b.prototype.vja=function(a){var b;b=this.Kb.N.Dg[this.I];if(b && b.stream.se && (a=b.stream.$.sm(a),-1 !== a))return a;};b.prototype.cG=function(a,b){var c,f,d;if(this.We && this.We.X === a)(b=this.We.index,c=a);else {f=this.Kb.N;d=f.Dg[this.I];if(!d || !d.stream.se){this.zF=a;this.sLb=b;return;}c=d.stream.$;this.We=this.wn(d.stream,a,void 0,b);if(void 0 === this.We){if((b=c.length - 1,c=c.pj(b),this.yb("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",f.Qe.Sf),f.Qe.Sf)){this.zF=a;return;}}else (b=this.We.index,c=this.We.X);}this.yl=b;this.UZ=c;this.zF=void 0;};b.prototype.rXb=function(a){var b,c;b=this.uh.ls(a);c="verifying streamId: " + a + " stream's track: " + (b?b.Da:"unknown") + " currentTrack: " + this.uh.Ya;return b?!0:(this.sh.zl(c),this.sh.zl("unknown streamId: " + a),!1);};b.prototype.pmb=function(a){this.TBb=a.reduce(function(a,b){return b.xs && b.U > a.U?b:a;},a[0]);};b.prototype.E6=function(a){this.Tf=a;};b.prototype.lGb=function(a,b,c,f,d){this.M3a(a,b,f,d);c && ++this.nga;this.Za.Xi();};b.prototype.ay=function(b){b.sa && b.X && (this.fF-=b.sa - b.X);a.prototype.ay.call(this,b);};b.prototype.Oj=function(a){this.mSa(a);this.hs(a);};b.prototype.jWb=function(a){var b;b=k["default"].time.aa();this.fF+=a * (b - this.kZa);this.kZa=b;};b.prototype.HPb=function(){this.fF=this.H.yma;};b.prototype.qJ=function(a){this.Pa.rLa();this.Ig || this.XO.qJ(a,this.Pb);};b.prototype.mSa=function(a){var b,c,f;c=this.R3;f=this.Za;this.uf.oIa() || (this.sh.Mgb(a.I,a.N.sb,a.stream.track.GD,this.Pr,this.va),null === (b=this.Ig) || void 0 === b?void 0:b.CCb(a),b=c.R.$d() || 0,f.ib.dw() || (c=c.Va(l.VIDEO)) && !c.wg && c.H2 && f.ib.jla(c),this.qJ(b),this.Za.lSa(a),this.uf.NY(this) && this.uf.Xi());};b.prototype.Fpa=function(a){this.Za.B2(a);};b.prototype.qLa=function(a,b,c,f,d,k){var q,r;q=this.H;r=q.jj;if(c >= q.jj && (q.a6 && (r=c + 1E3),q.b6 && !this.connected))return !1;if(this.Ig)return this.Ig.Ww();c=this.ih && 0 === this.Pa.Kpa && 0 === this.Pa.cr;return !c && f < r?!1:c?k && 0 === f?(this.yb("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.nnb(a,b,d);};b.prototype.BRb=function(a){this.UZ=a;};b.prototype.B6=function(a){this.cw=!0;this.SFa=a;};b.prototype.Uga=function(){this.cw=!1;this.SFa=void 0;};b.prototype.nnb=function(a,b,c){if(this.wg || 0 === this.I)return !0;if(void 0 === this.Jx)return !1;b=this.Zeb(b,a);this.track.N.wl.YM(this.track.N.fa,this.track.md);this.Ay.qqa([this.Jx],!1,b,this.vMb);a=this.Ay.Ww(b,a,c,this.Jx,this.Kb.N.ap);a.complete?this.B6(a.reason):(this.Uga(),this.XA=a.XA,this.zi=a.zi);return this.wg;};b.prototype.Zeb=function(a,b){var c,d,q,r,l;r=k["default"].ql()[this.I];l=this.Pa.m2();a={lq:r,X:null !== (c=l.Rc) && void 0 !== c?c:0,ad:a,ac:null !== (d=l.OL || a) && void 0 !== d?d:0,uk:null !== (q=l.EQ || a) && void 0 !== q?q:0,Fi:l.Fi,Pj:l.Pj,Sja:l.$.length,$:l.$};"number" !== typeof a.X?(a.X=0,a.ac=0):b === f.bc.cd && a.ad !== a.X && (a.ad=a.X);return a;};return b;})(d.Yaa);b.lX=a;},function(d,b,a){var c,h,l,m,f,k,q;Object.defineProperties(b,{__esModule:{value:!0}});b.j8=void 0;c=a(0);d=a(16);h=a(20);l=c.__importDefault(a(3));m=a(9);f=a(950);k=a(177);q=a(951);a=(function(a){function b(){var b;b=null !== a && a.apply(this,arguments) || this;b.$Ha=0;b.vea=0;b.QO=0;b.eda=0;return b;}c.__extends(b,a);b.prototype.pra=function(b){var c,f;a.prototype.pra.call(this,b);this.$Ha++;this.vea++;this.tIa=l["default"].time.aa();this.kI || (this.kI={Pb:b.Pb,Qb:b.Qb,index:b.index},this.cZ || (this.cZ=this.kI));c=this.oZ;f=!1;c && 100 > Math.abs(c.Pb - b.Qb) && (this.QO+=b.Pb - c.Pb,this.eda++,f=!0);f || (this.QO=b.ix,this.eda=1);this.oZ=b;};b.prototype.stop=function(){a.prototype.stop.call(this);this.QO=this.vea=0;this.kI=void 0;};b.prototype.TQa=function(){var a,b,c,f;a=this.HI;b=a.r0;if(b){f=b.Va(this.rf);f && f.Pa && (c=f.Pa.Xka());return {RM:c,currentBranch:{sId:b.W && b.W.id,cancelled:b.pk},currentReceivedCount:a && a.Arb,totalReceivedCount:this.$Ha,currentState:a && a.Drb || "Uninitialized",lastRequestPushed:this.oZ && ({contentEndPts:this.oZ.Pb,fragmentIndex:this.oZ.index}),tslp:this.tIa && l["default"].time.aa() - this.tIa,cpts:this.QO,crq:this.eda,rslp:this.vea,firstRequestSSPushed:this.kI && ({contentStartPts:this.kI.Qb,fragmentIndex:this.kI.index}),firstRequestPushed:this.cZ && ({contentStartPts:this.cZ.Qb,fragmentIndex:this.cZ.index})};}};return b;})((function(a){function b(b,c,d,k,r,h,v,g,n){var u;u=a.call(this) || this;u.Lf=b;u.rf=c;u.H=k;u.G=r;u.tz=new m.Kt(!1);u.G=m.Ku(l["default"],u.G,"AsePlayerBuffer:");u.HI=new f.Eva(u.G,d,c);u.resume();h && v && g && (u.vqa=new q.cDa(c,r,h,u.Lf,h.events,v,g,n));u.Lf.on("requestAppended",function(){u.tz.set(!0);u.emit("requestAppended");});return u;}c.__extends(b,a);Object.defineProperties(b.prototype,{Mq:{get:function(){return this.tz;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{MB:{get:function(){return this.Lf.MB;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{I:{get:function(){return this.rf;},enumerable:!1,configurable:!0}});b.prototype.TQa=function(){};b.prototype.resume=function(){h.ma && this.G.trace("resume");this.Osa();};b.prototype.zTa=function(a){return this.Lf.Cka() > a;};Object.defineProperties(b.prototype,{Qkb:{get:function(){return this.QH;},enumerable:!1,configurable:!0}});b.prototype.reset=function(a){var b;void 0 === a && (a=!1);h.ma && this.G.trace("reset");this.stop();this.Lf.reset(a);this.tz.set(!1);a || (this.QH=void 0);a || (null === (b=this.vqa) || void 0 === b?void 0:b.reset());};b.prototype.Gl=function(a){void 0 === a && (a=!1);this.reset(a);this.Osa(!0);};b.prototype.stop=function(){this.HI.h2a();};b.prototype.close=function(){var a;null === (a=this.vqa) || void 0 === a?void 0:a.close();};b.prototype.Tb=function(){this.stop();this.close();};b.prototype.uT=function(){this.H.z1 && this.Lf.APa();this.Lf.Yr();};b.prototype.iwb=function(a){this.Lf.$Wa(a,!0);};b.prototype.Sg=function(a){var b;return !(null === (b=this.vqa) || void 0 === b || !b.Sg(a));};b.prototype.Osa=function(a){if(!this.HI.vl || a)(this.HI.QPb(),k.gC.pEb(this.HI,this.E3.bind(this)));};b.prototype.E3=function(a){a.done || this.pra(a.value);};b.prototype.pra=function(a){this.Lf.endOfStream?h.ma && this.G.error("Buffer manager has declared EOS, ignoring request",a.toString()):(this.QH?(this.QH.OEb=a.Pb,this.QH.PEb=a.ee,this.QH.pUa=a.wi):this.QH={U5b:a.Qb,V5b:a.Rc,OEb:a.Pb,PEb:a.ee,pUa:a.wi},this.Lf.Pkb(a));};return b;})(d.EventEmitter));b.j8=a;},function(d,b,a){var c,h,l,m,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Cba=void 0;c=a(0);h=a(16);l=a(9);m=a(20);f=a(71);k=l.T.$b(1E3);d=(function(){function a(a,b,c,f,d,q,m,g){var r,v,u;r=this;this.I=a;this.console=b;this.lb=c;this.events=d;this.bh=m;this.oVb=g;this.Kn=[];this.Npa=k.add(l.T.$b(null !== (u=null === (v=q.OU) || void 0 === v?void 0:v.da) && void 0 !== u?u:0));this.listeners=new h.sg();this.listeners.on(m.ta,"clockReset",function(){return r.Cpa();});this.listeners.on(f,"requestAppended",function(a){return r.Mq(a.request);});this.HP=!0;this.fR=m.fE(function(){return r.Vtb();});this.J5=m.fE(function(){return r.wNb();});}a.prototype.Cpa=function(){this.trace("skipped, scheduler clock " + this.bh.ta.currentTime.Bd());this.HP=!0;this.fR.Gl();};a.prototype.Vtb=function(){var a,b;return c.__generator(this,function(c){switch(c.label){case 0:(this.EF=this.CIb(this.HP),a=this.KWa(),b=this.HP?this.lb.ne:null === a || void 0 === a?void 0:a.timestamp,c.label=1);case 1:if(!a)return [3,3];this.trace("queuing task for " + a.zG + (" at player time " + a.timestamp.Bd()) + (" scheduler clock is " + this.bh.ta.currentTime.Bd()));return [4,f.al.LV(a.timestamp)];case 2:return (c.di(),this.trace("executing task for " + a.zG + (" at player time " + a.timestamp.Bd()) + (" scheduler clock is " + this.bh.ta.currentTime.Bd())),this.HP=!1,this.mOa(a,b),this.EF++,a=this.KWa(),b=null === a || void 0 === a?void 0:a.timestamp,[3,1]);case 3:return [2];}});};a.prototype.KWa=function(){if(void 0 !== this.EF)return this.Kn[this.EF];};a.prototype.CIb=function(a){var b;void 0 === a && (a=!1);for(var c=a?0:null !== (b=this.EF) && void 0 !== b?b:0;c < this.Kn.length;c++){if(this.Kn[c].timestamp.rl(this.lb.ne))return a && 0 < c?c - 1:c;}return Math.max(this.Kn.length - 1,0);};a.prototype.wNb=function(){var a,b;return c.__generator(this,function(d){switch(d.label){case 0:if(!(1 < this.Kn.length))return [3,2];a=c.__read(this.Kn,2);b=a[1];this.trace("queuing pruning task for " + b.zG + (" at player time " + this.Npa.add(b.timestamp).Bd()) + (" scheduler clock is " + this.bh.ta.currentTime.Bd()));return [4,f.al.LV(this.Npa.add(b.timestamp))];case 1:return (d.di(),this.trace("executing pruning task for " + b.zG + (" at player time " + this.Npa.add(b.timestamp).Bd()) + (" scheduler clock is " + this.bh.ta.currentTime.Bd())),this.Kn.shift(),this.EF && this.EF--,[3,0]);case 2:return [2];}});};a.prototype.reset=function(){this.Kn=[];m.ma && this.trace("reset");this.HP=!0;this.I3=void 0;this.EF=0;this.J5.Gl();this.fR.Gl();};a.prototype.close=function(){this.fR.Tb();this.J5.Tb();this.listeners.clear();};a.prototype.Sg=function(a){var b;m.ma && this.trace("canSkip() " + a);if(0 === this.Kn.length)return (m.ma && this.trace("canSkip false, no media sequence"),!1);b=this.Kn[0];return b.timestamp.greaterThan(a)?(m.ma && this.trace("canSkip false, before earliest item at " + b.timestamp),!1):void 0 === this.I3 || this.I3.lessThan(a)?(m.ma && this.trace("canSkip false, later than last appended at " + this.I3),!1):!0;};a.prototype.trace=function(a){m.ma && this.console.trace("PresentationTracker [" + this.I + "] " + this.oVb + ": " + a);};a.prototype.SIa=function(a,b,c){c && (this.I3=c);c=this.Kn.length?this.Kn[this.Kn.length - 1]:void 0;return void 0 === c || c.zG !== a?(this.Kn.push({zG:a,timestamp:b}),this.fR.state === f.cl.complete && this.fR.Gl(),this.J5.state === f.cl.complete && this.J5.Gl(),!0):!1;};return a;})();b.Cba=d;},function(d,b,a){var c,h,l,m,f,k,q,v,r,u,B;Object.defineProperties(b,{__esModule:{value:!0}});b.z8=void 0;d=a(0);c=d.__importStar(a(8));h=d.__importDefault(a(83));l=d.__importDefault(a(3));m=a(954);f=a(17);k=a(249);q=a(9);v=a(5);r=a(21);u=a(386);B=a(414);a=(function(){function a(a,b,c,f,d,r,m,h,u,B){this.Za=a;this.sh=b;this.G=c;this.JI=f;this.H=m;this.YY=h;this.IHa=u;this.FR=B;this.yb=this.G.warn.bind(this.G);this.kk=this.G.trace.bind(this.G);this.fg=this.G.log.bind(this.G);this.qh=[];this.ug={};d.Ro?(v.assert(!d.Cl),this.Tca=!0,this.ehb(d,d.Ro,r)):(this.bn=this.ew(d.Cl || "",d,0,void 0,void 0,{},!0),this.bn.xL=!0,this.bn.sa=Infinity,this.YZ=[this.bn]);this.Vc=this.PY(this.bn,void 0,r);this.Vc.active=!0;a=q.Ku(l["default"],this.G,"BranchQueue::");this.Ri=new k.ZV(a);this.Ri.enqueue(this.Vc);this.oea=this.gP=void 0;}a.Zja=function(a){return "m" + a;};Object.defineProperties(a.prototype,{Cx:{get:function(){return ! !this.Tca;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{fj:{get:function(){return this.Vc.pk;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hf:{get:function(){return this.bn;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tg:{get:function(){return this.Vc.W.id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Brb:{get:function(){return this.Vc.N.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pc:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Lb:{get:function(){return this.qh;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Hd:{get:function(){return this.Vc.Hd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bg:{get:function(){return this.Za.bg;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yi:{get:function(){return this.gP?this.gP:this.Lb[0];},enumerable:!1,configurable:!0}});a.prototype.Tb=function(){this.qh.forEach(function(a){a.gg();});this.qh=[];this.Ri.clear();};a.prototype.wf=function(a){return this.ug[a];};a.prototype.CRa=function(){return this.Ri.SQa();};a.prototype.BRa=function(a,b){var c;c=this.ug[a];if(c)return (a=c.yk[b]) && a.weight;this.yb("getSegmentWeight, unknown segment:",a);};a.prototype.iAb=function(a){var b;b=this.ug[a];if(b)return b.X;this.yb("getSegmentStartPts, unknown segment:",a);};a.prototype.hAb=function(a){var b;b=this.ug[a];if(!b)this.yb("getSegmentDuration, unknown segment:",a);else if(c.qa(b.sa) && isFinite(b.sa) && c.qa(b.X) && isFinite(b.X))return b.sa - b.X;};a.prototype.era=function(a){var b;b=-1;this.qh.some(function(c,f){return c === a?(b=f,!0):!1;});-1 !== b?this.qh.splice(b,1):this.yb("Unable to find branch:",a,"in branches array");};a.prototype.lmb=function(a,b){var c;c=0;this.BGa(a).forEach(function(a){(a=a.gd(b)) && (c+=a.Fw);});return c;};a.prototype.WD=function(a,b){var c;c=0;this.BGa(a).forEach(function(a){(a=a.gd(b)) && (c+=a.Yz);});return c;};a.prototype.ku=function(a,b,c){if(!a.Mb(b))return 0;for(var f=a.Va(b),f=c?f.ac:f.Pr;void 0 === f;){if(!a.Ef)return 0;a=a.Ef;f=a.Va(b);f=c?f.ac:f.Pr;}a=this.IHa.$d();return Math.max(f - a,0);};a.prototype.b2=function(a,b){var c;if(void 0 !== this.H.dF){c=l["default"].ql()[b];a=this.lmb(a,b);return c - a;}};a.prototype.uja=function(a){return this.qh.filter(function(b){if(b.N.sb === a)return !0;});};a.prototype.Mvb=function(a,b){return this.tGa(a,!1,b);};a.prototype.Lvb=function(a,b){return this.tGa(a,!0,b);};a.prototype.hPb=function(a,b,f){c.oe(this.qh,function(c){c.N === a && c.v1a(b,f);});c.oe(this.ug,function(c){c.N === a && (c.N=b);});};a.prototype.S_a=function(){var a;a=this;c.oe(this.qh,function(b){var c;c=a.Za.Bg(b.N.sb);b.Rta(r.T.$b(c.Lu));});};a.prototype.Jl=function(a){var b;b=this;c.oe(this.qh,function(c){c.Va(1).track.md.forEach(function(c){var f;f=u.Bfa(c.yg,c.U,a,b.G);h["default"](f,c);});});};a.prototype.gs=function(a,b,c,f){var d;for(;b;){d=b.gs(a,c);if(d)return d;if(f)break;b=b.Ef;}};a.prototype.bNa=function(a){var b,c;b=this;void 0 === a && (a=!1);c=this.qh;a && (c=c.filter(function(a){return a !== b.Vc;}));c.forEach(function(a){a.active=!1;b.Ri.remove(a);});a || this.Ri.clear();return c;};a.prototype.vNb=function(){var a;for(;0 < this.qh.length;){a=this.qh[0];a.Va(0);a.Va(1);if(!a.active)break;if(a === this.Vc)break;if(!a.HBb())break;a.gg();this.qh.shift();}};a.prototype.TT=function(a,b,c,f,d){if(c > f){for(c-=f;a;){a.TT(b,c,d);a=a.Ef;}return c;}};a.prototype.hVa=function(a,b){for(var c={EQ:null,OL:null,Rc:null,Pj:0,Fi:0,$:[]};a;){a.m2(c,b);a=a.Ef;}return c;};a.prototype.Qnb=function(a){var b,c,d;b=this.Vc;if(b.VUa)c=b.VUa;else {d=this.Vc.Hd;c=this.PY(b.W,b);f.je.forEach(function(a){var f;f=c.gd(a);f && (f.cG(0),a=b.gd(a),f.E6(a.Tf));});c.Rta(r.T.$b(d + a));b.VUa=c;}this.MH(c,b);};a.prototype.Fjb=function(b,c,f){var d,k;v.assert(!b.Cx());if(!this.Tca){this.Tca=!0;this.gP=this.yi;d=this.bn.id || a.Zja(0);this.bn.id=d;this.ug[d]=this.bn;this.bn.sa=this.Za.Pyb().VQa();this.bn.qB=!0;}k=void 0 !== b.Cl?b.Cl:a.Zja(b.sb);b=this.ew(k,b,c,f,void 0,{},!0);b.qB=!0;this.YZ.forEach(function(a){a.yk={};a.yk[k]={weight:100};a.YQ=k;a.dt=!1;});this.YZ=[b];};a.prototype.qn=function(a,b){var c,f,d,k;c=this.yi;f=c.IB(b,this.Za.R);d=c.W;k=c.children[a];if(b){if(!d.yk[a])return (this.Vc.yb("chooseNextSegment, invalid destination:",a,"for current segment:",d.id),!1);if(c.Gj)return c.Gj === a;c.Gj=a;k && c.C1 && this.MH(k,c);return !0;}if(void 0 !== c.Gj)return !1;if(!k)return (f.FWa=!0,!1);f.FWa=!k.Mga();this.Za.wea(void 0,B.sO.wL);c.C1=void 0;c.Gj=a;this.MH(k,c);c.Tia();this.Za.EP();return !0;};a.prototype.XBb=function(a,b){var f,d,k,q;f=this;q=a.W;b && !a.Gj && (a.Gj=q.YQ,a.IB(!0,this.Za.R,!0));a.children=Object.create(null);c.oe(q.yk,function(b,c){a.Gj && c !== a.Gj || (d=f.ug[c],k=f.neb(d,a),a.children[c]=k);});a.Gj && (b=a.children[a.Gj]) && this.MH(b,a);a.C1=!0;};a.prototype.iVb=function(){var a;a=0;c.oe(this.qh,function(b){f.je.forEach(function(c){b.Mb(c) && (c=b.gd(c),a+=c.Pa.kn);});});return a;};a.prototype.lUb=function(a,b){var c,f,d;c=this;f=this.Veb(a,b);if(f){f !== this.Vc.W?(this.bNa(),d=this.PY(f,this.Vc,a),d.Ef=void 0,d.qsa(void 0,void 0,!0),this.pdb(this.Vc),this.MH(d,this.Vc)):(this.bNa(!0).forEach(function(a){a.gg();c.era(a);c.Ri.remove(a);}),this.Vc.Vta(a,this.H.g7));f === this.yi.W && (this.yi.vv.shift(),d && (d.vv=this.yi.vv,d.Gj=this.yi.Gj));this.sh.vZ(f,this.Vc.Hd);this.Vc.C1=void 0;}else this.yb("findSegment no segment for manifestIndex:",b);};a.prototype.fVa=function(a,b){var c;c=a.W;b || (b=c.YQ);q.Wra(c.id);a.Gj || (a.Gj=b,a.IB(!0,this.Za.R,!0));(b=a.children[a.Gj]) && this.MH(b,a);};a.prototype.$0a=function(a,b){if(this.Vc !== a){if(b)for(b=this.Vc;b && b !== a;){b.active=!1;this.Ri.remove(b);b=b.Ef;}this.Vc=a;}};a.prototype.jt=function(a,b){var c,d,k,r,l;c=this;if(this.Cx){d=this.H;k=this.yi;r=k.W;l=q.Wra(r.id);!k.Gj && !r.dt && k.Pb - b <= d.Tu && (this.yb(l + "updatePts making fork decision at playerPts:",a,"contentPts:",b),this.fVa(k));}f.je.forEach(function(a){c.Vc.Mb(a) && c.bg[a].jt();});};a.prototype.$Ib=function(a,b){var c,f;if(this.Cx){c=this.gP;if(!(this.H.qCb && a && this.oea && a.X === this.oea || (a=a.Pa.Kb,c && a.W.id === c.W.id))){f=null === c || void 0 === c?void 0:c.gd(1);f=null === f || void 0 === f?void 0:f.Tf;this.oea=null === f || void 0 === f?void 0:f.X;this.gP=a;this.Mdb(c);c=c && c.eob(a);this.sh.Igb(a.W,b,c);}}};a.prototype.epa=function(a,b,c){b.xL || (b.X=this.mRa(a,b.X,!0),c || (b.sa=this.mRa(a,b.sa,!1)),b.xL=!0,!1);};a.prototype.TB=function(a,b){var f;q.Wra(a);f=this.ug[a];f?c.oe(f.yk,function(a,c){a.weight=b[c] || 0;}):this.yb("updateChoiceMapEntry, unknown segment:",a);};a.prototype.mRa=function(a,b,c){a=c?a.kPa(b):a.uR(b);if(!a.length)return b;b=a[1];return c?b.X:b.sa;};a.prototype.ZGa=function(a,b,c){var f;f=b?c.Pb:c.ee;return (b?c.r6:c.eqa) <= a && a < f;};a.prototype.tGa=function(a,b,f){var r;for(var d=this.Za,k=this.Vc;k;){if((!c.qa(f) || d.Hma(f,k.N.sb)) && this.ZGa(a,b,k))return k;k=k.Ef;}if(b)for(var k=Object.keys(this.Vc.children),q=0;q < k.length;q++){r=this.Vc.children[k[q]];if((!c.qa(f) || d.Hma(f,r.N.sb)) && this.ZGa(a,b,r))return r;}};a.prototype.neb=function(a,b){var c,d;c=this.PY(a,b);d=c.qsa(b,void 0,this.H.Wqa);f.je.forEach(function(a){var f,k,q;if(c.Mb(a)){f=c.gd(a);k=b.gd(a);q=d[a];1 === a && c.Rta(r.T.$b(k.ac + b.Hd - q));f.cG(q);}});this.sh.vZ(a,c.Hd);return c;};a.prototype.pdb=function(a){for(var b=[a.W.id];a.Ef;){a=a.Ef;b.unshift(a.W.id);}this.Jca(a);};a.prototype.Jca=function(a){var b,f;b=this;f=a.W;c.oe(a.children,function(a){a && b.Jca(a);});this.Ri.remove(a);a.gg();this.era(a);this.sh.Fgb(f);};a.prototype.MH=function(a,b){var f,d,k,q;f=this;d=b.W;b.N !== a.N && this.Za.iHa(a.N.sb);a.active=!0;this.Ri.enqueue(a);a.eJ();k=l["default"].time.aa();q={};c.oe(b.children,function(b){var c,d;if(b){if(b.Ld){c=b.gd(0);d=b.gd(1);b.Ld.iJ=[c?c.So.da:0,d?d.So.da:0];b.Ld.Atb=k - b.Ld.b3;b.Ld.b3=void 0;q[b.W.id]=b.Ld;}b.W.id !== a.W.id && f.Jca(b);}});b.children=Object.create(null);b.children[a.W.id]=a;b.XH=void 0;this.$0a(a);this.sh.Ggb(a.W,q);1 < Object.keys(d.yk).length && a.Mga();};a.prototype.Mdb=function(a){var b,c;if(a){b=l["default"].time.aa();c=a.vv[0];c && void 0 === c.GJ?c.GJ=b - c.requestTime:c || (this.yb("missing metrics for branch:",a.W.id),c={P6:a.W.id,Sk:!0,GJ:0,Ld:{}},a.vv.unshift(c));void 0 === c.startTime && (c.startTime=b);}};a.prototype.Veb=function(a,b){var f,d,q,r;v.assert(0 <= a);for(var k in this.ug){q=this.ug[k];if(this.Za.Hma(q.N.sb,b)){if(q.X <= a && (Infinity === q.sa || void 0 === q.sa || a < q.sa))return q;r=Math.min(Math.abs(a - q.X),Math.abs(a - q.sa));if(c.Y(f) || r < f)(f=r,d=q);}}return d;};a.prototype.ew=function(a,b,c,f,d,k,q,r,l){b=new m.VDa(a,b,c,f,d,k,q,r,void 0,l);return this.ug[a]=b;};a.prototype.ehb=function(a,b,f){var d,k,q;d=this;this.bn=void 0;this.YZ=[];k=null;q=null;c.oe(b.segments,function(b,r){var l,m,h,v,u;l=b.startTimeMs;m=b.endTimeMs;h={};c.oe(b.next,function(a,c){h[c]={weight:a.weight || 0,vVb:a.transitionHint || b.transitionHint,D5b:"number" === typeof a.earliestSkipRequestOffset?a.earliestSkipRequestOffset:b.earliestSkipRequestOffset};});v=b.defaultNext;c.Y(v) && (v=Object.keys(h)[0]);u=c.Y(v);v=d.ew(r,a,l,m,v,h,u,b.exitZones,b.transitionHint);l <= f && (f < m || c.Y(m))?d.bn=v:l > f && (!k || l < q) && (k=r,q=l);u && d.YZ.push(v);});this.bn || (this.bn=k?this.ug[k]:this.ug[b.initialSegment]);};a.prototype.PY=function(a,b,c){var f,d,k,q;f=a.N;d=this.Za.Bg(f.sb);k=d.Lu;q=[];[0,1].forEach(function(a){f.Mb(a) && q.push(d.gp(a));});a=new B.sza(this.Za,this.H,this.sh,this.G,this,this.YY,this.IHa,this.JI,a,q,k,b,c?r.T.$b(c):void 0,this.FR,this.Za.bg,this.Za.au);this.qdb(a);this.qh.push(a);return a;};a.prototype.qdb=function(a){var c;function b(a){c.Za.emit(a.type,a);}c=this;a.addListener("locationSelected",b);a.addListener("logdata",b);a.addListener("serverSwitch",b);a.addListener("streamSelected",b);a.addListener("lastSegmentPts",b);a.addListener("managerdebugevent",b);a.addListener("requestCreated",function(a){a=a.request;c.Za.Bea(a.I,a.X);});};a.prototype.BGa=function(a){for(var b=[a];a.Ef;){a=a.Ef;b.push(a);}return b;};return a;})();b.z8=a;},function(d,b,a){var m,f,k;function c(a,b,c){this.pB=b;this.nk=c;this.yy=this.mS=this.l5=this.rYa=this.qYa=this.zL=this.md=this.$Lb=this.nk=this.Kl=this.ac=this.X=this.VB=this.Lp=this.$=this.rTa=this.jQ=void 0;}function h(a,b,c){this.sa=b;this.MTa=c;this.GJa=this.Y4a=this.cu=this.Lp=this.cF=this.ou=void 0;}function l(a,b,f,d,k,l,h){var q;q=new c(0,b,a.nk);a.forEach(function(a){var c,f;c=a.buffer;f=c.$;a.I === m.Ua.AUDIO?q.jQ=f.length?f[0].U:void 0:a.I === m.Ua.VIDEO && (q.rTa=f.length?f[0].U:void 0,q.$=f,q.Lp=c.uk - c.ad,q.VB=c.Fi,q.X=c.ad,q.ac=c.ac,q.Kl=a.Ag,q.nk=a.nk,q.$Lb=b - a.nk,q.md=a.md,q.zL=f.filter(function(a){return q.X <= a.fv;}).length);});this.Ci=q;this.ds=void 0;this.gNa=d;this.mv=k;this.GKa=l;this.Tqa=this.R5=this.FXa=this.Dy=this.$I=this.hPa=this.xv=this.md=this.ds=void 0;this.Wjb=h;this.iqa={};}m=a(25)["default"];f=a(37).assert;k=a(17).oa;c.prototype.constructor=c;h.prototype.constructor=h;l.prototype.constructor=l;l.prototype.bK=function(a,b){var c,f,d,q,l,v,g,D,n,S,p,Y,E,da,t,Z,ta,ca,Ca,P,aa;c=this.Ci;f=[];q=a[m.Ua.VIDEO];l=a[m.Ua.AUDIO];if(void 0 === q || void 0 === l)return !1;v=q.buffer;g=l.buffer;D=c.md.filter(function(a){return a.d2();});if(void 0 === v || void 0 === g || void 0 === D || 0 === D.length)return !1;d=new h(0,q.ad,b === k.nf);n=0;S=0;p=0;Y=0;da=c.X;a=a[m.Ua.VIDEO].ad;t=c.$;E=c.zL;for(var ea=0;ea < E;ea++){Z=t[ea];ta=Z.offset;ca=Z.offset + Z.ba - 1;P=Z.ix;Ca=Z.py;aa=Ca + P;Z && Ca <= a && aa > da && (P=Z.ix,Ca=Math.min(P,Math.min(a,aa) - Math.max(Ca,da) + 1),Y+=Ca,n+=Ca / P * (ca - ta + 1),S+=Z.U * Ca,p+=Z.tb * Ca);}c.qYa=n;c.rYa=Y;c.l5=0 < Y?S / Y:0;c.oLb=0 < Y?p / Y:0;c.mS || (c.mS=0,D.some(function(a,b){if(a.U === c.rTa)return (c.mS=b,!0);}));D.forEach(function(a){var b,k;a=a.d2();b=[];c.yy || (c.yy=a.sm(c.X,void 0,!0));d.ou || (d.ou=a.sm(d.sa,void 0,!0),d.cF=a.length - 1);c.Kl !== c.yy + c.zL && (c.Kl=c.yy + c.zL);E=Math.min(d.cF,d.ou + 1);for(var q=c.yy;q <= E;q++){k=a.get(q);b[q]=k;}f.push(b);});b === k.nf && (d.Lp=v.uk - v.ad,d.cu=g.uk - g.ad,d.Y4a=q.UZa,d.GJa=l.UZa);this.ds=d;this.md=D;this.xv=f;return this.hPa=!0;};l.prototype.sx=function(){var a,b,c,d,k,l,m,h,g,D,n,S,Y,E,da,t;if(this.ij)return this.ij;b=this.Dy;d=this.Ci;a=this.ds;k=this.md;l=this.FXa;S=this.Wjb;f(void 0 !== b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace && 0 === b.trace.length || void 0 === b.timestamp)(a.MTa?(g=!1,m=!0):a.ou - d.yy + 1 <= d.zL?m=g=!0:(g=!0,m=!1),h=!0);if(l){D=l.l3;n=l.h1;for(var p=0;p < S.length;p++){c=S[p];(b=l[c]) && b.bpa && (m=!0);}}a={bst:d.nk,pst:d.pB,s:d.yy,e:a.ou,prebuf:d.zL,brsi:d.Kl,pbdlbytes:d.qYa,pbdur:d.rYa,pbtwbr:d.l5,pbvmaf:d.oLb};this.mv && (a.fragmentsPrebuffered=d.$);h && (a.nt=h);m && (a.nd=m);D && (a.invalid=D);n && (a.exception=n);this.Tqa && (a.rr=this.Tqa);this.R5 && (a.ra=this.R5);if(!m && !D && !n && (this.gNa || this.mv)){a.bitrate=k.map(function(a){return a.U;});b=this.Dy;c=b.trace;Y=[];E=0;c.forEach(function(a){a=Number(a).toFixed(0);Y.push(a - E);E=a;});a.tput={ts:b.timestamp,trace:Y,bkms:b.Nw};}if(m || h || D || n)a.feasible=g;else for((a.sols={},a.elapsed=l.W0,p=0);p < S.length;p++){c=S[p];b=l[c];m={};if(b && b.Hp){m.algelapsed=b.Vjb;m.maxHeapTotal=b.Rx;m.f=b && b.QA || !1;m.dltwbr=b.LNa;m.dlvmaf=b.ONa;m.dlvdur=b.NNa;m.dlvbytes=b.MNa;m.dlabytes=b.KNa;if(this.gNa || this.mv){da=b.Hp.filter(function(a){return a;}).map(function(a){return a.Vd;});E=0;t=[];da.forEach(function(a){t.push(a - E);E=a;});m.strmsel=t;}if(this.mv){h=[];g=this.Ci.Kl;for(var ea in da){D=da[ea];n=this.xv[D][g];n.Yf=D;h.push(n);g++;}m.fragsel=h;m.streamList=this.md;m.pause_dlnd_sec=b.Hp.filter(function(a){return a;}).map(function(a){return a.Opa;});m.buffer_sec=b.Hp.filter(function(a){return a;}).map(function(a){return a.mga;});m.buffer_kb=b.Hp.filter(function(a){return a;}).map(function(a){return a.lga;});m.buffer_frags=b.Hp.filter(function(a){return a;}).map(function(a){return a.KKa;});m.elapsed_secs=b.Hp.filter(function(a){return a;}).map(function(a){return a.gOa;});m.throughput=b.Hp.filter(function(a){return a;}).map(function(a){return a.Ka;});}}a.sols[c]=m;}return this.ij=a;};l.prototype.Wvb=function(a){var f;if(void 0 !== this.iqa[a])return this.iqa[a];for(var b=this.xv[this.Ci.mS],c=0;c < b.length;c++){f=b[c];if(f && f.X <= a && f.X + f.duration > a)return this.iqa[a]=f;}throw Error("findPlayingFragment: missing");};d.exports=l;},function(d,b,a){var l;function c(a,b,c){this.ba=a;this.Hl=b;this.IF=c;}function h(a,b){this.$na=b;void 0 === b && (this.$na=!0);this.Ej=a;this.Edb();}l=a(5).assert;c.prototype.constructor=c;c.prototype.ux=function(){return 8 * this.ba / 1E3 / this.Hl;};h.prototype.constructor=h;h.prototype.nq=function(a,b,c,d,l){void 0 === b && (b=0);void 0 === c && (c=a.vK());void 0 === d && (d=0);void 0 === l && (l=a.Ej.length);for(var f=[],k,q=d;q < l;q++){d=[];for(var m=b;m < c;m++){k=a.Ej[q][m];d.push(k);}f.push(d);}return new h(f,a.$na);};h.prototype.Edb=function(){var a,b;a=this.Ej[0].length;for(b in this.Ej.slice(1)){l(this.Ej[b].length === a,"expect this.chunkss[chunksIndex].length === n but got " + this.Ej[b].length + " and " + a);}this.$na && this.Fdb();this.Gdb();};h.prototype.vK=function(){return this.Ej[0].length;};h.prototype.Fdb=function(){for(var a=0;a < this.Ej.length - 1;a++){for(var b=0;b < this.vK();b++){l(this.Ej[a][b].ba <= this.Ej[a + 1][b].ba,"Chunk size for epoch " + b + " is not monotonic");}}};h.prototype.Gdb=function(){for(var a=0;a < this.Ej.length - 1;a++){for(var b=0;b < this.vK();b++){l(1E-8 > Math.abs(this.Ej[a][b].Hl - this.Ej[a + 1][b].Hl),"Chunk duration for epoch " + b + " is not consistent");}}};h.prototype.ZAb=function(){var a;a=[];this.Ej[0].forEach(function(b){a.push(b.Hl);});return a;};d.exports={q7a:c,r7a:h};},function(d,b,a){var m;function c(){}function h(a,b,c){void 0 === c && (c=!1);m(a.length === b.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8 < l(a),"bitrate zero, won't be able to send anything.");this.Oz=a;this.cOa=b;this.repeat=c;this.nl=this.tn=0;}function l(a){return a.reduce(function(a,b){return a + b;},0);}m=a(5).assert;c.prototype=Error();h.prototype.constructor=h;h.prototype.nq=function(){var a;a=new h(this.Oz,this.cOa,this.repeat);a.tn=this.tn;a.nl=this.nl;return a;};h.prototype.vla=function(){return this.Oz[this.tn % this.Oz.length];};h.prototype.EA=function(){return this.cOa[this.tn % this.Oz.length];};h.prototype.vtb=function(a){m(0 < a,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.tn && this.tn < this.Oz.length))throw new c();m(this.nl < this.EA(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b;;){b=this.EA() - this.nl;b=a < b?a:b;a-=b;this.nl+=b;if(this.nl < this.EA())break;this.nl-=this.EA();this.tn+=1;if(!this.repeat && this.tn >= this.Oz.length){if(0 < a)throw new c();break;}}};h.prototype.oYa=function(a){this.vtb(a);};h.prototype.wtb=function(a){m(0 < a,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.tn && this.tn < this.Oz.length))throw new c();m(this.nl < this.EA(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var b,f=0;;){b=this.EA() - this.nl;b=a < b * this.vla()?a / this.vla():b;a-=this.vla() * b;f+=b;this.nl+=b;if(this.nl < this.EA())return f;this.nl-=this.EA();this.tn+=1;if(!this.repeat && this.tn >= this.Oz.length){if(0 < a)throw new c();return f;}}};d.exports={Ocb:h,Pcb:c};},function(d){var q,v,r,u,B,g;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(a){if(q === setTimeout)return setTimeout(a,0);if((q === b || !q) && setTimeout)return (q=setTimeout,setTimeout(a,0));try{return q(a,0);}catch(I){try{return q.call(null,a,0);}catch(J){return q.call(this,a,0);}}}function h(b){if(v === clearTimeout)clearTimeout(b);else if(v !== a && v || !clearTimeout)try{v(b);}catch(I){try{v.call(null,b);}catch(J){v.call(this,b);}}else (v=clearTimeout,clearTimeout(b));}function l(){u && B && (u=!1,B.length?r=B.concat(r):g=-1,r.length && m());}function m(){var a;if(!u){a=c(l);u=!0;for(var b=r.length;b;){B=r;for(r=[];++g < b;){B && B[g].CB();}g=-1;b=r.length;}B=null;u=!1;h(a);}}function f(a,b){this.Qwb=a;this.Lo=b;}function k(){}d=d.exports={};try{q="function" === typeof setTimeout?setTimeout:b;}catch(y){q=b;}try{v="function" === typeof clearTimeout?clearTimeout:a;}catch(y){v=a;}r=[];u=!1;g=-1;d.Y7b=function(a){var b;b=Array(arguments.length - 1);if(1 < arguments.length)for(var d=1;d < arguments.length;d++){b[d - 1]=arguments[d];}r.push(new f(a,b));1 !== r.length || u || c(m);};f.prototype.CB=function(){this.Qwb.apply(null,this.Lo);};d.title="browser";d.A4b=!0;d.J5b={};d.n4b=[];d.version="";d.S9b={};d.on=k;d.addListener=k;d.once=k;d.BL=k;d.removeListener=k;d.removeAllListeners=k;d.emit=k;d.hZa=k;d.RMb=k;d.listeners=function(){return [];};d.w4b=function(){throw Error("process.binding is not supported");};d.e5b=function(){return "/";};d.O4b=function(){throw Error("process.chdir is not supported");};d.J9b=function(){return 0;};},function(d,b,a){var c,h,l,m,f,k,q,v,r,u,B,g,y,I,J;Object.defineProperties(b,{__esModule:{value:!0}});b.Dcb=b.faa=b.Fcb=b.qEa=void 0;d=a(0);c=d.__importStar(a(8));h=d.__importDefault(a(3));l=d.__importDefault(a(37))["default"].PK;m=d.__importStar(a(9)).Ku;f=d.__importDefault(a(426));k=a(410);q=a(225);v=a(17);r=a(34);u=a(5);B=a(93);g=a(250);a=(function(){function a(a,b,c,f,d,k,q,r,l,m,h){var v;v=this;this.G=a;this.Kf=b;this.H=c;this.Mb=f;this.R=d;this.sM=k;this.mb=q;this.bb=r;this.uf=l;this.G_=m;this.sD=h;this.SZ=[];this.Gea=[];this.oHa=[];this.MFa=void 0;[0,1].forEach(function(a){v.Mb(a) && (v.SZ[a]=new J(v.G,a),v.Gea[a]=new y(a),v.oHa[a]=new I(a));});this.N4a=new B.ZC(this.G);this.fN=B.dE(this.H,this.N4a);this.Qfa=B.cE();this.dD=void 0;}Object.defineProperties(a.prototype,{$e:{get:function(){return this.SZ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{zy:{get:function(){return this.Gea;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ru:{get:function(){return this.oHa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Lw:{get:function(){return this.MFa;},set:function(a){this.MFa=a;},enumerable:!1,configurable:!0}});a.prototype.Jl=function(a,b){this.N4a.Jl(a,b);};a.prototype.Zna=function(a){var b,f,d,k,q,r;b=this.H;f=a.I;d=h["default"].ql()[f];k=b.OWb?0 === f?b.gQ:b.CV:1 === f?b.gQ:b.CV;q=this.R.sd();r=this.R.$d();b=a.Pa.Kb;f=this.G_.hVa(b,f);d={lq:d,X:f.Rc,ad:r,ac:f.OL || r,uk:f.EQ || r,Fi:f.Fi,Pj:f.Pj,Sja:f.$.length,$:[]};k={state:q,SA:this.R.SA(),Ag:a.yl,buffer:d,Cia:k,UUa:! !this.sM.LS,gR:! !this.sM.Vq,kn:this.mb && this.mb.kn,$T:a.nAb,playbackRate:this.R.xn()};void 0 === k.Ag && (k.Ag=a.vja(d.ac));k.uQ=b.uQ;d.$=f.$;c.qa(d.X)?a.seeking && d.ad != d.X && (d.ad=d.X):(d.X=0,d.ac=0);this.Kf.knb(k);this.Kf.Ejb(k);return k;};a.prototype.jnb=function(a,b,c){var r,m;a=this.SZ[a];for(var f=a.Am,d="manifest",k=0,q=b.length - 1;0 <= q;q--){r=b[q];m=r.U;if(l(r)){k=Math.max(k,m);break;}else this.H.Y6 && !r.uu?d="bc":r.Hu?r.JA && (d="hf"):d="av";}if(void 0 === f || k !== f)(a.Am=k,this.bb.VIb(f,k,d,c));};a.prototype.kAb=function(a){return this.jla(a).Yf;};a.prototype.jla=function(a){var b,f,d,q,l,m,h,B,A,y,I,J,D,n,U,p,t,Ga;b=this.H;f=a.I;d=1 == f;q=0;m=this.SZ[f];h=this.Gea[f];if(!m.$g)return {Yf:void 0};B=this.Zna(a);A=a.Zf;y=A.Jx;I=a.R3.N;J=a.track.md;if(!I.wl.YM(I.fa,J))return (a.pf("location selector did not find any urls"),{Yf:void 0});D=g.y5(B.state);n=d?this.fN:this.Qfa;try{U=n.pl(J,D);}catch(ka){this.G.error("StreamFilters: filterStreams: " + ka);U=[J[0]];}0 === U.length && (this.G.error("StreamFilters: empty list"),U=[J[0]]);if(this.sD.sq && (a.qA.length !== U.length || 0 < r.Hr(a.qA,U).length || 0 < r.Hr(U,a.qA).length)){try{this.dD && this.Kvb();}catch(ka){this.bb.Dm("Hindsight: Error when handling maxbitrate chagned: " + ka);}a.qA=U;}D=y?y.Yf:m.Hja;try{if(y && (q=y.U,y && !y.track.equals(A.track))){p=k.wja(U,q) || 0;l=U[p];if(y.U !== l.U || 1 === f)B.state=v.oa.oh;y=l;D=J.indexOf(l);}}catch(ka){this.G.error("StreamFilters: track change: " + ka);}if(!d && (q=b.OM,!(q && 0 < q.length) && D && J[D] && y && y.location === J[D].location))return {Yf:D};try{Ga=this.Kf.GE(f);t=a.Ay.u6(B,U,void 0,Ga,m.$g.config.av,I.ap);if(!t)return (a.pf("stream selector did not find a stream"),{Yf:void 0});}catch(ka){this.G.error("StreamFilters: stream selector: " + ka);t={Vd:0};}t.Vd=J.indexOf(U[t.Vd]);this.sM.Vq && this.sM.Vq.Gjb(a.I,t,J);d && this.jnb(f,U,a.ac);B=t.Vd;y=J[B];U=y.U;B != D && (d && b.TJ && this.uf.BFa(a,U),d || this.Kf.uM(U));c.qa(m.Hja) || (m.Hja=B);a.wg || (t.wg?(u.assert(void 0 !== t.H_),a.B6(t.H_),h.Mr=t.H_):(a.XA=t.XA,a.SF=t.SF,a.zi=t.zi));this.dw();if(d)if(t.ex)I.vM(t.ex);else if(!I.F2() && !b.M1a)for(a=0;a < J.length;++a){if((b=J[a],b.xs && !I.Jj(f,b.Da))){I.vM([b.Da]);break;}}t.gKa && this.bb.bJb(t.gKa);return {Da:y.Da,Yf:B,Gs:t.Gs};};a.prototype.dw=function(){var a,b,c,f,d,k;c=this.$e[0];f=this.$e[1];d=this.zy[1];k=this.zy[0];c=this.G_.pc.enb(null !== (a=null === f || void 0 === f?void 0:f.Ls) && void 0 !== a?a:0,null !== (b=null === c || void 0 === c?void 0:c.Ls) && void 0 !== b?b:0,this.Lw,this.sM.DF);c.Mr && (this.sM.Ql && d?d.Mr=c.Mr:k && (k.Mr=c.Mr));return c.wg;};a.prototype.tja=function(a,b){var c,f,d,k;c=this;if(this.dD){f=this.dD;d=this.R.$d();k=[];b && (d=b.sa);q.je.forEach(function(b){var f,q;f=c.G_.pc.gd(b);if(f){q=c.Zna(f);q.I=b;q.ad=d;a === v.oa.nf && (q.UZa=f.Pa.xfa(d));k[b]=q;}});f.hPa || f.bK(k,a) || this.ura();return f;}};a.prototype.Kvb=function(){var a,b;a=this.dD;b=this.H;a && (this.tja(void 0),a && !a.$I && this.Kf.Jqa.gja(a));this.IMa(b);};a.prototype.ura=function(){this.dD=void 0;};a.prototype.nWb=function(a){var b,c,f;b=a.oldValue;a=a.newValue;c=this.dD;f=this.H;a === v.oa.Uc && b !== v.oa.Uc?(c && this.G.warn("override an existing play segment!"),this.IMa(f,b,!0)):a !== v.oa.Uc && b === v.oa.Uc && c && (this.tja(a),c && !c.$I && this.Kf.Jqa.gja(c),this.ura());};a.prototype.IMa=function(a,b,c){var d,k,r;d=this;k=[];q.je.forEach(function(a){var b,f,q;b=d.G_.pc.gd(a);if(b){f=d.Zna(b);if(c){q=d.$e[a];q.Ksa?(f.nk=q.Ksa,q.Ksa=void 0):f.nk=q.nk;}else f.nk=h["default"].time.aa();f.md=b.qA;f.I=a;k[a]=f;}});r=h["default"].ql();r={g4b:r[0],L4a:r[1],r7b:a.fL,Tx:a.Tx};this.dD=new f["default"](k,h["default"].time.aa(),b,this.sD.jR,a.mv,r,a.N2);};return a;})();b.qEa=a;y=(function(){function a(a){this.I=a;this.wQ=this.vq=this.Ax=this.Mr=this.Dq=void 0;}a.prototype.sWb=function(a,b,c,f){this.Dq=a?a:this.Dq;this.Mr=this.Mr;this.Ax=b?b:this.Ax;this.vq=c?c:this.vq;this.MCb=f?f:this.MCb;};return a;})();b.Fcb=y;I=(function(){return function(a){this.I=a;this.N3=this.una=this.N3=this.rna=this.XE=void 0;};})();b.faa=I;J=(function(){return function(a,b){this.I=b;this.G=m(h["default"],a,"[" + b + "]");this.pf=this.G.error.bind(this.G);this.yb=this.G.warn.bind(this.G);this.kk=this.G.trace.bind(this.G);this.fg=this.G.log.bind(this.G);this.fI=this.G.debug.bind(this.G);this.Hja=this.nk=this.fm=this.$g=void 0;this.LT=this.Ls=0;this.iN=!1;this.Am=void 0;};})();b.Dcb=J;},function(d,b,a){var B,g,y,I,J,D,n,p,O,Y,E,da,t;function c(){}function h(a,b){var f,d,q,r;f=B.vc(b)?b:c;this.H=a || ({});(function(a,b,c){this.Vi[a].Xd[b]=c;}).bind(this);(function(a,b){return this.Vi[a].Xd?this.Vi[a].Xd[b]:void 0;}).bind(this);this.on=this.addEventListener=da.addEventListener;this.removeEventListener=da.removeEventListener;this.emit=this.Ma=a.I5b?da.Ma:c;d=I.Aqb(a);q=this.H.dailyDiskCacheWriteLimit;if(d){this.Tt=d;r=v(a.uoa || t,I.hyb());this.xw=function(a){return B.Y(r) || null === r || void 0 === this.Vi[a]?!1:!B.Y(r[a]);};r?(this.Vi={},b=g.Promise.all(Object.keys(r).map(function(b){return new g.Promise(function(c,f){var k;k=r[b];k.A4a=a.A4a;new J(b,d,k,function(a,b){a?f(a):c(b);},q);});})).then((function(a){a.map((function(a){var b;b=a.uz;this.Vi[b]=a;r[b].Fwb=r[b].lq - a.ww;this.Vi[b].on(J.ie.REPLACE,(function(a){a=a || ({});a.partition=b;a.type="save";this.Ma("mediacache",a);}).bind(this));this.Vi[b].on(J.ie.tFa,(function(a){a=a || ({});a.partition=b;a.type="save";this.Ma("mediacache",a);}).bind(this));this.Vi[b].on(J.ie.ERROR,(function(a){a=a || ({});a.partition=b;a.type=J.ie.ERROR;this.Ma("mediacache-error",a);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(a){k(d,g.storage.sH,Object.keys(r));return a;}).bind(this)).then((function(a){Object.keys(a.Vi).map(function(b){a.Vi[b].tka().map(function(c){a["delete"](b,c);});});a.ym=!0;f(null,a);}).bind(this))["catch"]((function(a){y.error("Failed to initialize media cache ",a);this.SE=Y.Bwa;f(this.SE,this);}).bind(this)),E.dv(b)):(this.SE=Y.o$a,f(this.SE,this));}else (this.SE=Y.Bwa,f(this.SE,this));}function l(a,b,c,f,d,k){var q;q=k?"mediacache-error":"mediacache";b={partition:c,type:b,resource:f,time:g.time.now()};k && (b.error=k);d && (B.qa(d.duration) && (b.duration=d.duration),B.qa(d.Qw) && (b.bytesRead=d.Qw));try{a.Ma(q,b);}catch(Q){y.warn("caught exception while emitting basic event",Q);}}function m(a,b,c,f,d){var k;k=d?"mediacache-error":"mediacache";b={partition:c,type:b,resources:f,time:g.time.now()};d && (b.error=d);try{a.Ma(k,b);}catch(aa){y.warn("caught exception while emitting basic event",aa);}}function f(a){return !D.JK(a) && !p.DDb(a);}function k(a,b,f){a.query(b,"",function(d,k){d || Object.keys(k).filter(function(a){return 0 > f.indexOf(a.slice(0,a.indexOf(".")));}).map(function(f){a.remove(b,f,c);});});}function q(a,b,c){var d,k;function f(b){a["delete"](d,function(f){f?c(f):(delete a.Xd[k],f=Object.keys(b.resourceIndex),f=g.Promise.all(f.map(function(b){return new g.Promise(function(c,f){a["delete"](b,function(a){a?f(a):c(b);});});})).then(function(){c();},function(a){c(a);}),E.dv(f));});}D.JK(b)?(d=b,k=D.l1(b)):(d=D.Dha(b),k=b);(b=a.Xd[k])?f(b):a.read(d,function(a,b){a?c(a):f(b);});}function v(a,b){var c,f,d;c={};f=a.partitions.reduce(function(a,b){return a + b.capacity;},0);d=b / f;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].lq=Math.floor(d * a.capacity);c[b].Frb=a.dailyWriteFactor || 1;c[b].m8b=a.owner;c[b].Vub=a.evictionPolicy;});return c;}function r(a,b,c){if(c)return p.btb(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function u(a,b,c,f,d,k,q,r,l,m,h){return function(v,u){v?B.isArray(v)?(u=v.map(function(a){return a.error;}),u.some(function(a){return a.code === Y.NG.code;}) && !u.some(function(a){return a.code === Y.xY.code;})?h(m,v,function(){l.save(b,c,f,d,k,q);}):(m["delete"](r),delete m.Xd[c],k({error:v[0].error,Hs:v[0].Hs,type:v[0].type,iJa:v}))):k({error:v,Hs:b,type:"save"}):(v=u.items.filter(function(b){return 0 <= Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a + b.D3;},0),m.Xd[c].n1a(v),v={Fwb:u.Ck,g5b:u.CJ,Dj:0,items:u},0 < u.Dj && (v.Dj=u.Dj),0 < u.duration && (v.duration=u.duration),k(null,v));};}B=a(8);g=a(123);y=new g.Console("MEDIACACHE","media|asejs");I=a(968);J=a(969);D=a(432);n=a(124);p=a(976);O=a(977);Y=a(254);E=a(255);da=a(433).EventEmitter;t={q8b:[]};h.prototype.JF=function(a,b,d){var k;k=B.vc(d)?d:c;this.xw(a)?this.Vi[a].query(b,function(a,b){a?(y.error("Failed to query resources",a),k([])):k(b.filter(f));}):k([]);};h.prototype.read=function(a,b,f){var d,k,q,r;d=B.vc(f)?f:c;if(this.xw(a)){k=this.Vi[a];q=k.Xd[b];if(!D.JK(b) && this.H.iHb){r=(function(c){k.P5(Object.keys(c),(function(c,f,k){c?d(Y.EH.Mp("Failed to read " + b,c)):(l(this,"read",a,b,k),d(null,p.XCb(f)));}).bind(this),c);}).bind(this);q?r(q.resourceIndex):this.SNb(a,b,function(a,c){a?d(Y.EH.Mp("Failed to read " + b,a)):r(c.resourceIndex);});}else k.read(b,(function(c,f,k){c?d(Y.EH.Mp("Failed to read " + b,c)):(q && q.convertToBinaryData && (f=O.Dob(f)),l(this,"read",a,b,k),d(null,f));}).bind(this));}else d(Y.Uy);};h.prototype.P5=function(a,b,f){var d,k;d=B.vc(f)?f:c;if(this.xw(a)){k={};b=g.Promise.all(b.map((function(b){return new g.Promise((function(c,f){this.read(a,b,function(a,d){a?(d={},d[b]=a,f(d)):(k[b]=d,c());});}).bind(this));}).bind(this))).then(function(){d(null,k);},function(a){d(a);});E.dv(b);}else d(Y.Uy);};h.prototype.n0a=function(a,b,f){var d;d=B.vc(f)?f:c;this.xw(a)?"[object Object]" !== Object.prototype.toString.call(b)?d(Y.wY.Mp("items must be a map of keys to objects")):(f=new g.Promise((function(c){var f,d;f=this.Vi[a].tka();d=Object.keys(b);(f=f.filter(function(a){return -1 === d.indexOf(a);})) && 0 < f.length?this.vNa(a,f,function(){c();}):c();}).bind(this)).then((function(){return g.Promise.all(Object.keys(b).map((function(c){return new g.Promise((function(f,d){this.save(a,c,b[c].Ep,b[c].Td,function(a,b){a?(y.error("Received an error saving",c,a),d(a)):f(b);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(c){var f,k,q;try{f=Number.MAX_VALUE;k=Number.MAX_VALUE;q=c.reduce(function(a,b){b.Ck && b.Ck < f && (f=b.Ck);b.CJ && b.CJ < k && (k=b.CJ);f < Number.MAX_VALUE && (a.freeSize=f);k < Number.MAX_VALUE && (a.dailyBytesRemaining=k);B.qa(b.Dj) && (a.bytesWritten+=b.Dj);B.qa(b.duration) && (a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(b),time:g.time.now(),bytesWritten:0,duration:0});this.Ma("mediacache",q);d(null,q);}catch(ua){d(err);}}).bind(this),(function(b){B.isArray(b.iJa)?b.iJa.forEach((function(b){this.Ma("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.kU});}).bind(this)):this.Ma("mediacache-error",{partition:a,type:"saveMultiple",error:b});d(b);}).bind(this)),E.dv(f)):(B.vc(f)?f:c)(Y.Uy);};h.prototype.save=function(a,b,f,d,k,q){var h,v,A,I,J,U,p,S,E;h=B.vc(k)?k:c;if(this.xw(a)){v=this.Vi[a];A=D.Dha(b);k=v.tka();k=k.filter(function(a){return a !== b;});if(B.Y(d) || B.ab(d) || !B.qa(d.lifespan))h(Y.P$a);else {I=r(b,f,this.H.iHb);J=v.Xd[b] || ({});U=J.resourceIndex;U && Object.keys(U).map(function(a){B.Y(I[a]) && v["delete"](a);});d.convertToBinaryData && (f=O.Eob(I),I=r(b,f,!1));U=g.time.now();p={};p.partition=a;p.resourceIndex=Object.keys(I).reduce(function(a,b){a[b]=n.rla(I[b]);return a;},{});p.creationTime=J.creationTime || U;p.lastRefresh=U;p.lifespan=d.lifespan;p.lastMetadataUpdate=U;p.size=J.size;p.convertToBinaryData=d.convertToBinaryData;S=(function(a,c,f){a.tsb((function(d,k){d && y.error("Evicting","Failed to delete some orphaned records",d);k.Yqa?f():(d=a.vyb())?this["delete"](a.getName(),d,(function(d){d?(q || (B.isArray(c)?c.forEach((function(b){m(this,"save",a.getName,b.kU,b.error);}).bind(this)):l(this,"save",a.getName(),b,void 0,c)),h(c)):f();}).bind(this)):h(Y.NG);}).bind(this));}).bind(this);E=(function(){var a,b,c;a=this.Vi;b=0;c=g.time.now();if(!B.Y(a))for(var f in a){b+=a[f].Exb(c);}return b;}).bind(this);this.vNa(a,k,(function(){v.replace(A,p,(function(c,k){k?(v.Xd[b]=D.Vja(p),v.iPb(I,u(I,a,b,f,d,h,q,A,this,v,S),q,E)):c.code === Y.NG.code?S(v,c,(function(){this.save(a,b,f,d,h,q);}).bind(this)):h(c);}).bind(this),q,E);}).bind(this));}}else h(Y.Uy);};h.prototype["delete"]=function(a,b,f){var d;d=B.vc(f)?f:c;this.xw(a)?q(this.Vi[a],b,(function(c){l(this,"delete",a,b,void 0,c);d(c);}).bind(this)):d(Y.Uy);};h.prototype.vNa=function(a,b,f){var d,k;d=B.vc(f)?f:c;if(this.xw(a)){k=this.Vi[a];f=g.Promise.all(b.map((function(a){return new g.Promise((function(b){q(k,a,(function(c){b({ja:B.Y(c),error:c,Ep:a});}).bind(this));}).bind(this));}).bind(this))).then((function(b){var r,l;for(var c=[],f=[],k=[],q=0;q < b.length;q++){r=b[q];r.ja?c.push(r.Ep):r.error && f.push(r);}0 < c.length && m(this,"delete",a,c);0 < f.length && (k=f.map(function(a){return a.Ep;}),b=E.jSa(f),l=b[0],b.forEach((function(b){y.error("Failed to delete resources ",b.error,b.kU);m(this,"delete",a,b.kU,b.error);}).bind(this)));b={};b.L8b=c;0 < k.length && (b.M8b=k);l?d(l,b):d(void 0,b);}).bind(this),(function(c){m(this,"delete",a,b,c);d(c);}).bind(this));E.dv(f);}else d(Y.Uy);};h.prototype.clear=function(a,b){var d;d=B.vc(b)?b:c;this.xw(a)?this.Vi[a].clear(function(a){d(a.filter(f));}):d(Y.Uy);};h.prototype.SNb=function(a,b,f){var d,k;d=B.vc(f)?f:c;if(this.xw(a)){f=D.Dha(b);k=this.Vi[a];k.read(f,function(a,c){var f;if(a)d(Y.Q$a);else {f=D.Vja(c) || ({});k.qRa(Object.keys(f.xra),function(a){f.size=a;(a=k.Xd[b]) && (f.lastMetadataUpdate && a.lastMetadataUpdate && a.lastMetadataUpdate <= f.lastMetadataUpdate?k.Xd[b]=f:a.lastMetadataUpdate && (a.lastMetadataUpdate > f.lastMetadataUpdate || B.Y(f.lastMetadataUpdate)) && (f=a));d(null,f);});}});}else d(Y.Uy);};h.prototype.constructor=h;d.exports=h;},function(d,b,a){var m,f;function c(a,b,c,f,d,m){return new l(a,b,c,f,d,m);}function h(a){return a && 0 <= a.indexOf(".__metadata__");}function l(a,b,c,f,d,l){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=f;this.creationTime=d;this.lastRefresh=l;return this.u3a();}m=a(8);f=a(123);a(124);new f.Console("MEDIACACHE","media|asejs");l.prototype.refresh=function(){this.lastRefresh=f.time.now();return this.u3a();};l.prototype.n1a=function(a){this.size=a;};l.prototype.eMa=function(){var a;a=f.time.now();return (this.lastRefresh + 1E3 * this.lifespan - a) / 1E3;};l.prototype.u3a=function(){this.lastMetadataUpdate=f.time.now();return this;};l.prototype.constructor=l;d.exports={create:c,Vja:function(a){var b;b=a;"string" === typeof a && (b=JSON.parse(a));if(b && b.partition && !m.Y(b.lifespan) && b.resourceIndex && b.creationTime && b.lastRefresh)return (a=c(b.partition,b.resourceIndex,b.lifespan,-1,b.creationTime,b.lastRefresh),b.lastMetadataUpdate && (a.lastMetadataUpdate=b.lastMetadataUpdate),!m.Y(b.size) && 0 <= b.size && a.n1a(b.size),a.eMa(),a.convertToBinaryData=b.convertToBinaryData,a);},Dha:function(a){return a + ".__metadata__";},l1:function(a){return h(a)?a.slice(0,a.length - 13):a;},JK:h};},function(d,b,a){d.exports={EventEmitter:a(972),sg:a(973)};},function(d){d.exports="4.1.1555";},function(d,b,a){var c,h,l,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.qba=void 0;c=a(0);h=a(16);l=a(9);m=a(5);f=a(17);d=(function(){function a(){this.IL=[];this.tz=new l.Kt(!1);this.events=new h.EventEmitter();}Object.defineProperties(a.prototype,{uv:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{playbackRate:{get:function(){return this.xn();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mq:{get:function(){return this.tz;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{MB:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Fu:{get:function(){return this.LE;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ne:{get:function(){return this.iK();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{un:{get:function(){var a,b;a=this.ne;b=this.Qq(a);m.assert(b,"Could not find current branch for " + a.da);return b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{J3:{get:function(){return this.LE?this.Lb[this.Lb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yi:{get:function(){var a,b;a=this.ne;b=this.Q1(a);m.assert(b,"Could not find presenting branch for " + a.da);return b;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{LE:{get:function(){return 0 < this.Lb.length;},enumerable:!1,configurable:!0}});a.prototype.xBb=function(a){return -1 !== this.Lb.indexOf(a);};a.prototype.x_=function(){return void 0 !== this.Xa?!1:!0;};a.prototype.Tb=function(){};a.prototype.A2=function(a){var b,c,f;b=this.Lb.filter(function(b){return b.W.id === a.va;});if(0 !== b.length){c=this.iK();f=new l.T(Infinity,1);b.forEach(function(b){b=b.x5.add(a.offset);c.tia(b).lessThan(c.tia(f)) && (f=b);});return f;}};a.prototype.Qq=function(a){var b,c,f;b=this.Q1(a);if(b){c=b.W;f=c.id;a=a.Fa(c.Uk.add(b.Oo));return {va:f,offset:a};}};a.prototype.reset=function(){};a.prototype.jU=function(){};a.prototype.pause=function(a){void 0 === a && (a=f.je);this.IL=null === a || void 0 === a?void 0:a.reduce(function(a,b){-1 === a.indexOf(b) && a.push(b);return a;},this.IL);};a.prototype.resume=function(a){var b;b=this;void 0 === a && (a=f.je);a.forEach(function(a){a=b.IL.indexOf(a);-1 !== a && b.IL.splice(a,1);});};a.prototype.Ata=function(a){var b;m.assert(this.Xa);m.assert(a !== this);this.IM();b=a.x_(this.Xa,this);b && (a.pause(this.IL),a.Yia.apply(a,c.__spread(this.Lb)),this.nia(this.Xa));return b;};a.prototype.iK=function(){return this.QQa();};a.prototype.QQa=function(){var a,b;m.assert(this.LE,"Attempted to get initial time before any branches were queued");b=c.__read(this.Lb,1)[0];m.assert(b);return null !== (a=b.Qj) && void 0 !== a?a:b.pS;};a.prototype.xn=function(){return 1;};a.prototype.Q1=function(a){var b;if(this.LE){b=this.QQa();return a.lessThan(b)?this.Lb[0]:l.oPa(this.Lb,a);}};return a;})();b.qba=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.io=void 0;d=b.io || (b.io={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";d[d.dk=2]="STREAMING";},function(d,b){var h,l,m;function a(a){return void 0 !== (null === a || void 0 === a?void 0:a.zFa);}function c(b){return (a(b)?b:Object.defineProperties(b,{zFa:{value:{},configurable:!1,enumerable:!1}})).zFa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Fba=void 0;l=null !== (h=Number.MAX_SAFE_INTEGER) && void 0 !== h?h:1E9;m=Date.now() % l;d=(function(){function b(){this.id=m=(m + 1) % l;}b.prototype.get=function(b){return a(b)?c(b)[this.id]:void 0;};b.prototype.set=function(a,b){c(a)[this.id]=b;return this;};b.prototype.has=function(b){return a(b) && void 0 !== c(b)[this.id];};b.prototype["delete"]=function(a){if(!this.has(a))return !1;c(a)[this.id]=void 0;return !0;};return b;})();b.Fba=d;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.ORa=b.fia=void 0;h=a(0);b.fia=(c={},c[1]=0,c[0]=0,c.total=0,c);b.ORa=function(a){return a.reduce(function(a,b){var c,f,l;try{for(var d=h.__values(b.mK()),r=d.next();!r.done;r=d.next()){l=r.value;a[l.I]+=l.Fw;a.total+=l.Fw;}}catch(B){c={error:B};}finally{try{r && !r.done && (f=d["return"]) && f.call(d);}finally{if(c)throw c.error;}}return a;},h.__assign({},b.fia));};},function(d,b,a){var h,l,m,f;function c(){return h.__awaiter(this,void 0,void 0,function(){var b;return h.__generator(this,function(c){switch(c.label){case 0:return [4,Promise.resolve().then(function(){return h.__importStar(a(256));})];case 1:return (b=c.di().FE,[2,b()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.PR=void 0;h=a(0);l=a(1016);m=h.__importDefault(a(3));b.PR=function(a){var b;b=new m["default"].Console("ASEJS","media|asejs");f || (f=new l.$Ca(function(){return c();},a,b));return f;};},function(d,b,a){var h,l;function c(a,b){var c;c={};Object.keys(b).forEach(function(f){var d;d=b[f];c[f]={fa:a.viewableId,tc:d.startTimeMs,Ad:d.endTimeMs || Infinity,zh:d.defaultNext || null,od:d.transitionHint,next:d.next};});return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.rMa=b.mvb=b.NU=b.rJ=void 0;h=a(0);l=a(9);b.rJ=function(a,b,d,q){return {hf:null !== b && void 0 !== b?b:a.hf,Ee:null !== q && void 0 !== q?q:a.Ee,od:a.transitionType,Ja:c(a,null !== d && void 0 !== d?d:a.Ja)};};b.NU=function(a,b,c){var f;return {hf:b,od:"lazy",Ee:c,Ja:(f={},f[b]={fa:a,tc:0,Ad:Infinity,zh:null,next:{}},f)};};b.mvb=function(a,b){var c,m,h;a=Math.max(a.duration - 3E4,3E4);for(var f={},d,r=0,l=0;l < a;l+=3E4){m="s" + r++;h={fa:b,tc:l,Ad:l + 3E4 < a?l + 3E4:null};void 0 !== d && (d.next=(c={},c[m]={weight:1},c),d.zh=m);d=f[m]=h;}return {hf:"s0",Ja:f,od:"lazy"};};b.rMa=function(a,b,c){var f,d,B,g,y;try{for(var k=h.__values(Object.keys(a.Ja)),m=k.next();!m.done;m=k.next()){B=m.value;g=a.Ja[B];if(g.fa === b){y=l.T.$b(g.tc);if(c.rl(y) && (null === g.Ad || void 0 === g.Ad || c.lessThan(l.T.$b(g.Ad))))return {va:B,offset:c.Fa(y)};}}}catch(I){f={error:I};}finally{try{m && !m.done && (d=k["return"]) && d.call(k);}finally{if(f)throw f.error;}}};},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.iYa=void 0;c=a(260);h=a(261);b.iYa=function(a,b,f,d){return new Promise(function(k,l){h.sua(a,function(a){a.ja?c.$Xa(a.object,b,f,d,function(a){a.ja?k(a.entries):l(a);}):l(a);});});};},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.o5a=void 0;c=a(7);h=a(15);b.o5a=function(a){var b,f;if(h.Gx(a)){b=new DOMParser().parseFromString(a,"text/xml");f=b.getElementsByTagName("parsererror");if(f && f[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(f[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(k){}throw Error("xml parser error");}return b;}throw Error("bad xml text");};},function(d,b,a){var h;function c(a){var d,f,k,q,l,r,u;k={};k[h.mN]=a.localName;q={};k[h.sj]=q;l=[];k[h.lN]=l;r=a.attributes;d=r.length;for(f=0;f < d;f++){u=r[f];q[u.localName]=u.value;}a=a.childNodes;d=a.length;q={};for(f=0;f < d;f++){switch((r=a[f],r.nodeType)){case b.s5a:r=c(r);u=r[h.mN];r[h.W7]=k;l.push(r);k[u]?q[u][h.ZB]=r:k[u]=r;q[u]=r;break;case b.t5a:case b.q5a:(r=r.text || r.nodeValue,l.push(r),k[h.hr] || (k[h.hr]=r));}}return k;}Object.defineProperty(b,"__esModule",{value:!0});b.r5a=b.q5a=b.t5a=b.dYb=b.s5a=b.eYb=b.p5a=void 0;h=a(147);b.p5a=function(a){return c(a.nodeType == b.r5a?a.documentElement:a);};b.eYb=c;b.s5a=1;b.dYb=2;b.t5a=3;b.q5a=4;b.r5a=9;},function(d,b,a){var c,h,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.l7a=b.Vva=void 0;c=a(11);h=a(23);l=a(15);m=a(80);b.Vva=function(a,b,c,d,r,m,B,g,y,I){var f,k;f=this;k={Type:b,Bitrate:d,DownloadableId:c};h.Hb(f,{track:a,type:b,Jd:c,U:d,tb:r,yg:g,size:m,hx:B,Aq:null,YRb:function(a,b,c,d){if(l.ic(a) || l.ic(b))(f.width=a,f.height=b,l.qa(c) && l.qa(d) && (f.pfa=c / d * a),k.Resolution=(f.width || "") + ":" + (f.height || ""));},oRb:function(a,b,c,d,k,q){l.ic(a) && l.ic(b) && l.ic(c) && l.ic(d) && (f.Mha=a,f.q0=b,f.p0=c,f.o0=d);l.ic(k) && l.ic(q) && (f.FYa=k,f.GYa=q);},I1:y,Iu:I,Eh:k,toJSON:function(){return k;}});};b.l7a=function(a,b,d,l,r){if(a == c.oX || a === m.kh.audio)return b;if(a == c.kH || a === m.kh.video)return d;if(a == m.kh.m7)return l;if(a == m.kh.Fta)return r;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.vX=void 0;b.vX="MslReadyNotifierSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.c9=void 0;b.c9="DeviceIdGeneratorSymbol";},function(d,b){function a(b,d,l){if(null != l){if(0 < l(b,d))throw a.LMa(b,d);}else if(b.tk && 0 < b.tk(d))throw a.LMa(b,d);this.start=b;this.end=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Iba=void 0;a.LMa=function(a,b){return new RangeError("end [" + b + "] must be >= start [" + a + "]");};b.Iba=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.d9=void 0;b.d9="DeviceProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.K8=void 0;b.K8="CryptoDeviceIdSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.L8=void 0;b.L8="CryptoKeysSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Haa=void 0;b.Haa="PboBindDeviceCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.I$=void 0;b.I$="LogblobSenderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eaa=void 0;b.eaa="MessageQueueSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Je=void 0;d=b.Je || (b.Je={});d.Flb="bitraterestriction";d.jLa="cdnsel";d.Pga="chgstrm";d.debug="debug";d.ftb="dlreport";d.Wia="endplay";d.Dma="intrplay";d.t4="midplay";d.OYa="playbackaborted";d.fPb="renderstrmswitch";d.lra="repos";d.Ara="resumeplay";d.eRb="serversel";d.S6="startplay";d.nTb="statechanged";d.transition="transition";d.xkb="asereport";d.wkb="aseexception";d.alb="audioswitch";d.Glb="blockedautoplay";d.config="config";d.O0="dlreq";d.a6b="ftlProbeError";d.GQb="securestop";d.$Tb="subtitleerror";d.aUb="subtitleqoe";d.QUb="timedtextrebuffer";d.RUb="timedtextswitch";d.YSb="speedchanged";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qaa=void 0;b.Qaa="PboLogblobCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.vca=void 0;b.vca="UuidProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.a8=void 0;b.a8="AppLogSinkSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.H$=void 0;b.H$="LogblobBuilderFactorySymbol";},function(d,b,a){var h,l,m,f,k,q,v,r,u,B,g,y,I,J,D,n,p,O,Y,E,da,t,ea,Z;function c(a,b,c,f,d,h,v,A,U,S,E,Y,sa,ea,Na,F,L,lb,ab,ia,N){var P;P=this;this.j=a;this.Un=b;this.Z2a=f;this.U_=d;this.Mj=h;this.woa=v;this.nja=A;this.Wd=U;this.Q0=S;this.gf=E;this.config=Y;this.kc=sa;this.ta=ea;this.za=Na;this.platform=F;this.Nn=L;this.$E=lb;this.xi=ab;this.xq=ia;this.iF=N;this.kV=[];this.HHb=this.k3=this.C_a=0;this.OJ=[];this.jfa=!1;this.Kx=function(a,b){return function(c){var f;f=b(c);if("number" !== typeof f)throw Error("Event " + JSON.stringify(c) + " does not have movie Id");f === P.u && a(c);};};this.Jq=this.Kx(function(a){P.Z1a(a.PA);},function(a){return a.u;});this.bL=this.Kx(function(){P.Rnb();},function(a){return a.u;});this.U1a=function(a){P.kd(da.Je.YSb,!1,Z.ji | Z.fh,{speedold:Math.floor(1E3 * a.oldValue),speed:Math.floor(1E3 * a.newValue)});};this.SM=function(){P.kd(da.Je.QUb,!1,Z.ji | Z.fh,{track:P.j.Oc.value.Eh});};this.k3a=function(a){a.newValue && P.$pa && (a={track:a.newValue.Eh},P.QE(a,P.j.Df.value && P.j.Df.value.stream,P.j.Fg.value && P.j.Fg.value.stream),P.kd(da.Je.RUb,!1,Z.ji | Z.fh,a));};this.No=function(a){P.kd(da.Je.Flb,!1,Z.ji | Z.fh,a.newValue);};this.JNa=function(){var a,b,c;if(P.j.qk)try{a=!1;P.ea % P.config().$Q && !P.j.gR && (a=!0,P.OJ=P.OJ.filter(function(a){return !a.ja;}));if(0 < P.OJ.length){b=P.Q0.construct(P.OJ,P.j.Ok.ca(u.ga));P.OJ=[];b.erroronly=a;c={};r.Rd(b,function(a,b){c[a]=JSON.stringify(b);});P.kd(da.Je.ftb,!1,Z.fh,c);}}catch(qd){P.log.error("Exception in dlreport.",qd);}};this.SR=function(){var a;a=P.j.Ob.value;return a === O.ub.Uc?"playing":a === O.ub.uj?"paused":a === O.ub.At?"ended":"waiting";};this.t4=function(){var a,b,c;if(P.j.state.value == O.Db.yd){c=P.MYa();P.config().kra && (c.avtp=P.PB.zn().rG,(null === (a=P.j.Ga) || void 0 === a?0:a.xK()) && P.Y2(c));c.mediabuffered=null === (b=P.j.Wf) || void 0 === b?void 0:b.S1();c.midplayseq=P.HHb++;c.prstate=P.SR();c.paustate=P.j.paused.value;P.config().$Qb && P.z2a("midplay");P.config().Ms && P.sma(c);P.oma(c);P.qma(c);P.rma(c);P.kd(da.Je.t4,!1,Z.ji | Z.fh | Z.Qy | Z.tO,c);}};this.pFa=/-?l(\d\d)/i;this.VNa=this.Kx(function(a){P.OJ.push(P.Q0.Fob(a.response));},function(a){return a.u;});this.O0=this.Kx(function(a){var b,c,f,d,q,l;a=a.response;b=a.request;c=a.request.Nq;f=b.track;if(f){d=!a.ja && a.ka != B.K.Sy;q=f.type;l=a.xl;if(d || P.Un.X3){c={dltype:q,url1:b.url,url2:a.url || "",cdnid:b.Hc && b.Hc.id,tresp:r.Bk(l.Kh - l.requestTime),brecv:r.FPa(l.wha),trecv:r.Bk(l.Rn - l.Kh),sbr:c && c.U};a.Tq && (c.range=a.Tq);switch(q){case k.kh.audio:c.adlid=b.stream.Jd;break;case k.kh.video:c.vdlid=b.stream.Jd;break;case k.kh.m7:c.ttdlid=f.Jd;}(b=t.Pka(a.ka)) && (c.nwerr=b);a.cj && (c.httperr=a.cj);P.kd(da.Je.O0,d,Z.fh,c);}}},function(a){return a.u;});this.ll=function(){P.kd(da.Je.Glb,!1,Z.ji | Z.Qy,{browserua:n.Wm});};this.RLa=this.Kx(function(a){var b,c,f;a=a.response;b=a.xl;c=u.Nb(b.Kh);f=u.Nb(b.Rn);b=y.ba(b.wha || 0);b.XTa() || b.Oma() || (c=new I.Iba(c,f),P.PB.j_(new J.uW(c,b)),a && a.request && a.request.Nq && a.request.Nq.Zb && P.U_.j_(new D.awa(c,b,a.request.Nq.Zb)));},function(a){return a.u;});this.pYa=function(a){var b;b=a.newValue;a.Xr && a.Xr.rT && b || b == P.lna || (P.lTb(P.lna,b),P.lna=b);};this.Ow=function(a){function b(a){var b;if(P.j.Gb && P.j.Gb.sourceBuffers){b=P.j.Gb.sourceBuffers.filter(function(b){return b.type === a;}).pop();if(b)return {busy:b.$h(),updating:b.updating(),ranges:b.T1()};}}P.sy="rebuffer";a={cause:a.cause};a.cause && a.cause === m.eba && (a.mediaTime=P.j.qb.value,a.buf_audio=b(l.oX),a.buf_video=b(l.kH));P.Dma(P.kV[O.ub.Uc] || 0,P.kV[O.ub.uj] || 0,a);P.IG=P.getTime();p.Ic(P.AQ);};this.w3a=function(a){var b;a=a.oldValue;b=P.getTime();a === O.ub.$f?P.kV=[]:P.kV[a]=(P.kV[a] || 0) + (b - P.QEb);P.QEb=b;};this.Fl=function(a){a.skip && (P.Uj=!0);switch(a.cause){case O.zd.Tv:case O.zd.FH:P.sy && P.IG && P.TLb(P.getTime() - P.IG,P.sy);P.sy="repos";P.lra(a.tpa,a.Fg,a.Df);P.IG=P.getTime();p.Ic(P.AQ);break;case O.zd.DW:(P.sy="force_rebuffer",P.IG=P.getTime(),p.Ic(P.AQ));}};this.AQ=function(){var a;if(P.IG && P.j.Ob.value !== O.ub.$f){a=P.getTime() - P.IG;P.Ara(a,P.Uj);P.hna && P.hna != P.j.Zc.value && P.Ykb();P.IG=void 0;P.sy=void 0;P.Uj=void 0;}};this.Lga=this.Kx(function(){P.j.Ob.value === O.ub.Uc && (P.j.Ob.removeListener(P.Lga),P.Is());},function(){return P.j.u;});this.iQ=function(a){P.KEb=P.getTime();P.hna=a.oldValue;};this.Is=function(){P.$pa || (P.$pa=!0,P.S6(!1),P.JCb(),P.config().lTa && (P.c3=ja.setTimeout(function(){P.Mj.flush(!1)["catch"](function(){return P.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});P.c3=void 0;},P.config().lTa)));};this.Qf=function(){P.c3 && (ja.clearTimeout(P.c3),P.c3=void 0);if(P.config().$Q || P.config().cQ)(P.zia && (ja.clearInterval(P.zia),P.zia=void 0),P.JNa());P.Y3a && P.Y3a();P.$pa?P.Wia(! !P.j.Hj):P.j.Hj?P.S6(!0):P.Un.background || P.ULb();P.CQb || (P.kd=l.mh);};this.MLa=this.Kx(function(){P.Qf();},function(a){return a.movieId;});this.S4a=function(a){a.oldValue && a.Xr && a.Xr.Sga && P.Pga(a.oldValue,a.newValue,a.Xr.Sga,a.Xr.qKa);};this.iZa=function(a){var b;if(a.newValue){b=a.newValue.stream;P.nna != b && (P.nna && P.ePb(P.nna,b,a.newValue.mq.startTime),P.nna=b);}};this.As=this.Kx(function(a){function b(a,b){var c;if(!a || a.Jna !== b.location){c={Jna:b.location,LUa:b.locationlv,cRb:b.serverid,YF:b.servername};P.Vmb(a,b);return c;}}if("audio" === a.mediatype){if(a=b(P.JEb,a))P.JEb=a;}else if(a=b(P.yS,a))P.yS=a;},function(a){return P.j.Du(a.segmentId).u;});this.XF=this.Kx(function(a){var b,c;b=a.mediatype;c=a.reason;"video" === b?"serverswitchaway" === c?(P.Ei.summary.Z4a++,P.Ei.O3=P.ta.Be.ca(u.ga)):"serverswitchback" === c && (P.Ei.summary.$4a++,P.Ei.O3 && (P.Ei.summary.a5a.push(P.ta.Be.ca(u.ga) - P.Ei.O3),P.Ei.O3=void 0)):"audio" === b && ("serverswitchaway" === c?(P.Ei.summary.OJa++,P.Ei.H3=P.ta.Be.ca(u.ga)):"serverswitchback" === c && (P.Ei.summary.PJa++,P.Ei.H3 && (P.Ei.summary.QJa.push(P.ta.Be.ca(u.ga) - P.Ei.H3),P.Ei.H3=void 0)));P.kd(da.Je.eRb,!1,Z.ji | Z.fh,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});},function(a){return P.j.Du(a.segmentId).u;});this.cJ=function(a){P.kd(da.Je.xkb,!1,Z.fh,{strmsel:a.strmsel});};this.bJ=function(a){P.kd(da.Je.wkb,!1,Z.fh,{msg:a.msg});};this.LM=function(a){a=g.wM(a);a.details && (a.details=JSON.stringify(a.details));P.kd(da.Je.$Tb,!0,Z.ji | Z.uH | Z.bW,a);};this.jfa=ab.F7 || ab.G7 || ab.CPa;this.PB=f();this.log=q.Ch(a,"LogblobBuilder");this.lna=a.paused.value;this.u=b.u;this.ea=this.Un.ea;this.Ei={summary:{Z4a:0,$4a:0,a5a:[],OJa:0,PJa:0,QJa:[]},O3:void 0,H3:void 0};this.$a();c && this.Z1a();}Object.defineProperty(b,"__esModule",{value:!0});b.Nza=void 0;h=a(48);l=a(11);m=a(57);f=a(45);k=a(80);q=a(7);v=a(18);r=a(23);u=a(4);B=a(2);g=a(26);y=a(47);I=a(447);J=a(460);D=a(1049);n=a(10);p=a(55);O=a(13);Y=a(15);E=a(1050);da=a(454);t=a(182);ea=a(98);c.prototype.$a=function(){this.j.addEventListener(O.V.Jq,this.Jq);this.j.addEventListener(O.V.bL,this.bL);this.j.addEventListener(O.V.As,this.As);this.j.addEventListener(O.V.XF,this.XF);this.j.addEventListener(O.V.Qf,this.MLa);this.j.addEventListener(O.V.jA,this.O0,l.IX);if(this.config().$Q || this.config().cQ)(this.j.addEventListener(O.V.jA,this.VNa),this.zia=ja.setInterval(this.JNa,this.config().stb));this.config().kra && this.j.addEventListener(O.V.jA,this.RLa);};c.prototype.Z1a=function(a){this.rWa || (this.j.Ob.value !== O.ub.Uc || (void 0 === a?0:a)?this.j.Ob.addListener(this.Lga):this.Is(),this.j.lk.addListener(this.k3a),this.j.Zc.addListener(this.iQ),this.j.paused.addListener(this.pYa),this.j.Df.addListener(this.iZa),this.j.Ob.addListener(this.AQ),this.j.Ob.addListener(this.w3a),this.j.kf.addListener(this.S4a),this.j.playbackRate.addListener(this.U1a),this.j.addEventListener(O.V.ll,this.ll),this.j.addEventListener(O.V.bJ,this.bJ),this.j.addEventListener(O.V.cJ,this.cJ),this.j.addEventListener(O.V.LM,this.LM),this.j.addEventListener(O.V.Ow,this.Ow),this.j.addEventListener(O.V.Fl,this.Fl),this.j.addEventListener(O.V.SM,this.SM),this.Un.No && this.Un.No.addListener(this.No),this.config().Il && (this.CQb=!0),this.rWa=!0);};c.prototype.Rnb=function(){this.Qf();this.rWa && (this.j.removeEventListener(O.V.Jq,this.Jq),this.j.removeEventListener(O.V.bL,this.bL),this.j.removeEventListener(O.V.As,this.As),this.j.removeEventListener(O.V.XF,this.XF),this.j.lk.removeListener(this.k3a),this.j.Zc.removeListener(this.iQ),this.j.paused.removeListener(this.pYa),this.j.Df.removeListener(this.iZa),this.j.Ob.removeListener(this.AQ),this.j.Ob.removeListener(this.Lga),this.j.Ob.removeListener(this.w3a),this.j.kf.removeListener(this.S4a),this.j.playbackRate.removeListener(this.U1a),this.j.removeEventListener(O.V.jA,this.O0),this.j.removeEventListener(O.V.Qf,this.MLa),this.j.removeEventListener(O.V.ll,this.ll),this.j.removeEventListener(O.V.bJ,this.bJ),this.j.removeEventListener(O.V.cJ,this.cJ),this.j.removeEventListener(O.V.LM,this.LM),this.j.removeEventListener(O.V.Ow,this.Ow),this.j.removeEventListener(O.V.Fl,this.Fl),this.j.removeEventListener(O.V.SM,this.SM),this.Un.No && this.Un.No.removeListener(this.No),this.j.removeEventListener(O.V.jA,this.VNa),this.j.removeEventListener(O.V.jA,this.RLa));};c.prototype.$Sa=function(a,b){var c,f,d,k,q,l,m,h,v,u,B,g,A,y,I,J,D,n,p,U,S,E;if(this.config().Ms)try{c={};f=this.kc.getStats(void 0,void 0,a.u);d=a.O1();k=f.qG.$La || [];c.attempts=f.C5 || 0;c.num_completed_tasks=k.length;q=this.Wd.Fvb;l={};m=ea.Jf.NM;h=ea.Jf.uq;v=ea.Jf.Dga;u=ea.Jf.S_;B=ea.Jf.Cga;f.Ak && (l.scheduled=f.Ak - d);g=a.pa;g && Y.qa(g.zB) && (l.preauthsent=g.zB - a.ce,l.preauthreceived=g.PF - a.ce);A=k.filter(function(a){return "manifest" === a.type;});c.mf_succ=A.filter(q("status",m)).length;c.mf_fail=A.filter(q("status",h)).length;y=a.Md;Y.ic(y.lg) && 0 > y.lg && a.ce && (l.ldlsent=y.lc,l.ldlreceived=y.lr);I=k.filter(function(a){return "ldl" === a.type;});c.ldl_succ=I.filter(q("status",m)).length;c.ldl_fail=I.filter(q("status",h)).length;f=!0;d=[];"notcached" === a.Tz && (f=!1,d.push("Missing cached manifest"));this.config().UJ || (f=!1,d.push("LDL prefetch disabled"));J=I.filter(q("status",v)).length;D=I.filter(q("status",u)).length;n=I.filter(q("status",B)).length;this.config().UJ && 0 === J + D + n && (!l.ldlreceived || 0 <= l.ldlreceived) && (f=!1,d.push("LDL received after start"));if(this.config().iR){p=a.KA && a.KA.stats;if(p){if((p.Jja && (l.headersent=p.Jja - a.ce),p.wna && (l.headerreceived=p.wna - a.ce),p.KT && (l.prebuffstarted=p.KT - a.ce),p.oqa && (l.prebuffcomplete=p.oqa - a.ce),!l.prebuffcomplete || 0 <= l.prebuffcomplete))(f=!1,d.push("Missing cached media"));}else if(b.isPrefetchItem){U=b.prefetchedAudioMs / b.bcABufferLevelMs;if(1 > b.prefetchedVideoMs / b.bcVBufferLevelMs || 1 > U)(f=!1,d.push("Insufficient media fetched"));}else (f=!1,d.push("aseStats not initialized"));}S=k.filter(function(a){return "getHeaders" === a.type;});c.header_succ=S.filter(q("status",m)).length;c.header_fail=S.filter(q("status",h)).length;E=k.filter(function(a){return "getMedia" === a.type;});c.media_succ=E.filter(q("status",m)).length;c.media_fail=E.filter(q("status",h)).length;c.hm_succ=c.header_succ + c.media_succ;c.hm_fail=c.header_fail + c.media_fail;r.Hb(b,c,{prefix:"pr_"});this.xq.kR && (b.eventlist_version=1,b.eventlist=this.iF.sRa(a));(b.prefetchCompleted=f) || (b.prefetchFailed=d,r.Hb(b,l,{prefix:"pe_"}));this.sma(b);}catch(Lb){this.log.warn("error in collecting video prepare data",Lb);}};c.prototype.S6=function(a){var b,c,d,k,q,l,m,h;c={};try{c={browserua:n.Wm,browserhref:location.href,playdelaysdk:r.Bk(this.j.yga()),applicationPlaydelay:r.Bk(this.j.mmb()),playdelay:r.Bk(this.j.vmb()),trackid:this.j.rj,bookmark:r.Bk(this.j.QD || 0),pbnum:this.j.index,endianness:f.DQa()};this.config().yub && (c.transitiontime=this.j.Ol,c.uiplaystarttime=this.j.Wa.w7,c.playbackrequestedat=this.j.Ok.ca(u.ga),c.clockgettime=this.getTime(),c.clockgetpreciseepoch=this.ta.Be.ca(u.ga),c.clockgetpreciseappepoch=this.za.YE.ca(u.ga),c.absolutestarttime=this.j.O1(),c.relativetime=this.j.Yka());this.N1(c,"startplay");}catch(Ga){this.log.error("error in startplay log fields",Ga);}this.j.ll && (c.blocked=this.j.ll);c.configversion=this.config().version;this.config().endpoint || (c.configendpoint="error");this.WSa(c);if(this.config().Q7 && this.j.Wa.b5a){k={};Object.entries(this.j.Wa.b5a).reverse().forEach(function(a){var b;b=N(a);a=b.next().value;b=b.next().value;k[a.toLowerCase()]=b;});c.vui=k;}Y.qa(this.j.CKa) && (c.bookmarkact=r.Bk(this.j.CKa));q=this.j.Md.at && this.j.Md.ats?this.j.Md.at - this.j.Md.ats:void 0;q && (c.nccpat=q);(q=this.j.Md.lr && this.j.Md.lc?this.j.Md.lr - this.j.Md.lc:void 0) && (c.nccplt=q);(q=this.ytb()) && (c.downloadables=q);ja._cad_global.device && Y.ic(ja._cad_global.device.fja) && (c.esnSource=ja._cad_global.device.fja);r.Hb(c,this.Nn,{prefix:"pi_"});(q=n.Se && n.Se.connection && n.Se.connection.type) && (c.nettype=q);this.j.Qo && this.j.Qo.initBitrate && (c.initvbitrate=this.j.Qo.initBitrate);this.j.Qo && this.j.Qo.selector && (c.selector=this.j.Qo.selector);c.fullDlreports=this.j.tOa;if(this.j.state.value >= O.Db.yd)try{l=this.j.Sr();l && (this.Am=f.c8(l.map(function(a){return a.U;})),this.KVa=f.c8(l.map(function(a){return a.height;})),d=0 < l.length?E.yVa(l,function(a){return a.U;}):void 0,c.maxbitrate=this.Am,c.maxresheight=this.KVa);}catch(Ga){this.log.error("Exception computing max bitrate",Ga);}try{m=f.RR();m && (c.pdltime=m);}catch(Ga){}try{r.Hb(c,this.j.Md,{prefix:"sm_"});r.Hb(c,this.j.v2(),{prefix:"vd_"});}catch(Ga){}"undefined" !== typeof nrdp && nrdp.device && (c.firmware_version=nrdp.device.firmwareVersion);a && this.j.Ps && (c.pssh=this.j.Ps);this.$Sa(this.j,c);c.avtp=this.PB.zn().rG;(null === (b=this.j.Ga) || void 0 === b?0:b.xK()) && this.Y2(c);if(this.j.Oc.value)try{c.ttTrackFields=this.j.Oc.value.Eh;}catch(Ga){}if(b=this.j.Zc && this.j.Zc.value && this.j.Zc.value.yc){h={};b.forEach(function(a){h[a.yg]=void 0;});c.audioProfiles=Object.keys(h);}this.tma(c);this.j.pa && "boolean" === typeof this.j.pa.Fc.TE && (c.isSupplemental=this.j.pa.Fc.TE);c.headerCacheHit=! !this.j.KA;this.j.KA && (c.headerCacheDataAudio=this.j.KA.audio,c.headerCacheDataAudioFromMediaCache=this.j.KA.audioFromMediaCache,c.headerCacheDataVideo=this.j.KA.video,c.headerCacheDataVideoFromMediaCache=this.j.KA.videoFromMediaCache);this.j.pa && (c.packageId=this.j.pa.Fc.vp);this.j.pa && this.j.pa.Fc.Ro && (c.hasChoiceMap=!0);this.config().BPa && (c.forceL3WidevineCdm=!0);this.FEb(d);this.EEb();this.VSa(this.j,c);this.nma(this.j,c);this.RE(this.j,c);this.OA(this.j,c,this.jfa);this.oma(c);this.qma(c);this.rma(c);this.ZSa(c);this.USa(c);this.aTa(c);this.pma(c);this.kd(da.Je.S6,a,Z.ji | Z.uH | Z.fh | Z.tO | Z.Qy | Z.bW | Z.H9,c);};c.prototype.Ara=function(a,b){b={playdelay:r.Bk(a),reason:this.sy,intrplayseq:this.k3 - 1,skipped:b};"repos" === this.sy && (b.prstate=!0 === this.j.paused.value?"paused":"playing");this.RE(this.j,b);this.kd(da.Je.Ara,!1,Z.ji | Z.uH | Z.fh,b);"rebuffer" !== this.sy && "force_rebuffer" !== this.sy || this.j.On.qjb(Number(r.Bk(a)));};c.prototype.Pga=function(a,b,c,f){a={moff:r.ox(c),moffms:r.Bk(c),vbitrate:b.U,vbitrateold:a.U,vdlid:b.Jd,vdlidold:a.Jd,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:f};this.RE(this.j,a);this.OA(this.j,a);this.kd(da.Je.Pga,!1,Z.fh,a);};c.prototype.ePb=function(a,b,c){a={moff:r.ox(c),moffms:r.Bk(c),vdlidold:a.Jd,vbitrateold:a.U};this.RE(this.j,a);this.OA(this.j,a);this.QE(a,b,this.j.Fg.value && this.j.Fg.value.stream);this.kd(da.Je.fPb,!1,Z.fh,a);};c.prototype.ULb=function(){var a,b;a={waittime:r.Bk(this.j.Yka()),abortedevent:"startplay",browserua:n.Wm,browserhref:location.href,trackid:this.j.rj,prstate:this.SR(),paustate:this.j.paused.value};this.N1(a,"endplay");this.xq.kR && (a.eventlist_version=1,a.eventlist=this.iF.sRa(this.j));this.j.Qo && this.j.Qo.initBitrate && (a.initvbitrate=this.j.Qo.initBitrate);try{b=f.RR();b && (a.pdltime=b);r.Hb(a,this.j.Md,{prefix:"sm_"});}catch(Ca){}this.lma(a,!0);this.aTa(a);this.tma(a);this.XSa(a);this.QE(a,this.j.kf.value,this.j.kl.value);this.$Sa(this.j,a);this.nma(this.j,a);this.kd(da.Je.OYa,!1,Z.ji | Z.fh | Z.Qy | Z.tO,a);};c.prototype.TLb=function(a,b){a={waittime:r.Bk(a),abortedevent:"resumeplay",browserua:n.Wm,resumeplayreason:b};this.j.Qo && this.j.Qo.initBitrate && (a.initvbitrate=this.j.Qo.initBitrate);this.QE(a,this.j.kf.value,this.j.kl.value);this.kd(da.Je.OYa,!1,Z.ji | Z.fh,a);};c.prototype.lTb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.RE(this.j,a);this.OA(this.j,a);this.QE(a,this.j.Df.value && this.j.Df.value.stream,this.j.Fg.value && this.j.Fg.value.stream);this.kd(da.Je.nTb,!1,Z.ji | Z.fh,a);};c.prototype.Dma=function(a,b,c){var f,d;a=r.Hb({vdlid:this.j.kf.value.Jd,playingms:a,pausedms:b,intrplayseq:this.k3++,prstate:this.SR(),paustate:this.j.paused.value},c);this.N1(a,"intrplay");b=this.j.Hc[h.Ac.Ua.VIDEO].value;c=this.j.Hc[h.Ac.Ua.AUDIO].value;a.cdnid=a.vcdnid=b && b.id;a.acdnid=c && c.id;a.locid=this.yS && this.yS.Jna;a.loclv=this.yS && this.yS.LUa;a.avtp=this.PB.zn().rG;a.mediabuffered=null === (f=this.j.Wf) || void 0 === f?void 0:f.S1();if(null === (d=this.j.Ga) || void 0 === d?0:d.xK())(this.lma(a,!0),this.Y2(a),this.YSa(a));try{r.Hb(a,this.j.v2(),{prefix:"vd_"});}catch(Q){}this.RE(this.j,a);this.OA(this.j,a);this.QE(a,this.j.Df.value && this.j.Df.value.stream,this.j.Fg.value && this.j.Fg.value.stream);this.kd(da.Je.Dma,!1,Z.ji | Z.fh,a);};c.prototype.lra=function(a,b,c){a={moffold:r.ox(a),reposseq:this.C_a++,prstate:this.SR(),paustate:this.j.paused.value};this.OA(this.j,a);this.QE(a,c && c.stream,b && b.stream);this.kd(da.Je.lra,!1,Z.ji | Z.fh,a);};c.prototype.Ykb=function(){this.kd(da.Je.alb,!1,Z.ji | Z.fh,{switchdelay:r.Bk(this.getTime() - this.KEb),newtrackinfo:this.j.Zc.value.Ya,oldtrackinfo:this.hna.Ya});};c.prototype.Vmb=function(a,b){var c,f;c=b.serverid;f={locid:b.location,loclv:b.locationlv,selocaid:c,selcdnid:c,selocaname:b.servername};f.mediatype=b.mediatype;f.selreason=b.selreason || "unknown";f.seldetail=b.seldetail;f.cdnbwdata=JSON.stringify([{id:c}]);a && (f.oldlocid=a.Jna,f.oldloclv=a.LUa,f.oldocaid=a.cRb,f.oldocaname=a.YF);this.kd(da.Je.jLa,!1,Z.bW,f);};c.prototype.z2a=function(a){var b,c;b={};b.trigger=a;try{c=this.j.Rka();b.subtitleqoescore=this.j.Ip.zAb(c);b.metrics=JSON.stringify(this.j.Ip.lla(c));}catch(P){this.log.error("error getting subtitle qoe data",P);}this.kd(da.Je.aUb,!1,Z.ji | Z.Qy | Z.uH,b,"info");};c.prototype.transition=function(a){this.OA(this.j,a);this.kd(da.Je.transition,!1,0,a);};c.prototype.jAb=function(a,b){if(a=a.GR())if(b=a[b])return b.tc;};c.prototype.VSa=function(a,b){a.Wa.Kj && (b.isBranching=!0);};c.prototype.nma=function(a,b){var c,f;f=(null === (c=a.pa) || void 0 === c?void 0:c.FTa) || "videopreparer" === a.VD;b.cachedManifest=a.Tz;b.cachedLicense=a.VD;b.usedldl=this.config().UJ?f.toString():"not_capable";};c.prototype.RE=function(a,b){var c,f;if(this.config().zCb){c=a.Ska();f=a.ia.pa;c && f && (b.segment=c,f=a.AA(),b.segmenttime=f,a=this.jAb(a,c),null !== f && void 0 !== a && (b.segmentoffset=f - a));}};c.prototype.OA=function(a,b,c){b.pxid=a.jy;(void 0 === c?0:c) && (b.playgraph_trace=a.UYa);};c.prototype.YSa=function(a){var b,c;b=this.j.Ula;c=b && b.qPb;b && b.PSa && (a.htwbr=b.PSa,a.pbtwbr=b.l5,a.hptwbr=b.aCb);b && b.g0a && (a.rr=b.g0a,a.ra=b.LNb);b && c && 0 < (c.length || 0) && (a.qe=JSON.stringify(c));};c.prototype.tma=function(a){var b,c,f,d,k;b=this;c=this.j.pg && this.j.pg.value && this.j.pg.value.yc;if(c){f=new Set();d=new Set();k=new Set();c.forEach(function(a){a=a.yg;f.add(a);d.add(a.replace(b.pFa,""));(a=a.match(b.pFa)) && 0 < a.length && k.add(a[1]);});a.videoProfiles=[].concat(X(f));a.videoProfile=0 === d.size?"none":[].concat(X(d))[0];a.videoProfileLevels=[].concat(X(k));}};c.prototype.XSa=function(a){var b,c,f;try{b=this.Wd.createElement("canvas");c=b.getContext("webgl") || b.getContext("experimental-webgl");if(c){f=c.getExtension("WEBGL_debug_renderer_info");f && (a.WebGLRenderer=c.getParameter(f.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(f.UNMASKED_VENDOR_WEBGL));}}catch(aa){}};c.prototype.ACb=function(a){a.switchAwaySummary={vsa:this.Ei.summary.Z4a,vsb:this.Ei.summary.$4a,vsbt:this.Ei.summary.a5a,asa:this.Ei.summary.OJa,asb:this.Ei.summary.PJa,asbt:this.Ei.summary.QJa};};c.prototype.Wia=function(a){var b,c,f,d,k,g;b=this;f=this.MYa();this.N1(f,"endplay");f.browserua=n.Wm;f.prstate=this.SR();f.paustate=this.j.paused.value;f.muted=this.j.muted.value;this.j.Fy && "downloaded" === this.j.Fy.q2() && (f.trickplay_ms=this.j.sV.offset,f.trickplay_res=this.j.sV.O_a);this.config().D4a && (f.rtinfo=this.j.cAb());if(this.config().kra){d=this.PB.zn().rG;void 0 !== f.avtp?f.avtp_retired=d:f.avtp=d;d=this.U_.Lxb().map(function(a){return {cdnid:a.Vz,avtp:a.rG,tm:a.Aia};});void 0 != f.cdnavtp?f.cdnavtp_retired=d:f.cdnavtp=d;(null === (c=this.j.Ga) || void 0 === c?0:c.xK()) && this.Y2(f);}this.WSa(f);f.endreason=a?"error":this.j.Ob.value === O.ub.At?"ended":"stopped";c=this.Nn;this.uCb(c);c && r.Hb(f,c,{prefix:"pi_"});c=this.j.Hj;a && c && B.Dxa(c.errorCode) && (k="info");try{r.Hb(f,this.j.Md,{prefix:"sm_"});}catch(Va){}this.j.kma && (f.inactivityTime=this.j.kma);this.lma(f,"info" !== k && a);this.YSa(f);if(this.j.SD){c=this.j.SD;for(var d=this.config().RD,q=this.j.ce,l={iv:d,seg:[]},m=function(a,b,c){return 0 === b || void 0 === c[b - 1]?a:a - c[b - 1];},h=c.Kw.map(m),m=c.Ly.map(m),v,u=0;u < h.length;u++){if(h[u] || m[u])v?(v.ams.push(h[u]),v.vms.push(m[u])):v={ams:[c.Kw[u]],vms:[c.Ly[u]],soffms:c.startTime + u * d - q};u !== h.length - 1 && h[u] && m[u] || !v || (l.seg.push(v),v=void 0);}f.bt=JSON.stringify(l);}if(this.j.j4 && 0 < this.j.j4.length){g=[];this.j.j4.forEach(function(a){g.push({soffms:a.time - b.j.ce,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});f.maxvbevents=g;}a && this.XSa(f);this.z2a("endplay");this.config().Ms && this.sma(f);this.tma(f);this.VSa(this.j,f);this.nma(this.j,f);this.RE(this.j,f);this.OA(this.j,f,this.jfa);this.oma(f);this.qma(f);this.rma(f);this.ZSa(f);this.vCb(f);this.USa(f);this.xCb(f);this.wCb(f);this.ACb(f);this.pma(f);this.kd(da.Je.Wia,a,Z.ji | Z.uH | Z.fh | Z.Qy | Z.tO | Z.H9,f,k);};c.prototype.Qeb=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return +a;}):b;};c.prototype.ytb=function(){var a,b;a=this;if(this.j.Qm && this.j.ln){b=[];this.j.Qm.concat(this.j.ln).forEach(function(c){c.yc.forEach(function(c){b.push({dlid:c.Jd,type:c.type,bitrate:c.U,vmaf:c.tb,cdn_ids:a.Qeb(c.hx)});});});return JSON.stringify(b);}};c.prototype.Umb=function(){var b,c,f;function a(a,b){var d,k,q;d=a.cdnId;k=f[d];q=a.vmaf;k || (k={cdnid:d,dls:[]},f[d]=k,c.push(k));v.EJ(a.bitrate);v.EJ(a.duration);d={bitrate:a.bitrate,tm:n.ki(a.duration)};q && (v.EJ(a.vmaf),d.vf=q);d[b]=r.de(a.downloadableId);k.dls.push(d);}b=this.j.On.kxb();c=[];f={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);};c.prototype.MYa=function(){var a,b,c,f,d,k,q,l,m,B,g;a=this.j.On;b={totaltime:r.ox(a.VR()),totalcontenttime:r.ox(a.$Ra()),cdndldist:this.Umb(),reposcount:this.C_a,intrplaycount:this.k3};try{c={numskip:0,numlowqual:0};f=this.j.Wf;d=f.xA();Y.qa(d) && (b.totfr=d,c.numren=d);d=f.DE();Y.qa(d) && (b.totdfr=d,c.numrendrop=d);d=f.IR();Y.qa(d) && (b.totcfr=d,c.numrenerr=d);d=f.a2();Y.qa(d) && (b.totfdl=d);b.playqualvideo=JSON.stringify(c);k=this.j.kf.value;k && (b.videofr=k.I1.toFixed(3));q=a.ZPa();q && (b.abrdel=q);l=a.KBb() && a.qxb();l && (b.tw_vmaf=l);m=a.pxb();m && r.Hb(b,m);b.rbfrs=this.k3;b.maxbitrate=this.Am;b.maxresheight=this.KVa;for(var h=this.j.CA(),u,a=0;a < h.length;a++){B=h[a];g=this.Un.hL.Ys(B);if(g){v.fb(u);b.maxbitrate=u?u.U:0;b.maxresheight=u?u.height:0;b.bitratefilters=g.join("|");break;}u=B;}this.j.Fy && (b.trickplay=this.j.Fy.q2());null !== this.j.Ip.oKa && (b.avg_subt_delay=this.j.Ip.oKa);}catch(Va){this.log.error("Exception reading some of the endplay fields",Va);}r.Hb(b,this.j.v2(),{prefix:"vd_"});return b;};c.prototype.getTime=function(){return this.za.Bb().ca(u.ga);};c.prototype.o6=function(a){a.browserua=n.Wm;this.pma(a);this.kd(da.Je.GQb,!a.success,Z.ji | Z.Qy,a);this.kd=l.mh;};c.prototype.JCb=function(){var a,b,c;a=this;c=[];this.config().FHb && (this.config().GHb.forEach(function(b){c.push(ja.setTimeout(a.t4,b));}),this.config().bWa && (b=ja.setInterval(this.t4,this.config().bWa)),this.Y3a=function(){c.forEach(function(a){ja.clearTimeout(a);});b && ja.clearInterval(b);});};c.prototype.sma=function(a){var b;try{b=this.kc.getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.Rwb);}catch(Ca){}};c.prototype.oma=function(a){this.log.debug("httpstats",this.gf.gc);r.Hb(a,this.gf.gc,{prefix:"http_"});};c.prototype.lma=function(a,b){var c,f,d;c=this.config().eNa && !(this.ea % this.config().eNa);f=this.j.Ga;d=null === f || void 0 === f?void 0:f.Wg();c && d && (a.ASEstats=JSON.stringify(f.GK(b)));};c.prototype.Y2=function(a){Object.assign(a,this.j.Ga.mb.FAb());};c.prototype.qma=function(a){var b;try{b=n.It.memory;Y.VTa(b) && (a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(Ca){}};c.prototype.rma=function(a){var b,c,f,d,k;if(this.config().pub){k=null === (b=null === n.Se || void 0 === n.Se?void 0:n.Se.connection) || void 0 === b?void 0:b.effectiveType;b=null === n.Se || void 0 === n.Se?void 0:n.Se.deviceMemory;k && (a.effectiveType=k);b && (a.deviceMemory=b);}(k=null === (c=null === n.Se || void 0 === n.Se?void 0:n.Se.connection) || void 0 === c?void 0:c.type) && (a.connectionType=k);c=null === (f=null === n.Se || void 0 === n.Se?void 0:n.Se.connection) || void 0 === f?void 0:f.downlink;"number" === typeof c && isFinite(c) && (a.downlink=c);f=null === (d=null === n.Se || void 0 === n.Se?void 0:n.Se.connection) || void 0 === d?void 0:d.rtt;"number" === typeof f && isFinite(f) && (a.rtt=f);};c.prototype.ZSa=function(a){var b;b=this.j.pe;this.config().Nmb && b && !this.config().Kp && (b=this.j.LIb(b.i6b()),a.keystatuses=b,this.log.trace("keystatuses",b));};c.prototype.USa=function(a){var b;try{if(this.config().zQ){b=this.j.wxb();a.battery=b;this.log.trace("batterystatuses",b);}}catch(Ca){}};c.prototype.vCb=function(a){this.j.y0 && (a.dqec=this.j.y0);};c.prototype.uCb=function(a){this.j.T_ && r.Hb(a,{cast_interaction_counts:this.j.T_.u6b()});};c.prototype.aTa=function(a){var b;b=this.j.Wa.Wn;b && b.isUIAutoPlay && (a.isUIAutoPlay=!0);};c.prototype.pma=function(a){var b,c,f;if(null === (c=null === (b=this.j.pe) || void 0 === b?void 0:b.Cm) || void 0 === c?0:c.keySystem)a.keysys=this.j.pe.Cm.keySystem;else if(null === (f=this.j.pe) || void 0 === f?0:f.rx)a.keysys=this.j.pe.rx();};c.prototype.wCb=function(a){this.mja && (a.externaldisplay=this.mja.rR);};c.prototype.xCb=function(a){this.WB && this.WB.Yb && (a.media_capabilities_smooth=this.WB.Yb.VSb,a.media_capabilities_efficient=this.WB.Yb.pMb,a.media_capabilities_bitrate=this.WB.Yb.U,a.media_capabilities_height=this.WB.Yb.height,a.media_capabilities_width=this.WB.Yb.width);};c.prototype.QE=function(a,b,c){c && (a.adlid=c.Jd,a.abitrate=c.U);b && (a.vdlid=b.Jd,a.vbitrate=b.U);};c.prototype.WSa=function(a){var b,c;if(this.j.IQ){b=this.j.IQ;b.h0 && (a.controllerESN=b.h0);b.Cob && (a.controllerUiVer=b.Cob);if(b.Bob)try{c=JSON.parse(b.Bob);a.controllerGroupNames=c;}catch(P){this.log.error("Exception parsing controller group names",P);}}};c.prototype.EEb=function(){void 0 === this.mja && (this.mja=this.nja.wvb());};c.prototype.FEb=function(a){void 0 === this.WB && void 0 !== a && (this.WB=this.woa.sja(a));};c.prototype.N1=function(a,b){(b=this.j.sx(b)) && Object.entries(b).forEach(function(b){var c;c=N(b);b=c.next().value;c=c.next().value;a[b]=c;});};c.prototype.kd=function(a,b,c,f,d){this.jjb(f,this.j,b,c);a=this.$E.Tr(a,d || (b?"error":"info"),f,this.Un);this.Mj.kd(a);};c.prototype.jjb=function(a,b,c,f){var d,k,q,l,m,u,g,A,y,I;"undefined" !== typeof nrdp && nrdp.device && nrdp.device.deviceModel && (a.devmod=nrdp.device.deviceModel);b.Fj && (a.pbcid=b.Fj);b.vi && (a.playbackcontextid=b.vi);f & Z.ji && (v.fb(!a || void 0 === a.moff),0 <= b.qb.value && (a.moff=r.ox(b.qb.value),a.moffms=r.Bk(b.qb.value)));if(f & Z.uH){u=b.Hc[h.Ac.Ua.VIDEO].value;g=b.Hc[h.Ac.Ua.AUDIO].value;A=b.Fg.value;y=b.Df.value;u && (a.cdnid=u.id,a.cdnname=u.name);g && (a.acdnid=g.id,a.acdnname=g.name);A && (a.adlid=A.stream.Jd,a.abitrate=A.stream.U);y && (a.vdlid=y.stream.Jd,a.vbitrate=y.stream.U,a.vheight=y.stream.height,a.vwidth=y.stream.width);}f & Z.fh && (null === (d=b.Ga) || void 0 === d?0:d.Wg()) && (a.abuflbytes=null !== (k=a.abuflbytes) && void 0 !== k?k:b.Lfa(),a.abuflmsec=null !== (q=a.abuflmsec) && void 0 !== q?q:b.fQ(),a.vbuflbytes=null !== (l=a.vbuflbytes) && void 0 !== l?l:b.hua(),a.vbuflmsec=null !== (m=a.vbuflmsec) && void 0 !== m?m:b.BV());if(f & Z.tO){Object.assign(a,t.bla());try{I=b.Xf.getBoundingClientRect();a.rendersize=I.width + "x" + I.height;a.renderpos=I.left + "x" + I.top;}catch(Na){}}f & Z.Qy && (d=n.Se.hardwareConcurrency,0 <= d && (a.numcores=d),d=this.Un.Kia) && (k=d.rxb(),a.droppedFrames=JSON.stringify(k),d=d.QR(this.config().Ktb),r.Rd(d,function(b,c){a["droppedFramesP" + b]=JSON.stringify(c);}));if(f & Z.bW)try{b.qk && (a.cdninfo=JSON.stringify(b.qk.map(function(a){return {id:a.id,nm:a.name,rk:a.kg,wt:a.location.weight,lv:a.location.level};})));}catch(Na){}c && f & Z.H9 && (v.fb(b.Hj),(c=b.Hj)?a=Object.assign(a,t.Qka(this.platform.tE,c)):a.errorcode=B.L.Wl,a.errorcode === this.platform.tE + B.L.wBa && (a.lastSyncWithVideoElement=this.getTime() - b.dV));};b.Nza=c;(function(a){a[a.ji=1]="MOFF";a[a.uH=2]="PRESENTEDSTREAMS";a[a.fh=4]="BUFFER";a[a.tO=8]="SCREEN";a[a.Qy=16]="CPU";a[a.bW=32]="CDN";a[a.H9=64]="FATALERROR";})(Z || (Z={}));},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.uW=void 0;c=a(47);b.uW=function(a,b){this.ttb=a;this.size=b.Oma()?c.nb:b;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.i9=void 0;b.i9="DownloadReportBuilderSymbol";},function(d,b,a){var h,l,m,f,k,q,v,r,u;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Twa=void 0;d=a(0);h=a(182);l=a(80);m=a(23);f=a(2);k=a(18);q=a(10);v=a(15);r=a(1);a=a(14);c.prototype.construct=function(a,b){var c,f,d;c=this;f={};a.forEach(function(a){var b;b=a.url;f[b] || (f[b]=[]);f[b].push(a);});d=[];m.Rd(f,function(a,f){d.push(c.QAb(f,b));});return {urls:d};};c.prototype.QAb=function(a,b){var c,f,d,k;c=this;f=a[0];d={url:f.url,bitrate:f.U,cdnid:v.zf(f.Hc)?f.Hc.id:f.Hc,dltype:f.htb,id:f.Jd};k={};a.forEach(function(a){var b;b=c.yDb(a)?"fail":"success";k[b] || (k[b]=[]);k[b].push(a);});m.Rd(k,function(a,f){"fail" === a?d.failures=c.yyb(f,b):"success" === a && (d.downloads=c.myb(f,b));});return d;};c.prototype.myb=function(a,b){var c,f,d;c=this;f={};a.forEach(function(a){var b;b=a.Mnb;f[b] || (f[b]=[]);f[b].push(a);});d=[];m.Rd(f,function(a,f){var k;k=[];f.forEach(function(f){k.push(f);c.hDb(f) && (d.push(c.vQa(k,b,a)),k=[]);});0 < k.length && d.push(c.vQa(k,b,a));});return d;};c.prototype.vQa=function(a,b,c){var l;for(var f=a.sort(function(a,b){return a.xl.Kh < b.xl.Kh?-1:a.xl.Kh > b.xl.Kh?1:0;}),d=f[0].xl,k=d.requestTime,q=d.Kh,d=d.Rn,r=1;r < a.length;r++){l=a[r].xl;l.requestTime < k && (k=l.requestTime);l.Kh < q && (q=l.Kh);l.Rn > d && (d=l.Rn);}r=this.Vzb(f);l=f[f.length - 1];return {time:k - b,tcpid:c?parseInt(c):-1,tresp:q - k,first:r,ranges:this.Wzb(f,r),dur:d - q,trace:this.tx(a),status:this.q2(l)};};c.prototype.Vzb=function(a){var b;b=0;a.forEach(function(a){a.Tq && (b=q.ko(b,a.Tq[0]));});return b;};c.prototype.Wzb=function(a,b){var c;c=[];a.forEach(function(a){a.Tq?c.push([a.Tq[0] - b,a.Tq[1] - b]):c.push([0,-1]);});return c;};c.prototype.tx=function(a){var b,c;b=[];a.forEach(function(a){var f;a=a.xl;if(c){f=a.requestTime - c.Rn;0 < f && b.push([f,-2]);f=q.Um(c.Rn,a.requestTime);f=a.Kh - f;0 < f && b.push([f,-3]);}b.push([a.Rn - a.Kh,a.wha || 0]);c=a;});return b;};c.prototype.hDb=function(a){if(a.ka === f.K.Sy || a.ka === f.K.qC)return !0;};c.prototype.q2=function(a){if(a.ja)return "complete";if(a.ka === f.K.Sy)return "abort";if(a.ka === f.K.qC)return "stall";k.fb(!1,"download status should never be: other");return "other";};c.prototype.yyb=function(a,b){var c,f;c=this;f=[];a.forEach(function(a){var d;d=a.xl;a={time:d.Kh - b,tresp:d.Kh - d.requestTime,dur:d.Rn - d.Kh,range:a.Tq,reason:c.Yzb(a),httpcode:a.cj,nwerr:h.Pka(a.ka)};f.push(a);});return f;};c.prototype.Yzb=function(a){return a.cj || a.ka === f.K.VN?"http":a.ka === f.K.XN?"timeout":"network";};c.prototype.yDb=function(a){return a.ja || void 0 === a.ja || a.ka === f.K.Sy || a.ka === f.K.qC?!1:!0;};c.prototype.Fob=function(a){var b,c,f,d,k,q;b=a.request;c=b.stream;f=b.track;d=b.url;k=this.jyb(f,d);switch(k){case l.kh.audio:case l.kh.video:q=b.stream.Jd;break;case l.kh.m7:case l.kh.Fta:q=f.Jd;}a={U:c && c.U,htb:k,Jd:q,xl:a.xl,Hc:b.Hc,url:d,Oe:a.Oe,cj:a.cj,ka:a.ka,ja:a.ja,Mnb:this.ivb(a)};void 0 !== b.offset && void 0 != b.length && (a.Tq=[b.offset,b.offset + b.length - 1]);return a;};c.prototype.jyb=function(a,b){if(a)return a.type;if(0 <= b.indexOf("netflix.com")){if(0 <= b.indexOf("nccp"))return "nccp";if(0 <= b.indexOf("api"))return "api";}return "other";};c.prototype.ivb=function(a){if(a.headers && (a=a.headers["X-TCP-Info"] || a.headers["x-tcp-info"]))return (a=a.split(";").filter(function(a){return 0 == a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0])?m.de(a):a;};u=c;u=d.__decorate([r.O(),d.__param(0,r.l(a.Sc))],u);b.Twa=u;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Dca=void 0;b.Dca="XhrFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.paa=void 0;b.paa="NetworkMonitorSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.J9=void 0;b.J9="FtlDataParserSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.d$=void 0;b.d$="HttpRequesterSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gaa=void 0;b.Gaa="PboAcquireLicenseCommandSymbol";},function(d,b,a){var f,k,q,v,r,u;function c(a){var b;a=new q.rW(a);if(1481462272 != a.Cp())throw Error("Invalid header");b={XMR:{Version:a.Cp(),RightsID:a.jv(16)}};h(a,b.XMR,a.buffer.length);return b;}function h(a,b,c){var f,d,k,q,r;for(;a.position < c;){f=a.Gg();d=a.Cp();d=d - 8;switch(f){case 1:k="OuterContainer";break;case 2:k="GlobalPolicy";break;case 3:k="MinimumEnvironment";break;case 4:k="PlaybackPolicy";break;case 5:k="OutputProtection";break;case 6:k="UplinkKID";break;case 7:k="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:k="AnalogVideoOutputConfiguration";break;case 9:k="KeyMaterial";break;case 10:k="ContentKey";break;case 11:k="Signature";break;case 12:k="DeviceIdentification";break;case 13:k="Settings";break;case 18:k="ExpirationRestriction";break;case 42:k="ECCKey";break;case 48:k="ExpirationAfterFirstPlayRestriction";break;case 50:k="PlayReadyRevocationInformationVersion";break;case 51:k="EmbeddedLicenseSettings";break;case 52:k="SecurityLevel";break;case 54:k="PlayEnabler";break;case 57:k="PlayEnablerType";break;case 85:k="RealTimeExpirationRestriction";break;default:k="Other";}q={Type:l(f)};r=b[k];r?u.isArray(r)?r.push(q):(b[k]=[],b[k].push(r),b[k].push(q)):b[k]=q;switch(f){case 1:case 2:case 4:case 7:case 9:case 54:h(a,q,a.position + d);break;case 5:q.Reserved1=a.Gg();q.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Gg();q.MinimumAnalogVideoOutputProtectionLevel=a.Gg();q.Reserved2=a.Gg();q.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Gg();break;case 10:q.Reserved=a.jv(16);q.SymmetricCipherType=a.Gg();q.AsymmetricCipherType=a.Gg();d=a.Gg();q.EncryptedKeyLength=d;f=a.jv(d);q.EncryptedKeyData=10 >= d?f:f.substring(0,4) + "..." + f.substring(f.length - 4,f.length);break;case 11:q.SignatureType=a.jv(2);d=a.Gg();f=a.jv(d);q.SignatureData=10 >= d?f:f.substring(0,4) + "..." + f.substring(f.length - 4,f.length);break;case 13:q.Reserved=a.Gg();break;case 18:q.BeginDate=a.Cp();q.EndDate=a.Cp();break;case 42:q.CurveType=a.jv(2);d=a.Gg();f=a.jv(d);q.Key=10 >= d?f:f.substring(0,4) + "..." + f.substring(f.length - 4,f.length);break;case 48:q.ExpireAfterFirstPlay=a.Cp();break;case 50:q.Sequence=a.Cp();break;case 51:q.LicenseProcessingIndicator=a.Gg();break;case 52:q.MinimumSecurityLevel=a.Gg();break;case 57:q.PlayEnablerType=m(a.jv(16));break;case 85:break;default:q.OtherData=a.jv(d);}}}function l(a){return "0x" + a.toString(16);}function m(a){return a.substring(6,8) + a.substring(4,6) + a.substring(2,4) + a.substring(0,2) + "-" + a.substring(10,12) + a.substring(8,10) + "-" + a.substring(14,16) + a.substring(12,14) + "-" + a.substring(16,20) + "-" + a.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.Urb=b.Vrb=b.Trb=b.Srb=b.Rrb=void 0;f=a(11);k=a(7);q=a(265);v=a(147);r=a(261);u=a(15);b.Rrb=function(a,b,d){switch(b){case f.xW:a && (a=k.rKa(a),r.sua(a,function(a){a.ja && (a=a.object) && (a=v.sQa(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (a=v.kYa(a)) && (a=k.jq(a)) && (a=c(a)) && d(a);}));}};b.Srb=c;b.Trb=h;b.Vrb=l;b.Urb=m;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Waa=void 0;b.Waa="PboReleaseLicenseCommandSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Naa=void 0;b.Naa="PboLicenseRequestTransformerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iaa=void 0;b.Iaa="PboCachedPlaydataSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pba=void 0;b.pba="PlaydataConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Laa=b.NX=void 0;b.NX={xS:"keepAlive",splice:"splice"};b.Laa="PboEventSenderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.o9=void 0;b.o9="DxDisplaySymbol";},function(d,b,a){var h,l,m,f,k;function c(a,b,c){this.Ed=a;this.is=b;this.prefix=c;this.QT=this.np=!1;this.UKa=new f.ZEa(b);}Object.defineProperty(b,"__esModule",{value:!0});b.wO=b.OG=b.Sva=b.Rva=b.Qva=void 0;d=a(0);h=a(1);l=a(27);m=a(22);f=a(1076);k=a(10);b.Qva="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";b.Rva="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.Sva="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";b.OG="";c.prototype.show=function(){this.np || (this.sob(),this.uJ && k.Ke.body.appendChild(this.uJ),this.Xf && k.Ke.body.appendChild(this.Xf),this.rQ && k.Ke.body.appendChild(this.rQ),this.kG && k.Ke.getElementsByTagName("head")[0].appendChild(this.kG),this.np=!0,this.refresh());};c.prototype.Bq=function(){this.np && (this.Xf && k.Ke.body.removeChild(this.Xf),this.rQ && k.Ke.body.removeChild(this.rQ),this.uJ && k.Ke.body.removeChild(this.uJ),this.kG && k.Ke.getElementsByTagName("head")[0].removeChild(this.kG),this.kG=this.fV=this.uJ=this.rQ=this.Xf=void 0,this.np=!1);};c.prototype.toggle=function(){this.np?this.Bq():this.show();};c.prototype.fVb=function(){(this.QT=!this.QT) || this.refresh();};c.prototype.Fxb=function(a){return "table." + a + '-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}' + ("table." + a + "-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}") + ("table." + a + "-display-table tr:nth-child(2n+3) {background-color: #fff;}") + ("table." + a + "-display-table tr:nth-child(0n+1) {background-color: lightgray;}") + ("table." + a + "-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}") + ("table." + a + "-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}") + ("span." + a + "-display-indexheader {margin-left:5px;}") + ("span." + a + "-display-indexvalue {margin-left:5px;}") + ("span." + a + "-display-keyheader {margin-left:5px;}") + ("span." + a + "-display-keyvalue {margin-left:5px;}") + ("span." + a + "-display-valueheader {margin-left:5px;}") + ("ul." + a + "-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}") + ("ul." + a + "-display-tree li {list-style-type: none; position: relative;}") + ("ul." + a + "-display-tree li ul {display: none;}") + ("ul." + a + "-display-tree li.open > ul {display: block;}") + ("ul." + a + "-display-tree li a {color: black;text-decoration: none;}") + ("ul." + a + "-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}") + ("ul." + a + "-display-tree li > a:not(:last-child):before {content: '+';}") + ("ul." + a + "-display-tree li.open > a:not(:last-child):before {content: '-';}") + ("div." + a + "-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}") + ("button." + a + "-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}") + ("select." + a + "-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}") + ("ul." + a + "-display-item-inline {margin:0;padding:0}") + ("." + a + "-display-btn:hover, ." + a + "-display-btn:focus, ." + a + "-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }") + ("button." + a + "-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}") + ("." + a + "-display-btn-inline:hover, ." + a + "-display-btn-inline:focus, ." + a + "-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};c.prototype.sob=function(){var a;a=this;this.kG=k.Ke.createElement("style");this.kG.type="text/css";this.kG.innerHTML=this.Fxb(this.prefix);this.rQ=this.Ed.createElement("div",b.Qva,void 0,{"class":this.prefix + "-display-blur"});this.Xf=this.Ed.createElement("div",b.Rva,void 0,{"class":this.prefix + "-display"});this.uJ=this.Ed.createElement("div",b.Sva,void 0,{"class":this.prefix + "-display"});this.nQa().forEach(function(b){return a.uJ.appendChild(b);});};c.prototype.vob=function(a){a=this.Ed.createElement("div","",a,{"class":this.prefix + "-display-tree1"});for(var b=a.querySelectorAll("ul." + this.prefix + "-display-tree a:not(:last-child)"),c=0;c < b.length;c++){b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a < c.length;a++){c[a].classList.remove("open");}}catch(y){}}else b.add("open");}});}return a;};c.prototype.refresh=function(){var a;a=this;return !this.np || this.QT?Promise.resolve():this.f_a().then(function(b){if(b && (b=a.vob(b),a.Xf)){a.fV && (a.Xf.removeChild(a.fV),a.fV=void 0);a.fV=b;a.Xf.appendChild(a.fV);b=a.Xf.querySelectorAll("button." + a.prefix + "-display-btn-inline");for(var c=0;c < b.length;++c){b[c].addEventListener("click",a.e0a);}(b=a.Xf.querySelector("#" + a.prefix + "-display-close-btn")) && b.addEventListener("click",function(){a.toggle();});}});};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(l.tg)),d.__param(1,h.l(m.Ie)),d.__param(2,h.Hi())],a);b.wO=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.p9=b.q9=void 0;b.q9="DxManagerSymbol";b.p9="DxManagerProviderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.C$=void 0;b.C$="LogDisplayConfigSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qaa=void 0;b.qaa="NfCryptoSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Bca=void 0;b.Bca="WindowUtilsSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.cba=void 0;b.cba="PlayPredictionDeserializerSymbol";},function(d,b){function a(a,b,c){var f,d,q,l;f=[];a.forEach(function(a){-1 == f.indexOf(a.yg) && f.push(a.yg);});d=null;q=null;b.forEach(function(a){null === d?q=d=a.U:q < a.U?q=a.U:d > a.U && (d=a.U);});l=[];f.forEach(function(a){var b;b={ranges:[],profile:a};d && q && (b.ranges.push({min:d,max:q}),c && (b.disallowed=c.filter(function(b){return b.stream.yg === a;}).map(function(a){return {stream:{bitrate:a.stream.U},disallowedBy:a.J0};})),l.push(b));});return l;}function c(a,b){var c;c=void 0;a=a.filter(function(a){var f;f=b(a);f && (c=c || [],c.push({stream:a,J0:f}));return !f;});for(var f=0;f < a.length;f++){a[f].lower=a[f - 1];a[f].SBb=a[f + 1];}return {qA:a,$sb:c};}Object.defineProperty(b,"__esModule",{value:!0});b.HNa=b.Sr=b.prb=b.tla=void 0;b.tla=function(b,d){d=c(b,d);return a(b,d.qA,d.$sb);};b.prb=a;b.Sr=c;b.HNa=function(a){if(a.lower && 1080 < a.height)return ["Prefetch UHD"];};},function(d,b,a){var h,l,m;function c(a){this.PL=a;}Object.defineProperty(b,"__esModule",{value:!0});b.uba=b.QCa=void 0;d=a(0);h=a(1);l=a(185);m=a(149);c.prototype.qVa=function(a){var b,c;b=this;if(a.ge.key.cb)return Promise.resolve(a.ge.key.cb);c=a.ge.key.fa;return a.ge.IV.zu(c).HV.then(function(a){a=a.pa;return a.Ro?b.rJ(a.Ro):b.NU(c);});};c.prototype.rJ=function(a){var b;b=new m.AH();b.DU(a.initialSegment).ysa(a.transitionType).l1a(Object.keys(a.segments).reduce(function(b,c){var f;f=a.segments[c];b[c]={fa:a.viewableId,tc:f.startTimeMs,Ad:f.endTimeMs || Infinity,zh:f.defaultNext || null,od:f.transitionHint,kx:f.exitZones,next:f.next};return b;},{}));return b.Cj();};c.prototype.NU=function(a){var b,c;b=this.PL.CR(a);c=new m.AH();c.ysa("lazy").gq(b,{fa:a,tc:0,Ad:Infinity}).DU(b);return c.Cj();};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(l.pO))],a);b.QCa=a;b.uba="PlaygraphResolverSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.$$=void 0;b.$$="MediaHttpSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.baa=b.taa=void 0;b.taa="OpenConnectSideChannelSymbol";b.baa="MediaRequestDownloaderSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.aaa=void 0;b.aaa="MediaRequestConstructorFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jaa=void 0;b.Jaa="PboDispatcherSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zba=b.jaa=b.nca=void 0;b.nca="TransportFactorySymbol";b.jaa="MslTransportSymbol";b.Zba="SslTransportSymbol";},function(d,b,a){var q,v;function c(a){return !(!a || !a.yF && !a.pboc || !a.code && !a.code);}function h(a){return !(!a || !a.wd);}function l(a){return ! !(a instanceof Error);}function m(a){switch(a){case "ACCOUNT_ON_HOLD":return v.K.Qab;case "STREAM_QUOTA_EXCEEDED":return v.K.Vab;case "INSUFFICICENT_MATURITY":return v.K.Yab;case "TITLE_OUT_OF_WINDOW":return v.K.dbb;case "CHOICE_MAP_ERROR":return v.K.Uab;case "BadRequest":return v.K.$ab;case "Invalid_SemVer_Format":return v.K.Zab;case "RESTRICTED_TO_TESTERS":return v.K.cbb;case "AGE_VERIFICATION_REQUIRED":return v.K.Rab;case "BLACKLISTED_IP":return v.K.Sab;case "DEVICE_EOL_WARNING":return v.K.waa;case "DEVICE_EOL_FINAL":return v.K.pBa;case "INCORRECT_PIN":return v.K.tBa;case "MOBILE_ONLY":return v.K.bbb;case "MDX_CONTROLLER_CTICKET_INVALID":return v.K.abb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return v.K.ebb;case "RESET_DEVICE":return v.K.sBa;case "RELOAD_DEVICE":return v.K.rBa;case "EXIT_DEVICE":return v.K.qBa;case "FREE_PREVIEW_ENDED":return v.K.Xab;default:return v.K.Yxa;}}function f(a,b){return new q.Bc(a,m(b.code),"BadRequest" === b.code?v.gX.x6a:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert,b.alertTag);}function k(a,b){return new q.Bc(a,b.wd,b.Vg,void 0,b.Uu,b.message,b.fx,b.data);}Object.defineProperty(b,"__esModule",{value:!0});b.RKa=b.SKa=b.Gwb=b.Kwb=b.um=b.Jwb=b.Ima=b.pDb=b.KTa=void 0;q=a(40);v=a(2);b.KTa=c;b.pDb=h;b.Ima=l;b.Jwb=m;b.um=function(a,b){return h(b)?k(a,b):c(b)?f(a,b):l(b)?q.Bc.J1(a,b):new q.Bc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,b);};b.Kwb=f;b.Gwb=k;b.SKa=function(a,b,c,f,d){var k,q,l,r;k=b.R0a[c];if(void 0 === k)throw {yF:!0,code:"FAIL",display:"Unable to build the URL for " + c + " because there was no configuration information",detail:b};q=k.version;if(void 0 === q)throw {yF:!0,code:"FAIL",display:"Unable to build the URL for " + c + " because there was no version information",detail:b};l=b.w3 && k.serviceNonMember?k.serviceNonMember:k.service;if(void 0 === l)throw {yF:!0,code:"FAIL",display:"Unable to build the URL for " + c + " because there was no service information",detail:b};r=k.orgOverride;if(void 0 === r && (r=b.JXa,void 0 === r))throw {yF:!0,code:"FAIL",display:"Unable to build the URL for " + c + " because there was no organization information",detail:b};return k.isPlayApiDirect?a.Izb(f) + "/" + r + "/" + l + "/" + q:a.yzb(f) + "/" + r + "/" + l + "/" + q + "/" + (void 0 === d?"router":d);};b.RKa=function(a,b){var c;c={"Content-Type":"text/plain"};b=b();a.aJa && b && (c["X-Esn"]=b.Yh);return c;};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xaa=void 0;b.Xaa="PboRequestFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.pca=void 0;b.pca="TrickPlayManagerSymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uo=void 0;d=b.uo || (b.uo={});d[d.FX=0]="NOT_LOADED";d[d.LOADING=1]="LOADING";d[d.LOADED=2]="LOADED";d[d.bO=3]="LOAD_FAILED";d[d.oBa=4]="PARSE_FAILED";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.q8=void 0;b.q8="BandwidthMeterFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oba=void 0;b.oba="PlaybackSegmentDataFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.nba=void 0;b.nba="PlaybackInfoPanelFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lba=b.Mba=void 0;b.Mba="RepositionTraceSymbol";b.Lba="RepositionTraceFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.i8=b.If=void 0;d=b.If || (b.If={});d[d.iG=0]="startPlayback";d[d.pu=1]="endPlayback";d[d.ho=2]="underflow";b.i8="AseIntegrationFactorySymbol";},function(d,b,a){var h,l,m,f,k,q,v,r,u,g,A,y,I,J,D,n,S,O,Y,E,da,t,ea,Z,ta,ca,Ca,P,aa,Q,ua,Ma,Ja,Ga,ka,Qa,Ua,Va,Na,F,L;function c(a,b,c,d,k,q,r,m,h,v,B,J,p,S,U,Y,sa,aa,Ga,Q,ca,Ma,Ua,Ca,ua,Va,Na,F,Ka,N,gf){var ia,R;function lb(a){a.newValue !== ka.ub.$f && a.newValue !== ka.ub.uj && (ia.Ob.removeListener(lb),ia.DK=ia.ta.z6,ia.Jb.ec(ka.V.Is));}function ab(a){a.newValue !== ka.ub.$f && (ia.Ob.removeListener(ab),ia.NYa=ia.ta.Be.ca(t.ga),ia.Jb.ec(ka.V.xp));}ia=this;this.jy=k;this.NE=q;this.za=m;this.dJ=h;this.ta=v;this.boa=B;this.coa=S;this.Y3=U;this.kc=Y;this.lj=sa;this.xi=aa;this.iu=Ga;this.Zpa=Q;this.PS=ca;this.Eta=Ma;this.Mj=Ua;this.Wd=Ca;this.Xpa=ua;this.Bl=Va;this.D_a=Na;this.Hfa=F;this.iF=Ka;this.aJ=N;this.T_=gf;this.UYa=[];this.JT={};this.Zc=new A.Cc(null);this.pg=new A.Cc(null);this.Oc=new A.Cc(null);this.lk=new A.Cc(null);this.et=new A.Cc(void 0);this.kf=new A.Cc(null);this.kl=new A.Cc(null);this.qb=new A.Cc(void 0);this.playbackRate=new L.yCa(1,y.config.moa);this.Qta=function(a){return ia.Zc.set(a.newValue);};this.CWb=function(a){return ia.pg.set(a.newValue);};this.zWb=function(a){return ia.Oc.set(a.newValue);};this.aWb=function(a){return ia.lk.set(a.newValue);};this.yWb=function(a){return ia.et.set(a.newValue);};this.BWb=function(a){return ia.kf.set(a.newValue);};this.bWb=function(a){return ia.kl.set(a.newValue);};this.qWb=function(a){return ia.Df.set(a.newValue);};this.pWb=function(a){return ia.Fg.set(a.newValue);};this.lWb=function(a){return ia.qb.set(a.newValue);};this.z7=function(a){return ia.playbackRate.set(a.newValue);};this.ij={};this.yra=this.vta=0;this.Jb=new I.tj();this.DV={};this.f2a=!1;this.state=new A.Cc(ka.Db.rH);this.Ks=new A.Cc(!1);this.paused=new A.Cc(!1);this.muted=new A.Cc(!1);this.volume=new A.Cc(y.config.jsb / 100);this.Ob=new A.Cc(ka.ub.$f);this.xg=new A.Cc(ka.he.cd);this.hm=new A.Cc(ka.he.cd);this.Ll=new A.Cc(ka.he.cd);this.Fg=new A.Cc(null);this.Df=new A.Cc(null);this.sga=new A.Cc(null);this.T2=u.vya(this);this.j4=[];this.Hc=[];this.cga={};this.gR=this.tOa=!1;this.Ka=this.ci=-1;this.dla=function(a,b){var c;a=void 0 === a?null:a;return P.qa(a)?b && !ia.Du(b).pa?a:(null === (c=ia.Ga) || void 0 === c?0:c.Wg())?ia.Ga.Uo(void 0,a,b):a:null;};this.rXa=function(){ia.Nsa();};this.zJ=a;this.addEventListener=this.Jb.addListener;this.removeEventListener=this.Jb.removeListener;this.fireEvent=this.Jb.ec;this.ifa({fa:a,va:d,Wa:c || ({})},y.config.Ms?this.kc.uK(a):void 0,b);this.log=da.Ch(this);this.qia=r(this);this.rlb=J(this);this.Xf=Ja.createElement("DIV",g.Hba,void 0,{id:this.u});this.KCb();R=p(t.ah(1));this.Qc=this.log.Hha("Playback");this.OLb=f.lCa(this);n.zH.cIb=this;n.zH.Fja || (n.zH.Fja=this);this.Qc.info("Playback created",this.Eh);this.X3?this.Qc.info("Playback selected for trace playback info logging"):this.Qc.trace("Playback not selected for trace playback info logging");y.config.Ms && (this.kc.qBb(this.u),this.addEventListener(ka.V.Is,function(){ia.kc.rBb(ia.u);ia.Oc.addListener(function(){ia.kc.nSa();});ia.Zc.addListener(function(){ia.kc.nSa();});}),this.addEventListener(ka.V.Qf,function(){ia.kc.pBb(ia.u);}));this.state.addListener(function(a){ia.Qc.info("Playback state changed",{From:a.oldValue,To:a.newValue});Z.fb(a.newValue > a.oldValue);});D.Xe.addListener(D.wm,this.rXa,g.IX);this.qb.addListener(function(){R.bd(function(){return ia.qPa();});});this.Ob.addListener(function(a){ia.Qc.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ta.Nh(ia.qb.value)},ia.Jn());});this.Ob.addListener(function(){ia.Ks.set(ia.Ob.value === ka.ub.Uc);});this.xg.addListener(function(a){ia.Qc.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ta.Nh(ia.qb.value)},ia.Jn());});this.hm.addListener(function(a){ia.Qc.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ta.Nh(ia.qb.value)},ia.Jn());});this.Ll.addListener(function(a){ia.Qc.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:ta.Nh(ia.qb.value)},ia.Jn());});this.Zc.addListener(function(a){Z.fb(a.newValue);ia.Qc.info("AudioTrack changed",a.newValue && ({ToBcp47:a.newValue.im,To:a.newValue.Ya}),a.oldValue && ({FromBcp47:a.oldValue.im,From:a.oldValue.Ya}),{MediaTime:ta.Nh(ia.qb.value)});});this.Oc.addListener(function(a){ia.Qc.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.im,To:a.newValue.Ya}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.im,From:a.oldValue.Ya}:{From:"none"},{MediaTime:ta.Nh(ia.qb.value)});});this.Hc[l.Ac.Ua.AUDIO]=new A.Cc(null);this.Hc[l.Ac.Ua.VIDEO]=new A.Cc(null);this.Ob.addListener(ab,g.HC);this.Ob.addListener(lb);this.addEventListener(ka.V.Is,function(){ia.f2a=!0;ia.$1a=ia.yga();ia.vd("start");ia.e3=ia.Df.value.stream.U;});E.sCa(this);n.no.push(this);y.config.cU && (this.t5=this.Xpa(this),this.u5=new O.ACa(this));n.jba.forEach(function(a){a(ia);});this.Ajb=function(){ia.addEventListener(ka.V.NF,function(a){var b;a=a.cause;a !== ka.zd.Jv && a !== ka.zd.NC && (null === (b=ia.Ga) || void 0 === b?void 0:b.stop());});ia.addEventListener(ka.V.Fl,function(a){var b,c,f,d,k,q,l,r,m;ia.D_a.Fl(a);f=a.cause;d=a.skip;k=a.M4;q=a.tpa;l=a.u;a=a.Wh;ia.ia.On.XIb(q,k);if(f !== ka.zd.NC && (y.config.pwb && f === ka.zd.FH && ia.Ga.Sw(),f !== ka.zd.Jv))if(d){if(null !== (b=ia.Ga) && void 0 !== b && b.Sg(k)){ia.Qc.trace("Repositioned. Skipping from " + q + " to " + k);b=function(a){ia.log.error("streamingSession.skipped threw an exception",a);a=Qa.Bc.J1(ea.L.D5a,a);ia.zp(a.code,a);};try{ia.Ga.Uj(k).then(function(a){var b;a.HK || (ia.J4a() || ia.hm.set(ka.he.yd),null === (b=ia.Ga) || void 0 === b?void 0:b.play());})["catch"](b);}catch(Kc){b(Kc);}}else ia.log.error("can skip returned false");}else {ia.Qc.trace("Repositioned. Seeking from " + q + " to " + k);try{r=ia.vm(l).va;m=ia.WQa(r);null === (c=ia.Ga) || void 0 === c?void 0:c.Lm(a,m,r);}catch(Kc){ia.log.error("streamingSession.seekByContentPts threw an exception",Kc);k=Qa.Bc.J1(ea.L.C5a,Kc);ia.zp(k.code,k);}}});};this.playbackRate.addListener(function(){var a,b;if(null === (a=ia.Ga) || void 0 === a?0:a.Wg())null === (b=ia.Ga) || void 0 === b?void 0:b.NL();});this.addEventListener(ka.V.Ow,function(a){var b;a.cause == n.fba && (ia.xg.set(ka.he.cd),null === (b=ia.Ga) || void 0 === b?void 0:b.ho(ia.Wf.BQa()));});}Object.defineProperty(b,"__esModule",{value:!0});b.uCa=void 0;h=a(0);l=a(48);m=a(275);f=a(276);k=a(72);q=a(502);v=a(1128);r=a(1129);u=a(505);g=a(11);A=a(150);y=a(12);I=a(68);J=a(506);D=a(58);n=a(57);S=a(100);O=a(508);Y=a(1132);E=a(512);da=a(7);t=a(4);ea=a(2);Z=a(18);ta=a(85);ca=a(23);Ca=a(55);P=a(15);aa=a(151);Q=a(513);ua=a(118);Ma=a(281);Ja=a(26);Ga=a(128);ka=a(13);Qa=a(40);Ua=a(277);Va=a(515);Na=a(139);F=a(481);L=a(1135);c.prototype.vd=function(a,b){b=void 0 === b?this.zJ:b;this.JT[b].vd(a);};c.prototype.xx=function(a){this.ia.xx(a);};c.prototype.KCb=function(){var a;a=this;this.Zc.addListener(function(b){return a.ia.Zc.set(b.newValue);});this.pg.addListener(function(b){return a.ia.pg.set(b.newValue);});this.Oc.addListener(function(b){return a.ia.Oc.set(b.newValue);});this.lk.addListener(function(b){return a.ia.lk.set(b.newValue);});this.et.addListener(function(b){return a.ia.et.set(b.newValue);});this.kf.addListener(function(b){return a.ia.kf.set(b.newValue);});this.kl.addListener(function(b){return a.ia.kl.set(b.newValue);});this.Df.addListener(function(b){return a.ia.Df.set(b.newValue);});this.Fg.addListener(function(b){return a.ia.Fg.set(b.newValue);});this.qb.addListener(function(b){return a.ia.qb.set(b.newValue);});this.playbackRate.addListener(function(b){return a.ia.playbackRate.set(b.newValue);});this.c0a();};c.prototype.c0a=function(){this.ia !== this.Yra && (this.ia.qb.set(this.qb.value),this.ia.playbackRate.set(this.playbackRate.value),this.pt(function(a){return a.Zc;},this.Qta),this.pt(function(a){return a.pg;},this.CWb),this.pt(function(a){return a.et;},this.yWb),this.pt(function(a){return a.Oc;},this.zWb),this.pt(function(a){return a.lk;},this.aWb),this.pt(function(a){return a.kf;},this.BWb),this.pt(function(a){return a.kl;},this.bWb),this.pt(function(a){return a.Fg;},this.pWb),this.pt(function(a){return a.Df;},this.qWb),this.pt(function(a){return a.qb;},this.lWb),this.pt(function(a){return a.playbackRate;},this.z7),this.Oc.set(this.ia.Oc.value),this.Zc.set(this.ia.Zc.value,{p_:!0}),this.pg.set(this.ia.pg.value),this.lk.set(this.ia.lk.value),this.et.set(this.ia.et.value),this.kf.set(this.ia.kf.value),this.kl.set(this.ia.kl.value),this.Yra=this.ia);};c.prototype.pt=function(a,b){this.Yra && a(this.Yra).removeListener(b);a(this.ia).addListener(b);};c.prototype.load=function(a){var b,c;b=this;this.load=function(){};this.XYa=a;if(this.state.value == ka.Db.rH){this.Qc.info("Playback loading",this);this.SIb();this.vd("asl_load_start");a=this.dJ;c=a.endTime;P.ic(a.startTime)?P.ic(c)?this.vd("asl_ended"):this.vd("asl_in_progress"):this.vd("asl_not_started");this.dJ.IS(function(a){b.vd("asl_load_complete");a.ja?b.vqb():b.zp(a.errorCode || ea.L.Bya,a);});}};c.prototype.nMb=function(){var a;try{if(this.state.value === ka.Db.LOADING){a={width:1,height:1,pfa:1};this.CA().forEach(function(b){a.width * a.height < b.width * b.height && (a.width=b.width,a.height=b.height,a.pfa=b.pfa);});this.dN=a;this.QD=this.iu.gJa({SB:t.Nb(this.X),u:this.u,HT:this.Qr,Wa:this.Wa}).ca(t.ga);this.Efa();this.urb();}}catch(ab){this.zp(ea.L.c$a,{ka:ea.K.ii,Ab:ca.Ve(ab)});}};c.prototype.ifa=function(a,b,c){var f,d,k;b=void 0 === b?this.NE.cA():b;c=void 0 === c?this.za.Bb():c;f=! !y.config.M4a && !(b % y.config.M4a);d=a.fa;k=a.va;a=a.Wa;b=this.Zpa(n.zH.index++,d,k,a,b,c,f,this.ia,this.dla);this.JT[d]=b;1 < this.hy.length && (b.Hq=this.Y3.create(this,b,!1));b.hL=new S.IAa(this,b);return d;};c.prototype.WQa=function(a){return a?void 0:0;};c.prototype.vm=function(a){return this.JT[a];};c.prototype.Du=function(a){return this.hy.find(function(b){return b.va === a;}) || this.ia;};c.prototype.Mzb=function(a){return this.hy.find(function(b){var c,f;return (null === (f=null === (c=b.pe) || void 0 === c?void 0:c.zEb) || void 0 === f?void 0:f.sessionId) === a;}) || this.ia;};c.prototype.FNb=function(a,b){var c,f;b=void 0 === b?!0:b;c=this;f=this.vm(a);return this.K0a(f).then(function(a){var d,k;if(null === (d=c.Ga) || void 0 === d || !d.Wg())throw new Qa.Bc(ea.L.zaa,ea.K.w5a);c.pZa(a,f);a=[f.xc.mNa,f.xc.qNa];d=!1;try{d=!(null === (k=c.Ga) || void 0 === k || !k.Cw(f.pa.Fc,{mVb:a,replace:!1,X:f.Wa.X,sa:f.Wa.sa,DF:!0,Vh:!f.Hx,kKa:b,D_:c.OQ(f.u),oCb:!0},f.va));}catch(Lb){throw Qa.Bc.J1(ea.L.zaa,Lb);}if(!d)throw new Qa.Bc(ea.L.zaa,ea.K.x5a);return f.Hx?c.Gb.Fk.E_a(f):Promise.resolve();})["catch"](function(a){c.log.error("queueManifest failed",a);throw c.lj(a.code,a);});};c.prototype.mxb=function(){if(P.qa(this.Md.ats) && P.qa(this.Md.at))return this.Md.at - this.Md.ats;};c.prototype.cQa=function(){var a,b;a=this.BV();b=this.fQ();return Math.min(a,b);};c.prototype.RU=function(){this.background || (this.Qc.info("Starting inactivity monitor for movie " + this.u),new J.Xya(this));};c.prototype.close=function(a){a && (this.state.value == ka.Db.CLOSED?a():this.addEventListener(ka.V.closed,function(){a();}));this.Nsa();};c.prototype.ed=function(a,b,c,f){a=this.lj(a,b,c);this.ZD(a,f);};c.prototype.ZD=function(a,b){var c,f,d,k;c=this;if(this.state.value == ka.Db.rH)this.Hj || (this.Hj=a,this.load());else {b && (this.state.value == ka.Db.CLOSED?b():this.addEventListener(ka.V.closed,function(){b();}));f=function(){c.Nsa(a);};d=y.config.tNa && a && y.config.tNa[a.errorCode];k=-1;P.Gx(d) && (k=ca.de(d));this.Qc.error("Fatal playback error",{Error:"" + a,HandleDelay:"" + d});0 <= k?setTimeout(f,k):f();}};c.prototype.tV=function(){this.Jb.ec(ka.V.tV);};c.prototype.fq=function(a,b){b=void 0 === b?this.va:b;this.UYa.push(this.za.Bb().ca(t.ga) + "-" + b + "-" + a);};c.prototype.qwb=function(){this.qPa();};c.prototype.Ska=function(){var a;if(null === (a=this.Ga) || void 0 === a?0:a.Wg())if((a=this.Ga.yn().id,void 0 !== a))return a;return null;};c.prototype.AA=function(){var a,b;b=null === (a=this.Ga) || void 0 === a?void 0:a.Wg();return void 0 === this.ia.g0 || b?this.dla(this.qb.value,this.va):this.ia.g0;};c.prototype.Rka=function(){var a;a=this.dla(this.Wf.BQa());return null === a?null:Math.min(this.Qr.ca(t.ga),Math.max(0,a));};c.prototype.GR=function(){var a,b;return null === (b=null === (a=this.pa) || void 0 === a?void 0:a.Fc.Ro) || void 0 === b?void 0:b.Ja;};c.prototype.oWb=function(a){this.Wa=ua.Doa(this.Wa,a);this.Efa();};c.prototype.YPa=function(){return this.Zc.value?this.Zc.value.yc:[];};c.prototype.CA=function(a){a=void 0 === a?this.u:a;return (a=this.vm(a).pg) && a.value?a.value.yc:[];};c.prototype.yBb=function(a){for(var b=N(this.hy),c=b.next();!c.done;c=b.next()){if(c=(c=c.value.qk) && c.find(function(b){return b.id === a;}))return c;}};c.prototype.BMb=function(a){a=void 0 === a?this.ia:a;a.Oc.value?this.Ip.zMb(a.Oc.value):Promise.resolve();};c.prototype.Cla=function(a){for(var b=N(this.hy),c=b.next();!c.done;c=b.next()){for(var c=N(c.value.ln),f=c.next();!f.done;f=c.next()){if(f=f.value.yc.find(function(b){return b.Jd === a;}))return f;}}};c.prototype.Hla=function(a){for(var b=N(this.hy),c=b.next();!c.done;c=b.next()){for(var c=N(c.value.Qm),f=c.next();!f.done;f=c.next()){if(f=(f=f.value) && f.yc.find(function(b){return b.Jd === a;}))return f;}}};c.prototype.Sr=function(){var a,b,c;return null !== (c=null === (b=null === (a=this.u5) || void 0 === a?void 0:a.LQ) || void 0 === b?void 0:b.call(a)) && void 0 !== c?c:this.Gqb().qA;};c.prototype.t1a=function(a){var b,c;null !== (b=this.Ga) && void 0 !== b && b.Wg() && this.vm(a) && ((null === (c=this.u5) || void 0 === c?0:c.LQ)?this.u5.$3a():(b=this.OQ(a),this.Ga.Jl(b,a)));};c.prototype.eEb=function(){return "trailer" === this.xd;};c.prototype.nDb=function(){return ! !this.xd && 0 <= this.xd.indexOf("billboard");};c.prototype.jEb=function(){return ! !this.xd && 0 <= this.xd.indexOf("video-merch");};c.prototype.HDb=function(){return ! !this.xd && 0 <= this.xd.indexOf("mini-modal");};c.prototype.TE=function(){return this.eEb() || this.nDb() || this.jEb() || this.HDb();};c.prototype.nka=function(){var d,k,q;if(this.Qm){for(var a,b=0;b < this.Qm.length;b++){for(var c=this.Qm[b],f=0;f < c.yc.length;f++){d=c.yc[f];if(P.qa(d.Mha) && P.qa(d.q0) && P.qa(d.p0) && P.qa(d.o0) && (0 < d.Mha || 0 < d.q0)){k=1;q=1;P.qa(d.FYa) && P.qa(d.GYa) && (k=d.FYa,q=d.GYa);d=d.o0 * q / (d.p0 * k);a=P.qa(a)?Math.min(a,d):d;}}}return a;}};c.prototype.cAb=function(){return {tr:this.vta,rt:this.yra};};c.prototype.sx=function(a){return this.ij[a];};c.prototype.mmb=function(){return this.Ol?this.za.Bb().ca(t.ga) - this.Ol:this.ta.Be.ca(t.ga) - this.O1();};c.prototype.yga=function(){var a;if(this.Ol)return this.za.Bb().ca(t.ga) - this.Ol;a=this.za.YE;return this.NYa - (this.Ok.ca(t.ga) + a.ca(t.ga));};c.prototype.vmb=function(){return this.Ol?this.za.Bb().ca(t.ga) - this.Ol:this.NYa - this.O1();};c.prototype.LIb=function(a){var b,c;b=this.ce;c={};ca.Rd(a,function(a,f){c[a]=f.map(function(a){return a - b;});});return c;};c.prototype.wxb=function(){var a,b;a=this.ce;b={};ca.Rd(this.cga,function(c,f){b[c]=f.map(function(b){return b - a;});});return q.hu?{level:q.hu.XQa(),charging:q.hu.lka(),statuses:b}:null;};c.prototype.v2=function(){this.pPa();return this.DV;};c.prototype.O1=function(){var a;a=this.Wa.w7;a=P.qa(a)?a:this.Ok.ca(t.ga) + this.za.YE.ca(t.ga);Z.fb(P.Fx(a));return a;};c.prototype.Yka=function(){return this.za.Bb().ca(t.ga) - this.Ok.ca(t.ga);};c.prototype.u1a=function(a,b){this.DV[a]=b;};c.prototype.IXb=function(){this.CSb=!0;};c.prototype.T4=function(){this.j_a();};c.prototype.BV=function(){var a;a=this.u_();return a && a.vbuflmsec || 0;};c.prototype.fQ=function(){var a;a=this.u_();return a && a.abuflmsec || 0;};c.prototype.hua=function(){var a;a=this.u_();return a && a.vbuflbytes || 0;};c.prototype.Lfa=function(){var a;a=this.u_();return a && a.abuflbytes || 0;};c.prototype.K0a=function(a){var b,c,f,d;a=void 0 === a?this.ia:a;b=this;c=y.config.L5.enabled?Ga.Oi.Eba:this.TE()?Ga.Oi.gY:Ga.Oi.bk;c={ea:a.ea,Wa:a.Wa,fa:a.u,wq:c};f=a.u !== this.ia.u;d=this.za.Bb().ca(t.ga);return this.PS.Pe(this.log,c).then(function(c){var k;k=b.za.Bb().ca(t.ga);c.Yo && b.fireEvent(ka.V.YK,{u:a.u});f && (c.zB=d,c.PF=k);return c;})["catch"](function(a){b.log.error("PBO manifest failed",a);return Promise.reject(a);});};c.prototype.pZa=function(a,b){b=void 0 === b?this:b;b.pa=a;a=this.boa.create(this).XKb(a);b.xc=a;b.pg.set(a.iia);b.Zc.set(a.WQ);b.Oc.set(a.hia);};c.prototype.DPa=function(a,b){this.Ox({u:a,PA:void 0 === b?!1:b});};c.prototype.bBb=function(a,b){this.vm(a.fa) || this.ifa(a);this.DPa(a.fa,!0);this.ZD(b);};c.prototype.rSa=function(a,b){if(!this.xi.F7)return !0;a=this.yp.ca(t.ga) - a;return 0 > a || a > b;};c.prototype.J4a=function(){var a;if(this.Ga)return this.Ga.fua;a=y.d0(this.xd);return a.Pl && a.qE;};c.prototype.RPb=function(){this.Wf.seek(this.AA() || 0,ka.zd.DW);};c.prototype.Ox=function(a){var b,c;if(this.SL){if(a.u === this.zJ){this.SL=a.u;return;}b=this.vm(a.u);c=b.pa;c && P.ic(c.zB) && P.ic(c.PF) && b.xx({pr_ats:c.zB,pr_at:c.PF});this.fireEvent(ka.V.bL,{u:this.zJ});this.zJ=a.u;this.Efa();a.PA || this.c0a();this.DK=this.ta.z6;this.ia.Ol || (this.ia.Ol=this.za.Bb().ca(t.ga));}("boolean" === typeof this.Wa.VJ?this.Wa.VJ:y.config.VJ) && !a.PA && this.Eta.VJ(this);a.SL=this.SL;this.SL=a.u;this.fireEvent(ka.V.Jq,a);};c.prototype.vqb=function(){try{this.HQ=new Ua.qwa(this);this.Hq=this.Y3.create(this,this.ia,!0);y.config.Omb && new Va.Kxa(this,this.Mj,this.log);y.config.zQ && this.zQ(this);this.mXb();}catch(lb){this.zp(ea.L.b$a,{ka:ea.K.ii,Ab:ca.Ve(lb)});}};c.prototype.mXb=function(){this.Hj?this.ZD(this.Hj):P.Rma(this.u)?this.mnb():this.zp(ea.L.O9a,{Ab:"" + this.u});};c.prototype.mnb=function(){var a;a=m.jG.V0a;a?a.ja?this.aha():this.zp(ea.L.Tya,a):(Z.fb(!y.config.b1),this.Zea());};c.prototype.aha=function(){var a;a=this;!this.background && y.config.aha?n.iba(function(){a.Zea();},this):this.Zea();};c.prototype.Zea=function(){var a;a=this;this.state.value == ka.Db.LOADING && (y.config.Xia && !this.TE()?m.jG.zw(n.rCa,function(b){b.ja?(a.V3=b.V3,y.config.v6?a.mQ():a.dsa()):a.zp(ea.L.Sya);},!0):y.config.v6?this.mQ():this.dsa());};c.prototype.dsa=function(){var a;a=this;this.state.value == ka.Db.LOADING && (this.vd("ic"),this.OLb.VQb(function(b){b.error && a.log.error("Error sending persisted playdata",ea.nr(b));try{a.mQ();}catch(ia){a.log.error("playback.authorize threw an exception",ia);a.zp(ea.L.N5a,{ka:ea.K.ii,Ab:ca.Ve(ia)});}}));};c.prototype.mQ=function(){var a,b;a=this;if(this.state.value == ka.Db.LOADING){this.log.info("Authorizing",this);b=this.za.Bb().ca(t.ga);this.vd("ats");this.HQ.mQ(function(c){var f;if(a.state.value == ka.Db.LOADING){a.vd("at");f=a.pa;a.xx({pr_ats:f && P.ic(f.zB)?f.zB:b,pr_at:f && P.ic(f.PF)?f.PF:a.za.Bb().ca(t.ga)});c.ja?0 < a.xc.qk.length && a.xc.WQ && a.xc.iia && a.xc.hia?a.lNb():a.zp(ea.L.J$a,a.coa(a.xc)):a.zp(ea.L.MANIFEST,c);}});}};c.prototype.lNb=function(){var a;a=this;this.XYa?(this.log.info("Processing post-authorize",this),this.XYa(this,function(b){b.ja?a.c4a():a.zp(ea.L.g$a,b);})):this.c4a();};c.prototype.c4a=function(){h.__awaiter(this,void 0,void 0,function(){var b,c,f;function a(a){for(;;){switch(b){case 0:if(c.state.value == ka.Db.LOADING){b=1;break;}b=-1;return {value:void 0,done:!0};case 1:return (c.Ga=c.Hfa(c),b=2,{value:c.Ga.zsa({vg:k.vg,config:y.config,Wd:c.Wd,Qc:c.Qc,Jn:c.Jn.bind(c),Bh:da.Bh,EB:c.EB.bind(c),Ox:c.Ox.bind(c)}),done:!1});case 2:if(void 0 === a){b=3;break;}b=-1;throw a;case 3:(c.nMb(),b=-1);default:return {value:void 0,done:!0};}}}b=0;c=this;f={next:function(){return a(void 0);},"throw":function(b){return a(b);},"return":function(){throw Error("Not yet implemented");}};p();f[Symbol.iterator]=function(){return this;};return f;});};c.prototype.urb=function(){var a,b,c,f,d,k,q;a=this;try{this.Gb=new v.xAa(this);this.Gb.open();b=new Promise(function(b){a.Gb.addEventListener(Ma.Pi.T1a,b);});this.Wf=new Q.CAa(this);c=this.xc.WQ.fo === Na.so.NONE;f={Sf:!1,ZM:y.config.ZM,E7:y.config.iR,LS:!1,Vh:!this.Hx,DF:! !this.Wa.x3,sa:this.Wa.sa,cN:this.xc.WQ.KK || c};d={AF:this.log,Bm:this.Bm,sessionId:this.u + "-" + this.ea,ea:this.ea,xF:this.Fj,Yh:aa.Xh?aa.Xh.Yh:void 0,gx:0 === y.config.$Q || 0 !== this.ea % y.config.$Q?!1:!0};this.tOa=! !d.gx;k=this.vm(this.u).va;try{q=this.Ga;q.FK({Zh:f,ax:d,va:k,OQ:this.OQ.bind(this)});this.Ajb();q.uKa({ij:this.ij,ce:this.ce});}catch(Lb){throw (this.log.error("Failed to initialize ASE streaming",{error:Lb,startPts:this.X,flags:f}),Lb);}b.then(function(){var b;a.state.value !== ka.Db.CLOSING && a.state.value !== ka.Db.CLOSED && (null === (b=a.Ga) || void 0 === b?void 0:b.open());});this.qb.set(this.X);this.Ip=new r.QEa(this);if("boolean" === typeof this.Wa.V5?this.Wa.V5:y.config.V5)this.lV=new Y.REa(this);this.RU();n.kba.forEach(function(b){b(a);});this.RIb();}catch(Lb){this.zp(ea.L.d$a,{ka:ea.K.ii,Ab:ca.Ve(Lb)});}};c.prototype.SIb=function(){Z.fb(this.state.value == ka.Db.rH);this.ce=this.za.Bb().ca(t.ga);this.state.set(ka.Db.LOADING);};c.prototype.zp=function(a,b){this.done || (this.done=!0,b instanceof Qa.Bc?this.ed(b.code,b):this.ed(a,b));};c.prototype.zQ=function(a){var c,f;function b(){var b,f;b=q.hu.lka() + "";f=a.cga[b];f || (f=a.cga[b]=[]);f.push(c.za.Bb().ca(t.ga));c.log.trace("charging change event",{level:q.hu.XQa(),charging:q.hu.lka()});}c=this;f=q.hu.U6a;q.hu.addEventListener(f,b);a.addEventListener(ka.V.Qf,function(){q.hu.removeEventListener(f,b);});};c.prototype.Nsa=function(a){var b,c;b=this;if(this.state.value == ka.Db.rH || this.state.value == ka.Db.LOADING || this.state.value == ka.Db.yd){this.Qc.info("Playback closing",this,a?{ErrorCode:a.K0}:void 0);this.fq("Closing");D.Xe.removeListener(D.wm,this.rXa);this.Hj=a;this.ia.g0=this.AA();this.pPa();(null === (c=this.Ga) || void 0 === c?0:c.Wg()) && this.Ga.flush();try{this.Jb.ec(ka.V.Qf,{movieId:this.zJ});}catch(hf){this.Qc.error("Unable to fire playback closing event",hf);}this.state.set(ka.Db.CLOSING);this.B5a();this.CSb || Ca.Ic(function(){return b.j_a();});}};c.prototype.qPa=function(){var a;a=this.qb.value;this.TEb != a && (!1,this.TEb=a,this.Jb.ec(ka.V.lta));};c.prototype.j_a=function(){var a,b;a=this;Z.fb(this.state.value == ka.Db.CLOSING);b=this.V3;this.V3=void 0;b?m.jG.release(b,function(b){Z.fb(b.ja);a.hha();}):this.hha();};c.prototype.B5a=function(){var a;null === (a=this.Ga) || void 0 === a?void 0:a.dc();delete this.Ga;delete this.hb;delete this.Pm;};c.prototype.hha=function(){var a;this.hha=g.mh;Z.fb(this.state.value == ka.Db.CLOSING);a=n.no.indexOf(this);Z.fb(0 <= a);n.no.splice(a,1);this.state.set(ka.Db.CLOSED);this.Jb.ec(ka.V.closed,void 0,!0);this.Jb.Ug();delete this.pe;this.ia.T4();};c.prototype.Efa=function(){this.Wa.playbackState && ("number" === typeof this.Wa.playbackState.volume && this.volume.set(ta.lo(this.Wa.playbackState.volume,0,1)),"boolean" === typeof this.Wa.playbackState.muted && this.muted.set(this.Wa.playbackState.muted),"number" === typeof this.Wa.playbackState.playbackRate && this.playbackRate.set(this.Wa.playbackState.playbackRate));};c.prototype.pPa=function(){this.Jb.ec(ka.V.E1a,{DV:this.DV});};c.prototype.EB=function(a,b){var c;c=this.qk.filter(function(b){return b.id === a;})[0];c && this.Hc[b].set(c);};c.prototype.Jn=function(){return {AudioBufferLength:this.fQ(),VideoBufferLength:this.BV()};};c.prototype.u_=function(){var a;if(null === (a=this.Ga) || void 0 === a?0:a.Wg())return this.Ga.GK(!1);};c.prototype.RIb=function(){this.state.value == ka.Db.LOADING && this.state.set(ka.Db.yd);};c.prototype.Gqb=function(){var a,b,c;a=void 0 === a?this.u:a;b=this.CA(a);c=this.vm(a);return F.Sr(b,function(a){return c.hL.Ys(a);});};c.prototype.OQ=function(a){var b,c;a=void 0 === a?this.u:a;b=this.CA(a);c=this.vm(a);return F.tla(b,function(a){return c.hL.Ys(a);});};ma.Object.defineProperties(c.prototype,{hy:{configurable:!0,enumerable:!0,get:function(){return Object.values(this.JT);}},ia:{configurable:!0,enumerable:!0,get:function(){return this.JT[this.zJ];}},OTa:{configurable:!0,enumerable:!0,get:function(){return 1 === this.hy.length;}},X:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.QD?this.QD:this.hy[0].Wa.X || 0;}},xc:{configurable:!0,enumerable:!0,get:function(){return this.ia.xc;},set:function(a){this.ia.xc=a;}},A1:{configurable:!0,enumerable:!0,get:function(){return this.ia.Wa.A1;}},B1:{configurable:!0,enumerable:!0,get:function(){return this.ia.Wa.B1;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ia.index;}},va:{configurable:!0,enumerable:!0,get:function(){return this.ia.va;}},pe:{configurable:!0,enumerable:!0,get:function(){return this.ia.pe;},set:function(a){this.ia.pe=a;}},Ol:{configurable:!0,enumerable:!0,get:function(){return this.ia.Ol;},set:function(a){this.ia.Ol=a;}},Tz:{configurable:!0,enumerable:!0,get:function(){return this.ia.Tz;},set:function(a){this.ia.Tz=a;}},VD:{configurable:!0,enumerable:!0,get:function(){return this.ia.VD;},set:function(a){this.ia.VD=a;}},e3:{configurable:!0,enumerable:!0,get:function(){return this.ia.e3;},set:function(a){this.ia.e3=a;}},pa:{configurable:!0,enumerable:!0,get:function(){return this.ia.pa;},set:function(a){this.ia.pa=a;}},QD:{configurable:!0,enumerable:!0,get:function(){return this.ia.QD;},set:function(a){this.ia.QD=a;}},dV:{configurable:!0,enumerable:!0,get:function(){return this.ia.dV;},set:function(a){this.ia.dV=a;}},Wa:{configurable:!0,enumerable:!0,get:function(){return this.ia.Wa;},set:function(a){this.ia.Wa=a;}},Hq:{configurable:!0,enumerable:!0,get:function(){return this.ia.Hq;},set:function(a){this.ia.Hq=a;}},On:{configurable:!0,enumerable:!0,get:function(){return this.ia.On;}},u:{configurable:!0,enumerable:!0,get:function(){return this.ia.u;}},xd:{configurable:!0,enumerable:!0,get:function(){return this.ia.xd;}},ln:{configurable:!0,enumerable:!0,get:function(){return this.ia.ln;}},Qm:{configurable:!0,enumerable:!0,get:function(){return this.ia.Qm;}},Gy:{configurable:!0,enumerable:!0,get:function(){return this.ia.Gy;}},Ml:{configurable:!0,enumerable:!0,get:function(){return this.ia.Ml;}},vi:{configurable:!0,enumerable:!0,get:function(){return this.ia.vi;}},Hx:{configurable:!0,enumerable:!0,get:function(){return this.ia.Hx;}},Ps:{configurable:!0,enumerable:!0,get:function(){return this.ia.Ps;}},ol:{configurable:!0,enumerable:!0,get:function(){return this.ia.ol;}},qk:{configurable:!0,enumerable:!0,get:function(){return this.ia.qk;}},B5:{configurable:!0,enumerable:!0,get:function(){return this.ia.B5;}},Qr:{configurable:!0,enumerable:!0,get:function(){return this.ia.Qr;},set:function(a){this.ia.Qr=a;}},ea:{configurable:!0,enumerable:!0,get:function(){return this.ia.ea;}},rj:{configurable:!0,enumerable:!0,get:function(){return this.ia.rj;}},Ok:{configurable:!0,enumerable:!0,get:function(){return this.ia.Ok;}},DK:{configurable:!0,enumerable:!0,get:function(){return this.ia.DK;},set:function(a){this.ia.DK=a;}},Fj:{configurable:!0,enumerable:!0,get:function(){return this.ia.Fj;}},ZF:{configurable:!0,enumerable:!0,get:function(){return this.ia.ZF;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ia.background;},set:function(a){this.ia.background=a;}},Rha:{configurable:!0,enumerable:!0,get:function(){return this.ia.Rha;}},Md:{configurable:!0,enumerable:!0,get:function(){return this.ia.Md;}},No:{configurable:!0,enumerable:!0,get:function(){return this.ia.No;}},Kia:{configurable:!0,enumerable:!0,get:function(){return this.ia.Kia;}},hL:{configurable:!0,enumerable:!0,get:function(){return this.ia.hL;}},Eh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.u,TrackingId:this.rj,Xid:this.ea};}}});b.uCa=c;},function(d,b,a){var c,h,l;Object.defineProperty(b,"__esModule",{value:!0});b.m2a=void 0;c=a(11);h=a(7);l=a(2);a(23);b.m2a=function(a){var b;h.Bh("Storage");b={};a({ja:!0,storage:{load:function(a,c){var f;if(b.hasOwnProperty(a)){f=b[a];!1;c({ja:!0,data:f,U6:a});}else (!1,c({ka:l.K.bz}));},save:function(a,c,f,d){f && b.hasOwnProperty(a)?d({ja:!1}):(b[a]=c,!1,d && d({ja:!0,U6:a}));},remove:function(a,f){delete b[a];!1;f && f(c.ke);}}});};},function(d,b,a){var c,h,l,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.k2a=void 0;c=a(7);h=a(63);l=a(27);m=a(500);f=a(363);b.k2a=function(a){c.ha.get(h.qt).create().then(function(b){a({ja:!0,storage:new m.x$(b,c.ha.get(l.tg)),qq:c.ha.get(f.g9)});})["catch"](function(b){a(b);});};},function(d,b){function a(a,b){this.fu=a;this.Wd=b;}Object.defineProperty(b,"__esModule",{value:!0});b.x$=void 0;a.prototype.load=function(b,d){var c;c=this;this.fu.load(b).then(function(b){d && d(a.A2a(b));})["catch"](function(a){d && d(c.eja(b,a));});};a.prototype.save=function(b,d,l,m){var c;c=this;this.fu.save(b,d,l).then(function(){m && m(a.A2a({key:b,value:d}));})["catch"](function(a){m && m(c.eja(b,a));});};a.prototype.remove=function(a,b){var c;c=this;this.fu.remove(a).then(function(){b && b({ja:!0,U6:a});})["catch"](function(d){b && b(c.eja(a,d));});};a.A2a=function(a){return {ja:!0,data:a.value,U6:a.key};};a.prototype.eja=function(a,b){return {ja:!1,U6:a,ka:b.ka,Ab:b.cause?this.Wd.Ve(b.cause):void 0};};b.x$=a;},function(d,b,a){var c,h,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.l2a=void 0;c=a(500);h=a(7);l=a(361);m=a(27);b.l2a=function(a){a({ja:!0,storage:new c.x$(h.ha.get(l.z$),h.ha.get(m.tg))});};},function(d,b,a){var c,h,l,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.hu=void 0;c=a(11);h=a(12);d=a(2);l=a(7);m=a(26);f=a(10);a=a(29);l.ha.get(a.qg).register(d.L.Dya,function(a){var k,r,u;function d(){u && clearTimeout(u);a(c.ke);d=m.mh;}k=l.Bh("BatteryManager");b.hu={U6a:"chargingchange",XQa:function(){return r?r.level:null;},lka:function(){return r?r.charging:null;},addEventListener:function(a,b){r && r.addEventListener(a,b);},removeEventListener:function(a,b){r && r.removeEventListener(a,b);}};if(h.config.zQ){u=setTimeout(d,h.config.vxb);try{f.Se.getBattery().then(function(a){r=a;d();})["catch"](function(a){k.error("getBattery promise rejected",a);d();});}catch(B){k.error("exception on getBattery api call",B);d();}}else d();});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.y$=void 0;b.y$="LicenseBrokerFactorySymbol";},function(d,b,a){var h;function c(a,b){var c;c=this;this.jRa=a;this.pXa=b;this.rta=!1;this.Zx=function(){c.co=void 0;c.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.SEa=void 0;h=a(26);c.prototype.update=function(a){var b,c,d;b=this.jRa();if(this.p4a !== b){h.ic(b) && h.ic(this.duration) && b < this.duration && this.entries && (d=this.JWa || this.entries[Math.floor(b * this.NUb)] || this.entries[0]);if(d){for(;d && d.endTime < b;){d=d.next;}for(;d && d.previous && d.previous.endTime >= b;){d=d.previous;}}d && (d.startTime <= b && b <= d.endTime?(c=d,this.h4a(d.endTime - b)):this.h4a(d.startTime - b));this.JWa=d;this.p4a=b;this.afa !== c && (this.afa=c,!a && this.pXa && this.pXa());}};c.prototype.start=function(){this.rta=!0;this.update();};c.prototype.c1a=function(a){this.JWa=this.afa=this.p4a=void 0;this.duration=(this.entries=a) && Math.max.apply(Math,[].concat(X(a.map(function(a){return a.endTime;})))) || 0;this.NUb=a && a.length / this.duration || 0;this.update();};c.prototype.stop=function(){this.rta=!1;this.Di();};c.prototype.axb=function(){this.update(!0);return this.afa;};c.prototype.h4a=function(a){this.Di();this.rta && 0 < a && (this.co=setTimeout(this.Zx,a + c.rab));};c.prototype.Di=function(){this.co && (clearTimeout(this.co),this.co=void 0);};b.SEa=c;c.rab=10;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.vya=void 0;c=a(13);h=a(67);b.vya=function(a){function b(b){a.fireEvent(c.V.jA,{response:b,u:a.ia.u});}return {download:function(c,d){c.j=a;c=h.gf.download(c,d);c.bfa(b);return c;}};};},function(d,b,a){var c,h,l,m,f,k,q,v,r;Object.defineProperty(b,"__esModule",{value:!0});b.Xya=void 0;c=a(12);h=a(49);l=a(2);m=a(507);f=a(10);k=a(15);q=a(13);v=a(7);r=a(161);b.Xya=function(a){var d,u,g,J;function b(){a.state.value !== q.Db.yd || a.Ob.value !== q.ub.uj && a.Ob.value !== q.ub.At?u.Di():u.mA();}d=c.config.hLb;if(!a.TE() && d){u=v.ha.get(r.GH)(d,function(){a.fireEvent(q.V.AK,l.L.KX);});a.Ob.addListener(b);a.state.addListener(b);if(c.config.jma){J=h.ni();g=new m.rDa(c.config.jma,function(){var b,k;b=h.ni();k=b - J;k > d && (a.fireEvent(q.V.AK,l.L.hX),g.HLa());k > 2 * c.config.jma && (a.kma=f.Um(k,a.kma || 0));J=b;});g.SRb();}a.addEventListener(q.V.Qf,function(){u.Di();k.ic(g) && g.HLa();});}};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.rDa=void 0;b.rDa=function(a,b){var c;this.SRb=function(){c || (c=setInterval(b,a));};this.HLa=function(){c && (clearInterval(c),c=void 0);};};},function(d,b,a){var h,l,m,f,k,q,v;function c(a){var b,c,d,q;b=this;this.j=a;this.LQ=void 0;this.rda=m.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});this.fda=m.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.Wca=m.createElement("DIV","width:100%;text-align:center");this.Hdb=this.hda("Audio Bitrate");this.Tea=this.hda("Video Bitrate");this.$ca=this.hda("CDN");this.rP={};this.x2=f.ha.get(k.Ul);this.rda.appendChild(this.fda);this.fda.appendChild(this.Wca);c=m.createElement("BUTTON",void 0,"Override");c.addEventListener("click",this.Adb.bind(this),!1);this.Wca.appendChild(c);c=m.createElement("BUTTON",void 0,"Reset");c.addEventListener("click",this.Uhb.bind(this),!1);this.Wca.appendChild(c);d=this.ahb.bind(this);l.Xe.addListener(l.FA,d);a.addEventListener(v.V.Jq,function(){b.rP={};});a.addEventListener(v.V.Qf,function(){l.Xe.removeListener(l.FA,d);});q=this.Ehb.bind(this);a.Hc.forEach(function(a){a.addListener(q);});a.Zc.addListener(q);a.pg.addListener(q);}Object.defineProperty(b,"__esModule",{value:!0});b.ACa=void 0;h=a(48);l=a(58);m=a(26);f=a(7);k=a(36);q=a(126);v=a(13);c.prototype.show=function(){this.OP || (this.ZHa(),this.j.Xf.appendChild(this.rda),this.OP=!0);};c.prototype.Bq=function(){this.OP && (this.j.Xf.removeChild(this.rda),this.OP=!1);};c.prototype.toggle=function(){this.OP?this.Bq():this.show();};c.prototype.$3a=function(){var c,f,d,k;function a(a,b,c){var f,d,k;k=[];b.filter(function(b){return b.yg === a;}).forEach(function(a){0 <= c.indexOf(a)?(void 0 === f?f=a.U:d=a.U,void 0 === d && (d=a.U)):void 0 !== f && void 0 !== d && (k.push({min:f,max:d}),f=d=void 0);});void 0 !== f && void 0 !== d && (k.push({min:f,max:d}),f=d=void 0);return k;}function b(a,b,c){var f;f=[];b.filter(function(b){return b.yg === a;}).forEach(function(a){-1 === c.indexOf(a) && f.push({stream:{bitrate:a.U},disallowedBy:["manual"]});});return f;}f=this.j.Sr();d=this.j.CA().sort(function(a,b){return a.U - b.U;});k=d.reduce(function(a,b){0 > a.indexOf(b.yg) && a.push(b.yg);return a;},[]).map(function(c){return {profile:c,ranges:a(c,d,f),disallowed:b(c,d,f)};});!1;null === (c=this.j.Ga) || void 0 === c?void 0:c.Jl(k,this.j.u);};c.prototype.Adb=function(){var c,f,a,b;this.rP={};for(var a=this.Tea.options,b=a.length;b--;){c=a[b];c.selected && (this.rP[c.value]=1);}this.LQ=this.geb.bind(this);this.$3a();if(a=this.j.qk){f=this.$ca.value;a=a.filter(function(a){return a.id == f;})[0];b=this.j.Hc[h.Ac.Ua.VIDEO].value;a && a != b && (a.jLa={testreason:"streammanager",selreason:"userselection"},this.j.Hc[h.Ac.Ua.VIDEO].set(a));}this.Bq();};c.prototype.Uhb=function(){this.LQ=void 0;this.j.t1a(this.j.u);this.Bq();};c.prototype.geb=function(){var a;a=this;return this.j.CA().filter(function(b){return a.rP[b.U];});};c.prototype.ZHa=function(){var a,b,c,f;a=this;b=this.j.Zc.value;c=this.j.pg.value;f=this.j.qk;b && (f=f.slice(),f.sort(function(a,b){return a.kg - b.kg;}),this.Cea(this.Hdb,b.yc.map(function(b){return {value:b.U,caption:b.U,selected:b == a.j.kl.value};})));c && (this.Cea(this.Tea,c.yc.map(function(b){var c,f;c=a.j.hL.Ys(b);b=b.U;f="" + b;c && (f+=" (" + c.join("|") + ")");return {value:b,caption:f,selected:a.LQ?a.rP[b]:!c};})),this.Tea.removeAttribute("disabled"));f && (this.Cea(this.$ca,f.map(function(b){return {value:b.id,caption:"[" + b.id + "] " + b.name,selected:b == a.j.Hc[h.Ac.Ua.VIDEO].value};})),this.$ca.removeAttribute("disabled"));};c.prototype.Ehb=function(){this.OP && this.ZHa();};c.prototype.hda=function(a){var b,c;b=m.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=m.createElement("DIV",void 0,a);c=m.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);this.fda.appendChild(b);return c;};c.prototype.Cea=function(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected && (c.selected="selected");c=m.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});};c.prototype.ahb=function(a){a.ctrlKey && a.altKey && a.shiftKey && a.keyCode == q.Ct.Zbb && this.x2.Xma && this.toggle();};b.ACa=c;},function(d,b,a){var h,l,m,f,k;function c(a,b){this.Kja=a;this.pE={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=h.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.b1a(b);this.xPa=this.Cyb(this.Kja);}Object.defineProperty(b,"__esModule",{value:!0});b.PEa=void 0;h=a(26);l=a(510);m=a(511);f=a(10);k=a(23);c.prototype.hp=function(){return this.element;};c.prototype.jRb=function(a){this.Jfa=a;};c.prototype.sRb=function(a){this.Ne=a;this.aM();};c.prototype.yRb=function(a){this.b1a(a);this.aM();};c.prototype.aM=function(){var a,b,f,d,k,g,y,I,J,D,n,O,Y,E;a=this;b=this.hp();f=b.parentElement;d=f && f.clientWidth || 0;k=f && f.clientHeight || 0;g=f=0;y={width:d,height:k};if(0 < d && 0 < k && this.Ne){this.Jfa && (y=h.dK(d,k,this.Jfa),f=Math.round((d - y.width) / 2),g=Math.round((k - y.height) / 2));I=this.ymb(y);D=h.dK(I.width,I.height,this.Jfa);I=(J=this.Ne.blocks) && J.map(function(b){var f;f=m.Zia(b,D,a.Kja,a.xPa);b=m.LOa(b) + ";position:absolute";return h.createElement("div",b,f,c.O8);});}Object.assign(this.pE,{left:f + "px",right:f + "px",top:g + "px",bottom:g + "px"});b.style.display="none";b.style.direction=this.pE.direction;b.innerHTML="";if(I && I.length){d=y.width;f=y.height;n=y;this.sQ && (n=this.Yib(y,this.sQ,k,g));this.pE.margin=this.Kq?this.N_(y,"top") + "px " + this.N_(y,"right") + "px " + this.N_(y,"bottom") + "px " + this.N_(y,"left") + "px ":void 0;I.forEach(function(a){return b.appendChild(a);});k=h.bE(this.pE);b.style.cssText=k + ";visibility:hidden;z-index:-1";for(var g=[],p=I.length - 1;0 <= p;p--){O=I[p];Y=J[p];E=this.TWa(O,Y,d,f);E.width > d && (O.innerHTML=m.Zia(Y,y,this.Kja,this.xPa,d / E.width),E=this.TWa(O,Y,d,f));g[p]=E;}g=l.R3a(g,n);if(p=J && J[0] && J[0].textNodes && J[0].textNodes[0] && J[0].textNodes[0].style)(n=p.windowColor,p=p.windowOpacity,n && 0 < p && (y=m.NOa(J,g,Math.round(f / 50),n,y),y=h.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + p,y,c.O8),b.insertBefore(y,b.firstChild)));b.style.display="none";for(y=g.length - 1;0 <= y;y--){n=I[y].style;p=m.MOa(J[y].region,g[y],d,f,0);Object.assign(n,p);}b.style.cssText=k;}};c.prototype.usa=function(a){this.sQ=a;this.aM();};c.prototype.ola=function(){return this.sQ;};c.prototype.wsa=function(a){this.Kq=a;this.aM();};c.prototype.pla=function(){return this.Kq;};c.prototype.qla=function(){return "block" === this.pE.display;};c.prototype.xsa=function(a){var b;b=a?"block":"none";this.element.style.display=b;this.pE.display=b;a && this.aM();};c.prototype.Cyb=function(a){var b,c;b=this;c={};k.Rd(a,function(a,f){c[a]=b.fHb(f);});return c;};c.prototype.b1a=function(a){this.pE.direction="boolean" === typeof a?a?"ltr":"rtl":"inherit";};c.prototype.N_=function(a,b){if(this.Kq){if("left" === b || "right" === b)return a.width * (this.Kq[b] || 0);if("top" === b || "bottom" === b)return a.height * (this.Kq[b] || 0);}return 0;};c.prototype.ymb=function(a){return this.Kq?{height:a.height * (1 - (this.Kq.top || 0) - (this.Kq.bottom || 0)),width:a.width * (1 - (this.Kq.left || 0) - (this.Kq.right || 0))}:a;};c.prototype.fHb=function(a){var b;a=h.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + a + ";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.O8);f.Ke.body.appendChild(a);b={fontSize:1E3,height:a.clientHeight,width:a.clientWidth / 52,lineHeight:a.clientHeight / 1E3};f.Ke.body.removeChild(a);return b;};c.prototype.TWa=function(a,b,c,f){var d,k,q,l,r;d=b.region;k=(d.marginTop || 0) * f;q=(d.marginBottom || 0) * f;l=(d.marginLeft || 0) * c;r=(d.marginRight || 0) * c;b=a.clientWidth || 1;a=a.clientHeight || 1;switch(d.verticalAlignment){case "top":f=k;break;case "center":f=(k + f - q - a) / 2;break;default:f=f - q - a;}switch(d.horizontalAlignment){case "left":c=l;break;case "right":c=c - r - b;break;default:c=(l + c - r - b) / 2;}return {top:f,left:c,width:b,height:a};};c.prototype.Yib=function(a,b,c,f){return {height:c - Math.max(f,b.bottom || 0) - Math.max(f,b.top || 0),width:a.width};};b.PEa=c;c.O8={"class":"player-timedtext-text-container"};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.R3a=void 0;c=a(10);b.R3a=function(a,b){function d(a,b,d){var h,v,g,n;if(a && 1 < a.length){for(var k=[],q=[],l=0;l < a.length;l++){k[l]=0;q[l]=0;}for(var r=!1,l=0;l < a.length;l++){for(var m=l + 1;m < a.length;m++){v=a[l];g=a[m];if(0 > v.width || 0 > g.width || g.left > v.left + v.width || g.left + g.width < v.left || g.top > v.top + v.height?0:g.top + g.height >= v.top){h=c.Um(v.left,g.left);n=c.Um(v.top,g.top);h={width:c.Um(c.ko(v.left + v.width,g.left + g.width) - h,0),height:c.Um(c.ko(v.top + v.height,g.top + g.height) - n,0),x:h,y:n};}else h=void 0;if(h && 1 < h.width && 1 < h.height)if((n=h.width <= h.height,v=f(a[l]),g=f(a[m]),n && b || !n && !b))(h=c.Um(h.width / 2,.25),v.x <= g.x?(q[l]-=h,q[m]+=h):(q[m]-=h,q[l]+=h));else if(n && !b || !n && b)(v=c.Um(h.height / 2,.25),k[l]-=v,k[m]+=v);}}for(l=0;l < a.length;l++){if(-.25 > q[l] && 0 <= a[l].left + q[l] || .25 < q[l] && a[l].left + a[l].width + q[l] <= d.width)(a[l].left+=q[l],r=!0);if(-.25 > k[l] && 0 <= a[l].top + k[l] || .25 < k[l] && a[l].top + a[l].height + k[l] <= d.height)(a[l].top+=k[l],r=!0);}return r;}}function f(a){return {x:a.left + a.width / 2,y:a.top + a.height / 2};}a=a.map(function(a){return {top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,b){a.forEach(function(a){0 > a.left && a.left + a.width < b.width?a.left+=c.ko(-a.left,b.width - (a.left + a.width)):a.left + a.width > b.width && 0 < a.left && (a.left-=c.ko(a.left + a.width - b.width,a.left));0 > a.top && a.top + a.height < b.height?a.top+=c.ko(-a.top,b.height - (a.top + a.height)):a.top + a.height > b.height && 0 < a.top && (a.top-=c.ko(a.top + a.height - b.height,a.top));});})(a,b);for(var k=0;50 > k && d(a,!0,b);k++){;}for(k=0;50 > k && d(a,!1,b);k++){;}return a;};},function(d,b,a){var k,q,v,r;function c(a,b,c,f,d){var k;k={};"right" == a.horizontalAlignment?k.right=100 * (c - b.left - b.width - d) / c + "%":k.left=100 * (b.left - d) / c + "%";"bottom" == a.verticalAlignment?k.bottom=100 * (f - b.top - b.height - d) / f + "%":k.top=100 * (b.top - d) / f + "%";return k;}function h(a,b){var c;if(a && b){40 === b.x && 19 === b.y?c=4 / 3 / (40 / 19):52 === b.x && 19 === b.y && (c=16 / 9 / (52 / 19));if(c)return a.width / a.fontSize / c;}}function l(a,b,c,f,d){var k,q;k=a.style;q=v.fS(a.text);for(a=a.lineBreaks;a--;){q="<br />" + q;}return m(q,k,b,c,f,d);}function m(a,b,c,d,l,m){var v;v=b.characterStyle;l=l[v];d=b.characterSize * d.height / ((0 <= v.indexOf("MONOSPACE")?h(l,b.cellResolution) || l.lineHeight:l.lineHeight) || 1);d=0 < m?r.Nv(d * m):r.ki(d);m={"font-size":d + "px","line-height":"normal","font-weight":"normal"};b.characterItalic && (m["font-style"]="italic");b.characterUnderline && (m["text-decoration"]="underline");b.characterColor && (m.color=b.characterColor);b.backgroundColor && 0 !== b.backgroundOpacity && (m["background-color"]=f(b.backgroundColor,b.backgroundOpacity));d=b.characterEdgeColor || "#000000";switch(b.characterEdgeAttributes){case q.i5:m["text-shadow"]=d + " 0px 0px 7px";break;case q.Gpa:m["text-shadow"]="-1px 0px " + d + ",0px 1px " + d + ",1px 0px " + d + ",0px -1px " + d;break;case q.eYa:m["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case q.cYa:m["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}m=k.bE(m);(c=c[b.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (m+=";" + c);b=b.characterOpacity;0 < b && 1 > b && (a='<span style="opacity:' + b + '">' + a + "</span>");return '<span style="' + m + '">' + a + "</span>";}function f(a,b){a=a.substring(1);a=parseInt(a,16);return "rgba(" + (a >> 16 & 255) + "," + (a >> 8 & 255) + "," + (a & 255) + "," + (void 0 !== b?b:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.LOa=b.Oub=b.Mub=b.Pub=b.Nub=b.MOa=b.NOa=b.Zia=void 0;k=a(45);q=a(260);v=a(23);r=a(10);b.Zia=function(a,b,c,f,d){var k;k="";a.textNodes.forEach(function(a){k+=l(a,c,b,f,d);});return k;};b.NOa=function(a,b,f,d,k){var q,l,h,u,g;q="";l=k.width;k=k.height;for(var m=b.length;m--;){h=b[m];u=a[m];u=u && u.region;g="position:absolute;background:" + d + ";width:" + r.ki(h.width + 2 * f) + "px;height:" + r.ki(h.height + 2 * f) + "px;";v.Rd(c(u,h,l,k,f),function(a,b){g+=a + ":" + b + ";";});q+='<div style="' + g + '"></div>';}return q;};b.MOa=c;b.Nub=h;b.Pub=l;b.Mub=m;b.Oub=f;b.LOa=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case "left":b["text-align"]="left";break;case "right":b["text-align"]="right";break;default:b["text-align"]="center";}return k.bE(b);};},function(d,b,a){var c,h,l,m,f,k,q,v;Object.defineProperty(b,"__esModule",{value:!0});b.sCa=void 0;c=a(11);h=a(12);l=a(49);m=a(85);f=a(10);k=a(55);q=a(15);v=a(13);b.sCa=function(a){var g,I,J,D,n,p;function b(){return a.state.value === v.Db.LOADING || a.state.value === v.Db.yd && a.Ob.value === v.ub.$f;}function d(){b()?p || (p=setInterval(r,100)):p && (clearInterval(p),p=void 0,k.Ic(r));}function r(){var c,d,k,r,u,B,A,y;c=l.ni();d=g.value;k=d?d.zi:0;u=a.state.value == v.Db.LOADING || b() && c - I > h.config.dmb;u && a.state.value == v.Db.yd?(a.xg.value === v.he.IDa?(A=k,B=!0):(r=c + (a.Bm && a.Bm.$Bb() || 0),J=J || c,D=D || J + h.config.MHb + 1,q.qa(r) && (r=f.Um(r,D),A=a.Bm?a.Bm.j6b():.99,A=f.ki(1E3 * m.lo((c - J) / (r - J),0,A)) / 1E3)),A < k && (k - A < h.config.rNb / 100?(A=k,n=void 0):n?c - n > h.config.qNb?(y=!0,n=void 0):A=k:(n=c,A=k))):n=D=J=void 0;c=u?{Q6:B,zi:A,sNb:y}:null;(!c || !g || !d || q.qa(c.zi) && !q.qa(d.zi) || q.qa(c.zi) && q.qa(d.zi) && .01 < f.xC(c.zi - d.zi) || c.Q6 !== d.Q6) && g.set(c);}g=a.sga;I=0;a.state.addListener(function(){d();r();},c.IX);a.Ob.addListener(function(a){if(a.oldValue !== v.ub.$f || a.newValue !== v.ub.$f)I=l.ni();d();});a.xg.addListener(function(){d();});a.hm.addListener(function(){d();});a.Ll.addListener(function(){d();});p || (p=setInterval(r,100));};},function(d,b,a){var h,l,m,f,k,q,v,r,u,g,A,y,I,J,D,n,p,O,Y,E,da,t,ea,Z,ta;function c(a){var b;b=this;this.j=a;this.Gb=this.j.Gb;this.log=r.Ch(this.j,"MediaPresenterASE");this.J4=this.x0=0;this.na=this.Gb.na;this.IYa=this.xYa=this.A3=this.Ypa=!1;this.oUb=r.ha.get(E.TC)(Y.Nb(p.eY));this.aJ=void 0;this.Tn=r.ha.get(t.Tba)(this.j);this.yv={};this.VVa={};this.gSa={};this.Vf=new Z.rAa(this.j);this.mUb=function(){var a,c,f;b.j.dV=v.ni();if(!b.fj() && b.ym){a=b.Gb.ARa();a || (b.uLb(),b.Vf.Hta(b.qb));b.j.paused.value || !b.Vf.dia(b.qb) || !b.pga() || a || b.Tn.Qma?b.Era():b.Ypa || b.Fra();b.tLb();if(!b.Gb.ARa() && !b.A3){a=b.Gb.JR(!0);c=b.j.Ob.value;f=b.fob();c !== f && !1;f === D.ub.At?(b.qb=b.j.yp.ca(Y.ga),b.Era()):f !== D.ub.$f && b.mWb(a);b.j4a();b.Vf.Kga(b.qb);b.j.Ob.set(f);f !== D.ub.$f || c !== D.ub.Uc && c !== D.ub.uj || b.cKb();}}};this.Wk=ea.uZa(this.mUb);this.qb=a.X;this.j.ll=!1;this.Gb.addEventListener(O.Pi.S1a,function(){b.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.$a();}catch(P){b.log.error("Exception while initializing",P);b.ed(u.L.ibb);}});}Object.defineProperty(b,"__esModule",{value:!0});b.CAa=void 0;h=a(48);l=a(11);m=a(12);f=a(57);k=a(58);q=a(45);v=a(49);r=a(7);a(92);u=a(2);g=a(330);A=a(18);y=a(85);I=a(26);J=a(55);D=a(13);n=a(15);p=a(169);O=a(281);Y=a(4);E=a(106);da=a(161);t=a(514);ea=a(1133);Z=a(1134);ta=a(95);c.prototype.BQa=function(){return this.Gb.JR(!1);};c.prototype.X1=function(){return this.Gb.X1();};c.prototype.xA=function(){return this.Gb.xA();};c.prototype.DE=function(){return this.Gb.DE();};c.prototype.IR=function(){return this.Gb.IR();};c.prototype.a2=function(){return this.Gb.a2();};c.prototype.$a=function(){var a;a=this;this.log.trace("Video element initializing");this.Gb.sourceBuffers.forEach(function(b){return a.Vf.ORb(b);});this.LCb(this.j.Hx);};c.prototype.LCb=function(a){var f,d;function b(){function a(){var a;f.j.Ob.value === D.ub.Uc && 0 === (null === (a=f.j.Wf) || void 0 === a?void 0:a.X1())?(f.SWa.mA(),a="ensureTimer"):(f.SWa.Di(),a="stopTimer");f.log.trace("No render timer update: " + a,{presentingState:D.ub[f.j.Ob.value]});}function b(a){var b,c;a=void 0 === a?!0:a;b=f.j.Ga;c=(null === b || void 0 === b?void 0:b.Wg()) && b.yK();f.j.Ob.value == D.ub.$f && f.j.state.value == D.Db.yd && f.j.hm.value == D.he.yd && f.j.Ll.value == D.he.yd && !f.j.ll && c?(a && f.z0.Di(),f.z0.mA(),b="ensureTimer"):(f.z0.Di(),b="stopTimer");f.log.trace("Timer update: " + b,{presentingState:D.ub[f.j.Ob.value],playbackState:D.Db[f.j.state.value],avBufferingState:D.he[f.j.hm.value],textBufferingState:D.he[f.j.Ll.value],autoplayWasBlocked:f.j.ll,hasLicense:c,restartTimer:a});}m.config.iNa && (A.fb(!f.z0),f.z0=r.ha.get(da.GH)(m.config.iNa,function(){var a;a=r.ha.get(g.sW).DNa(f.j);f.ed(a.code,a);}),f.j.Ob.addListener(function(){return b();}),f.j.hm.addListener(function(){return b();}),f.j.Ll.addListener(function(){return b();}),f.j.state.addListener(function(){return b();}),f.j.addEventListener(D.V.wUa,function(){return b();}),f.j.addEventListener(D.V.ll,function(){return b();}),f.j.addEventListener(D.V.Ufa,function(){return b();}),f.j.addEventListener(D.V.NF,function(){return b(!0);}),b());m.config.RWa && (f.SWa=r.ha.get(da.GH)(m.config.RWa,function(){var b;0 === (null === (b=f.j.Wf) || void 0 === b?void 0:b.xA()) && (b=r.ha.get(g.sW).DNa(f.j),f.ed(b.code,b));f.j.Ob.removeListener(a);}),f.j.Ob.addListener(a),a());}function c(){f.closed || (c=A.qva,f.Gb.addEventListener(O.Pi.tU,f.yv[O.Pi.tU]=function(){return f.gKb();}),f.Gb.addEventListener(O.Pi.oq,f.yv[O.Pi.oq]=function(){return f.Y4();}),f.na.addEventListener("ended",f.yv.ended=function(){return f.PJb();}),f.na.addEventListener("play",f.yv.play=function(){return f.WJb();}),f.na.addEventListener("pause",f.yv.pause=function(){return f.UJb();}),f.na.addEventListener("playing",f.yv.playing=function(){return f.$Jb();}),f.ym=!0,f.j.OTa && (f.Vf.Hta(f.qb),f.log.trace("Video element initialization complete"),f.j.vd("vi"),m.config.uNa?setTimeout(function(){f.spa=!0;f.Wk();},m.config.uNa):f.spa=!0,b(),J.Ic(function(){return f.Wk();})));}f=this;a?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.u}),null === (d=this.j.Ga) || void 0 === d?void 0:d.Yr(this.j.u));this.log.trace("Waiting for loadedmetadata");this.Gb.addEventListener(O.Pi.AUa,function(a){var b;a=a.fa;f.j.vd("ld",a);null === (b=f.j.Ga) || void 0 === b?void 0:b.Yr(a);f.j.fireEvent(D.V.wUa);});q.YIa(this.na,"loadedmetadata",function(){f.log.trace("Video element event: loadedmetadata");f.j.vd("md");});k.Xe.addListener(k.wm,this.gSa[k.wm]=function(){return f.close();},l.HC);this.j.addEventListener(D.V.Qf,function(){return f.close();},l.HC);this.j.addEventListener(D.V.j0a,function(){return f.Fra();});this.j.addEventListener(D.V.Jq,function(){return f.SJb();});this.j.paused.addListener(function(){return f.Wk();});this.j.muted.addListener(function(){return f.$ta();});this.j.volume.addListener(function(){return f.$ta();});this.j.playbackRate.addListener(function(){return f.z7();});this.j.hm.addListener(function(){return f.Wk();});this.j.Ll.addListener(function(){return f.Wk();});this.$ta();this.z7();this.Vf.C6(function(){return f.n4();});this.n4();J.Ic(function(){c();});};c.prototype.s_=function(a){var b;b=this;!1;this.Vf.ikb(a);this.Zmb(a).then(function(){b.n4();b.j.fireEvent(D.V.m4);})["catch"](function(a){b.ed(u.L.nbb,{Ab:I.Ve(a)});});};c.prototype.zfa=function(a,b,c){c=void 0 === c?{}:c;b=this.Qtb(a,b);this.Vf.gkb(a,b,c);this.n4();this.xYa || a.type !== h.Ac.Zj.VIDEO || (this.Tn.Qma || this.seek(this.j.X,D.zd.Jv),this.xYa=!0);};c.prototype.Qtb=function(a,b){var c,f;f=null === (c=this.j.pa.Yo) || void 0 === c?void 0:c.kK();f && a.type === h.Ac.Zj.VIDEO && ((a=new ta.u$(this.log,{I:ta.sr.VIDEO,url:"http://some-url"},b).xa(f))?b=a:!1);return b;};c.prototype.n4=function(){this.ym?this.Wk():m.config.hkb && this.Vf.Hta(this.qb);};c.prototype.kTb=function(){!1;this.j.Ob.set(D.ub.$f);this.A3=!0;this.Wk();};c.prototype.dob=function(){var a;a=this;this.A3 && (!1,this.A3=!1,J.Ic(function(){return a.gXa();}));};c.prototype.S1=function(){return this.Vf.S1();};c.prototype.gXa=function(){var a,b;a=this.j.AA() || 0;if(this.j.Wa.Kj){if(m.config.Slb)(a=a - (this.Gb.Ura + 1) - m.config.Tra,b=this.j.Ga.yn().Qb,a=Math.max(a,b));}else (a-=m.config.HQb,a=Math.max(a,this.Tn.pna));this.seek(a,D.zd.FH);};c.prototype.U4=function(a){var b;b=this;this.Vf.QRb(a);J.Ic(function(){return b.Wk();});};c.prototype.Ryb=function(){return {x0:this.x0,J4:this.J4};};c.prototype.Zmb=function(a){var b;b=this.Gb && this.Gb.iRa();this.j.yp && b && Infinity !== a.B0a && (a=a.B0a + a.Qn,a > this.j.yp.$Ya(Y.ga) && (this.j.yp=Y.Nb(a)));return Promise.resolve();};c.prototype.tLb=function(){var a;a=this;this.Tn.m5 && (!1,this.pga() && this.Vf.dia(this.qb) && (this.Gb.seek(this.qb),this.Tn.m5=!1,J.Ic(function(){return a.Wk();})));};c.prototype.mWb=function(a){var b;if(a < this.qb){b=this.qb - a;m.config.vLb && a && b > p.eY && (a={ElementTime:y.Nh(a),MediaTime:y.Nh(this.qb)},b > p.nDa?this.ed(u.L.zbb,{Ab:Object.assign({Trace:this.Gb.tx()},a)}):this.log.warn("VIDEO.currentTime became smaller",a));}else this.qb=y.lo(a,0,this.j.yp.ca(Y.ga));};c.prototype.pga=function(){return this.j.hm.value === D.he.yd && this.j.Ll.value === D.he.yd;};c.prototype.fob=function(){var a,b,c;a=this;b=this.j.Ob.value;c=b;this.Tn.Qma?c=D.ub.$f:this.na && this.na.ended?b === D.ub.Uc && (c=D.ub.At):this.pga() && this.Vf.dia(this.qb)?this.Gb.Rsb()?c=this.na && this.na.paused?D.ub.uj:D.ub.Uc:this.oUb.bd(function(){return a.nUb();}):c=this.j.yp?this.j.rSa(this.qb,this.Vf.w0())?D.ub.$f:D.ub.At:D.ub.$f;return c;};c.prototype.cKb=function(){var a;if(this.j.Ob.value === D.ub.$f){a=this.Vf.XUb() > this.Vf.w0();this.j.Ll.value !== D.he.yd?this.j.lk.value?(this.j.fireEvent(D.V.Ow,{cause:f.qCa}),this.log.warn("rebuffer due to timed text",this.j.lk.value.Eh)):this.j.fireEvent(D.V.SM):a?(this.x0++,this.j.fireEvent(D.V.Ow,{cause:f.eba})):(this.J4++,this.j.fireEvent(D.V.Ow,{cause:f.fba}));}};c.prototype.nUb=function(){this.fj() || (m.config.eJb && this.Vf.dJb(),this.Wk());};c.prototype.gKb=function(){this.Wk();};c.prototype.Y4=function(){this.Wk();this.j.fireEvent(D.V.oq);};c.prototype.PJb=function(){this.log.trace("Video element event: ended");this.Wk();};c.prototype.WJb=function(){this.log.trace("Video element event: play");this.Wk();};c.prototype.UJb=function(){this.log.trace("Video element event: pause");this.Wk();};c.prototype.$Jb=function(){this.log.trace("Video element event: playing");this.Wk();};c.prototype.$ta=function(){this.fj() || (this.na && this.na.volume !== this.j.volume.value && (this.na.volume=this.j.volume.value),this.na && this.na.muted !== this.j.muted.value && (this.na.muted=this.j.muted.value));};c.prototype.z7=function(){!this.fj() && this.na && (this.na.playbackRate=this.j.playbackRate.value);};c.prototype.Fra=function(){var a;a=this;this.fj() || !n.ic(this.na) || this.na.ended || !this.spa || !this.bN && void 0 !== this.bN || (this.log.trace("Calling play on element"),Promise.resolve(this.na.play()).then(function(){a.closed || (a.bN=!1,a.Ypa=!1,a.na.style.display=null,a.j.ll=!1,a.j.fireEvent(D.V.Ufa,{j:a.j}));})["catch"](function(b){"NotAllowedError" === b.name?(a.log.warn("Playback is blocked by the browser settings",b),a.j.ll=!0,a.closed || (a.Ypa=!0,a.na.style.display="none",a.j.fireEvent(D.V.ll,{player:{play:function(){return a.Fra();}}}))):a.closed || (a.bN=!1,a.IYa || (a.IYa=!0,a.log.error("Play promise rejected",b)));}));};c.prototype.SJb=function(){this.Tn.pna=this.j.AA() || 0;};c.prototype.Era=function(){this.fj() || !n.ic(this.na) || this.na.ended || !this.spa || this.bN && void 0 !== this.bN || (this.log.trace("Calling pause on element"),this.na.pause(),this.bN=!0);};c.prototype.j4a=function(a){this.j.qb.set(this.qb);a && this.j.qwb();};c.prototype.seek=function(a,b,c,f){var d,k;b=void 0 === b?D.zd.Tv:b;c=void 0 === c?this.j.va:c;f=void 0 === f?!1:f;k=null === (d=this.j.Ga) || void 0 === d?void 0:d.Wg();!this.fj() && k && (this.j.fireEvent(D.V.NF,{cause:b}),this.Tn.ET={time:a,cause:b,va:c,wwb:f},this.j.Ob.set(D.ub.$f),this.Wk());};c.prototype.uLb=function(){var a,b,c,f,d,k,q,l;if(this.Tn.ET){a=this.Tn.ET;b=a.time;c=a.cause;f=a.va;d=a.wwb;if(!this.Vf.$h() || c === D.zd.Jv){a=this.j.Du(f).u;k=this.Vf.$h()?void 0:this.Vf.Bxb();k=this.Tn.szb(b,c,f,d,k);f=k.M4;d=k.Wh;q=k.cMb;k=k.Sg;this.Vf.Kga(this.qb);l=this.qb;b=y.Nh(b);this.j.fq("SEEKING: Requested: (" + a + ":" + c + ":" + b + ") - Actual: (contentPts: " + d + "," + ("playerPts: " + q + ", newMediaTime: " + f + ")"));this.log.info("Seeking",{Requested:b,Actual:y.Nh(f),Cause:c,Skip:k});c === D.zd.Jv || k || (this.Vf.Q_a(),this.Vf.JRb());this.qb=f;this.Tn.pna=d;b=this.j.Fg.value;q=this.j.Df.value;this.j.Fg.set(null);this.j.Df.set(null);this.j4a(!0);this.Tn.ET=void 0;this.Tn.m5=!0;this.j.fireEvent(D.V.Fl,{tpa:l,M4:f,Wh:d,cause:c,skip:k,Fg:b,Df:q,u:a});k && this.Vf.skip(f);}}};c.prototype.ed=function(a,b,c){this.closed || this.j.ed(a,b,c);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Vf.close();this.Gb.removeEventListener(O.Pi.tU,this.VVa[O.Pi.tU]);this.Gb.removeEventListener(O.Pi.oq,this.VVa[O.Pi.oq]);this.na.removeEventListener("ended",this.yv.ended);this.na.removeEventListener("play",this.yv.play);this.na.removeEventListener("pause",this.yv.pause);this.na.removeEventListener("playing",this.yv.playing);k.Xe.removeListener(k.wm,this.gSa[k.wm]);this.closed=!0;try{m.config.nIb && (this.na.volume=0,this.na.muted=!0);this.Era();this.Gb.close();}catch(ca){}this.na=void 0;this.Vf.Q_a();}};c.prototype.fj=function(){return this.closed?!0:n.ic(this.na)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.CAa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tba=void 0;b.Tba="SeekManagerFactorySymbol";},function(d,b,a){var c,h,l,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.Kxa=void 0;c=a(12);h=a(58);l=a(23);m=a(2);f=a(13);b.Kxa=function(a,b,d){function k(b){var f,k;f=b.error || b;k=l.Ve(f);d.error("uncaught exception",f,k);(f=(f=f && f.stack) && c.config.T3a && c.config.VVb?0 <= f.indexOf(c.config.T3a):void 0) && (b && b.stopImmediatePropagation && b.stopImmediatePropagation(),a.ed(m.L.Xcb));}function q(){h.Xe.removeListener(h.y2,k);a.removeEventListener(f.V.Qf,q);a.removeEventListener(f.V.Is,q);}try{h.Xe.addListener(h.y2,k);a.addEventListener(f.V.Qf,q);c.config.rCb && a.addEventListener(f.V.Is,q);}catch(B){d.error("exception in exception handler ",B);}};},function(d,b,a){var c,h,l,m,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.bVa=void 0;c=a(12);h=a(11);l=a(49);d=a(2);m=a(10);f=a(15);k=a(7);a=a(29);k.ha.get(a.qg).register(d.L.Hya,function(a){var k,q,g,A,y;function d(){var a;a=m.Nv(l.ni() / g);if(a != y){for(var b=m.ko(a - y,30);b--;){A.push(0);}(b=m.Um(A.length - 31,0)) && A.splice(0,b);y=a;}A[A.length - 1]++;}k=c.config.dGb;q=-6 / (k - 2 - 2);g=h.$j;A=[];y=m.Nv(l.ni() / g);f.Rma(k) && (setInterval(d,1E3 / k),b.bVa={Lyb:function(){var c;for(var a=[],b=A.length - 1;b--;){c=A[b];a.unshift(0 >= c?9:1 >= c?8:c >= k - 1?0:m.ki((c - 2) * q + 7));}return a;}});a(h.ke);});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.TX=void 0;b.TX="PlaybackMilestoneStoreSymbol";},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.w_=void 0;c=a(15);b.w_=function(a){var b,d,f,k;b=a.ij;d=a.ce;a=a.kja;f=c.qa(d)?d:0;k=b[a.target] || ({});b[a.target] !== k && (b[a.target]=k);Object.entries(a.fields).forEach(function(a){var b,c,d,q;b=N(a);a=b.next().value;b=b.next().value;if("object" !== typeof b || null === b)k[a]=b;else {c=b.type;if("count" === c)(void 0 === k[a] && (k[a]=0),++k[a]);else if(void 0 !== b.value){if("array" === c){c=k[a];d=b.adjust;q=b.value;c || (c=k[a]=[]);d && 0 < d.length && d.forEach(function(a){q[a]-=f || 0;});c.push(q);}else k[a]="sum" === c?(k[a] || 0) + b.value:b.value;}else k[a]=b;}});};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Raa=void 0;b.Raa="PboManifestRequestTransformerSymbol";},function(d,b,a){var h,l,m,f,k,q;function c(a,b){this.Gb=a;this.j=b;this.ES=[];}Object.defineProperty(b,"__esModule",{value:!0});b.tN=void 0;d=a(0);h=a(2);l=a(1);m=a(15);f=a(26);k=a(7);q=a(13);c.prototype.v1=function(a){this.ES.forEach(function(b){return b(a);});};c.prototype.ed=function(a,b,c){this.j.ed(a,b,c);};c.prototype.C2=function(a){this.j.fireEvent(q.V.pIb,{L4b:a});};c.prototype.tjb=function(a){-1 === this.ES.indexOf(a) && this.ES.push(a);};c.prototype.VOb=function(a){a=this.ES.indexOf(a);0 <= a && this.ES.splice(a,1);};c.prototype.dSa=function(a){var b,c;b={};m.ic(a.code)?b.ka=h.C9(a.code):b.ka=h.K.ii;try{c=a.message.match(/\((\d*)\)/)[1];b.Oe=k.aga(c,4);}catch(B){}b.Ab=f.Ve(a);return b;};a=c;a=d.__decorate([l.O()],a);b.tN=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.sba=void 0;b.sba="PlaygraphManagerFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sp=void 0;d=b.Sp || (b.Sp={});d[d.gO=0]="No";d[d.Eca=1]="Yes";d[d.pza=2]="Later";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.tba=void 0;b.tba="PlaygraphPlaybackStrategyFactorySymbol";},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.vba=void 0;b.vba="PlaygraphVideoPlayerFactorySymbol";},function(d,b,a){var h;function c(a,b){var c;c=this;this.Ok=a;this.Cf=b;this.addEventListener=function(a,b,f){return c.Cf.addListener(a,c.jNa(a,b),f);};this.removeEventListener=function(a,b){return c.Cf.removeListener(a,c.jNa(a,b));};this.getReady=function(){return c.Cf.isReady();};this.getXid=function(){return c.Cb().uK();};this.getMovieId=function(){return c.Cb().ozb();};this.getPlaygraphId=function(){return c.Cf.Ozb();};this.getElement=function(){return c.Cf.hp();};this.isPlaying=function(){return c.Cb().SA();};this.isPaused=function(){return c.Cb().PDb();};this.isMuted=function(){return c.Cb().KDb();};this.isReady=function(){return c.Cb().isReady();};this.isBackground=function(){return c.Cb().mDb();};this.setBackground=function(a){return c.Cb().X0a(a);};this.startInactivityMonitor=function(){return c.Cb().RU();};this.setTransitionTime=function(a){return c.Cb().s1a(a);};this.getDiagnostics=function(){return c.Cb().dyb();};this.getTextTrackList=function(a){return c.Cb().WRa(a);};this.getTextTrack=function(){return c.Cb().VRa();};this.setTextTrack=function(a){return c.Cb().r1a(a);};this.getVolume=function(){return c.Cb().YAb();};this.isEnded=function(){return c.Cb().xDb();};this.getBusy=function(){return c.Cb().$h();};this.getError=function(){return c.Cb().getError();};this.getCurrentTime=function(){return c.Cb().j.qb.value;};this.getBufferedTime=function(){return c.Cb().Cxb();};this.getSegmentTime=function(){return c.Cb().U1();};this.getDuration=function(){return c.Cb().mQa();};this.getVideoSize=function(){return c.Cb().VAb();};this.getAudioTrackList=function(){return c.Cb().jxb();};this.getAudioTrack=function(){return c.Cb().ixb();};this.getTimedTextTrackList=function(a){return c.Cb().WRa(a);};this.getTimedTextTrack=function(){return c.Cb().VRa();};this.getAdditionalLogInfo=function(){return c.Cb().cxb();};this.getTrickPlayFrame=function(a){return c.Cb().IAb(a);};this.getSessionSummary=function(){return c.Cb().ERa();};this.getTimedTextSettings=function(){return c.Cb().t2();};this.setMuted=function(a){return c.Cb().ARb(a);};this.setVolume=function(a){return c.Cb().XRb(a);};this.getPlaybackRate=function(){return c.Cb().xn();};this.setPlaybackRate=function(a){return c.Cb().GRb(a);};this.setAudioTrack=function(a){return c.Cb().kRb(a);};this.setTimedTextTrack=function(a){return c.Cb().r1a(a);};this.setTimedTextSettings=function(a){return c.Cb().HU(a);};this.prepare=function(){return c.Cb().tB();};this.load=function(){return c.Cb().load();};this.close=function(a){return c.BJa(c.Cf.close(),a);};this.play=function(){return c.Cb().play();};this.pause=function(){return c.Cb().pause();};this.seek=function(a){return c.Cb().seek(a);};this.engage=function(a,b){return c.BJa(c.Cb().nR(a),b);};this.induceError=function(a){return c.Cb().HCb(a);};this.loadCustomTimedTextTrack=function(a,b,f,d){return c.Cb().yFb(a,b,f,d);};this.tryRecoverFromStall=function(){return c.Cb().tV();};this.addEpisode=function(a){var b,f;c.log.info("Next episode added",a);b=c.oVa(a.playbackParams);f=("startPts" in a)?a.startPts:("nextStartPts" in a)?a.nextStartPts:b.X;if(void 0 === f || 0 > f)f=0;return c.Cf.gq({u:a.movieId,X:f,Nj:("endPts" in a)?a.endPts:("currentEndPts" in a)?a.currentEndPts:b.Nj,gb:b,pa:a.manifest,Ok:c.Ok});};this.playNextEpisode=function(a){a=void 0 === a?{}:a;a=c.oVa(a);c.log.info("Playing the next episode",a);return c.Cf.wla(c.Cf.pQa(),c.Cf.V1().zh,a);};this.playSegment=function(a){return c.Cb().RLb(a);};this.queueSegment=function(a){return c.Cb().HNb(a);};this.updateNextSegmentWeights=function(a,b){return c.Cb().Ii(a,b);};this.getCropAspectRatio=function(){return c.Cb().nka();};this.getCropAspectRatioXandY=function(){return c.Cb().Sxb();};this.generateScreenshots=function(a){return c.Cb().Xwb(a);};this.getCurrentSegmentId=function(){return c.Cf.pQa();};this.getPlaygraphMap=function(){return c.Cf.Pzb();};this.setNextSegment=function(a){for(var b=[],f=0;f < arguments.length;++f){b[f - 0]=arguments[f];}b=b.map(function(a){return {va:a.segmentId,oT:a.nextSegmentId};});c.Cf.Xn.apply(c.Cf,[].concat(X(b)));};this.clearNextSegment=function(a){for(var b=[],f=0;f < arguments.length;++f){b[f - 0]=arguments[f];}return c.Cf.Hnb.apply(c.Cf,[].concat(X(b)));};this.updatePlaygraphMap=function(a){return c.Cf.k4a(a);};this.goToNextSegment=function(a,b){return c.Cf.wla(a,b);};this.getPlaying=function(){return c.isPlaying();};this.getPaused=function(){return c.isPaused();};this.getMuted=function(){return c.isMuted();};this.getEnded=function(){return c.isEnded();};this.getTimedTextVisibility=function(){return c.isTimedTextVisible();};this.isTimedTextVisible=function(){return ! !c.Cb().t2().visibility;};this.setTimedTextVisibility=function(a){return c.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return c.Cb().HU({size:a});};this.setTimedTextBounds=function(a){return c.Cb().HU({bounds:a});};this.setTimedTextMargins=function(a){return c.Cb().HU({margins:a});};this.setTimedTextVisible=function(a){return c.Cb().HU({visibility:a});};this.getCongestionInfo=function(a){a && a({success:!1,name:null,isCongested:null});};this.hja=new Map();this.log=h.Bh("VideoPlayer");Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.mFa=void 0;h=a(7);a(92);c.prototype.Cb=function(){return this.Cf.oi();};c.prototype.jNa=function(a,b){var c;this.hja.has(a) || this.hja.set(a,new Map());c=this.hja.get(a);c.has(b) || c.set(b,this.csb(a,b));return c.get(b);};c.prototype.csb=function(a,b){var c;c=this;return function(f){return b(Object.assign({},f,{type:a,target:c}));};};c.prototype.BJa=function(a,b){return b?a.then(b,b):a;};c.prototype.oVa=function(a){a=void 0 === a?{}:a;return {rj:a.trackingId,kQ:a.authParams,Wn:a.sessionParams,xd:a.uiLabel,I7:a.uxLabels,wia:a.disableTrackStickiness,w7:a.uiPlayStartTime,A1:a.forceAudioTrackId,B1:a.forceTimedTextTrackId,Kj:a.isBranching,b5a:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted,playbackRate:a.playbackState.playbackRate}:void 0,VJ:a.enableTrickPlay,Ola:a.heartbeatCooldown,x3:a.isPlaygraph,S3:a.loadImmediately || !1,AYa:a.pin,MT:a.preciseSeeking,X:a.startPts,sa:a.endPts,Nj:a.logicalEnd,V5:a.renderTimedText,WOa:a.extraManifestParams,Kfa:a.assetId,Vkb:a.audioLanguages,zUb:a.textLanguages,vp:a.packageId,ANa:a.desiredDownloadables};};b.mFa=c;},function(d,b,a){var h;function c(a,b,c,d){var f;f=this;this.Lc=a;this.Sl=b;this.Ws=c;this.Jb=d;this.D5=new Map();this.cSb();this.Jb.addListener(h.Vb.loaded,function(){return f.uB();});}Object.defineProperty(b,"__esModule",{value:!0});b.dO=void 0;h=a(13);c.prototype.hSa=function(a,b){var c;c=this;return this.Ws.transition(b).then(function(){c.Lc.Tg=a;});};c.prototype.close=function(a){return this.Ws.close(a);};c.prototype.isReady=function(){return this.Ws.Xzb();};c.prototype.hp=function(){return this.Ws.hp();};c.prototype.oi=function(){return this.Ws.oi();};c.prototype.OT=function(a){var b;b=a.id;this.D5.has(b) || this.D5.set(b,this.Ws.gq(a));return this.D5.get(b);};c.prototype.cSb=function(){var a;a=this;this.Ws.addListener(h.KC.vU,function(){return a.Jb.ec(h.KC.vU);});Object.values(h.Vb).forEach(function(b){a.Ws.addListener(b,function(c){return a.Jb.ec(b,c);});});};c.prototype.vT=function(){this.uB();};c.prototype.Bpa=function(a){this.Ws.rWb({id:a,u:this.Lc.wf(a).fa,Nj:this.Lc.FRa(a)});};c.prototype.uB=function(){var a,b,c,d,q;if(this.isReady()){c=this.Lc.Tg;d=this.Lc.EE(c);if(d && !this.D5.has(d)){this.Bpa(c);d=this.Lc.wf(d);q=null === (a=this.Sl.tK(d.fa)) || void 0 === a?void 0:a.gb;this.OT({id:this.Lc.EE(c),u:d.fa,X:d.tc,Nj:null !== (b=null === q || void 0 === q?void 0:q.Nj) && void 0 !== b?b:d.Ad,gb:q});}}};b.dO=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xxa=void 0;b.Xxa=function(a){var l,m,f,k;function b(){if(f)for(var a;a=l.pop();){a(k);}}function d(a){f=!0;k=a;b();}l=[];return function(c){l.push(c);m || (m=!0,a(d));b();};};},function(d){function b(a){return Object.keys(a).every(function(b){return "function" === typeof a[b];});}d.exports=function(a){var m,f,k;function c(a,b,c){throw new TypeError(("undefined" !== typeof c.key?"Types: expected " + c.key:"Types: expected argument " + c.index) + (" to be '" + a + "' but found '" + b + "'"));}function d(a,b,d){var k;k=f[a];"undefined" !== typeof k?k(b) || c(a,b,d):a !== typeof b && c(a,b,d);}function l(a,b){var c;c=a.filter(function(a){return "object" !== typeof a && -1 === k.indexOf(a);});c=c.concat(a.filter(function(a){return "object" === typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return -1 === k.indexOf(a);}));},[]));if(0 < c.length)throw Error(c.join(",") + " are invalid types");return function(){var c;c=Array.prototype.slice.call(arguments);if(c.length !== a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var f;f=c[b];if("string" === typeof a)d(a,f,{index:b});else if("object" === typeof a)Object.keys(a).forEach(function(b){d(a[b],f[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,c);};}m=("number boolean string object function symbol").split(" ");f={array:function(a){return Array.isArray(a);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined" !== typeof f[b] || -1 < m.indexOf(b))throw new TypeError("Types: attempting to override a built in type with " + b);f[b]=a[b];});}k=Object.keys(f).concat(m);return l(["array","function"],l);};},function(d,b,a){var c,h,l,m,f,k,q,v,r,u,g,A,y,I,J;Object.defineProperty(b,"__esModule",{value:!0});b.x3a=void 0;c=a(67);h=a(11);l=a(12);m=a(45);f=a(49);k=a(7);q=a(2);v=a(23);r=a(65);u=a(10);g=a(114);A=a(29);y=a(33);I=a(31);J=a(19);b.x3a=(function(){var d,B,n,p;function a(a){var c,f,q;c="info";f="";q=k.ha.get(r.ez).bRa();a.ja || (c="error",f+="&errorcode=" + (a.errorCode || ""),f+="&errorsubcode=" + (a.ka || ""));f="type=startup&sev=" + c + f + "&" + m.AL(v.Hb({},q,{prefix:"m_"}));!1;b("startup",f,d);}function b(a,b,d){d && B && l.config.z3a[a] && (a=n + "&jsoffms=" + f.ni() + "&do=" + u.Se.onLine + "&" + b + "&" + m.AL(v.Hb({},p.Md,{prefix:"im_"})),!1,c.gf.download({url:d,lqa:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},lE:"track"},h.mh));}B=!1;n="";k.Bh("TrackingLog");p=k.ha.get(A.qg);p.register(q.L.Mya,function(b){var c,f,q;if(B=l.config.y3a && ! !l.config.zta){d=k.ha.get(g.$B).host + l.config.zta;c=k.ha.get(I.vj);f=k.ha.get(I.Lt);q=k.ha.get(J.Fd).id;n="cat=cadplayback&dev=" + encodeURIComponent(c.oia) + "&ep=" + encodeURIComponent(f.pxa) + "&ver=" + encodeURIComponent("6.0029.151.011") + "&jssid=" + q + "&browserua=" + u.Wm;l.config.HA && (n+="&groupname=" + encodeURIComponent(l.config.HA));l.config.DG && (n+="&uigroupname=" + encodeURIComponent(l.config.DG));c=n;f=k.ha.get(y.yH);f=v.Hb({},f,{prefix:"pi_"});f="&" + m.AL(f);n=c + f;p.IS(a);}b(h.ke);});return b;})();},function(d,b,a){var h,l,m,f,k;function c(a){var b;h.Bh("MediaSourceASE").trace("Inside MediaSourceASE");b=a.OR();this.readyState=k.mc.CLOSED;this.sourceBuffers=b.sourceBuffers;this.addSourceBuffer=function(a){return b.addSourceBuffer(a);};this.n_=function(a){return b.n_(a);};this.removeSourceBuffer=function(a){return b.removeSourceBuffer(a);};this.pq=function(a){return b.pq(a);};this.sourceId=f++;this.duration=void 0;b.hRb(this.sourceId);this.readyState=k.mc.OPEN;this.Yb=l.ha.get(m.tg).gT(k.Yb,{});}Object.defineProperty(b,"__esModule",{value:!0});b.FAa=void 0;h=a(7);l=a(7);m=a(27);f=0;Object.defineProperty(c.prototype,"duration",{get:function(){return this.Ti;},set:function(a){var b;this.Ti=a || Infinity;b=Math.floor(1E3 * a) || Infinity;this.sourceBuffers.forEach(function(a){a.Ti=b;});}});k={mc:{CLOSED:0,OPEN:1,At:2,name:["CLOSED","OPEN","ENDED"]},Yb:{NLa:!0,AWa:!0}};b.FAa=Object.assign(c,k);},function(d,b,a){var q,v,r,u,g,A,y,I;function c(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b && b.length && (a[b]=c || !0);return a;},{});}function h(a){return a && "object" === typeof a?JSON.stringify(a):"string" === typeof a?'"' + a + '"':"" + a;}function l(a,b,f){var d;if("string" === typeof a)return l.call(this,c(a),b,f);d=0;Object.keys(a).forEach(function(c){var k,l,m;k=g[c];l=a[c];if(k){if(m=A[c] || I[typeof q[k]])try{l=m(l);}catch(sa){f && f.error("Failed to convert value '" + l + "' for config '" + c + "' : " + sa.toString());return;}m=u[k];this[k]=l;u[k] !== m && (f && f.debug("Config changed for '" + c + "' from " + h(m) + " (" + typeof m + ") to " + h(l) + " (" + typeof l + ")"),++d);}else b?(k=(k=y[c])?k.filter(function(a){return a[0] !== this;},this):[],k.push([this,l]),y[c]=k):f && f.error("Attempt to change undeclared config option '" + c + "'");},this);d && u.emit("changed");return d;}function m(){return Object.keys(g).reduce(function(a,b){var c,f;c=g[b];f=a[c];f?(f.push(b),a[c]=f.sort(function(a,b){return b.length - a.length;})):a[c]=[b];return a;},{});}function f(a,b){return a.hasOwnProperty(b)?h(a[b]):void 0;}function k(a,b){return "undefined" === typeof a?b:a;}b=a(83);a=a(1220).EventEmitter;q={};v=Object.create(q);r=Object.create(v);u=Object.create(r);g={};A={};y={};u.declare=function(a){Object.keys(a).forEach(function(b){var c,f,d,k;c=a[b];f=c[0];d=c[1];k=c[2];if(q.hasOwnProperty(b))throw Error("The local configuraion key '" + b + "' is already in use");"string" === typeof f && (f=[f]);f.forEach(function(a){var c;if(g.hasOwnProperty(a))throw Error("The configuration value '" + a + "' has been declared more than once");q.hasOwnProperty(b) || ("function" === typeof d && (d=d()),q[b]=d);g[a]=b;"function" === typeof k && (A[a]=k);if(c=y[a])(c.forEach(function(b){var c,f;c=b[0];f={};f[a]=b[1];l.call(c,f,!1);}),delete y[a]);});});return u;};I={object:function(a){return "object" == typeof a?a:JSON.parse("" + a);},"boolean":function(a){return "boolean" == typeof a?a:!("0" === "" + a || "false" === ("" + a).toLowerCase());},number:function(a){if("number" == typeof a)return a;a=parseFloat("" + a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};u.set=l.bind(v);u.GL=l.bind(r);u.dump=function(a,b){var d,l,B,A;function c(){A && a && a.log("===========================================");}d=Object.keys(y).sort();l={};B=m();b=k(b,!0);Object.keys(g).sort().forEach(function(d){var m,y,I;d=g[d];!l[d] && (l[d]=!0,y=f(v,d),I=f(r,d),b || "undefined" !== typeof y || "undefined" !== typeof I) && (m=B[d].join(","),m+=" = " + h(u[d]) + " (" + typeof u[d] + ") [",m+=k(I,"<unset>") + ",",m+=k(y,"<unset>") + ",",m+=f(q,d) + "]",A || (A=!0,a && a.log("Current config values"),c()),a && a.log(m));});(b || d.length) && a && a.log("<undeclared> :",d);c();};u.nq=function(a){var b,c;b={};c={};Object.keys(g).forEach(function(a){a=g[a];c[a] || (c[a]=!0,b[a]=u[a]);});a && l.call(b,a);return b;};u.yYa=function(){var a;a=m();return Object.getOwnPropertyNames(v).reduce(function(b,c){b[a[c][0]]=v[c];return b;},{});};u.reset=function(){Object.keys(v).forEach(function(a){delete v[a];});};u.Wc={};b(a,u);d.exports=Object.freeze(u);},function(d,b,a){var h;function c(a){for(var b="",c=0;c < a.length;c++){b+=a[c].fa + "|";}return b;}h=a(285);d.exports={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed" + (b?" : " + b:""));},I6b:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},Qxb:function(a){for(var b=[],c=0;c < a.length;c++){if(a[c].context === h.aO.k7a){b=a[c].list;break;}}return b;},xxb:function(a){for(var b=[],c=0;c < a.length;c++){if(a[c].context === h.aO.g6a){b=a[c].list;break;}}return b;},Ksb:function(a,b){for(var f=0,d,q,l,m=0,h=a.length - 1;m < h;m++){d=c(a[m].list || []);l=!1;for(var g=0,A=b.length;g < A;g++){if((q=c(b[g].list || []),q == d)){l=!0;break;}}if(!1 === l){f=m;break;}}return f;},vJb:function(a,b,c){for(var f=[],d,l=0;l < Math.min(b,a.length);l++){d=a[l].list || [];f=f.concat(d.slice(0,c));}return f;},uJb:function(a,b){for(var c=[],d,q=0;q < a.length && (d=a[q].list || [],d=d.slice(0,Math.min(d.length,b)),b-=d.length,c=c.concat(d),0 !== b);q++){;}return c;},tJb:function(a,b,c){var f;b < a.length && 0 <= b && (a=a[b].list || [],c < a.length && (f=a[c]));return f;},mPa:function(a){for(var b={},c=a.length,d,q=0;q < c;q++){d=a[q].list || [];for(var l=0;l < d.length;l++){if(d[l].property === h.fH.iO || d[l].property === h.fH.zwa){b.nj=q;b.ml=l;break;}}}void 0 === b.nj && void 0 === b.ml && (b.nj=0,b.ml=0);return b;}};},function(d,b,a){var m;function c(a,b,c,d,l,m,h){this.AV=d;this.u5a=a;this.PWa=b;this.Qoa=c;this.nEb=m;this.DB=h;this.split=l;}function h(){this.J={};this.J["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.J["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.J["3"]=new c("7","8","7","10","1.5",0,0);this.J["7"]=new c("15","16","15","9","4.5",0,0);this.J["15"]=new c("31","32","31","2","5.5",0,0);this.J["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.J["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.J["123"]=new c("123","124","123","0","0",1,.207298);this.J["124"]=new c("123","124","123","0","0",1,.49076);this.J["64"]=new c("125","126","125","4","40.5",0,0);this.J["125"]=new c("125","126","125","0","0",1,-.00157835);this.J["126"]=new c("125","126","125","0","0",1,.934205);this.J["32"]=new c("65","66","65","135","5.5",0,0);this.J["65"]=new c("127","128","128","4","1272.5",0,0);this.J["127"]=new c("127","128","128","0","0",1,-.510333);this.J["128"]=new c("127","128","128","0","0",1,.18363);this.J["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.J["129"]=new c("129","130","129","0","0",1,-.0464542);this.J["130"]=new c("129","130","129","0","0",1,.458833);this.J["16"]=new c("33","34","34","10","2.00001",0,0);this.J["33"]=new c("67","68","67","0","29.5",0,0);this.J["67"]=new c("131","132","131","2","39.5",0,0);this.J["131"]=new c("131","132","131","0","0",1,-.37577);this.J["132"]=new c("131","132","131","0","0",1,.512087);this.J["68"]=new c("133","134","134","140","1.5",0,0);this.J["133"]=new c("133","134","134","0","0",1,.321272);this.J["134"]=new c("133","134","134","0","0",1,-.675396);this.J["34"]=new c("69","70","70","2","24.5",0,0);this.J["69"]=new c("135","136","136","9","28.5",0,0);this.J["135"]=new c("135","136","136","0","0",1,-.0573845);this.J["136"]=new c("135","136","136","0","0",1,-.507455);this.J["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.J["137"]=new c("137","138","137","0","0",1,-.503909);this.J["138"]=new c("137","138","137","0","0",1,.450886);this.J["8"]=new c("17","18","17","4","44189.5",0,0);this.J["17"]=new c("35","36","35","2","21.5",0,0);this.J["35"]=new c("71","72","72","0","19.5",0,0);this.J["71"]=new c("139","140","140","9","2.5",0,0);this.J["139"]=new c("139","140","140","0","0",1,.00403497);this.J["140"]=new c("139","140","140","0","0",1,-.312656);this.J["72"]=new c("141","142","141","135","96",0,0);this.J["141"]=new c("141","142","141","0","0",1,-.465786);this.J["142"]=new c("141","142","141","0","0",1,.159633);this.J["36"]=new c("73","74","73","130","89.5",0,0);this.J["73"]=new c("143","144","144","10","4.5",0,0);this.J["143"]=new c("143","144","144","0","0",1,-.76265);this.J["144"]=new c("143","144","144","0","0",1,-.580804);this.J["74"]=new c("145","146","146","10","16.5",0,0);this.J["145"]=new c("145","146","146","0","0",1,.296357);this.J["146"]=new c("145","146","146","0","0",1,-.691659);this.J["18"]=new c("37","38","38","9","1.5",0,0);this.J["37"]=new c("37","38","38","0","0",1,.993951);this.J["38"]=new c("75","76","75","0","19",0,0);this.J["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.J["147"]=new c("147","148","147","0","0",1,-.346535);this.J["148"]=new c("147","148","147","0","0",1,-.995745);this.J["76"]=new c("147","148","147","0","0",1,-.99978);this.J["4"]=new c("9","10","9","5","4.5",0,0);this.J["9"]=new c("19","20","19","2","4.5",0,0);this.J["19"]=new c("39","40","39","140","7.5",0,0);this.J["39"]=new c("77","78","78","134","6.5",0,0);this.J["77"]=new c("149","150","150","7","11.5",0,0);this.J["149"]=new c("149","150","150","0","0",1,.729843);this.J["150"]=new c("149","150","150","0","0",1,.383857);this.J["78"]=new c("151","152","151","133","4.5",0,0);this.J["151"]=new c("151","152","151","0","0",1,.39017);this.J["152"]=new c("151","152","151","0","0",1,.0434342);this.J["40"]=new c("79","80","79","133","3.5",0,0);this.J["79"]=new c("153","154","154","8","4.5",0,0);this.J["153"]=new c("153","154","154","0","0",1,-.99536);this.J["154"]=new c("153","154","154","0","0",1,-.00943396);this.J["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.J["155"]=new c("155","156","155","0","0",1,.266272);this.J["156"]=new c("155","156","155","0","0",1,.959904);this.J["20"]=new c("41","42","42","10","65.5",0,0);this.J["41"]=new c("81","82","82","7","10.5",0,0);this.J["81"]=new c("157","158","158","2","37.5",0,0);this.J["157"]=new c("157","158","158","0","0",1,-.701873);this.J["158"]=new c("157","158","158","0","0",1,.224649);this.J["82"]=new c("159","160","159","133","9.5",0,0);this.J["159"]=new c("159","160","159","0","0",1,.0955181);this.J["160"]=new c("159","160","159","0","0",1,-.58962);this.J["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.J["83"]=new c("161","162","161","135","31",0,0);this.J["161"]=new c("161","162","161","0","0",1,-.229692);this.J["162"]=new c("161","162","161","0","0",1,.88595);this.J["84"]=new c("163","164","164","1","13.5",0,0);this.J["163"]=new c("163","164","164","0","0",1,-.992157);this.J["164"]=new c("163","164","164","0","0",1,.922159);this.J["10"]=new c("21","22","22","4","486",0,0);this.J["21"]=new c("43","44","44","133","4.5",0,0);this.J["43"]=new c("85","86","86","10","4.5",0,0);this.J["85"]=new c("165","166","166","4","158.5",0,0);this.J["165"]=new c("165","166","166","0","0",1,-.127778);this.J["166"]=new c("165","166","166","0","0",1,.955189);this.J["86"]=new c("165","166","166","0","0",1,-.994012);this.J["44"]=new c("87","88","88","1","3.5",0,0);this.J["87"]=new c("167","168","168","135","7",0,0);this.J["167"]=new c("167","168","168","0","0",1,-.997015);this.J["168"]=new c("167","168","168","0","0",1,.400821);this.J["88"]=new c("169","170","169","130","36",0,0);this.J["169"]=new c("169","170","169","0","0",1,-.898638);this.J["170"]=new c("169","170","169","0","0",1,.56129);this.J["22"]=new c("45","46","45","9","2.5",0,0);this.J["45"]=new c("89","90","90","9","1.5",0,0);this.J["89"]=new c("171","172","171","10","10.5",0,0);this.J["171"]=new c("171","172","171","0","0",1,.573986);this.J["172"]=new c("171","172","171","0","0",1,-.627266);this.J["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.J["173"]=new c("173","174","173","0","0",1,.925273);this.J["174"]=new c("173","174","173","0","0",1,-.994805);this.J["46"]=new c("91","92","91","136","5.5",0,0);this.J["91"]=new c("175","176","175","10","10.5",0,0);this.J["175"]=new c("175","176","175","0","0",1,.548352);this.J["176"]=new c("175","176","175","0","0",1,-.879195);this.J["92"]=new c("177","178","178","8","14.5",0,0);this.J["177"]=new c("177","178","178","0","0",1,.457305);this.J["178"]=new c("177","178","178","0","0",1,-.998992);this.J["2"]=new c("5","6","5","10","2.5",0,0);this.J["5"]=new c("11","12","11","9","4.5",0,0);this.J["11"]=new c("23","24","24","10","4.00001",0,0);this.J["23"]=new c("47","48","48","133","5.5",0,0);this.J["47"]=new c("93","94","93","3","13.5",0,0);this.J["93"]=new c("179","180","179","138","15.5",0,0);this.J["179"]=new c("179","180","179","0","0",1,.658398);this.J["180"]=new c("179","180","179","0","0",1,-.927007);this.J["94"]=new c("181","182","182","3","15.5",0,0);this.J["181"]=new c("181","182","182","0","0",1,-.111351);this.J["182"]=new c("181","182","182","0","0",1,-.99827);this.J["48"]=new c("95","96","95","7","167",0,0);this.J["95"]=new c("183","184","183","132","36.5",0,0);this.J["183"]=new c("183","184","183","0","0",1,.895161);this.J["184"]=new c("183","184","183","0","0",1,-.765217);this.J["96"]=new c("185","186","186","137","6.00001",0,0);this.J["185"]=new c("185","186","186","0","0",1,-.851095);this.J["186"]=new c("185","186","186","0","0",1,.674286);this.J["24"]=new c("49","50","49","137","5.5",0,0);this.J["49"]=new c("97","98","97","5","23.5",0,0);this.J["97"]=new c("187","188","187","3","28.5",0,0);this.J["187"]=new c("187","188","187","0","0",1,.951654);this.J["188"]=new c("187","188","187","0","0",1,-.993808);this.J["98"]=new c("187","188","187","0","0",1,-.99705);this.J["50"]=new c("187","188","187","0","0",1,-.997525);this.J["12"]=new c("25","26","25","8","8.5",0,0);this.J["25"]=new c("51","52","52","10","4.00001",0,0);this.J["51"]=new c("99","100","100","133","5.5",0,0);this.J["99"]=new c("189","190","190","7","40.5",0,0);this.J["189"]=new c("189","190","190","0","0",1,.151839);this.J["190"]=new c("189","190","190","0","0",1,-.855517);this.J["100"]=new c("191","192","192","133","14.5",0,0);this.J["191"]=new c("191","192","192","0","0",1,.86223);this.J["192"]=new c("191","192","192","0","0",1,.544394);this.J["52"]=new c("101","102","101","135","47.5",0,0);this.J["101"]=new c("193","194","194","4","24.5",0,0);this.J["193"]=new c("193","194","194","0","0",1,.946185);this.J["194"]=new c("193","194","194","0","0",1,.811859);this.J["102"]=new c("193","194","194","0","0",1,-.991561);this.J["26"]=new c("53","54","54","132","6.5",0,0);this.J["53"]=new c("103","104","103","131","85",0,0);this.J["103"]=new c("195","196","196","134","16.5",0,0);this.J["195"]=new c("195","196","196","0","0",1,.0473538);this.J["196"]=new c("195","196","196","0","0",1,-.999401);this.J["104"]=new c("197","198","198","8","15.5",0,0);this.J["197"]=new c("197","198","198","0","0",1,.816129);this.J["198"]=new c("197","198","198","0","0",1,-.99322);this.J["54"]=new c("105","106","105","133","3.5",0,0);this.J["105"]=new c("105","106","105","0","0",1,-.998783);this.J["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.J["199"]=new c("199","200","199","0","0",1,.528588);this.J["200"]=new c("199","200","199","0","0",1,-.998599);this.J["6"]=new c("13","14","14","10","7.5",0,0);this.J["13"]=new c("27","28","28","133","7.5",0,0);this.J["27"]=new c("55","56","56","10","4.5",0,0);this.J["55"]=new c("107","108","107","3","3.5",0,0);this.J["107"]=new c("201","202","201","4","17.5",0,0);this.J["201"]=new c("201","202","201","0","0",1,-.379512);this.J["202"]=new c("201","202","201","0","0",1,.15165);this.J["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.J["203"]=new c("203","204","203","0","0",1,-.884606);this.J["204"]=new c("203","204","203","0","0",1,.265406);this.J["56"]=new c("109","110","109","136","6.5",0,0);this.J["109"]=new c("205","206","205","4","157.5",0,0);this.J["205"]=new c("205","206","205","0","0",1,-.0142737);this.J["206"]=new c("205","206","205","0","0",1,.691279);this.J["110"]=new c("205","206","205","0","0",1,-.998086);this.J["28"]=new c("57","58","58","138","11.5",0,0);this.J["57"]=new c("111","112","112","2","6.5",0,0);this.J["111"]=new c("207","208","208","7","67.5",0,0);this.J["207"]=new c("207","208","208","0","0",1,.763925);this.J["208"]=new c("207","208","208","0","0",1,-.309645);this.J["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.J["209"]=new c("209","210","209","0","0",1,-.306635);this.J["210"]=new c("209","210","209","0","0",1,.556696);this.J["58"]=new c("113","114","113","138","50.5",0,0);this.J["113"]=new c("211","212","212","8","25.5",0,0);this.J["211"]=new c("211","212","212","0","0",1,.508234);this.J["212"]=new c("211","212","212","0","0",1,.793551);this.J["114"]=new c("211","212","212","0","0",1,-.998438);this.J["14"]=new c("29","30","29","134","27.5",0,0);this.J["29"]=new c("59","60","60","7","17.5",0,0);this.J["59"]=new c("115","116","115","135","5.5",0,0);this.J["115"]=new c("213","214","214","137","5.5",0,0);this.J["213"]=new c("213","214","214","0","0",1,.401747);this.J["214"]=new c("213","214","214","0","0",1,.0367503);this.J["116"]=new c("215","216","216","8","5.5",0,0);this.J["215"]=new c("215","216","216","0","0",1,-.0241984);this.J["216"]=new c("215","216","216","0","0",1,-.999046);this.J["60"]=new c("117","118","117","0","12.5",0,0);this.J["117"]=new c("217","218","218","132","5.5",0,0);this.J["217"]=new c("217","218","218","0","0",1,-.997294);this.J["218"]=new c("217","218","218","0","0",1,.210398);this.J["118"]=new c("219","220","219","137","1.5",0,0);this.J["219"]=new c("219","220","219","0","0",1,-.55763);this.J["220"]=new c("219","220","219","0","0",1,.074493);this.J["30"]=new c("61","62","62","133","42.5",0,0);this.J["61"]=new c("119","120","119","135","5.5",0,0);this.J["119"]=new c("221","222","222","4","473.5",0,0);this.J["221"]=new c("221","222","222","0","0",1,-.920213);this.J["222"]=new c("221","222","222","0","0",1,-.17615);this.J["120"]=new c("223","224","224","5","144",0,0);this.J["223"]=new c("223","224","224","0","0",1,-.954295);this.J["224"]=new c("223","224","224","0","0",1,-.382538);this.J["62"]=new c("121","122","121","133","50",0,0);this.J["121"]=new c("225","226","226","10","18.5",0,0);this.J["225"]=new c("225","226","226","0","0",1,-.0731343);this.J["226"]=new c("225","226","226","0","0",1,.755454);this.J["122"]=new c("227","228","228","0","30",0,0);this.J["227"]=new c("227","228","228","0","0",1,.25);this.J["228"]=new c("227","228","228","0","0",1,-.997101);}function l(a,b,c,d,l,m){this.k6=l;this.Z_=m;}b=a(531);m=a(284);a={};a.Tkb=new (function(){this.Web=m();this.o=0;this.update=function(){this.o=m() - this.Web;};this.getValue=function(){return this.o;};this.type="num";})();a.eFb=new (function(){this.getValue=function(a,b,c){return this.o="becauseYouAdded" === c.Oa[a].context || null;};this.type="cat";})();a.fFb=new (function(){this.getValue=function(a,b,c){return this.o="becauseYouLiked" === c.Oa[a].context || null;};this.type="cat";})();a.hFb=new (function(){this.getValue=function(a,b,c){return this.o="billboard" === c.Oa[a].context || null;};this.type="cat";})();a.iFb=new (function(){this.getValue=function(a,b,c){return this.o="continueWatching" === c.Oa[a].context || null;};this.type="cat";})();a.gFb=new (function(){this.getValue=function(a,b,c){return this.o="bigRow" === c.Oa[a].context || null;};this.type="cat";})();a.jFb=new (function(){this.getValue=function(a,b,c){return this.o="genre" === c.Oa[a].context || null;};this.type="cat";})();a.kFb=new (function(){this.getValue=function(a,b,c){return this.o="netflixOriginals" === c.Oa[a].context || null;};this.type="cat";})();a.lFb=new (function(){this.getValue=function(a,b,c){return this.o="newRelease" === c.Oa[a].context || null;};this.type="cat";})();a.mFb=new (function(){this.getValue=function(a,b,c){return this.o="popularTitles" === c.Oa[a].context || null;};this.type="cat";})();a.nFb=new (function(){this.getValue=function(a,b,c){return this.o="queue" === c.Oa[a].context || null;};this.type="cat";})();a.oFb=new (function(){this.getValue=function(a,b,c){return this.o="recentlyAdded" === c.Oa[a].context || null;};this.type="cat";})();a.pFb=new (function(){this.getValue=function(a,b,c){return this.o="similars" === c.Oa[a].context || null;};this.type="cat";})();a.rFb=new (function(){this.getValue=function(a,b,c){return this.o="trendingNow" === c.Oa[a].context || null;};this.type="cat";})();a.sFb=new (function(){this.getValue=function(a,b,c){return this.o="ultraHD" === c.Oa[a].context || null;};this.type="cat";})();a.tFb=new (function(){this.getValue=function(a,b,c){return this.o="watchAgain" === c.Oa[a].context || null;};this.type="cat";})();a.qFb=new (function(){this.getValue=function(a,b,c){return this.o="topTen" === c.Oa[a].context || null;};this.type="cat";})();a.ylb=new (function(){this.update=function(a){for(var b in a.Oa){if("becauseYouAdded" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.zlb=new (function(){this.update=function(a){for(var b in a.Oa){if("becauseYouLiked" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Dlb=new (function(){this.update=function(a){for(var b in a.Oa){if("billboard" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Aob=new (function(){this.update=function(a){for(var b in a.Oa){if("continueWatching" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Clb=new (function(){this.update=function(a){for(var b in a.Oa){if("bigRow" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Ywb=new (function(){this.update=function(a){for(var b in a.Oa){if("genre" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.uIb=new (function(){this.update=function(a){for(var b in a.Oa){if("netflixOriginals" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.wIb=new (function(){this.update=function(a){for(var b in a.Oa){if("newRelease" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.lMb=new (function(){this.update=function(a){for(var b in a.Oa){if("popularTitles" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Dl=new (function(){this.update=function(a){for(var b in a.Oa){if("queue" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.eOb=new (function(){this.update=function(a){for(var b in a.Oa){if("recentlyAdded" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.LSb=new (function(){this.update=function(a){for(var b in a.Oa){if("similars" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.yVb=new (function(){this.update=function(a){for(var b in a.Oa){if("trendingNow" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.SVb=new (function(){this.update=function(a){for(var b in a.Oa){if("ultraHD" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.MXb=new (function(){this.update=function(a){for(var b in a.Oa){if("watchAgain" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.hVb=new (function(){this.update=function(a){for(var b in a.Oa){if("topTen" === a.Oa[b].context){this.o=Math.max(a.Oa[b].list.length,this.o);break;}}};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.Lob=new (function(){this.getValue=function(a,b,c){return this.o="AR" === c.Na || null;};this.type="cat";})();a.Mob=new (function(){this.getValue=function(a,b,c){return this.o="AT" === c.Na || null;};this.type="cat";})();a.Nob=new (function(){this.getValue=function(a,b,c){return this.o="AU" === c.Na || null;};this.type="cat";})();a.Oob=new (function(){this.getValue=function(a,b,c){return this.o="AZ" === c.Na || null;};this.type="cat";})();a.Pob=new (function(){this.getValue=function(a,b,c){return this.o="BB" === c.Na || null;};this.type="cat";})();a.Qob=new (function(){this.getValue=function(a,b,c){return this.o="BE" === c.Na || null;};this.type="cat";})();a.Rob=new (function(){this.getValue=function(a,b,c){return this.o="BO" === c.Na || null;};this.type="cat";})();a.Sob=new (function(){this.getValue=function(a,b,c){return this.o="BR" === c.Na || null;};this.type="cat";})();a.Tob=new (function(){this.getValue=function(a,b,c){return this.o="BS" === c.Na || null;};this.type="cat";})();a.Uob=new (function(){this.getValue=function(a,b,c){return this.o="CA" === c.Na || null;};this.type="cat";})();a.Vob=new (function(){this.getValue=function(a,b,c){return this.o="CH" === c.Na || null;};this.type="cat";})();a.Wob=new (function(){this.getValue=function(a,b,c){return this.o="CL" === c.Na || null;};this.type="cat";})();a.Xob=new (function(){this.getValue=function(a,b,c){return this.o="CO" === c.Na || null;};this.type="cat";})();a.Yob=new (function(){this.getValue=function(a,b,c){return this.o="CR" === c.Na || null;};this.type="cat";})();a.Zob=new (function(){this.getValue=function(a,b,c){return this.o="CW" === c.Na || null;};this.type="cat";})();a.$ob=new (function(){this.getValue=function(a,b,c){return this.o="DE" === c.Na || null;};this.type="cat";})();a.apb=new (function(){this.getValue=function(a,b,c){return this.o="DK" === c.Na || null;};this.type="cat";})();a.bpb=new (function(){this.getValue=function(a,b,c){return this.o="DM" === c.Na || null;};this.type="cat";})();a.cpb=new (function(){this.getValue=function(a,b,c){return this.o="DO" === c.Na || null;};this.type="cat";})();a.dpb=new (function(){this.getValue=function(a,b,c){return this.o="EC" === c.Na || null;};this.type="cat";})();a.epb=new (function(){this.getValue=function(a,b,c){return this.o="EE" === c.Na || null;};this.type="cat";})();a.fpb=new (function(){this.getValue=function(a,b,c){return this.o="EG" === c.Na || null;};this.type="cat";})();a.gpb=new (function(){this.getValue=function(a,b,c){return this.o="ES" === c.Na || null;};this.type="cat";})();a.hpb=new (function(){this.getValue=function(a,b,c){return this.o="FI" === c.Na || null;};this.type="cat";})();a.ipb=new (function(){this.getValue=function(a,b,c){return this.o="FR" === c.Na || null;};this.type="cat";})();a.jpb=new (function(){this.getValue=function(a,b,c){return this.o="GB" === c.Na || null;};this.type="cat";})();a.kpb=new (function(){this.getValue=function(a,b,c){return this.o="GF" === c.Na || null;};this.type="cat";})();a.lpb=new (function(){this.getValue=function(a,b,c){return this.o="GP" === c.Na || null;};this.type="cat";})();a.mpb=new (function(){this.getValue=function(a,b,c){return this.o="GT" === c.Na || null;};this.type="cat";})();a.npb=new (function(){this.getValue=function(a,b,c){return this.o="HK" === c.Na || null;};this.type="cat";})();a.opb=new (function(){this.getValue=function(a,b,c){return this.o="HN" === c.Na || null;};this.type="cat";})();a.ppb=new (function(){this.getValue=function(a,b,c){return this.o="HR" === c.Na || null;};this.type="cat";})();a.qpb=new (function(){this.getValue=function(a,b,c){return this.o="HU" === c.Na || null;};this.type="cat";})();a.rpb=new (function(){this.getValue=function(a,b,c){return this.o="ID" === c.Na || null;};this.type="cat";})();a.spb=new (function(){this.getValue=function(a,b,c){return this.o="IE" === c.Na || null;};this.type="cat";})();a.tpb=new (function(){this.getValue=function(a,b,c){return this.o="IL" === c.Na || null;};this.type="cat";})();a.upb=new (function(){this.getValue=function(a,b,c){return this.o="IN" === c.Na || null;};this.type="cat";})();a.vpb=new (function(){this.getValue=function(a,b,c){return this.o="IT" === c.Na || null;};this.type="cat";})();a.wpb=new (function(){this.getValue=function(a,b,c){return this.o="JE" === c.Na || null;};this.type="cat";})();a.xpb=new (function(){this.getValue=function(a,b,c){return this.o="JM" === c.Na || null;};this.type="cat";})();a.ypb=new (function(){this.getValue=function(a,b,c){return this.o="JP" === c.Na || null;};this.type="cat";})();a.zpb=new (function(){this.getValue=function(a,b,c){return this.o="KE" === c.Na || null;};this.type="cat";})();a.Apb=new (function(){this.getValue=function(a,b,c){return this.o="KN" === c.Na || null;};this.type="cat";})();a.Bpb=new (function(){this.getValue=function(a,b,c){return this.o="KR" === c.Na || null;};this.type="cat";})();a.Cpb=new (function(){this.getValue=function(a,b,c){return this.o="LU" === c.Na || null;};this.type="cat";})();a.Dpb=new (function(){this.getValue=function(a,b,c){return this.o="MK" === c.Na || null;};this.type="cat";})();a.Epb=new (function(){this.getValue=function(a,b,c){return this.o="MU" === c.Na || null;};this.type="cat";})();a.Fpb=new (function(){this.getValue=function(a,b,c){return this.o="MX" === c.Na || null;};this.type="cat";})();a.Gpb=new (function(){this.getValue=function(a,b,c){return this.o="MY" === c.Na || null;};this.type="cat";})();a.Hpb=new (function(){this.getValue=function(a,b,c){return this.o="NI" === c.Na || null;};this.type="cat";})();a.Ipb=new (function(){this.getValue=function(a,b,c){return this.o="NL" === c.Na || null;};this.type="cat";})();a.Jpb=new (function(){this.getValue=function(a,b,c){return this.o="NO" === c.Na || null;};this.type="cat";})();a.Kpb=new (function(){this.getValue=function(a,b,c){return this.o="NZ" === c.Na || null;};this.type="cat";})();a.Lpb=new (function(){this.getValue=function(a,b,c){return this.o="OM" === c.Na || null;};this.type="cat";})();a.Mpb=new (function(){this.getValue=function(a,b,c){return this.o="PA" === c.Na || null;};this.type="cat";})();a.Npb=new (function(){this.getValue=function(a,b,c){return this.o="PE" === c.Na || null;};this.type="cat";})();a.Opb=new (function(){this.getValue=function(a,b,c){return this.o="PF" === c.Na || null;};this.type="cat";})();a.Ppb=new (function(){this.getValue=function(a,b,c){return this.o="PH" === c.Na || null;};this.type="cat";})();a.Qpb=new (function(){this.getValue=function(a,b,c){return this.o="PK" === c.Na || null;};this.type="cat";})();a.Rpb=new (function(){this.getValue=function(a,b,c){return this.o="PL" === c.Na || null;};this.type="cat";})();a.Spb=new (function(){this.getValue=function(a,b,c){return this.o="PT" === c.Na || null;};this.type="cat";})();a.Tpb=new (function(){this.getValue=function(a,b,c){return this.o="PY" === c.Na || null;};this.type="cat";})();a.Upb=new (function(){this.getValue=function(a,b,c){return this.o="QA" === c.Na || null;};this.type="cat";})();a.Vpb=new (function(){this.getValue=function(a,b,c){return this.o="RO" === c.Na || null;};this.type="cat";})();a.Wpb=new (function(){this.getValue=function(a,b,c){return this.o="RS" === c.Na || null;};this.type="cat";})();a.Xpb=new (function(){this.getValue=function(a,b,c){return this.o="RU" === c.Na || null;};this.type="cat";})();a.Ypb=new (function(){this.getValue=function(a,b,c){return this.o="SA" === c.Na || null;};this.type="cat";})();a.Zpb=new (function(){this.getValue=function(a,b,c){return this.o="SE" === c.Na || null;};this.type="cat";})();a.$pb=new (function(){this.getValue=function(a,b,c){return this.o="SG" === c.Na || null;};this.type="cat";})();a.aqb=new (function(){this.getValue=function(a,b,c){return this.o="SV" === c.Na || null;};this.type="cat";})();a.bqb=new (function(){this.getValue=function(a,b,c){return this.o="SX" === c.Na || null;};this.type="cat";})();a.cqb=new (function(){this.getValue=function(a,b,c){return this.o="TH" === c.Na || null;};this.type="cat";})();a.dqb=new (function(){this.getValue=function(a,b,c){return this.o="TR" === c.Na || null;};this.type="cat";})();a.eqb=new (function(){this.getValue=function(a,b,c){return this.o="TT" === c.Na || null;};this.type="cat";})();a.fqb=new (function(){this.getValue=function(a,b,c){return this.o="TW" === c.Na || null;};this.type="cat";})();a.gqb=new (function(){this.getValue=function(a,b,c){return this.o="US" === c.Na || null;};this.type="cat";})();a.hqb=new (function(){this.getValue=function(a,b,c){return this.o="UY" === c.Na || null;};this.type="cat";})();a.iqb=new (function(){this.getValue=function(a,b,c){return this.o="VE" === c.Na || null;};this.type="cat";})();a.jqb=new (function(){this.getValue=function(a,b,c){return this.o="ZA" === c.Na || null;};this.type="cat";})();a.iOb=new (function(){this.getValue=function(a,b,c){return this.o=1 === c.Jh || null;};this.type="cat";})();a.jOb=new (function(){this.getValue=function(a,b,c){return this.o=10 === c.Jh || null;};this.type="cat";})();a.kOb=new (function(){this.getValue=function(a,b,c){return this.o=11 === c.Jh || null;};this.type="cat";})();a.lOb=new (function(){this.getValue=function(a,b,c){return this.o=12 === c.Jh || null;};this.type="cat";})();a.mOb=new (function(){this.getValue=function(a,b,c){return this.o=13 === c.Jh || null;};this.type="cat";})();a.nOb=new (function(){this.getValue=function(a,b,c){return this.o=14 === c.Jh || null;};this.type="cat";})();a.oOb=new (function(){this.getValue=function(a,b,c){return this.o=15 === c.Jh || null;};this.type="cat";})();a.pOb=new (function(){this.getValue=function(a,b,c){return this.o=16 === c.Jh || null;};this.type="cat";})();a.qOb=new (function(){this.getValue=function(a,b,c){return this.o=17 === c.Jh || null;};this.type="cat";})();a.rOb=new (function(){this.getValue=function(a,b,c){return this.o=18 === c.Jh || null;};this.type="cat";})();a.sOb=new (function(){this.getValue=function(a,b,c){return this.o=19 === c.Jh || null;};this.type="cat";})();a.tOb=new (function(){this.getValue=function(a,b,c){return this.o=2 === c.Jh || null;};this.type="cat";})();a.uOb=new (function(){this.getValue=function(a,b,c){return this.o=20 === c.Jh || null;};this.type="cat";})();a.vOb=new (function(){this.getValue=function(a,b,c){return this.o=21 === c.Jh || null;};this.type="cat";})();a.wOb=new (function(){this.getValue=function(a,b,c){return this.o=22 === c.Jh || null;};this.type="cat";})();a.xOb=new (function(){this.getValue=function(a,b,c){return this.o=23 === c.Jh || null;};this.type="cat";})();a.yOb=new (function(){this.getValue=function(a,b,c){return this.o=3 === c.Jh || null;};this.type="cat";})();a.zOb=new (function(){this.getValue=function(a,b,c){return this.o=4 === c.Jh || null;};this.type="cat";})();a.AOb=new (function(){this.getValue=function(a,b,c){return this.o=5 === c.Jh || null;};this.type="cat";})();a.BOb=new (function(){this.getValue=function(a,b,c){return this.o=6 === c.Jh || null;};this.type="cat";})();a.COb=new (function(){this.getValue=function(a,b,c){return this.o=7 === c.Jh || null;};this.type="cat";})();a.DOb=new (function(){this.getValue=function(a,b,c){return this.o=8 === c.Jh || null;};this.type="cat";})();a.EOb=new (function(){this.getValue=function(a,b,c){return this.o=9 === c.Jh || null;};this.type="cat";})();a.bUb=new (function(){this.update=function(a){"down" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.dUb=new (function(){this.update=function(a){"right" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.cUb=new (function(){this.update=function(a){"left" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.eUb=new (function(){this.update=function(a){"up" === a.direction && this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;})();a.WGb=new (function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";})();a.XGb=new (function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.cha);};this.getValue=function(){return this.o;};this.type="num";})();a.dHb=new (function(){this.RO=this.o=0;this.update=function(a){this.RO++;this.o=1 * (this.o + a.rowIndex) / this.RO;};this.getValue=function(){return this.o;};this.type="num";})();a.eHb=new (function(){this.RO=this.o=0;this.update=function(a){this.RO++;return this.o=1 * (this.o + a.cha) / this.RO;};this.getValue=function(){return this.o;};this.type="num";})();a.UMb=new (function(){this.getValue=function(a,b,c){return this.o=c.cha + b;};this.type="num";})();a.VMb=new (function(){this.getValue=function(a,b,c){return this.o=c.rowIndex + a;};this.type="num";})();h.prototype.DB=function(a){return this.eIa(this.J["0"].r0a(a),a);};h.prototype.eIa=function(a,b){return "string" == typeof a?this.eIa(this.J[a].r0a(b),b):a;};c.prototype.r0a=function(a){switch(this.nEb){case 0:switch(a.ef[this.AV].type){case "cat":return null === a.ef[this.AV].value?this.PWa:"missing" == a.ef[this.AV].value?this.Qoa:this.u5a;case "num":return null === a.ef[this.AV].value?this.Qoa:a.ef[this.AV].value < this.split?this.u5a:this.PWa;default:return this.Qoa;}case 1:return this.DB;default:return this.DB;}};b.declare({hT:["modelSelector","modelone"],Unb:["colEpisodeList",5],YBb:["holdDuration",15E3],d0a:["rowFirst",2],PLa:["colFirst",5],f0a:["rowScroll",2],QLa:["colScroll",6],aQb:["rowScrollHorizontal",6],yQb:["searchTop",3],$Ma:["cwFirst",2],eS:["horizontalItemsFocusedMode",3],oEb:["itemsPerRank",1],QGb:["maxNumberPayloadsStored",10],HVa:["maxNumberTitlesScheduled",5],H5b:["enableDetailedLogging",!0],Q8b:["rowStep",20],W4b:["colStep",15],o8b:["pageRows",100],n8b:["pageColumns",75],foa:["maskParamsList",new (function(){var a,b;this.foa=[];this.Qk={};this.k6=20;this.Z_=15;for(a=0;100 > a;a++){for(b=0;75 > b;b++){(Math.floor(a / this.k6) + "_" + Math.floor(b / this.Z_) in this.Qk) || (this.Qk[Math.floor(a / this.k6) + "_" + Math.floor(b / this.Z_)]=1,this.foa.push(new l(0,0,0,0,Math.floor(a / this.k6),Math.floor(b / this.Z_))));}}})().foa],J:["nodes",new h().J],mapping:["mapping",{XGb:"0",eHb:"1",WGb:"2",dHb:"3",Tkb:"4",eUb:"5",cUb:"6",dUb:"7",bUb:"8",VMb:"9",UMb:"10",eFb:"11",fFb:"12",hFb:"13",iFb:"14",gFb:"15",jFb:"16",kFb:"17",lFb:"18",mFb:"19",nFb:"20",oFb:"21",pFb:"22",qFb:"23",rFb:"24",sFb:"25",tFb:"26",iOb:"27",jOb:"28",kOb:"29",lOb:"30",mOb:"31",nOb:"32",oOb:"33",pOb:"34",qOb:"35",rOb:"36",sOb:"37",tOb:"38",uOb:"39",vOb:"40",wOb:"41",xOb:"42",yOb:"43",zOb:"44",AOb:"45",BOb:"46",COb:"47",DOb:"48",EOb:"49",Lob:"50",Mob:"51",Nob:"52",Oob:"53",Pob:"54",Qob:"55",Rob:"56",Sob:"57",Tob:"58",Uob:"59",Vob:"60",Wob:"61",Xob:"62",Yob:"63",Zob:"64",$ob:"65",apb:"66",bpb:"67",cpb:"68",dpb:"69",epb:"70",fpb:"71",gpb:"72",hpb:"73",ipb:"74",jpb:"75",kpb:"76",lpb:"77",mpb:"78",npb:"79",opb:"80",ppb:"81",qpb:"82",rpb:"83",spb:"84",tpb:"85",upb:"86",vpb:"87",wpb:"88",xpb:"89",ypb:"90",zpb:"91",Apb:"92",Bpb:"93",Cpb:"94",Dpb:"95",Epb:"96",Fpb:"97",Gpb:"98",Hpb:"99",Ipb:"100",Jpb:"101",Kpb:"102",Lpb:"103",Mpb:"104",Npb:"105",Opb:"106",Ppb:"107",Qpb:"108",Rpb:"109",Spb:"110",Tpb:"111",Upb:"112",Vpb:"113",Wpb:"114",Xpb:"115",Ypb:"116",Zpb:"117",$pb:"118",aqb:"119",bqb:"120",cqb:"121",dqb:"122",eqb:"123",fqb:"124",gqb:"125",hqb:"126",iqb:"127",jqb:"128",MXb:"129",eOb:"130",LSb:"131",Dl:"132",Aob:"133",Ywb:"134",yVb:"135",hVb:"136",Dlb:"137",wIb:"138",SVb:"139",lMb:"140",ylb:"141",Clb:"142",zlb:"143",uIb:"144"}],ef:["features",a],Y3b:["_modelName","tree"],Q3b:["_format","xgboost"],X3b:["_itemsToKeep",5],W3b:["_itemsThreshold",null],E4b:["cacheLimit",20]});d.exports={config:b,k7b:l,f5b:c};},function(d,b,a){d.exports=a(535);},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(536);ja._cad_global={};ja.DEBUG=!1;a(11);a(10);a(15);a(23);a(45);a(85);a(1206);a(527);a(55);a(49);a(18);a(68);a(58);a(1207);a(280);a(334);a(1208);a(507);a(1209);a(260);a(441);a(504);a(511);a(509);a(510);a(529);a(498);a(499);a(501);a(189);a(275);a(1210);a(12);a(516);a(1211);a(151);a(67);a(505);a(147);a(442);a(443);a(261);a(1212);a(1213);a(468);a(1214);a(462);a(277);a(459);a(276);a(497);a(1215);a(279);a(513);a(186);a(530);a(72);a(1216);a(100);a(1223);a(1224);a(1225);a(1226);a(1228);a(1230);a(512);a(57);a(1231);a(508);a(444);a(506);a(515);a(1232);a(1233);a(525);a(154);a(1234);a(1235);a(1236);a(1237);a(1238);a(502);},function(d,b,a){(function(a){var b;(function(b){var ea,Z,ta,ca,Ca,P,aa,Q,ua;function c(a,b,c){var f;f=ua.get(a);if(!f){if(!c)return;f=new aa();ua.set(a,f);}a=f.get(b);if(!a){if(!c)return;a=new aa();f.set(b,a);}return a;}function f(a,b,c){if(d(a,b,c))return !0;b=J(b);return null !== b?f(a,b,c):!1;}function d(a,b,f){b=c(b,f,!1);return void 0 !== b && ! !b.has(a);}function l(a,b,c){if(d(a,b,c))return h(a,b,c);b=J(b);return null !== b?l(a,b,c):void 0;}function h(a,b,f){b=c(b,f,!1);return void 0 === b?void 0:b.get(a);}function r(a,b){var c,d;c=u(a,b);a=J(a);if(null === a)return c;b=r(a,b);if(0 >= b.length)return c;if(0 >= c.length)return b;a=new Q();for(var f=0;f < c.length;f++){d=c[f];a.add(d);}for(c=0;c < b.length;c++){d=b[c];a.add(d);}return p(a);}function u(a,b){var f;a=c(a,b,!1);f=[];a && n(a,function(a,b){return f.push(b);});return f;}function g(a){return void 0 === a;}function A(a){return Array.isArray?Array.isArray(a):a instanceof Array || "[object Array]" === Object.prototype.toString.call(a);}function y(a){return "object" === typeof a?null !== a:"function" === typeof a;}function I(a){return "symbol" === typeof a?a:String(a);}function J(a){var b,c;b=Object.getPrototypeOf(a);if("function" !== typeof a || a === P || b !== P)return b;c=a.prototype;c=c && Object.getPrototypeOf(c);if(null == c || c === Object.prototype)return b;c=c.constructor;return "function" !== typeof c || c === a?b:c;}function D(a){a=a.next();return a.done?void 0:a;}function n(a,b){var c,f,d;c=a.entries;if("function" === typeof c){c=c.call(a);try{for(;f=D(c);){d=f.value;b.call(void 0,d[1],d[0],a);}}finally{f && (a=c["return"]) && a.call(c);}}else (c=a.forEach,"function" === typeof c && c.call(a,b,void 0));}function p(a){var b;b=[];n(a,function(a,c){b.push(c);});return b;}function O(a,b,c){var f;f=0;return {next:function(){var d;if((a || b) && f < (a || b).length){d=f++;switch(c){case "key":return {value:a[d],done:!1};case "value":return {value:b[d],done:!1};case "key+value":return {value:[a[d],b[d]],done:!1};}}b=a=void 0;return {value:void 0,done:!0};},"throw":function(c){if(a || b)b=a=void 0;throw c;},"return":function(c){if(a || b)b=a=void 0;return {value:c,done:!0};}};}function Y(){var a;a={};return (function(){function b(){this.Ar=[];this.yw=[];this.HY=a;this.GY=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.Ar.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0 <= this.bZ(a,!1);};b.prototype.get=function(a){a=this.bZ(a,!1);return 0 <= a?this.yw[a]:void 0;};b.prototype.set=function(a,b){a=this.bZ(a,!0);this.yw[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.bZ(b,!1);if(0 <= c){b=this.Ar.length;for(c+=1;c < b;c++){this.Ar[c - 1]=this.Ar[c];this.yw[c - 1]=this.yw[c];}this.Ar.length--;this.yw.length--;this.HY=a;this.GY=-2;return !0;}return !1;};b.prototype.clear=function(){this.Ar.length=0;this.yw.length=0;this.HY=a;this.GY=-2;};b.prototype.keys=function(){return O(this.Ar,void 0,"key");};b.prototype.values=function(){return O(void 0,this.yw,"value");};b.prototype.entries=function(){return O(this.Ar,this.yw,"key+value");};b.prototype.bZ=function(a,b){var c;if(this.HY === a)return this.GY;c=this.Ar.indexOf(a);0 > c && b && (c=this.Ar.length,this.Ar.push(a),this.yw.push(void 0));return (this.HY=a,this.GY=c);};return b;})();}function E(){return (function(){function a(){this.hk=new aa();}Object.defineProperty(a.prototype,"size",{get:function(){return this.hk.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.hk.has(a);};a.prototype.add=function(a){return (this.hk.set(a,a),this);};a.prototype["delete"]=function(a){return this.hk["delete"](a);};a.prototype.clear=function(){this.hk.clear();};a.prototype.keys=function(){return this.hk.keys();};a.prototype.values=function(){return this.hk.values();};a.prototype.entries=function(){return this.hk.entries();};return a;})();}function da(){var f,d;function a(a){for(var b=0;16 > b;++b){a[b]=255 * Math.random() | 0;}return a;}function b(){var b,k;do {b="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6] & 79 | 64;b[8]=b[8] & 191 | 128;for(var c="",d=0;16 > d;++d){k=b[d];if(4 === d || 6 === d || 8 === d)c+="-";16 > k && (c+="0");c+=k.toString(16).toLowerCase();}b="@@WeakMap@@" + c;}while(Ca.has(f,b));f[b]=!0;return b;}function c(a,b){if(!ea.call(a,d)){if(!b)return;Object.defineProperty(a,d,{value:ca()});}return a[d];}f=ca();d=b();return (function(){function a(){this.fP=b();}a.prototype.has=function(a){a=c(a,!1);return void 0 !== a?Ca.has(a,this.fP):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0 !== a?Ca.get(a,this.fP):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.fP]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0 !== a?delete a[this.fP]:!1;};a.prototype.clear=function(){this.fP=b();};return a;})();}function t(a){a.M3b=1;delete a.N3b;return a;}ea=Object.prototype.hasOwnProperty;Z="function" === typeof Object.create;ta=(function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__ === b;})();ca=Z?function(){return t(Object.create(null));}:ta?function(){return t({__proto__:null});}:function(){return t({});};(function(a){var b;b=!Z && !ta;a.has=b?function(a,b){return ea.call(a,b);}:function(a,b){return (b in a);};a.get=b?function(a,b){return ea.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};})(Ca || (Ca={}));P=Object.getPrototypeOf(Function);aa="function" === typeof Map?Map:Y();Q="function" === typeof Set?Set:E();ua=new ("function" === typeof WeakMap?WeakMap:da())();b.eA=function(a,b,c,f){var k;if(g(f)){if(g(c)){if(!A(a))throw new TypeError();if("function" !== typeof b)throw new TypeError();for(c=a.length - 1;0 <= c;--c){if((f=(0,a[c])(b),!g(f))){if("function" !== typeof f)throw new TypeError();b=f;}}return b;}if(!A(a))throw new TypeError();if(!y(b))throw new TypeError();c=I(c);for(f=a.length - 1;0 <= f;--f){(0,a[f])(b,c);}}else {if(!A(a))throw new TypeError();if(!y(b))throw new TypeError();if(g(c))throw new TypeError();if(!y(f))throw new TypeError();c=I(c);for(var d=a.length - 1;0 <= d;--d){k=(0,a[d])(b,c,f);if(!g(k)){if(!y(k))throw new TypeError();f=k;}}return f;}};b.Td=function(a,b){return function(f,d){if(g(d)){if("function" !== typeof f)throw new TypeError();c(f,void 0,!0).set(a,b);}else {if(!y(f))throw new TypeError();d=I(d);c(f,d,!0).set(a,b);}};};b.jia=function(a,b,f){var d;if(!y(f))throw new TypeError();g(d) || (d=I(d));c(f,d,!0).set(a,b);};b.EBb=function(a,b){var c;if(!y(b))throw new TypeError();g(c) || (c=I(c));return f(a,b,c);};b.Gla=function(a,b){var c;if(!y(b))throw new TypeError();g(c) || (c=I(c));return d(a,b,c);};b.getMetadata=function(a,b,c){if(!y(b))throw new TypeError();g(c) || (c=I(c));return l(a,b,c);};b.m6b=function(a,b,c){if(!y(b))throw new TypeError();g(c) || (c=I(c));return h(a,b,c);};b.k6b=function(a,b){if(!y(a))throw new TypeError();g(b) || (b=I(b));return r(a,b);};b.n6b=function(a,b){if(!y(a))throw new TypeError();g(b) || (b=I(b));return u(a,b);};b.p5b=function(a,b,f){var d;if(!y(b))throw new TypeError();g(f) || (f=I(f));d=c(b,f,!1);if(g(d) || !d["delete"](a))return !1;if(0 < d.size)return !0;a=ua.get(b);a["delete"](f);if(0 < a.size)return !0;ua["delete"](b);return !0;};(function(a){if("undefined" !== typeof a.Reflect){if(a.Reflect !== b)for(var c in b){ea.call(b,c) && (a.Reflect[c]=b[c]);}}else a.Reflect=b;})("undefined" !== typeof ja?ja:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof a?a:Function("return this;")());})(b || (b={}));}).call(this,a(190));},function(d,b,a){var c,h,l,m,f,k,q,v,r,u,B,A;c=this && this.__awaiter || (function(a,b,c,f){return new (c || (c=Promise))(function(d,k){function l(a){try{h(f.next(a));}catch(sa){k(sa);}}function q(a){try{h(f["throw"](a));}catch(sa){k(sa);}}function h(a){a.done?d(a.value):new c(function(b){b(a.value);}).then(l,q);}h((f=f.apply(a,b || [])).next());});});h=this && this.__generator || (function(a,b){var d,k,l,q,h;function c(a){return function(b){return f([a,b]);};}function f(c){if(k)throw new TypeError("Generator is already executing.");for(;d;){try{if((k=1,l && (q=l[c[0] & 2?"return":c[0]?"throw":"next"]) && !(q=q.call(l,c[1])).done))return q;if((l=0,q))c=[0,q.value];switch(c[0]){case 0:case 1:q=c;break;case 4:return (d.label++,{value:c[1],done:!1});case 5:d.label++;l=c[1];c=[0];continue;case 7:c=d.uF.pop();d.BG.pop();continue;default:if(!(q=d.BG,q=0 < q.length && q[q.length - 1]) && (6 === c[0] || 2 === c[0])){d=0;continue;}if(3 === c[0] && (!q || c[1] > q[0] && c[1] < q[3]))d.label=c[1];else if(6 === c[0] && d.label < q[1])(d.label=q[1],q=c);else if(q && d.label < q[2])(d.label=q[2],d.uF.push(c));else {q[2] && d.uF.pop();d.BG.pop();continue;}}c=b.call(a,d);}catch(sa){c=[6,sa];l=0;}finally{k=q=0;}}if(c[0] & 5)throw c[1];return {value:c[0]?c[1]:void 0,done:!0};}d={label:0,di:function(){if(q[0] & 1)throw q[1];return q[1];},BG:[],uF:[]};g();g();p();return (h={next:c(0),"throw":c(1),"return":c(2)},"function" === typeof Symbol && (h[Symbol.iterator]=function(){return this;}),h);});Object.defineProperty(b,"__esModule",{value:!0});l=a(538);m=a(52);f=a(74);a(39);k=a(287);q=a(539);v=a(546);r=a(548);u=a(101);B=a(129);a(551);A=a(552);d=(function(){function a(a){a=a || ({});if("object" !== typeof a)throw Error("" + m.j7a);if(void 0 === a.jE)a.jE=f.jr.tY;else if(a.jE !== f.jr.Xba && a.jE !== f.jr.tY && a.jE !== f.jr.Request)throw Error("" + m.h7a);if(void 0 === a.nQ)a.nQ=!1;else if("boolean" !== typeof a.nQ)throw Error("" + m.g7a);if(void 0 === a.fG)a.fG=!1;else if("boolean" !== typeof a.fG)throw Error("" + m.i7a);this.options={nQ:a.nQ,jE:a.jE,fG:a.fG};this.id=u.id();this.UH=new A.I$a();this.lib=[];this.parent=this.bea=null;this.Zfb=new k.gaa();}a.C7b=function(b,c){var d,k;function f(a,b){a.xVb(function(a,c){c.forEach(function(a){b.add(a.Ff,a.clone());});});}d=new a();k=q.fka(d);b=q.fka(b);c=q.fka(c);f(b,k);f(c,k);return d;};a.prototype.load=function(){var f,d;for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}for(var b=this.CGa(),c=0;c < a.length;c++){f=a[c];d=b(f.id);f.bra(d.vKa,d.Q3a,d.YTa,d.SZa);}};a.prototype.IS=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return c(this,void 0,void 0,function(){var b,c,f,d,k;return h(this,function(l){switch(l.label){case 0:(b=this.CGa(),c=0,f=a,l.label=1);case 1:if(!(c < f.length))return [3,4];d=f[c];k=b(d.id);return [4,d.bra(k.vKa,k.Q3a,k.YTa,k.SZa)];case 2:(l.di(),l.label=3);case 3:return (c++,[3,1]);case 4:return [2];}});});};a.prototype.bind=function(a){var b;b=new l.y6a(a,this.options.jE || f.jr.tY);this.UH.add(a,b);return new r.A6a(b);};a.prototype.$Nb=function(a){this.P3a(a);return this.bind(a);};a.prototype.P3a=function(a){try{this.UH.remove(a);}catch(J){throw Error(m.S6a + " " + B.pK(a));}};a.prototype.xTa=function(a){var b;b=this.UH.sSa(a);!b && this.parent && (b=this.parent.xTa(a));return b;};a.prototype.restore=function(){var a;a=this.lib.pop();if(void 0 === a)throw Error(m.xab);this.UH=a.pQ;this.bea=a.EHb;};a.prototype.qqb=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.AGa(!1,!1,f.Xv.wca,a);};a.prototype.getAll=function(a){return this.AGa(!0,!0,f.Xv.wca,a);};a.prototype.resolve=function(a){var b;b=this.qqb();b.bind(a).q3a();return b.get(a);};a.prototype.CGa=function(){var d;function a(a){return function(b){b=d.$Nb.bind(d)(b);b.Xb.bIb=a;return b;};}function b(){return function(a){return d.xTa.bind(d)(a);};}function c(){return function(a){d.P3a.bind(d)(a);};}function f(a){return function(b){b=d.bind.bind(d)(b);b.Xb.bIb=a;return b;};}d=this;return function(d){return {vKa:f(d),YTa:b(),SZa:a(d),Q3a:c()};};};a.prototype.AGa=function(a,b,c,f){var d;d=null;a={llb:a,zob:function(a){return a;},JDb:b,key:void 0,Ff:f,tUb:c,value:void 0};if(this.bea){if((d=this.bea(a),void 0 === d || null === d))throw Error(m.n$a);}else d=this.lhb()(a);return d;};a.prototype.lhb=function(){var a;a=this;return function(b){var c;c=q.ML(a.Zfb,a,b.JDb,b.tUb,b.Ff,b.key,b.value,b.llb);c=b.zob(c);return v.resolve(c);};};return a;})();b.gW=d;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(74);h=a(101);d=(function(){function a(a,b){this.id=h.id();this.$ea=!1;this.Ff=a;this.scope=b;this.type=c.Li.z$a;this.aE=function(){return !0;};this.PJ=this.Xu=this.ev=this.ZJ=this.cache=this.ul=null;}a.prototype.clone=function(){var b;b=new a(this.Ff,this.scope);b.$ea=!1;b.ul=this.ul;b.PJ=this.PJ;b.scope=this.scope;b.type=this.type;b.ZJ=this.ZJ;b.ev=this.ev;b.aE=this.aE;b.Xu=this.Xu;b.cache=this.cache;return b;};return a;})();b.y6a=d;},function(d,b,a){var f,k,q,v,r,u,g,A,y,I,J,D;function c(a,b,c,d,k){var l,q;l=m(c.ob,k.Ff);q=[];l.length === f.t8.$Aa && c.ob.options.nQ && "function" === typeof k.Ff && a.lQa(k.Ff).XLa && (c.ob.bind(k.Ff).q3a(),l=m(c.ob,k.Ff));q=b?l:l.filter(function(a){var b;b=new J.Request(a.Ff,c,d,a,k);return a.aE(b);});h(k.Ff,q,k,c.ob);return q;}function h(a,b,c,d){switch(b.length){case f.t8.$Aa:if(c.JTa())break;a=u.pK(a);b=k.wab;b+=u.dFb(a,c);b+=u.CUa(d,a,m);throw Error(b);case f.t8.Mab:if(!c.isArray())break;default:if(!c.isArray())throw (a=u.pK(a),b=k.z5a + " " + a,b+=u.CUa(d,a,m),Error(b));}}function l(a,b,f,d,h,m){var r;null === h?(b=c(a,b,d,null,m),r=new J.Request(f,d,null,b,m),f=new y.Jbb(d,r),d.zjb(f)):(b=c(a,b,d,h,m),r=h.KIa(m.Ff,b,m));b.forEach(function(b){var c,f,h;c=null;if(m.isArray())c=r.KIa(b.Ff,b,m);else {if(b.cache)return;c=r;}if(b.type === q.Li.m$ && null !== b.ul){f=I.ayb(a,b.ul);if(!d.ob.options.fG){h=I.txb(a,b.ul);if(f.length < h)throw (b=k.A5a(I.getFunctionName(b.ul)),Error(b));}f.forEach(function(b){l(a,!1,b.Ff,d,c,b);});}});}function m(a,b){var c,f;c=[];f=a.UH;f.sSa(b)?c=f.get(b):null !== a.parent && (c=m(a.parent,b));return c;}Object.defineProperty(b,"__esModule",{value:!0});f=a(540);k=a(52);q=a(74);v=a(39);r=a(288);u=a(129);g=a(541);A=a(59);y=a(542);I=a(543);J=a(545);D=a(290);b.fka=function(a){return a.UH;};b.ML=function(a,b,c,f,d,k,q,h){void 0 === h && (h=!1);b=new g.pwa(b);c=new A.Metadata(c?v.wC:v.ZN,d);f=new D.qY(f,"",d,c);void 0 !== k && (k=new A.Metadata(k,q),f.Td.push(k));try{return (l(a,h,d,b,null,f),b);}catch(Z){throw (r.PTa(Z) && b.ML && u.xnb(b.ML.Cra),Z);}};b.b5b=function(a,b,c,f){c=new D.qY(q.Xv.wca,"",b,new A.Metadata(c,f));a=new g.pwa(a);return new J.Request(b,a,null,[],c);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.t8={B0b:2,$Aa:0,Mab:1};},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);d=(function(){function a(a){this.id=c.id();this.ob=a;}a.prototype.zjb=function(a){this.ML=a;};return a;})();b.pwa=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jbb=(function(){return function(a,b){this.HL=a;this.Cra=b;};})();},function(d,b,a){var f,k,q,v,r,u;function c(a,b,c,d){var l,r,A,y,I,n,p,t,ta,ca;l=a.lQa(c);r=l.XLa;if(void 0 === r)throw Error(k.V$a + " " + b + ".");for(var l=l.cXb,v=Object.keys(l),g=0 === c.length && 0 < v.length?v.length:c.length,v=[],B=0;B < g;B++){y=B;I=d;n=b;p=r;A=l[y.toString()] || [];t=m(A);ta=!0 !== t.Hi;p=p[y];ca=t.l || t.lF;p=ca?ca:p;p instanceof f.w$ && (p=p.$Vb());if(ta){ta=p === Function;ta=p === Object || ta || void 0 === p;if(!I && ta)throw Error(k.W$a + " argument " + y + " in class " + n + ".");y=new u.qY(q.Xv.owa,t.jV,p);y.Td=A;A=y;}else A=null;null !== A && v.push(A);}a=h(a,c);return v.concat(a);}function h(a,b){var l,r,v;for(var c=a.Tzb(b),f=[],d=0,k=Object.keys(c);d < k.length;d++){l=k[d];r=c[l];v=m(c[l]);l=new u.qY(q.Xv.gwa,v.jV || l,v.l || v.lF);l.Td=r;f.push(l);}b=Object.getPrototypeOf(b.prototype).constructor;b !== Object && (a=h(a,b),f=f.concat(a));return f;}function l(a,b){var f,d;b=Object.getPrototypeOf(b.prototype).constructor;if(b !== Object){f=r.getFunctionName(b);f=c(a,f,b,!0);d=f.map(function(a){return a.Td.filter(function(a){return a.key === v.AO;});});d=[].concat.apply([],d).length;f=f.length - d;return 0 < f?f:l(a,b);}return 0;}function m(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return {l:b[v.ZN],lF:b[v.wC],jV:b[v.xX],Hi:b[v.AO]};}Object.defineProperty(b,"__esModule",{value:!0});f=a(289);k=a(52);q=a(74);v=a(39);r=a(129);b.getFunctionName=r.getFunctionName;u=a(290);b.ayb=function(a,b){var f;f=r.getFunctionName(b);return c(a,f,b,!1);};b.txb=l;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){this.KB=a;}a.prototype.startsWith=function(a){return 0 === this.KB.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.KB.split("").reverse().join("");return this.startsWith.call({KB:a},b);};a.prototype.contains=function(a){return -1 !== this.KB.indexOf(a);};a.prototype.equals=function(a){return this.KB === a;};a.prototype.value=function(){return this.KB;};return a;})();b.Mbb=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);d=(function(){function a(a,b,f,d,q){this.id=c.id();this.Ff=a;this.HL=b;this.cy=f;this.target=q;this.Qga=[];this.pQ=Array.isArray(d)?d:[d];this.xPb=null === f?new Map():null;}a.prototype.KIa=function(b,c,f){b=new a(b,this.HL,this,c,f);this.Qga.push(b);return b;};return a;})();b.Request=d;},function(d,b,a){var l,m,f,k,q;function c(a){return function(b){var f,d,r,v,g;f=b.pQ;d=b.Qga;r=b.target && b.target.isArray();v=!b.cy || !b.cy.target || !b.target || !b.cy.target.FGb(b.target.Ff);if(r && v)return d.map(function(b){return c(a)(b);});r=null;if(!b.target.JTa() || 0 !== f.length){g=f[0];f=g.scope === m.jr.Xba;v=g.scope === m.jr.Request;if(f && g.$ea)return g.cache;if(v && null !== a && a.has(g.id))return a.get(g.id);if(g.type === m.Li.mwa)r=g.cache;else if(g.type === m.Li.Function)r=g.cache;else if(g.type === m.Li.nwa)r=g.ul;else if(g.type === m.Li.gxa && null !== g.PJ)r=h("toDynamicValue",g.Ff,function(){return g.PJ(b.HL);});else if(g.type === m.Li.I9 && null !== g.ZJ)r=h("toFactory",g.Ff,function(){return g.ZJ(b.HL);});else if(g.type === m.Li.jDa && null !== g.ev)r=h("toProvider",g.Ff,function(){return g.ev(b.HL);});else if(g.type === m.Li.m$ && null !== g.ul)r=q.JPb(g.ul,d,c(a));else throw (d=k.pK(b.Ff),Error(l.j$a + " " + d));"function" === typeof g.Xu && (r=g.Xu(b.HL,r));f && (g.cache=r,g.$ea=!0);v && null !== a && !a.has(g.id) && a.set(g.id,r);return r;}};}function h(a,b,c){try{return c();}catch(B){if(f.PTa(B))throw Error(l.W6a(a,b.toString()));throw B;}}Object.defineProperty(b,"__esModule",{value:!0});l=a(52);m=a(74);f=a(288);k=a(129);q=a(547);b.resolve=function(a){return c(a.ML.Cra.xPb)(a.ML.Cra);};},function(d,b,a){var l,m,f;function c(a,b,c){var f;b=b.filter(function(a){return null !== a.target && a.target.type === m.Xv.gwa;});f=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=f[c];});return a;}function h(a,b){var c;if(Reflect.EBb(f.jO,a)){c=Reflect.getMetadata(f.jO,a);try{b[c.value]();}catch(r){throw Error(l.Cbb(a.name,r.message));}}}Object.defineProperty(b,"__esModule",{value:!0});l=a(52);m=a(74);f=a(39);b.JPb=function(a,b,f){var d;d=null;0 < b.length?(d=b.filter(function(a){return null !== a.target && a.target.type === m.Xv.owa;}).map(f),d=new (a.bind.apply(a,[void 0].concat(d)))(),d=c(d,b,f)):d=new a();h(a,d);return d;};},function(d,b,a){var c,h,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);h=a(74);l=a(549);m=a(291);d=(function(){function a(a){this.Xb=a;}a.prototype.to=function(a){this.Xb.type=h.Li.m$;this.Xb.ul=a;return new l.xva(this.Xb);};a.prototype.q3a=function(){if("function" !== typeof this.Xb.Ff)throw Error("" + c.p$a);this.to(this.Xb.Ff);};a.prototype.gi=function(a){this.Xb.type=h.Li.mwa;this.Xb.cache=a;this.Xb.PJ=null;this.Xb.ul=null;new m.hC(this.Xb);};a.prototype.QB=function(a){this.Xb.type=h.Li.gxa;this.Xb.cache=null;this.Xb.PJ=a;this.Xb.ul=null;return new l.xva(this.Xb);};a.prototype.aVb=function(a){this.Xb.type=h.Li.nwa;this.Xb.ul=a;new m.hC(this.Xb);};a.prototype.jf=function(a){this.Xb.type=h.Li.I9;this.Xb.ZJ=a;new m.hC(this.Xb);};a.prototype.bVb=function(a){if("function" !== typeof a)throw Error(c.m$a);this.gi(a);this.Xb.type=h.Li.Function;};a.prototype.o3a=function(a){this.Xb.type=h.Li.I9;this.Xb.ZJ=function(b){return function(){return b.ob.get(a);};};new m.hC(this.Xb);};a.prototype.mV=function(a){this.Xb.type=h.Li.jDa;this.Xb.ev=a;new m.hC(this.Xb);};a.prototype.cVb=function(a){this.QB(function(b){return b.ob.get(a);});};return a;})();b.A6a=d;},function(d,b,a){var c,h,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(550);h=a(192);l=a(193);d=(function(){function a(a){this.Xb=a;this.MO=new l.u8(this.Xb);this.Rca=new h.$V(this.Xb);this.NFa=new c.z6a(a);}a.prototype.Z=function(){return this.NFa.Z();};a.prototype.ima=function(){return this.NFa.ima();};a.prototype.when=function(a){return this.MO.when(a);};a.prototype.MV=function(){return this.MO.MV();};a.prototype.Xu=function(a){return this.Rca.Xu(a);};return a;})();b.xva=d;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(74);h=a(291);d=(function(){function a(a){this.Xb=a;}a.prototype.Z=function(){this.Xb.scope=c.jr.Xba;return new h.hC(this.Xb);};a.prototype.ima=function(){this.Xb.scope=c.jr.tY;return new h.hC(this.Xb);};return a;})();b.z6a=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(){}a.of=function(b,d){var c;c=new a();c.pQ=b;c.EHb=d;return c;};return a;})();b.jZb=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);d=(function(){function a(){this.hk=new Map();}a.prototype.add=function(a,b){var f;if(null === a || void 0 === a)throw Error(c.eO);if(null === b || void 0 === b)throw Error(c.eO);f=this.hk.get(a);void 0 !== f?(f.push(b),this.hk.set(a,f)):this.hk.set(a,[b]);};a.prototype.get=function(a){if(null === a || void 0 === a)throw Error(c.eO);a=this.hk.get(a);if(void 0 !== a)return a;throw Error(c.jza);};a.prototype.remove=function(a){if(null === a || void 0 === a)throw Error(c.eO);if(!this.hk["delete"](a))throw Error(c.jza);};a.prototype.sSa=function(a){if(null === a || void 0 === a)throw Error(c.eO);return this.hk.has(a);};a.prototype.clone=function(){var b;b=new a();this.hk.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.xVb=function(a){this.hk.forEach(function(b,c){a(c,b);});};return a;})();b.I$a=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(101);b.Tc=(function(){return function(a){this.id=c.id();this.bra=a;};})();b.mva=(function(){return function(a){this.id=c.id();this.bra=a;};})();},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);h=a(39);b.O=function(){return function(a){var b;if(Reflect.Gla(h.vaa,a))throw Error(c.s8a);b=Reflect.getMetadata(h.P7a,a) || [];Reflect.jia(h.vaa,b,a);return a;};};},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(59);h=a(86);b.L2a=function(a,b){return function(f,d,l){var k;k=new c.Metadata(a,b);"number" === typeof l?h.oG(f,d,l,k):h.gV(f,d,k);};};},function(d,b,a){var c,h,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);h=a(59);l=a(86);b.CWa=function(a){return function(b,d,q){var f;f=new h.Metadata(c.$y,a);"number" === typeof q?l.oG(b,d,q,f):l.gV(b,d,f);};};},function(d,b,a){var c,h,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);h=a(59);l=a(86);b.optional=function(){return function(a,b,d){var f;f=new h.Metadata(c.hBa,!0);"number" === typeof d?l.oG(a,b,d,f):l.gV(a,b,f);};};},function(d,b,a){var c,h,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);h=a(59);l=a(86);b.Hi=function(){return function(a,b,d){var f;f=new h.Metadata(c.AO,!0);l.oG(a,b,d,f);};};},function(d,b,a){var c,h,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);h=a(59);l=a(86);b.lF=function(a){return function(b,d,q){var f;f=new h.Metadata(c.wC,a);"number" === typeof q?l.oG(b,d,q,f):l.gV(b,d,f);};};},function(d,b,a){var c,h,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(39);h=a(59);l=a(86);b.jV=function(a){return function(b,d,q){var f;f=new h.Metadata(c.xX,a);l.oG(b,d,q,f);};};},function(d,b,a){var c,h,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(52);h=a(39);l=a(59);b.YYa=function(){return function(a,b){b=new l.Metadata(h.jO,b);if(Reflect.Gla(h.jO,a.constructor))throw Error(c.iab);Reflect.jia(h.jO,b,a.constructor);};};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zWa=function(a){return function(b){return function(){for(var c=[],d=0;d < arguments.length;d++){c[d]=arguments[d];}return c.forEach(function(c){return a.bind(c).cVb(b);});};};};},function(d,b,a){var f,k,q,v,r,u,g,A,y,I,J,m,D,n;function c(a){this.pxa=a.pA;}function h(a){this.wh=a;}function l(a){var b;b=r.$aa.call(this) || this;a=a.Gma;b.fJ=[u.lf.RW,u.lf.SW];b.XB=[u.P.MN,u.P.$G,u.P.IW,u.P.JW,u.P.JH,u.P.KH];a && (b.XB=[].concat(X(u.P.h9a),X(u.P.V5a),X(u.P.cdb),X(u.P.Scb),X(u.P.Tcb),X(u.P.k9a),X(u.P.j9a)));b.Y0=!0;b.BT=!0;b.De=g.Wb.kdb;b.$A=q.Nb(31E3);return b;}function m(a){var b,c,f;b=a.Gma;c=a.ODb;f=a.dEb;this.version="6.0029.151.011";this.wWa=!0;this.tE=f?"T":b?"C":c?"O":"M";this.pA=f?"NFCDTS-01-":c?"NFCDOP-01-":a.lEb?"NFCDCH-02-":a.GDb?"NFCDCH-MC-":b?"NFCDCH-01-":a.kDb?"NFCDCH-AP-":a.lDb?"NFCDCH-AT-":"NFCDCH-LX-";this.K1=!0;this.oia=b?"chromeos-cadmium":c?"opera-cadmium":"chrome-cadmium";this.Nsb="browser";this.WFb="";this.pia="cadmium";this.Zjb=this.fXb=!0;this.NOb=b;}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.p7a=b.o7a=b.n7a=void 0;d=a(0);f=a(1);k=a(31);q=a(4);v=a(130);r=a(564);u=a(56);g=a(131);A=a(30);y=a(295);I=a(296);J=a(194);m=d.__decorate([f.O(),d.__param(0,f.l(y.uN))],m);b.n7a=m;L(l,r.$aa);D=l;D=d.__decorate([f.O(),d.__param(0,f.l(y.uN))],D);b.o7a=D;h.prototype.apply=function(){var a;a={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:A.Xl.G8,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0};this.wh.qDb && 67 <= this.wh.gga && (a=Object.assign(Object.assign({},a),{enableVP9:!0}));80 <= this.wh.gga && (a=Object.assign(Object.assign({},a),{enableMediaCapabilities:!0}));this.wh.Gma && 89 <= this.wh.gga && (a=Object.assign(Object.assign({},a),{enableHEVC:!0,enablePRK:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0}));return a;};n=h;n=d.__decorate([f.O(),d.__param(0,f.l(y.uN))],n);b.p7a=n;c=d.__decorate([f.O(),d.__param(0,f.l(k.vj))],c);b.platform=new f.Tc(function(a){a(k.vj).to(m).Z();a(v.xH).to(D).Z();a(I.aba).to(n).Z();a(k.Lt).to(c).Z();a(J.nO).jf(function(){return function(){return {};};});});},function(d,b,a){var c,h,l,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.$aa=void 0;c=a(4);h=a(47);l=a(294);m=a(56);f={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.$aa=function(){this.dlb=this.lQ=l.qN.iza;this.gsa=!0;this.fJ=[];this.XB=[];this.BT=this.Y0=!1;this.sv=[m.Vl.Q8,m.Vl.lcb,m.Vl.oH];this.De=void 0;this.Xia=!0;this.b1=!1;this.bQ=h.ba(288E4);this.dQ=h.ba(335544320);this.$A=c.Nb(15E3);this.NGb=h.ba(6291456);this.ZK=1E3;this.Aga=!0;this.pta=f;this.TM=h.ba(0);this.p7=c.Nb(0);this.X2=!0;};},function(d,b,a){var m,f,k,q,v,r,u,g;function c(a,b,c){var f;f=this;this.is=a;this.Vk=b;this.config=c;this.tv=function(){return {version:f.version,drmData:f.S0.map(function(a){return a.tv();})};};this.Wja=function(a){var b;f.is.jn(a) && (a=h(a));1 === a.version && (a=l(f.is,a));b={version:2,data:[]};if(2 === a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new g.vW(a);});}catch(S){throw new v.Bc(k.L.eH,k.K.Py,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",S);}}else {if(!a.version || !f.is.Th(a.version))throw new v.Bc(k.L.eH,k.K.Py,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== a.version)throw new v.Bc(k.L.eH,k.K.Jva,void 0,void 0,void 0,"Version number is not supported. Version: " + a.version);}return b;};this.Zq=new r.j$(2,this.config.cR,this.is.jn(this.config.cR),this.Vk,this.tv);}function h(a){a=JSON.parse(a);a={xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!a.licenseContextId || !a.xid || !a.movieId)throw new v.Bc(k.L.eH,k.K.Py);return {version:1,drmData:[a]};}function l(a,b){if(a.Hw(b.drmData))return {version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new g.vW({keySystemId:a.keySystemId,keySessionData:(b && 0 < b.length?b:[void 0]).map(function(b){return {id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),xid:a.xid,movieId:a.movieId}).tv();})};throw new v.Bc(k.L.eH,k.K.Py);}Object.defineProperty(b,"__esModule",{value:!0});b.Uva=void 0;d=a(0);m=a(1);f=a(60);k=a(2);q=a(22);v=a(40);r=a(298);u=a(63);g=a(196);c.prototype.LZa=function(){return this.iTb();};c.prototype.MIa=function(a){return this.Zq.add(a);};c.prototype.fra=function(a){return this.Zq.remove(a,function(a,b){return a.ea === b.ea;});};c.prototype.toString=function(){return JSON.stringify(this.tv(),null,"  ");};c.prototype.iTb=function(){var a;a=this;this.PZa || (this.PZa=new Promise(function(b,c){a.Zq.load(a.Wja).then(function(){b();})["catch"](function(a){a.ka && a.cause?c(new v.Bc(k.L.eH,a.ka,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.PZa;};ma.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Zq.version;}},S0:{configurable:!0,enumerable:!0,get:function(){return this.Zq.ju;}}});a=c;a=d.__decorate([m.O(),d.__param(0,m.l(q.Ie)),d.__param(1,m.l(u.qt)),d.__param(2,m.l(f.Qp))],a);b.Uva=a;},function(d,b,a){var c,h,l,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.vZa=void 0;c=a(2);h=a(75);l=a(112);m=a(195);b.vZa=function(a){m.SJ.parent=a.ob;return function(){f || (f=new Promise(function(a,b){try{a(m.SJ.get(l.m9));}catch(r){b(new h.Re(c.L.R9a,c.K.l$a,void 0,"Unable to extract the DRM services from the dependency injector",r));}}));return f;};};},function(d,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.AAa=void 0;a.prototype.uSa=function(){return void 0 !== this.Cm;};a.prototype.aG=function(a){this.Cm=a;};a.prototype.WOb=function(){this.uSa() && (this.Cm=void 0);};b.AAa=a;},function(d,b,a){var h,l,m,f,k,q,v,r;function c(a,b,c,f,d){this.oE=a;this.oc=b;this.dB=f;this.Gk=d;this.log=c.wb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Wva=void 0;d=a(0);h=a(1);l=a(112);m=a(41);f=a(6);k=a(113);q=a(76);v=a(132);r=a(569);c.prototype.fla=function(a){var b;b=this;return Promise.all([this.oE(),this.Nyb(),this.Gk.Bu()]).then(function(c){var f,d;f=N(c);c=f.next().value;d=f.next().value;f=f.next().value;return c.Twb({type:a,CK:d,context:{De:f.keySystem}},b.dB());}).then(function(a){var c;c=a.Ana.data.map(function(a){return b.oc.encode(a);});b.log.trace("Challenge generated",c);return {Fb:a,Jga:c && c[0]};});};c.prototype.Nyb=function(){var a;a=this;return this.Gk.js().then(function(a){switch(a){case v.Rm.wE:return r.Rxa;case v.Rm.rB:return r.oCa;default:return r.uFa;}}).then(function(b){return b.map(a.oc.decode);});};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(l.KN)),d.__param(1,h.l(m.Ki)),d.__param(2,h.l(f.zb)),d.__param(3,h.l(k.zC)),d.__param(4,h.l(q.qr))],a);b.Wva=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.oCa=b.Rxa=b.uFa=void 0;b.uFa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.Rxa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0="];b.oCa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(d,b,a){var h,l,m,f,k,q;function c(a,b,c,f){this.dB=a;this.Mj=b;this.$E=c;this.ta=f;}Object.defineProperty(b,"__esModule",{value:!0});b.$wa=void 0;d=a(0);h=a(1);l=a(113);m=a(77);f=a(51);k=a(10);a=a(35);c.prototype.w6=function(a,b){var c;c=a.ja?{success:a.ja,persisted:!0}:a instanceof Error?{success:!1,persisted:!0,message:a.message,name:a.name,stack:a.stack}:{success:a.ja,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.wd,ErrorExternalCode:a.Vg,ErrorEdgeCode:a.QJ,ErrorDetails:a.cause && a.cause.Ab};c.browserua=k.Wm;a=this.$E.Tr("securestop",a.ja?"info":"error",c,{u:b.movieId,ea:b.xid,Ok:this.ta.Be,X3:!1});this.Mj.kd(a);};q=c;q=d.__decorate([h.O(),d.__param(0,h.l(l.zC)),d.__param(1,h.l(f.Tm)),d.__param(2,h.l(m.Et)),d.__param(3,h.l(a.hh))],q);b.$wa=q;},function(d,b,a){var c,h,l,m,f,k,q,v,r,u,g;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;d=a(1);c=a(14);h=a(572);l=a(32);m=a(36);f=a(573);k=a(300);q=a(575);v=a(156);r=a(576);u=a(60);g=a(577);b.config=new d.Tc(function(a){a(c.Sc).jf(function(){return function(){return ja._cad_global.config;};});a(l.fW).to(h.lwa).Z();a(l.ek).to(h.jFa).Z();a(l.gH).to(h.bza).Z();a(m.Ul).to(f.$xa).Z();a(k.oaa).to(q.YAa).Z();a(v.K9).to(r.Vxa).Z();a(u.Qp).to(g.vxa).Z();});},function(d,b,a){var m,f,k,q,v;function c(){this.cx={};this.b0a=0;}function h(a,b,c,f,d){this.debug=a;this.zx=b;this.tT=c;this.Af=f;this.M5=d;}function l(a,b,c){this.zx=a;this.tT=b;this.M5=c;}Object.defineProperty(b,"__esModule",{value:!0});b.bza=b.jFa=b.lwa=void 0;d=a(0);m=a(1);f=a(88);k=a(6);q=a(133);v=a(299);a=a(32);l=d.__decorate([m.O(),d.__param(0,m.l(a.gH)),d.__param(1,m.l(q.oY)),d.__param(2,m.l(v.XX))],l);b.lwa=l;h=d.__decorate([m.O(),d.__param(0,m.l(f.xt)),d.__param(1,m.l(a.gH)),d.__param(2,m.l(q.oY)),d.__param(3,m.l(k.zb)),d.__param(4,m.l(v.XX))],h);b.jFa=h;c.prototype.rHb=function(a){this.cx=Object.assign({},this.cx,a);this.b0a++;};ma.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.cx;}},j6:{configurable:!0,enumerable:!0,get:function(){return this.b0a;}}});a=c;a=d.__decorate([m.O()],a);b.bza=a;},function(d,b,a){var h,l,m,f,k,q,v,r;function c(a,b,c){a=f.Te.call(this,a,void 0 === c?"GeneralConfigImpl":c) || this;a.vn=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.$xa=b.XJ=void 0;d=a(0);h=a(4);l=a(1);m=a(43);f=a(44);k=a(36);q=a(32);a=a(130);v={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.XJ=function(a,b){return a.MZa(v[b] || b,k.Hv);};L(c,f.Te);ma.Object.defineProperties(c.prototype,{XJ:{configurable:!0,enumerable:!0,get:function(){return k.Hv.Lbb;}},Tsa:{configurable:!0,enumerable:!0,get:function(){return h.ah(8);}},HA:{configurable:!0,enumerable:!0,get:function(){return "";}},nJ:{configurable:!0,enumerable:!0,get:function(){return "";}},DG:{configurable:!0,enumerable:!0,get:function(){return "";}},Q2a:{configurable:!0,enumerable:!0,get:function(){return !1;}},t_:{configurable:!0,enumerable:!0,get:function(){return !0;}},X2:{configurable:!0,enumerable:!0,get:function(){return this.vn.X2;}},Yub:{configurable:!0,enumerable:!0,get:function(){return !1;}},wh:{configurable:!0,enumerable:!0,get:function(){return {};}},a0a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Xma:{configurable:!0,enumerable:!0,get:function(){return !1;}},Q7:{configurable:!0,enumerable:!0,get:function(){return !1;}},kt:{configurable:!0,enumerable:!0,get:function(){return !1;}},kR:{configurable:!0,enumerable:!0,get:function(){return !0;}},JB:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},qu:{configurable:!0,enumerable:!0,get:function(){return 0 <= [k.Hv.JEa,k.Hv.eza].indexOf(this.XJ);}}});r=c;d.__decorate([m.config(b.XJ,"environment")],r.prototype,"XJ",null);d.__decorate([m.config(m.ai,"storageTimeout")],r.prototype,"Tsa",null);d.__decorate([m.config(m.string,"groupName")],r.prototype,"HA",null);d.__decorate([m.config(m.string,"canaryGroupName",!0)],r.prototype,"nJ",null);d.__decorate([m.config(m.string,"uiGroupName")],r.prototype,"DG",null);d.__decorate([m.config(m.Gc,"testIndexDBForCorruptedDatabase")],r.prototype,"Q2a",null);d.__decorate([m.config(m.Gc,"applyIndexedDbOpenWorkaround")],r.prototype,"t_",null);d.__decorate([m.config(m.Gc,"ignoreIdbOpenError")],r.prototype,"X2",null);d.__decorate([m.config(m.Gc,"executeStorageMigration")],r.prototype,"Yub",null);d.__decorate([m.config(m.object(),"browserInfo")],r.prototype,"wh",null);d.__decorate([m.config(m.Gc,"retryAllMslRequestsOnError")],r.prototype,"a0a",null);d.__decorate([m.config(m.Gc,"isTestAccount")],r.prototype,"Xma",null);d.__decorate([m.config(m.Gc,"vuiCommandLogging")],r.prototype,"Q7",null);d.__decorate([m.config(m.Gc,"useRangeHeader")],r.prototype,"kt",null);d.__decorate([m.config(m.Gc,"enableMilestoneEventList")],r.prototype,"kR",null);d.__decorate([m.config(m.object,"storageRules")],r.prototype,"JB",null);r=d.__decorate([l.O(),d.__param(0,l.l(q.ek)),d.__param(1,l.l(a.xH)),d.__param(2,l.l(q.jC)),d.__param(2,l.optional())],r);b.$xa=r;},function(d,b){function a(a){this.value=a;}Object.defineProperty(b,"__esModule",{value:!0});b.uaa=void 0;a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.by=function(a){return void 0 === this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0 === this.value?a.empty():a.of(b(this.value));};b.uaa=a;},function(d,b,a){var h,l,m,f;function c(a,b){return m.Te.call(this,a,void 0 === b?"NetworkMonitorConfigImpl":b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.YAa=void 0;d=a(0);h=a(1);l=a(43);m=a(44);a=a(32);L(c,m.Te);ma.Object.defineProperties(c.prototype,{z4a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;d.__decorate([l.config(l.Gc,"useNetworkMonitor")],f.prototype,"z4a",null);f=d.__decorate([h.O(),d.__param(0,h.l(a.ek)),d.__param(1,h.l(a.jC)),d.__param(1,h.optional())],f);b.YAa=f;},function(d,b,a){var h,l,m,f,k,q,v;function c(a,b,c,d){a=f.Te.call(this,a,void 0 === d?"FtlProbeConfigImpl":d) || this;a.Pf=b;a.ta=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Vxa=void 0;d=a(0);h=a(35);l=a(1);m=a(4);f=a(44);k=a(114);q=a(43);a=a(32);L(c,f.Te);ma.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return !0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.Xja + (-1 === this.Xja.indexOf("?")?"?":"&") + "monotonic=" + this.ta.sWa + "&device=web";}},Y1a:{configurable:!0,enumerable:!0,get:function(){return m.nb;}},Oja:{configurable:!0,enumerable:!0,get:function(){return "";}},Xja:{configurable:!0,enumerable:!0,get:function(){return this.Pf.endpoint + "/ftl/probe" + (this.Oja?"?force=" + this.Oja:"");}}});v=c;d.__decorate([q.config(q.Gc,"ftlEnabled")],v.prototype,"enabled",null);d.__decorate([q.config(q.ai,"ftlStartDelay")],v.prototype,"Y1a",null);d.__decorate([q.config(q.string,"ftlEndpointForceParam")],v.prototype,"Oja",null);d.__decorate([q.config(q.url,"ftlEndpoint")],v.prototype,"Xja",null);v=d.__decorate([l.O(),d.__param(0,l.l(a.ek)),d.__param(1,l.l(k.$B)),d.__param(2,l.l(h.hh)),d.__param(3,l.l(a.jC)),d.__param(3,l.optional())],v);b.Vxa=v;},function(d,b,a){var h,l,m,f;function c(a,b){return f.s8.call(this,a,void 0 === b?"ChromeEmeConfig":b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.vxa=void 0;d=a(0);h=a(1);l=a(32);m=a(43);f=a(578);L(c,f.s8);ma.Object.defineProperties(c.prototype,{f3:{configurable:!0,enumerable:!0,get:function(){return !0;}},e5:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;d.__decorate([m.config(m.Gc,"initializeKeySystemAtStartup")],a.prototype,"f3",null);d.__decorate([m.config(m.Gc,"outputRestrictedIsFatal")],a.prototype,"e5",null);a=d.__decorate([h.O(),d.__param(0,h.l(l.ek)),d.__param(1,h.l(l.jC)),d.__param(1,h.optional())],a);b.vxa=a;},function(d,b,a){var h,l,m,f,k;function c(a,b){return l.Te.call(this,a,void 0 === b?"EmeConfigImpl":b) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.s8=void 0;d=a(0);h=a(1);l=a(44);m=a(32);f=a(4);a=a(43);L(c,l.Te);ma.Object.defineProperties(c.prototype,{f3:{configurable:!0,enumerable:!0,get:function(){return !1;}},Il:{configurable:!0,enumerable:!0,get:function(){return !1;}},x0a:{configurable:!0,enumerable:!0,get:function(){return !1;}},VA:{configurable:!0,enumerable:!0,get:function(){return f.ah(5);}},Upa:{configurable:!0,enumerable:!0,get:function(){return f.ah(10);}},hma:{configurable:!0,enumerable:!0,get:function(){return f.Nb(2E3);}},Rra:{configurable:!0,enumerable:!0,get:function(){return f.Nb(1E3);}},zLb:{configurable:!0,enumerable:!0,get:function(){return f.Nb(2500);}},cR:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},xR:{configurable:!0,enumerable:!0,get:function(){return !1;}},Ms:{configurable:!0,enumerable:!0,get:function(){return !0;}},tJa:{configurable:!0,enumerable:!0,get:function(){return f.ah(30);}},uJa:{configurable:!0,enumerable:!0,get:function(){return f.ah(30);}},xJa:{configurable:!0,enumerable:!0,get:function(){return f.ah(30);}},vJa:{configurable:!0,enumerable:!0,get:function(){return f.ah(30);}},yJa:{configurable:!0,enumerable:!0,get:function(){return f.ah(30);}},hsa:{configurable:!0,enumerable:!0,get:function(){return "";}},e5:{configurable:!0,enumerable:!0,get:function(){return !1;}},OXa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});k=c;d.__decorate([a.config(a.Gc,"initializeKeySystemAtStartup")],k.prototype,"f3",null);d.__decorate([a.config(a.Gc,"secureStopEnabled")],k.prototype,"Il",null);d.__decorate([a.config(a.Gc,"secureStopRequiresReload")],k.prototype,"x0a",null);d.__decorate([a.config(a.ai,"licenseRenewalRequestDelay")],k.prototype,"VA",null);d.__decorate([a.config(a.ai,"persistedReleaseDelay")],k.prototype,"Upa",null);d.__decorate([a.config(a.ai,"secureStopKeyMessageTimeoutMilliseconds")],k.prototype,"hma",null);d.__decorate([a.config(a.ai,"secureStopKeyAddedTimeoutMilliseconds")],k.prototype,"Rra",null);d.__decorate([a.config(a.ai,"secureStopPersistedKeyMessageTimeoutMilliseconds")],k.prototype,"zLb",null);d.__decorate([a.config(a.string,"drmPersistKey")],k.prototype,"cR",null);d.__decorate([a.config(a.Gc,"forceLimitedDurationLicense")],k.prototype,"xR",null);d.__decorate([a.config(a.Gc,"prepareCadmium")],k.prototype,"Ms",null);d.__decorate([a.config(a.ai,"apiCloseTimeout")],k.prototype,"tJa",null);d.__decorate([a.config(a.ai,"apiCreateMediaKeysTimeout")],k.prototype,"uJa",null);d.__decorate([a.config(a.ai,"apiSetServerCertificateTimeout")],k.prototype,"xJa",null);d.__decorate([a.config(a.ai,"apiGenerateRequestTimeout")],k.prototype,"vJa",null);d.__decorate([a.config(a.ai,"apiUpdateTimeout")],k.prototype,"yJa",null);d.__decorate([a.config(a.string,"serverCertificate")],k.prototype,"hsa",null);d.__decorate([a.config(a.Gc,"outputRestrictedIsFatal")],k.prototype,"e5",null);d.__decorate([a.config(a.Gc,"outputRestrictedIsFatalForUhd")],k.prototype,"OXa",null);k=d.__decorate([h.O(),d.__param(0,h.l(m.ek)),d.__param(1,h.l(m.jC)),d.__param(1,h.optional())],k);b.s8=k;},function(d,b,a){var c,h,l,m,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.iOa=void 0;d=a(1);c=a(112);h=a(580);l=a(76);m=a(643);f=a(319);k=a(652);b.iOa=new d.Tc(function(a){a(c.m9).to(h.axa).Z();a(l.qr).to(m.zAa).Z();a(f.y9).to(k.xxa);});},function(d,b,a){var h,l,m,f,k,q,v,r,u,g,A,y,I,J,D,n;function c(a,b,c,f,d,k,q,h,m,r,u){var g;g=this;this.Ea=b;this.ev=c;this.config=f;this.xq=d;this.kOa=k;this.lJ=q;this.Gk=h;this.dB=m;this.Bl=r;this.Hq=u;this.TTb=function(a,b){var c;g.Bl.mark(D.Aa.GW,a.Eg.ea,"generate-challenge");c=b.HS();c && (c.hV(1).subscribe(function(c){g.yUa.next({nu:b.js(),data:c.aj});g.Bl.mark(D.Aa.FW,a.Eg.ea,"generate-challenge");}),c.map(function(c){return g.Dka(a,b,c);}).gF().P0(function(a){return b.QIa(a);}).subscribe(void 0,function(a){b.ujb(a);},function(){g.fmb(b);}));};this.y2a=function(a){a.qU.map(function(b){return g.xRa(a,b);}).gF().subscribe(function(b){return a.XIa(b.response);},function(b){return a.XIa(b);});};this.log=a.wb("DrmServices");this.yUa=new l.po();this.xq().Kp && this.lJ.LZa().then(function(){g.sTb();})["catch"](function(a){g.log.error("Unable to load the persisted DRM data",a);});this.config.f3 && this.Gk.Bu().then(function(a){return g.GMa(a,{De:a.keySystem},v.jh.bk,m()).vu(function(a){return a.close();}).subscribe();});}Object.defineProperty(b,"__esModule",{value:!0});b.axa=void 0;d=a(0);h=a(1);l=a(134);m=a(6);f=a(42);k=a(318);q=a(65);v=a(61);r=a(60);u=a(197);g=a(196);A=a(319);y=a(14);I=a(76);J=a(113);D=a(78);a=a(198);c.prototype.tB=function(a,b){var c;c=this;return new Promise(function(f,d){c.ri(a,b).subscribe(f,d);});};c.prototype.Twb=function(a,b){var c;c=this;return new Promise(function(f,d){c.L1(a,b).subscribe(f,d);});};c.prototype.ri=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.YQa(a,a.type));return this.eE(a.context,a.type,b).vu(function(b){c.qWa(a,b);return c.fMa(b.L1(a.CK),b);});};c.prototype.qWa=function(a,b){b.FRb(a.Eg);this.TTb(a,b);};c.prototype.vTb=function(a,b){var c,f;c=this;this.config.Il?(this.log.info("Releasing server license and EME license",this.hla(a)),this.y2a(a),f=a.TPa(!1)):(this.log.info("Releasing server license",this.hla(a)),f=this.xRa(a));return this.fMa(f,a).P0(function(){var f;f=Object.assign({De:a.context.De,qc:[]},a.Eg);c.lJ.fra(f);b.WOb();});};c.prototype.HS=function(){return this.yUa.Gfa();};c.prototype.YQa=function(a,b){return {movieId:a.Eg.u,xid:a.Eg.ea,type:v.Bna(b)};};c.prototype.hla=function(a){return {movieId:a.Eg?a.Eg.u:void 0,xid:a.Eg?a.Eg.ea:void 0,keySessionId:a.qx()};};c.prototype.fMa=function(a,b){return l.Eb.concat(a,l.Eb.of(b)).pi();};c.prototype.Dka=function(a,b,c){this.log.info("Sending license request",this.YQa(a,c.gj));return l.Eb.xu(this.ev.ri({ea:a.Eg.ea,vi:a.Eg.vi,R0:[a.Eg.ol],aj:[{sessionId:b.qx() || "session",data:c.aj}],gj:c.gj,nu:b.js(),lLa:c.lLa,VS:a.Eg.VS,hj:a.Eg.hj}));};c.prototype.xRa=function(a,b){this.log.info("Sending release request",this.hla(a));return b?l.Eb.xu(this.ev.release({ea:(a.Eg || a.IOb).ea,qc:a.qc,aj:b.aj})):l.Eb.xu(this.ev.release({ea:a.Eg.ea,qc:a.qc}));};c.prototype.L1=function(a,b){return this.eE(a.context,a.type,b).vu(function(b){return l.Eb.race(b.L1(a.CK).map(function(){return b;}),b.HS().map(function(){return b;}));});};c.prototype.eE=function(a,b,c){var f;f=this;return l.Eb.xu(this.Gk.Bu()).vu(function(d){return f.GMa(d,a,b,c);});};c.prototype.GMa=function(a,b,c,f){return l.Eb.xu(this.kOa.create()).vu(function(d){return d.rn(b,a,f,c);});};c.prototype.rTb=function(a){var b;b=this;return this.config.Il?l.Eb.xu(this.vFb(a)):l.Eb.xu(this.ev.release({ea:a.ea,qc:a.qc}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return l.Eb.empty();}).map(function(){return a;});};c.prototype.vFb=function(a){var b;b=this;return this.Gk.Bu().then(function(c){return b.kOa.create().then(function(f){return f.rn({De:c.keySystem},c,b.dB(),v.jh.bk).vu(function(){return f.HUa(a);}).vu(function(){b.y2a(f);return f.TPa(!0);}).ft().then(function(){return f.EJa().ft();}).then(function(){return b.Hq.w6({ja:!0},a);})["catch"](function(c){return b.Hq.w6(c,a);}).then(function(){return a;});});});};c.prototype.sTb=function(){var a;a=this;this.Ea.Ai(this.config.Upa,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.lJ.S0.length});b=a.lJ.S0.filter(function(a){return !a.active;}).map(function(b){return a.rTb(b);});l.Eb.concat.apply(l.Eb,[].concat(X(b))).subscribe(function(b){a.lJ.fra(b);});});};c.prototype.fmb=function(a){var b;if(a.qx() && a.Eg){b=new g.vW();b.De=a.context.De;b.qc=a.qc;b.ea=a.Eg.ea;b.u=a.Eg.u;this.lJ.MIa(b);}};n=c;n=d.__decorate([h.O(),d.__param(0,h.l(m.zb)),d.__param(1,h.l(f.ph)),d.__param(2,h.l(k.l9)),d.__param(3,h.l(r.Qp)),d.__param(4,h.l(y.Sc)),d.__param(5,h.l(A.y9)),d.__param(6,h.l(u.cW)),d.__param(7,h.l(I.qr)),d.__param(8,h.l(J.zC)),d.__param(9,h.l(q.mH)),d.__param(10,h.l(a.wW))],n);b.axa=n;},function(d,b,a){var c,h,l;c=a(64);h=a(200);l=a(199);b.dVb=function(a,b,d){if(a){if(a instanceof c.qo)return a;if(a[h.UF])return a[h.UF]();}return a || b || d?new c.qo(a,b,d):new c.qo(l.empty);};},function(d,b,a){var h,l;function c(){try{return l.apply(this,arguments);}catch(m){return (h.oA.e=m,h.oA);}}h=a(303);b.K3a=function(a){l=a;return c;};},function(d,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(b){function c(a){b.call(this);this.ru=a;a=Error.call(this,a?a.length + " errors occurred during unsubscription:\n  " + a.map(function(a,b){return b + 1 + ") " + a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.uY=d;},function(d,b,a){var h;function c(a){return a?1 === a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:h.IIb;}h=a(585);b.BLb=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}return c(a);};b.CLb=c;},function(d,b){b.IIb=function(){};},function(d,b,a){var c,h,l,m,f,k,q;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(304);h=a(587);l=a(115);m=a(309);f=a(305);k=a(306);a=(function(a){function b(b,c,f){void 0 === b && (b=Number.POSITIVE_INFINITY);void 0 === c && (c=Number.POSITIVE_INFINITY);a.call(this);this.Ea=f;this.cg=[];this.Qdb=1 > b?1:b;this.Qib=1 > c?1:c;}c(b,a);b.prototype.next=function(b){var c;c=this.GGa();this.cg.push(new q(c,b));this.wIa();a.prototype.next.call(this,b);};b.prototype.gn=function(a){var b,c,d;b=this.wIa();c=this.Ea;if(this.closed)throw new f.tH();this.aS?d=l.dz.EMPTY:this.Xg?d=l.dz.EMPTY:(this.Yx.push(a),d=new k.yEa(this,a));c && a.add(a=new m.lBa(a,c));for(var c=b.length,q=0;q < c && !a.closed;q++){a.next(b[q].value);}this.aS?a.error(this.nta):this.Xg && a.complete();return d;};b.prototype.GGa=function(){return (this.Ea || h.Dl).now();};b.prototype.wIa=function(){for(var a=this.GGa(),b=this.Qdb,c=this.Qib,f=this.cg,d=f.length,k=0;k < d && !(a - f[k].time < c);){k++;}d > b && (k=Math.max(k,d - b));0 < k && f.splice(0,k);return f;};return b;})(d.po);b.Wbb=a;q=(function(){return function(a,b){this.time=a;this.value=b;};})();},function(d,b,a){d=a(588);a=a(590);b.Dl=new a.Pbb(d.Nbb);},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b,c){a.call(this,b,c);this.Ea=b;this.oua=c;}c(b,a);b.prototype.bd=function(b,c){void 0 === c && (c=0);if(0 < c)return a.prototype.bd.call(this,b,c);this.om=c;this.state=b;this.Ea.flush(this);return this;};b.prototype.Pe=function(b,c){return 0 < c || this.closed?a.prototype.Pe.call(this,b,c):this.qGa(b);};b.prototype.mra=function(b,c,d){void 0 === d && (d=0);return null !== d && 0 < d || null === d && 0 < this.om?a.prototype.mra.call(this,b,c,d):b.flush(this);};return b;})(a(307).kva);b.Nbb=d;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(){a.call(this);}c(b,a);b.prototype.bd=function(){return this;};return b;})(a(115).dz);b.X5a=d;},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(){a.apply(this,arguments);}c(b,a);return b;})(a(308).nva);b.Pbb=d;},function(d,b){d=(function(){function a(b,d){void 0 === d && (d=a.now);this.Acb=b;this.now=d;}a.prototype.bd=function(a,b,d){void 0 === b && (b=0);return new this.Acb(this,a).bd(d,b);};a.now=Date.now?Date.now:function(){return +new Date();};return a;})();b.zcb=d;},function(d,b,a){a(24);d=(function(){function a(a,b,c){this.kind=a;this.value=b;this.error=c;this.zK="N" === a;}a.prototype.observe=function(a){switch(this.kind){case "N":return a.next && a.next(this.value);case "E":return a.error && a.error(this.error);case "C":return a.complete && a.complete();}};a.prototype.P0=function(a,b,c){switch(this.kind){case "N":return a && a(this.value);case "E":return b && b(this.error);case "C":return c && c();}};a.prototype.accept=function(a,b,c){return a && "function" === typeof a.next?this.observe(a):this.P0(a,b,c);};a.Yqb=function(b){return "undefined" !== typeof b?new a("N",b):a.UVb;};a.Eqb=function(b){return new a("E",void 0,b);};a.tqb=function(){return a.bob;};a.bob=new a("C");a.UVb=new a("N",void 0);return a;})();b.Notification=d;},function(d,b,a){d=a(24);a=a(594);d.Eb.prototype["catch"]=a.Zca;d.Eb.prototype.Zca=a.Zca;},function(d,b,a){var c;c=a(595);b.Zca=function(a){return c.Pmb(a)(this);};},function(d,b,a){var c,h,l,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(158);h=a(159);b.Pmb=function(a){return function(b){var c;c=new l(a);b=b.zs(c);return c.Ega=b;};};l=(function(){function a(a){this.Zra=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.Zra,this.Ega));};return a;})();m=(function(a){function b(b,c,f){a.call(this,b);this.Zra=c;this.Ega=f;}c(b,a);b.prototype.error=function(b){var c;if(!this.Xg){c=void 0;try{c=this.Zra(b,this.Ega);}catch(r){a.prototype.error.call(this,r);return;}this.Gib();this.add(h.b7(this,c));}};return b;})(d.JX);},function(d,b,a){var c;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(a){function b(b,c,d){a.call(this);this.parent=b;this.FKb=c;this.EKb=d;this.index=0;}c(b,a);b.prototype.cm=function(a){this.parent.V4(this.FKb,a,this.EKb,this.index++,this);};b.prototype.pf=function(a){this.parent.QIb(a);this.unsubscribe();};b.prototype.le=function(){this.parent.Wu(this);this.unsubscribe();};return b;})(a(64).qo);b.cza=d;},function(d,b,a){d=a(24);a=a(598);d.Eb.prototype.P0=a.oda;d.Eb.prototype.oda=a.oda;},function(d,b,a){var c;c=a(599);b.oda=function(a,b,d){return c.sUb(a,b,d)(this);};},function(d,b,a){var c,h,l,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});h=a(64);b.sUb=function(a,b,c){return function(f){return f.zs(new l(a,b,c));};};l=(function(){function a(a,b,c){this.AIb=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.AIb,this.error,this.complete));};return a;})();m=(function(a){function b(b,c,f,d){a.call(this,b);b=new h.qo(c,f,d);b.ao=!0;this.add(b);this.Dra=b;}c(b,a);b.prototype.cm=function(a){var b;b=this.Dra;b.next(a);b.mG?this.destination.error(b.nG):this.destination.next(a);};b.prototype.pf=function(a){var b;b=this.Dra;b.error(a);b.mG?this.destination.error(b.nG):this.destination.error(a);};b.prototype.le=function(){var a;a=this.Dra;a.complete();a.mG?this.destination.error(a.nG):this.destination.complete();};return b;})(h.qo);},function(d,b,a){d=a(24);a=a(601);d.Eb.prototype.pi=a.pi;},function(d,b,a){var c;c=a(602);b.pi=function(a,b,d){return c.pi(a,b,d)(this);};},function(d,b,a){var c,h,l,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(64);h=a(603);b.pi=function(a,b,c){return function(f){return f.zs(new l(a,b,c,f));};};l=(function(){function a(a,b,c,f){this.sB=a;this.nv=b;this.defaultValue=c;this.source=f;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.sB,this.nv,this.defaultValue,this.source));};return a;})();m=(function(a){function b(b,c,f,d,k){a.call(this,b);this.sB=c;this.nv=f;this.defaultValue=d;this.source=k;this.zK=!1;this.index=0;"undefined" !== typeof d && (this.P3=d,this.zK=!0);}c(b,a);b.prototype.cm=function(a){var b;b=this.index++;this.sB?this.Dib(a,b):this.nv?this.yIa(a,b):(this.P3=a,this.zK=!0);};b.prototype.Dib=function(a,b){var c;try{c=this.sB(a,b,this.source);}catch(u){this.destination.error(u);return;}c && (this.nv?this.yIa(a,b):(this.P3=a,this.zK=!0));};b.prototype.yIa=function(a,b){var c;try{c=this.nv(a,b);}catch(u){this.destination.error(u);return;}this.P3=c;this.zK=!0;};b.prototype.le=function(){var a;a=this.destination;this.zK?(a.next(this.P3),a.complete()):a.error(new h.T8a());};return b;})(d.qo);},function(d,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(b){function c(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.T8a=d;},function(d,b,a){d=a(24);a=a(605);d.Eb.prototype.map=a.map;},function(d,b,a){var c;c=a(606);b.map=function(a,b){return c.map(a,b)(this);};},function(d,b,a){var c,h,l;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(64);b.map=function(a,b){return function(c){if("function" !== typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.zs(new h(a,b));};};h=(function(){function a(a,b){this.HF=a;this.jta=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.HF,this.jta));};return a;})();b.y0b=h;l=(function(a){function b(b,c,f){a.call(this,b);this.HF=c;this.count=0;this.jta=f || this;}c(b,a);b.prototype.cm=function(a){var b;try{b=this.HF.call(this.jta,a,this.count++);}catch(v){this.destination.error(v);return;}this.destination.next(b);};return b;})(d.qo);},function(d,b,a){d=a(24);a=a(608);d.Eb.prototype.gF=a.gF;},function(d,b,a){var c;c=a(312);b.gF=function(a){void 0 === a && (a=Number.POSITIVE_INFINITY);return c.gF(a)(this);};},function(d,b){b.jCb=function(a){return a;};},function(d,b,a){d=a(24);a=a(611);d.Eb.prototype.jL=a.jL;d.Eb.prototype.vu=a.jL;},function(d,b,a){var c;c=a(313);b.jL=function(a,b,d){void 0 === d && (d=Number.POSITIVE_INFINITY);return c.jL(a,b,d)(this);};},function(d,b,a){d=a(24);a=a(613);d.Eb.prototype.PU=a.PU;},function(d,b,a){var c;c=a(614);b.PU=function(a){return c.PU(a)(this);};},function(d,b,a){var c,h,l;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(64);b.PU=function(a){return function(b){return b.zs(new h(a));};};h=(function(){function a(a){this.sB=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.sB));};return a;})();l=(function(a){function b(b,c){a.call(this,b);this.sB=c;this.Lsa=!0;this.index=0;}c(b,a);b.prototype.cm=function(a){var b;b=this.destination;this.Lsa && this.HVb(a);this.Lsa || b.next(a);};b.prototype.HVb=function(a){try{this.Lsa=! !this.sB(a,this.index++);}catch(q){this.destination.error(q);}};return b;})(d.qo);},function(d,b,a){d=a(24);a=a(616);d.Eb.prototype.hV=a.hV;},function(d,b,a){var c;c=a(617);b.hV=function(a){return c.hV(a)(this);};},function(d,b,a){var c,h,l,m,f;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(64);h=a(618);l=a(160);b.hV=function(a){return function(b){return 0 === a?new l.AW():b.zs(new m(a));};};m=(function(){function a(a){this.total=a;if(0 > this.total)throw new h.Y5a();}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.total));};return a;})();f=(function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0;}c(b,a);b.prototype.cm=function(a){var b,c;b=this.total;c=++this.count;c <= b && (this.destination.next(a),c === b && (this.destination.complete(),this.unsubscribe()));};return b;})(d.qo);},function(d,b){var a;a=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var d in b){b.hasOwnProperty(d) && (a[d]=b[d]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=(function(b){function c(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(c,b);return c;})(Error);b.Y5a=d;},function(d,b,a){d=a(24);a=a(620);d.Eb.prototype.iV=a.iV;},function(d,b,a){var c;c=a(621);b.iV=function(a){return c.iV(a)(this);};},function(d,b,a){var c,h,l,m;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(158);h=a(159);b.iV=function(a){return function(b){return b.zs(new l(a));};};l=(function(){function a(a){this.bb=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.bb));};return a;})();m=(function(a){function b(b,c){a.call(this,b);this.bb=c;this.add(h.b7(this,c));}c(b,a);b.prototype.V4=function(){this.complete();};b.prototype.Wu=function(){};return b;})(d.JX);},function(){},function(d,b,a){d=a(24);a=a(624);d.Eb.concat=a.concat;},function(d,b,a){var c,h,l,m;c=a(203);h=a(314);l=a(316);m=a(628);b.concat=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}return 1 === a.length || 2 === a.length && c.y3(a[1])?l.from(a[0]):m.job()(h.of.apply(void 0,a));};},function(d,b,a){var c,h,l,m,f,k,q,v,r,u,g,A;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});h=a(157);l=a(310);m=a(311);f=a(317);k=a(626);q=a(204);v=a(627);r=a(202);u=a(24);g=a(309);A=a(201);d=(function(a){function b(b,c){a.call(this,null);this.mEb=b;this.Ea=c;}c(b,a);b.create=function(a,c){if(null != a){if("function" === typeof a[A.observable])return a instanceof u.Eb && !c?a:new b(a,c);if(h.isArray(a))return new q.d8(a,c);if(m.uS(a))return new f.hDa(a,c);if("function" === typeof a[r.iterator] || "string" === typeof a)return new k.A$a(a,c);if(l.vTa(a))return new v.c6a(a,c);}throw new TypeError((null !== a && typeof a || a) + " is not observable");};b.prototype.gn=function(a){var b,c;b=this.mEb;c=this.Ea;return null == c?b[A.observable]().subscribe(a):b[A.observable]().subscribe(new g.lBa(a,c,0));};return b;})(u.Eb);b.f9a=d;},function(d,b,a){var c,h,l,m,f,k;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});h=a(89);d=a(24);l=a(202);a=(function(a){function b(b,c){a.call(this);this.Ea=c;if(null == b)throw Error("iterator cannot be null.");if((c=b[l.iterator]) || "string" !== typeof b){if(c || void 0 === b.length){if(!c)throw new TypeError("object is not iterable");b=b[l.iterator]();}else b=new f(b);}else b=new m(b);this.iterator=b;}c(b,a);b.create=function(a,c){return new b(a,c);};b.Ic=function(a){var b,c,f,d;b=a.index;c=a.iterator;f=a.Vj;if(a.aS)f.error(a.error);else {d=c.next();d.done?f.complete():(f.next(d.value),a.index=b + 1,f.closed?"function" === typeof c["return"] && c["return"]():this.bd(a));}};b.prototype.gn=function(a){var c,f;c=this.iterator;f=this.Ea;if(f)return f.bd(b.Ic,0,{index:0,iterator:c,Vj:a});do {f=c.next();if(f.done){a.complete();break;}else a.next(f.value);if(a.closed){"function" === typeof c["return"] && c["return"]();break;}}while(1);};return b;})(d.Eb);b.A$a=a;m=(function(){function a(a,b,c){void 0 === b && (b=0);void 0 === c && (c=a.length);this.KB=a;this.jS=b;this.zna=c;}a.prototype[l.iterator]=function(){return this;};a.prototype.next=function(){return this.jS < this.zna?{done:!1,value:this.KB.charAt(this.jS++)}:{done:!0,value:void 0};};return a;})();f=(function(){function a(a,b,c){var f;void 0 === b && (b=0);if(void 0 === c)if((c=+a.length,isNaN(c)))c=0;else if(0 !== c && "number" === typeof c && h.root.isFinite(c)){f=+c;c=(0 === f || isNaN(f)?f:0 > f?-1:1) * Math.floor(Math.abs(c));c=0 >= c?0:c > k?k:c;}this.okb=a;this.jS=b;this.zna=c;}a.prototype[l.iterator]=function(){return this;};a.prototype.next=function(){return this.jS < this.zna?{done:!1,value:this.okb[this.jS++]}:{done:!0,value:void 0};};return a;})();k=Math.pow(2,53) - 1;},function(d,b,a){var c,h,l;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});d=a(24);h=a(315);l=a(160);a=(function(a){function b(b,c){a.call(this);this.Ffa=b;(this.Ea=c) || 1 !== b.length || (this.jw=!0,this.value=b[0]);}c(b,a);b.create=function(a,c){var f;f=a.length;return 0 === f?new l.AW():1 === f?new h.PDa(a[0],c):new b(a,c);};b.Ic=function(a){var b,c,f;b=a.Ffa;c=a.index;f=a.Vj;f.closed || (c >= a.length?f.complete():(f.next(b[c]),a.index=c + 1,this.bd(a)));};b.prototype.gn=function(a){var c,f,d;c=this.Ffa;f=this.Ea;d=c.length;if(f)return f.bd(b.Ic,0,{Ffa:c,index:0,length:d,Vj:a});for(f=0;f < d && !a.closed;f++){a.next(c[f]);}a.complete();};return b;})(d.Eb);b.c6a=a;},function(d,b,a){var c;c=a(312);b.job=function(){return c.gF(1);};},function(d,b,a){d=a(24);a=a(630);d.Eb.empty=a.empty;},function(d,b,a){d=a(160);b.empty=d.AW.create;},function(d,b,a){d=a(24);a=a(632);d.Eb.xu=a.xu;},function(d,b,a){d=a(317);b.xu=d.hDa.create;},function(d,b,a){d=a(24);a=a(634);d.Eb.race=a.race;},function(d,b,a){var c,h,l,m,f,k;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});h=a(157);l=a(204);d=a(158);m=a(159);b.race=function(){for(var a=[],b=0;b < arguments.length;b++){a[b - 0]=arguments[b];}if(1 === a.length)if(h.isArray(a[0]))a=a[0];else return a[0];return new l.d8(a).zs(new f());};f=(function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new k(a));};return a;})();b.m2b=f;k=(function(a){function b(b){a.call(this,b);this.Fla=!1;this.rpa=[];this.XU=[];}c(b,a);b.prototype.cm=function(a){this.rpa.push(a);};b.prototype.le=function(){var a,b,f;a=this.rpa;b=a.length;if(0 === b)this.destination.complete();else {for(var c=0;c < b && !this.Fla;c++){f=a[c];f=m.b7(this,f,f,c);this.XU && this.XU.push(f);this.add(f);}this.rpa=null;}};b.prototype.V4=function(a,b,c){var f;if(!this.Fla){this.Fla=!0;for(a=0;a < this.XU.length;a++){if(a !== c){f=this.XU[a];f.unsubscribe();this.remove(f);}}this.XU=null;}this.destination.next(b);};return b;})(d.JX);b.n2b=k;},function(d,b,a){d=a(24);a=a(314);d.Eb.of=a.of;},function(d,b,a){d=a(24);a=a(637);d.Eb.Cy=a.Cy;},function(d,b,a){d=a(638);b.Cy=d.Qcb.create;},function(d,b,a){var c,h,l,m,f;c=this && this.__extends || (function(a,b){function c(){this.constructor=a;}for(var f in b){b.hasOwnProperty(f) && (a[f]=b[f]);}a.prototype=null === b?Object.create(b):(c.prototype=b.prototype,new c());});h=a(639);d=a(24);l=a(640);m=a(203);f=a(641);a=(function(a){function b(b,c,d){void 0 === b && (b=0);a.call(this);this.q5=-1;this.bOa=0;h.NDb(c)?this.q5=1 > Number(c) && 1 || Number(c):m.y3(c) && (d=c);m.y3(d) || (d=l.async);this.Ea=d;this.bOa=f.tDb(b)?+b - this.Ea.now():b;}c(b,a);b.create=function(a,c,f){void 0 === a && (a=0);return new b(a,c,f);};b.Ic=function(a){var b,c,f;b=a.index;c=a.q5;f=a.Vj;f.next(b);if(!f.closed){if(-1 === c)return f.complete();a.index=b + 1;this.bd(a,c);}};b.prototype.gn=function(a){return this.Ea.bd(b.Ic,this.bOa,{index:0,q5:this.q5,Vj:a});};return b;})(d.Eb);b.Qcb=a;},function(d,b,a){var c;c=a(157);b.NDb=function(a){return !c.isArray(a) && 0 <= a - parseFloat(a) + 1;};},function(d,b,a){d=a(307);a=a(308);b.async=new a.nva(d.kva);},function(d,b){b.tDb=function(a){return a instanceof Date && !isNaN(+a);};},function(d,b,a){d=a(24);a=a(316);d.Eb.from=a.from;},function(d,b,a){var h,l,m,f,k,q,v,r,u,g,A,y,I,J,n,p,S,O,Y,E,da;function c(a,b,c,f,d,k,l,h,q,m){this.Gq=a;this.Wd=b;this.eh=c;this.mi=f;this.oc=d;this.is=k;this.kT=l;this.config=h;this.bj=q;this.Hh=m;this.log=this.Gq.wb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.zAa=void 0;d=a(0);h=a(1);l=a(2);m=a(6);f=a(75);k=a(132);q=a(644);v=a(645);r=a(646);u=a(206);g=a(27);A=a(102);y=a(41);I=a(22);J=a(33);n=a(647);p=a(649);S=a(104);O=a(14);Y=a(131);E=a(60);a=a(66);c.prototype.Bu=function(){this.Sq || (this.Sq=this.cQb());return this.Sq;};c.prototype.Mqb=function(a){var b;b=this;return new Promise(function(c,d){var k,h;k=Y.Wb.qka(a);h=b.CQa(k);k=b.yQa(k);h.tPb(a,k.$ka()).then(function(f){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:f.getConfiguration?JSON.stringify(f.getConfiguration()):void 0});c(f);})["catch"](function(c){b.log.error("Unable to create the media key system access object",{keySystem:a,error:c.message});d(new f.Re(l.L.ixa,l.K.ii,void 0,"Unable to create media keys system access. " + c.message,c));});});};c.prototype.js=function(){var a;a=this;return this.Bu().then(function(b){return a.zQa(b);});};c.prototype.nyb=function(){var a,b;a=this;b=this.config().jUa || [this.config().De];if(1 < b.length)return this.Bu().then(function(b){return a.zQa(b);}).then(function(a){return Y.Wb.xQa(a);});b=Y.Wb.qka(b[0]);return Promise.resolve(Y.Wb.xQa(b));};c.prototype.oyb=function(){var a;a=this;return this.js().then(function(b){return a.yQa(b);});};c.prototype.ryb=function(){var a;a=this;return this.js().then(function(b){return a.CQa(b);});};c.prototype.zQa=function(a){return Y.Wb.qka(a.keySystem);};c.prototype.yQa=function(a){switch(a){case k.Rm.rB:return new q.txa(this.mi,this.oc);case k.Rm.wE:return new p.ODa(this.mi,this.oc,this.eh,this.bj,this.Hh);default:return new r.ewa(this.mi,this.bj,this.config);}};c.prototype.CQa=function(a){switch(a){case k.Rm.rB:return new v.VCa(this.kT,this.is,this.oc,this.Wd,this.bj,this.eh);case k.Rm.wE:return new n.Qxa(this.kT,this.is,this.oc,this.Wd,this.bj,this.eh);default:return new u.Ot(this.kT,this.is,this.oc,this.Wd,this.bj,this.eh);}};c.prototype.cQb=function(){var a,b;a=this;b=(this.config().jUa || [this.config().De]).map(function(b){return function(){return a.Mqb(b);};});return this.dQb(b);};c.prototype.dQb=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};da=c;da=d.__decorate([h.O(),d.__param(0,h.l(m.zb)),d.__param(1,h.l(g.tg)),d.__param(2,h.l(S.gz)),d.__param(3,h.l(A.Oy)),d.__param(4,h.l(y.Ki)),d.__param(5,h.l(I.Ie)),d.__param(6,h.l(J.EC)),d.__param(7,h.l(O.Sc)),d.__param(8,h.l(E.Qp)),d.__param(9,h.l(a.ur))],da);b.zAa=da;},function(d,b,a){var h,l,m,f,k,q,v,r,u,g;function c(a,b){this.mi=a;this.oc=b;}Object.defineProperty(b,"__esModule",{value:!0});b.txa=void 0;d=a(0);h=a(1);l=a(2);m=a(102);f=a(41);k=a(205);q=a(75);v=a(61);r=a(62);u=a(40);g=a(103);c.prototype.a0=function(){return !0;};c.prototype.Tfa=function(){return !1;};c.prototype.Bga=function(){return !1;};c.prototype.o2=function(a){return a === v.jh.bk?"persistent-usage-record":"temporary";};c.prototype.kka=function(){return g.Aaa;};c.prototype.$ka=function(){return [{initDataTypes:["cenc"],audioCapabilities:[{contentType:k.vC}],videoCapabilities:[{contentType:k.Ft}],sessionTypes:["temporary","persistent-usage-record"]}];};c.prototype.Cma=function(){return Promise.reject(new u.Bc(l.L.t9));};c.prototype.yha=function(a){var b;b=new Uint8Array(a.message);b=this.oja(b,"PlayReadyKeyMessage","Challenge");b=this.oc.decode(b);return {type:a.type,sessionId:a.target.sessionId,hF:[b],Foa:a.messageType};};c.prototype.Rr=function(a){var b,c,f;b=new q.Re(l.L.LX);c=a.code;null != c && void 0 !== c?(c=parseInt(c,10),b.wd=1 <= c && 9 >= c?l.K.WG + c:l.K.WG):b.wd=a instanceof r.ro?l.K.LN:l.K.ii;try{f=(/\((\d+)\)/).exec(a.message);b.Vg=this.mi.zR(Number(f && f[1]),4);}catch(D){}b.ZQ(a);return b;};c.prototype.oja=function(a,b){var c,f,d,k;for(var c=1;c < arguments.length;++c){;}for(c=1;c < arguments.length;c++){;}c="";d=a.length;for(f=0;f < d;f++){k=a[f];0 < k && (c+=String.fromCharCode(k));}d="\\s*(.*)\\s*";for(f=arguments.length - 1;0 < f;f--){k=arguments[f];if(0 > c.search(k))return "";k="(?:[^:].*:|)" + k;d="[\\s\\S]*<" + k + "[^>]*>" + d + "</" + k + ">[\\s\\S]*";}return (c=c.match(new RegExp(d)))?c[1]:"";};c.prototype.kK=function(){};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(m.Oy)),d.__param(1,h.l(f.Ki))],a);b.txa=a;},function(d,b,a){var h,l,m,f;function c(a){return l.Ot.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.VCa=void 0;d=a(0);h=a(1);l=a(206);m=a(75);f=a(2);L(c,l.Ot);c.prototype.m0=function(a,b,c,f,d){this.r_a(c);this.o_a(f);this.l_a(d);this.Jfb=this.Za;this.Za=a.createSession(b);this.TIa(c);this.PIa(f);this.NIa(d);return this.eK(this.wma,this.CK);};c.prototype.close=function(){var b;function a(a){return a && a.sessionId?a.close().then(function(){return a=void 0;}):Promise.resolve();}b=this;this.bha=void 0;return this.Za?a(this.Za).then(function(){a(b.Jfb);}):Promise.reject(new m.Re(f.L.hxa,f.K.VG,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.eK=function(a,b){this.wma=a;this.CK=b;return l.Ot.prototype.eK.call(this,a,b);};a=c;a=d.__decorate([h.O()],a);b.VCa=a;},function(d,b,a){var h,l,m,f,k,q,v,r,u,g;function c(a,b,c){this.mi=a;this.bj=b;this.config=c;}Object.defineProperty(b,"__esModule",{value:!0});b.ewa=void 0;d=a(0);h=a(1);l=a(2);m=a(102);f=a(205);k=a(75);q=a(62);v=a(60);r=a(14);u=a(40);g=a(103);c.prototype.a0=function(){return !0;};c.prototype.Tfa=function(){return !0;};c.prototype.Bga=function(){return !0;};c.prototype.o2=function(){return "temporary";};c.prototype.kka=function(){return this.bj.hsa?this.bj.hsa:g.sFa;};c.prototype.$ka=function(){var a,b;a=[{contentType:f.Ft,robustness:g.eX},{contentType:f.Ft,robustness:g.NDa},{contentType:f.Ft,robustness:g.Rba}];b=[{contentType:f.Ft,robustness:g.Rba}];return [{initDataTypes:["cenc"],persistentState:"required",videoCapabilities:this.config().BPa?b:a}];};c.prototype.Cma=function(){return Promise.reject(new u.Bc(l.L.t9));};c.prototype.yha=function(a){return {type:a.type,sessionId:a.target.sessionId,hF:[new Uint8Array(a.message)],Foa:a.messageType};};c.prototype.Rr=function(a){var b,c,f;b=new k.Re(l.L.LX);c=a.code;null != c && void 0 !== c?(c=parseInt(c,10),b.wd=1 <= c && 9 >= c?l.K.WG + c:l.K.WG):b.wd=a instanceof q.ro?l.K.LN:l.K.ii;try{f=a.message.match(/\((\d*)\)/)[1];b.Vg=this.mi.zR(f,4);}catch(D){}b.ZQ(a);return b;};c.prototype.kK=function(){};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(m.Oy)),d.__param(1,h.l(v.Qp)),d.__param(2,h.l(r.Sc))],a);b.ewa=a;},function(d,b,a){var h,l,m,f,k,q,v,r,u,g,A;function c(a,b,c,f,d,k){a=l.Ot.call(this,a,b,c,f,d,k) || this;a.oc=c;a.Ed=f;a.bj=d;a.eh=k;a.JSa=new m.Pxa(a.oc,a.Ed,a.eh);return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Qxa=void 0;d=a(0);h=a(1);l=a(206);m=a(648);f=a(33);k=a(22);q=a(41);v=a(27);r=a(60);u=a(104);g=a(320);A=a(321);L(c,l.Ot);c.prototype.eK=function(a,b){var c,f,d;c=this;try{f=b.map(function(a){return c.JSa.Wyb(a);});this.cTa=f.map(function(a){return c.oc.encode(a);});d=this.JSa.tob(f,this.bj.Il);return l.Ot.prototype.eK.call(this,a,[d]);}catch(S){return Promise.reject(S);}};c.prototype.update=function(a,b,c){var f,d,k,h,q;f=this;if(c)try{d=this.eh.encode(a[0]);k=JSON.parse(d).RESPONSES.map(function(a){var d;d=A.hY.u2a(a.ID);return {keyID:b === g.fz.tDa?f.cTa[f.cTa.length - 1]:c[d],payload:a.PAYLOAD};});if(b === g.fz.Request){h=k.map(function(a){return a.keyID;});c.forEach(function(a){h.includes(a) || k.push({keyID:a,error:1});});}q=JSON.stringify(k);a=[this.eh.decode(q)];}catch(E){return Promise.reject(E);}return l.Ot.prototype.update.call(this,a,b);};c.prototype.dU=function(){return l.Ot.prototype.update.call(this,[this.eh.decode("renew")],g.fz.Request);};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(f.EC)),d.__param(1,h.l(k.Ie)),d.__param(2,h.l(q.Ki)),d.__param(3,h.l(v.tg)),d.__param(4,h.l(r.Qp)),d.__param(5,h.l(u.gz))],a);b.Qxa=a;},function(d,b){function a(a,b,d){var c;c=this;this.oc=a;this.Ed=b;this.eh=d;this.Wyb=function(a){var b;a=a.subarray(14,30);a=c.oc.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.d9a={T6a:1667591779,cZb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.Pxa=void 0;a.prototype.tob=function(a,b){var c;c=this.d9a.T6a;b=b?1:0;a=a.map(function(a){return {U6b:"",DEb:a,Kfa:a,aTb:a,sXb:[1]};});return this.gGb(c,b,a);};a.prototype.fGb=function(a,b){var c;c=new Uint8Array(4);new DataView(c.buffer).setUint32(0,a);return this.Yna("fpsi",b,[c]);};a.prototype.eGb=function(a,b,d,m){a=[this.Yna("fkri",0,[a])];b.byteLength && a.push(this.OS("fkai",[b]));d.byteLength && a.push(this.OS("fkcx",[d]));m.length && a.push(this.OS("fkvl",[new Uint8Array(new Uint32Array(m).buffer)]));return this.OS("fpsk",a);};a.prototype.gGb=function(a,b,d){var c;c=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);a=[this.fGb(a,b)];for(var f in d){b=d[f];a.push(this.eGb(b.DEb,b.Kfa,b.aTb,b.sXb));}d=this.OS("fpsd",a);f=new Uint8Array(4);new DataView(f.buffer).setUint32(0,d.byteLength);return this.Yna("pssh",0,[c,f,d]);};a.prototype.Yna=function(a,b,d){var c,f,k;c=0;for(f in d){c+=d[f].byteLength;}c=new Uint8Array(12 + c);k=new DataView(c.buffer);f=0;k.setUint32(f,c.byteLength);f+=4;c.set(this.eh.decode(a),f);f+=4;k.setUint32(f,0 | 4095 & b);f+=4;for(var l in d){a=d[l];c.set(a,f);f+=a.byteLength;}return c;};a.prototype.OS=function(a,b){var c,d;c=0;for(d in b){c+=b[d].byteLength;}c=new Uint8Array(8 + c);d=0;new DataView(c.buffer).setUint32(d,c.byteLength);d+=4;c.set(this.eh.decode(a),d);d+=4;for(var f in b){a=b[f];c.set(a,d);d+=a.byteLength;}return c;};b.Pxa=a;},function(d,b,a){var h,l,m,f,k,q,v,r,g,B,A,y,I;function c(a,b,c,f,d){this.mi=a;this.oc=b;this.eh=c;this.bj=f;this.Hh=d;}Object.defineProperty(b,"__esModule",{value:!0});b.ODa=void 0;d=a(0);h=a(1);l=a(2);m=a(102);f=a(104);k=a(75);q=a(62);v=a(60);r=a(41);g=a(103);B=a(322);A=a(40);y=a(66);I=a(321);c.prototype.a0=function(){return !1;};c.prototype.Tfa=function(){return !1;};c.prototype.Bga=function(){return !0;};c.prototype.o2=function(){return this.bj.Il?"persistent-usage-record":"temporary";};c.prototype.kka=function(){return g.G9;};c.prototype.$ka=function(){return [{initDataTypes:["cenc"],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E",robustness:""}],audioCapabilities:[{contentType:"audio/mp4;codecs=mp4a.40.2",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"optional",sessionTypes:["temporary","persistent-usage-record"]}];};c.prototype.Cma=function(a){return a.dU();};c.prototype.yha=function(a){var b,c;c=[];if(a.messageType === B.N$ || a.messageType === B.M$){a.messageType === B.N$?(b=this.eh.encode(new Uint8Array(a.message)),c=JSON.parse(b),b=c.map(function(a){return a.keyID;}),c=c.map(function(a){return a.payload;})):c=[this.oc.encode(new Uint8Array(a.message))];if(0 === c.length || !c.every(function(a){return a && a.length;}))throw new A.Bc(l.L.mxa);c=this.ZUb(c);c=this.eh.decode(JSON.stringify(c));}else c=new Uint8Array(a.message);return {type:a.type,sessionId:a.target.sessionId,hF:[c],Foa:a.messageType,VE:b};};c.prototype.Rr=function(a){var b,c,f,d;c=null === (b=a.target) || void 0 === b?void 0:b.error;c && (f=c.systemCode,d=c.code);b=new k.Re(l.L.LX,a instanceof q.ro?l.K.LN:l.K.WG,f?this.mi.zR(f,4):d,"",c);b.ZQ(a);return b;};c.prototype.ZUb=function(a){a=a.map(function(a,b){return {ID:I.hY.FCb(b),PAYLOAD:a};});return {VERSION:this.Hh.$_?3:1,CHALLENGES:a};};c.prototype.kK=function(a,b){var c,f;c=this;if(b && this.Hh.$_)try{f=this.eh.encode(b[0]);return JSON.parse(f).RESPONSES.sort(function(a,b){return a.ID > b.ID?1:-1;}).map(function(b){var f;f=I.hY.u2a(b.ID);b=c.oc.decode(b.DHB).subarray(4,12);f=c.oc.decode(a[f]).subarray(0,8);return {from:b,to:f};});}catch(O){throw new k.Re(l.L.obb,void 0,void 0,void 0,O);}};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(m.Oy)),d.__param(1,h.l(r.Ki)),d.__param(2,h.l(f.gz)),d.__param(3,h.l(v.Qp)),d.__param(4,h.l(y.ur))],a);b.ODa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.zt=void 0;d=b.zt || (b.zt={});d.t4a="usable";d.VOa="expired";d.LOb="released";d.NXa="output-restricted";d.HKb="output-downscaled";d.pTb="status-pending";d.YCb="internal-error";},function(d,b,a){var l,m;function c(a,b,c,d,l){this.za=a;this.config=b;this.Ea=c;this.Zx=d;this.name=l;}function h(a,b,c,d){var f;f=this;this.za=a;this.Ea=b;this.timeout=c;this.TUb=d;this.vBb=function(){f.pk=!0;f.UE.cancel();f.TUb();};this.startTime=this.za.Bb();this.UE=this.Ea.Ai(this.timeout,function(){f.vBb();});this.pk=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.wxa=void 0;l=a(2);m=a(75);h.prototype.stop=function(){this.pk || (this.T6=this.za.Bb(),this.UE.cancel());};ma.Object.defineProperties(h.prototype,{W0:{configurable:!0,enumerable:!0,get:function(){if(this.T6 && this.startTime)return this.T6.Fa(this.startTime);}}});c.prototype.Smb=function(){var a;a=this;this.pJ=new h(this.za,this.Ea,this.config.hma,function(){a.Zx(new m.Re(l.L.FDa,l.K.P8a,void 0,"Eme " + a.name + " event expired with an expiry of " + a.config.hma));});};c.prototype.Rmb=function(){this.pJ && this.pJ.stop();};c.prototype.bRb=function(){this.A6=this.za.Bb();};c.prototype.Tmb=function(){var a;a=this;this.B7=new h(this.za,this.Ea,this.config.Rra,function(){a.Zx(new m.Re(l.L.FDa,l.K.O8a,void 0,"Eme " + a.name + " event expired with an expiry of " + a.config.Rra));});};c.prototype.gLa=function(){this.B7 && this.B7.stop();};ma.Object.defineProperties(c.prototype,{Md:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.pJ){b=this.pJ.W0;b && (a.uHb=b);this.A6 && this.pJ.T6 && (a.A6=this.A6.Fa(this.pJ.T6));}this.B7 && (b=this.B7.W0) && (a.cob=b);return a;}}});b.wxa=c;},function(d,b,a){var h,l,m,f,k,q,v,r,g;function c(a,b,c,f,d,k,l){this.Gq=a;this.za=b;this.oc=c;this.config=f;this.Ea=d;this.Jm=k;this.Gk=l;}Object.defineProperty(b,"__esModule",{value:!0});b.xxa=void 0;d=a(0);h=a(1);l=a(6);m=a(19);f=a(41);k=a(60);q=a(42);v=a(62);r=a(322);a=a(76);c.prototype.create=function(){var a;a=this;return Promise.all([this.Gk.ryb(),this.Gk.oyb(),this.Gk.js()]).then(function(b){var c,f;c=N(b);b=c.next().value;f=c.next().value;c=c.next().value;return new r.yxa(a.Gq,a.za,a.oc,a.config,b,f,c,a.Ea,a.Jm);});};g=c;g=d.__decorate([h.O(),d.__param(0,h.l(l.zb)),d.__param(1,h.l(m.Fd)),d.__param(2,h.l(f.Ki)),d.__param(3,h.l(k.Qp)),d.__param(4,h.l(q.ph)),d.__param(5,h.l(v.az)),d.__param(6,h.l(a.qr))],g);b.xxa=g;},function(d,b,a){var c,h,l,m,f,k,q,v,r,g,B,A,y,I,J,n,p,S,O,Y,E,da,t,ea,Z,ta,ca,Ca,P,aa,Q,ua;Object.defineProperty(b,"__esModule",{value:!0});b.EUa=void 0;c=a(654);h=a(679);l=a(690);m=a(693);f=a(699);k=a(702);q=a(706);v=a(718);r=a(729);g=a(733);B=a(735);A=a(1033);y=a(1035);I=a(1039);J=a(1051);n=a(1058);p=a(1065);S=a(1068);O=a(1074);Y=a(195);E=a(1082);da=a(1084);t=a(1091);ea=a(1108);Z=a(1114);ta=a(1116);ca=a(1123);Ca=a(1150);P=a(1172);aa=a(1176);Q=a(1180);ua=a(1192);b.EUa=function(a){a.load(c.Yw,k.PB,h.QUa,q.pm,l.pWa,m.Ja,f.R4a,v.storage,r.iu,g.ZKa,B.lVa,A.iB,y.Xh,I.PUa,J.GWa,n.QPa,p.wZa,S.CF,O.dOa,Y.eme,E.crypto,da.Wd,t.kc,ea.Ga,Z.vWa,ta.sYa,ca.j,Ca.TLa,P.H3a,aa.Fk,Q.Cf,ua.VJa);};},function(d,b,a){var c,h,l,m,f,k,q,v,r,g,B,A,y,I,J,n,p,S,O,Y,E,da,t,ea,Z,ta,ca,Ca,P,aa,Q,ua,Ma,Ja,Ga,ka,F,Ua,Va,Na,Ka,L,N,R,ia,T,V,X,fa,ha,ga,la,ma,oa,pa,wa,va,xa,ya,za,Aa,Ba,Ea,Fa;Object.defineProperty(b,"__esModule",{value:!0});b.Yw=void 0;d=a(1);c=a(33);h=a(35);l=a(42);m=a(90);f=a(135);k=a(655);q=a(656);v=a(657);r=a(658);g=a(104);B=a(102);A=a(41);y=a(27);I=a(22);J=a(91);n=a(62);p=a(325);S=a(659);O=a(326);Y=a(660);E=a(661);da=a(662);t=a(191);ea=a(327);Z=a(663);ta=a(328);ca=a(105);Ca=a(664);P=a(19);aa=a(329);Q=a(665);ua=a(666);Ma=a(88);Ja=a(667);Ga=a(6);ka=a(324);F=a(668);Ua=a(65);Va=a(669);Na=a(330);Ka=a(670);L=a(671);N=a(106);R=a(10);ia=a(672);T=a(332);V=a(333);X=a(673);fa=a(334);ha=a(14);ga=a(31);la=a(116);ma=a(335);oa=a(295);pa=a(674);wa=a(336);va=a(337);xa=a(161);ya=a(675);za=a(338);Aa=a(676);Ba=a(207);Ea=a(677);Fa=a(678);b.Yw=new d.Tc(function(a){a(c.yH).QB(function(){return {};}).Z();a(c.Vy).gi(JSON);a(c.Aca).gi(ja);a(f.eca).gi(Math);a(c.A$).gi(R.DX);a(c.SX).gi(R.It);a(c.uca).gi(R.Wm);a(c.W8).gi(Date);a(c.EC).gi(R.Se);a(c.GAa).gi(R.qH);a(ka.H8).to(F.hwa).Z();a(P.Fd).to(Ca.Mua).Z();a(h.hh).to(r.iwa).Z();a(l.ph).to(k.QDa).Z();a(m.Kv).to(q.Wya).Z();a(n.az).to(da.iDa).Z();a(f.rO).to(v.pDa).Z();a(ma.rX).to(Fa.wAa).Z();a(Ma.xt).to(ua.Gwa).Z();a(Ma.Y8).to(Ja.Fwa).Z();a(g.gz).to(S.fFa).Z();a(B.Oy).to(O.r8).Z();a(A.Ki).to(Y.wva).Z();a(y.tg).to(E.gFa).Z();a(I.Ie).gi(t.sC);a(wa.XG).to(va.Jxa).Z();a(J.D9).to(ea.tj).ima();a(J.IN).to(ea.tj).Z();a(J.e9).to(ea.tj).Z();a(J.HW).to(ea.tj).Z();a(ta.dca).to(ca.cz).Z();a(aa.M8).to(Q.vwa).Z();a(Ua.ez).to(Va.kca).Z();a(Ua.mH).to(Va.kca).Z();a("Factory<LoggerFactory>").o3a(Ga.zb);a(Na.sW).to(Ka.Iwa).Z();a(N.TC).jf(function(a){return function(b){return new L.LEa(a.ob.get(P.Fd),a.ob.get(l.ph),b);};});a(za.X8).jf(function(a){return function(b){return new Aa.Ewa(a.ob.get(l.ph),b);};});a(ia.VX).aVb(T.Dba);a(ia.dDa).jf(function(a){var b;b=a.ob.get(ia.VX);return function(){return new b(!1);};});a(ia.eDa).jf(function(a){var b;b=a.ob.get(ia.VX);return function(){return new b(!0);};});a(V.tca).jf(function(){return function(a){return new X.eFa(a);};});a(la.JC).jf(function(a){return function(b,c,f){return new fa.FCa(a.ob.get(Ma.xt),a.ob.get(ha.Sc),a.ob.get(ga.vj),a.ob.get(ma.rX),b,c,f);};});a(p.saa).jf(function(){return function(a){return new Z.mBa(a);};});a(oa.uN).to(pa.Gva);a(xa.GH).jf(function(a){return function(b,c){return new ya.TEa(a.ob.get(l.ph),b,c);};});a(Ba.A9).to(Ea.Cxa).Z();});},function(d,b,a){var l,m,f,k;function c(a){this.VM=a;m.In(this,"timers");}function h(a,b){this.VM=a;this.Mmb=b;}Object.defineProperty(b,"__esModule",{value:!0});b.QDa=void 0;d=a(0);l=a(1);m=a(53);f=a(33);k=a(4);h.prototype.cancel=function(){this.Mmb(this.VM);};c.prototype.bd=function(a){return this.Ai(k.nb,a);};c.prototype.Ai=function(a,b){var c;c=this.VM.setTimeout(b,a.ca(k.ga));return new h(this.VM,function(a){a.clearTimeout(c);});};c.prototype.Lra=function(a,b){var c;c=this.VM.setInterval(b,a.ca(k.ga));return new h(this.VM,function(a){a.clearInterval(c);});};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(f.Aca))],a);b.QDa=a;},function(d,b,a){var h,l,m,f,k;function c(a,b){this.ta=a;this.random=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Wya=void 0;d=a(0);l=a(1);m=a(4);f=a(35);a=a(135);c.prototype.cA=function(){return this.ta.Be.ca(m.Ym) * h.Pva + Math.floor(this.random.random() * h.Pva);};k=h=c;k.Pva=1E8;k=h=d.__decorate([l.O(),d.__param(0,l.l(f.hh)),d.__param(1,l.l(a.rO))],k);b.Wya=k;},function(d,b,a){var h,l;function c(a){this.qUb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.pDa=void 0;d=a(0);h=a(1);a=a(135);c.prototype.random=function(){return this.qUb.random();};c.prototype.FZa=function(a,b){if("number" !== typeof a)(b=a.end,a=a.start);else if("undefined" === typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a + this.random() * (b - a));};l=c;l=d.__decorate([h.O(),d.__param(0,h.l(a.eca))],l);b.pDa=l;},function(d,b,a){var h,l,m,f,k,q,v;function c(a,b,c,f){var d;d=this;this.config=a;this.Grb=b;this.Jb=c;this.performance=f;this.iKb=function(a){d.O0a=a.Fa(d.Be);};h.In(this,"date");h.In(this,"performance");this.dkb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.O0a=l.nb;this.Jb.addListener(v.n$.Q0a,this.iKb);}Object.defineProperty(b,"__esModule",{value:!0});b.iwa=void 0;d=a(0);h=a(53);l=a(4);m=a(1);f=a(33);k=a(324);q=a(91);v=a(13);ma.Object.defineProperties(c.prototype,{Be:{configurable:!0,enumerable:!0,get:function(){return this.sWa?l.timestamp(this.performance.timing.navigationStart + this.performance.now()):l.Nb(this.Grb.now());}},z6:{configurable:!0,enumerable:!0,get:function(){return this.Be.add(this.O0a);}},sWa:{configurable:!0,enumerable:!0,get:function(){return this.config.B4a && this.dkb;}}});a=c;a=d.__decorate([m.O(),d.__param(0,m.l(k.H8)),d.__param(1,m.l(f.W8)),d.__param(2,m.l(q.HW)),d.__param(3,m.l(f.SX)),d.__param(3,m.optional())],a);b.iwa=a;},function(d,b,a){var h,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.fFa=void 0;d=a(0);a=a(1);c.prototype.encode=function(a){return h.Qia(a);};c.prototype.decode=function(a){return h.cia(a);};c.Qia=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,c,d=a.length,l="";b < d;){c=a[b++];if(!(0 <= c && 255 >= c))throw Error("bad utf8");if(c & 128)if(192 === (c & 224))c=((c & 31) << 6) + (a[b++] & 63);else if(224 === (c & 240))c=((c & 15) << 12) + ((a[b++] & 63) << 6) + (a[b++] & 63);else throw Error("unsupported utf8 character");l+=String.fromCharCode(c);}return l;};c.cia=function(a){var b,c,d,l,h;b=a.length;c=0;l=0;if(!(0 <= b))throw Error("bad string");for(d=b;d--;){h=a.charCodeAt(d);128 > h?c++:c=2048 > h?c + 2:c + 3;}c=new Uint8Array(c);for(d=0;d < b;d++){h=a.charCodeAt(d);128 > h?c[l++]=h:(2048 > h?c[l++]=192 | h >>> 6:(c[l++]=224 | h >>> 12,c[l++]=128 | h >>> 6 & 63),c[l++]=128 | h & 63);}return c;};l=h=c;l=h=d.__decorate([a.O()],l);b.fFa=l;},function(d,b,a){var h,l,m,f,k,q,v,r;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.wva=void 0;d=a(0);a=a(1);l=Array.prototype.slice;m=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");l=l.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");f={};k={};q={};v={};r=/\s+/g;[m,l].forEach(function(a){var c;for(var b=a.length;b--;){c=a[b];f[c]=b << 18;k[c]=b << 12;q[c]=b << 6;v[c]=b;}});c.prototype.encode=function(a){return h.Qia(a,m,"=");};c.prototype.decode=function(a){return h.cia(a);};c.cia=function(a){var b,c,d;a=a.replace(r,"");b=a.length;c=a.charAt(b - 1);"=" !== c && "." !== c || b--;c=a.charAt(b - 1);"=" !== c && "." !== c || b--;c=3 * (b >> 2);d=0;switch(b % 4){case 2:d=1;break;case 3:d=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(c + d),l=0,h=0,m;h < c;){m=f[a[l++]] + k[a[l++]] + q[a[l++]] + v[a[l++]];if(!(0 <= m && 16777215 >= m))throw Error("bad base64");b[h++]=m >>> 16;b[h++]=m >>> 8 & 255;b[h++]=m & 255;}if(0 < d && (m=f[a[l++]] + k[a[l++]],b[h++]=m >>> 16,1 < d && (m+=q[a[l++]],b[h++]=m >>> 8 & 255),!(0 <= m && 16776960 >= m && 0 === (m & (1 < d?255:65535)))))throw Error("bad base64");return b;};c.Qia=function(a,b,c){for(var f="",d=0,k=a.length,l=k - 2,h;d < l;){h=(a[d++] << 16) + (a[d++] << 8) + a[d++];if(!(0 <= h && 16777215 >= h))throw Error("not bytes");f+=b[h >>> 18] + b[h >>> 12 & 63] + b[h >>> 6 & 63] + b[h & 63];}if(d == l){h=(a[d++] << 8) + a[d++];if(!(0 <= h && 65535 >= h))throw Error("not bytes");f+=b[h >>> 10] + b[h >>> 4 & 63] + b[h << 2 & 63] + c;}else if(d == k - 1){h=a[d++];if(!(0 <= h && 255 >= h))throw Error("not bytes");f+=b[h >>> 2] + b[h << 4 & 63] + c + c;}return f;};l=h=c;l=h=d.__decorate([a.O()],l);b.wva=l;},function(d,b,a){var h,l,m,f;function c(a,b){this.is=a;this.mi=b;}Object.defineProperty(b,"__esModule",{value:!0});b.gFa=void 0;d=a(0);h=a(1);a(2);l=a(22);m=a(102);f=a(10);c.prototype.gT=function(a,b,c){var f,d,k,l;f=this;if(b)if(c){d=c.$K;k=c.prefix;l=c.$x;this.nA(b,function(b,c){if(!l || f.is.Rf(c))a[(k || "") + (d?b.toLowerCase():b)]=c;});}else this.nA(b,function(b,c){a[b]=c;});return a;};c.prototype.nA=function(a,b){for(var c in a){a.hasOwnProperty(c) && b(c,a[c]);}};c.prototype.Xz=function(a,b){if(a.length == b.length){for(var c=a.length;c--;){if(a[c] != b[c])return !1;}return !0;}return !1;};c.prototype.oMa=function(a,b){if(a.length != b.length)return !1;a.sort();b.sort();for(var c=a.length;c--;){if(a[c] !== b[c])return !1;}return !0;};c.prototype.Ve=function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f || (f="" + a);b?(a="" + b,0 !== a.indexOf(f) && (a=f + "\n" + a)):a=f;c && (a+="\nnumber:" + c);return a;}};c.prototype.getFunctionName=function(a){return (a=(/function (.{1,})\(/).exec(a.toString())) && 1 < a.length?a[1]:"";};c.prototype.mka=function(a){return this.getFunctionName(a.constructor);};c.prototype.qpa=function(a){var b,c;b=this;c="";this.is.Hw(a) || this.is.qJa(a)?c=Array.prototype.reduce.call(a,function(a,b){return a + (32 <= b && 128 > b?String.fromCharCode(b):".");},""):this.is.Ho(a)?c=a:this.nA(a,function(a,f){c+=(c?", ":"") + "{" + a + ": " + (b.is.g_(f)?b.getFunctionName(f) || "function":f) + "}";});return "[" + this.mka(a) + " " + c + "]";};c.prototype.createElement=function(a,b,c,d){var k;k=f.Ke.createElement(a);b && (k.style.cssText=b);c && (k.innerHTML=c);d && this.nA(d,function(a,b){k.setAttribute(a,b);});return k;};c.prototype.Fvb=function(a,b){return function(c){return c[a] === b;};};c.prototype.DT=function(a){var b;b={};(a || "").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0 <= c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c + 1)):b[a.toLowerCase()]=void 0;});return b;};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(l.Ie)),d.__param(1,h.l(m.Oy))],a);b.gFa=a;},function(d,b,a){var h,l,m;function c(a){this.Ea=a;}Object.defineProperty(b,"__esModule",{value:!0});b.iDa=void 0;d=a(0);h=a(1);l=a(42);m=a(62);c.prototype.Dp=function(a,b){var c;c=this;return new Promise(function(f,d){var k;k=c.Ea.Ai(a,function(){d(new m.ro(a));});b.then(function(a){f(a);k.cancel();})["catch"](function(a){d(a);k.cancel();});});};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(l.ph))],a);b.iDa=a;},function(d,b,a){var h;function c(a){this.bxb=a;this.D2=!1;this.V2=this.og=this.PM=0;this.kS=!1;this.W2=0;}Object.defineProperty(b,"__esModule",{value:!0});b.mBa=void 0;h=a(15);c.prototype.yjb=function(a){a < this.PM && (this.og+=this.PM);this.PM=a;this.D2=!0;};c.prototype.Rxb=function(){if(this.D2)return this.kS?this.W2 - this.V2:this.og + this.PM - this.V2;};c.prototype.refresh=function(){var a;a=this.bxb();h.qa(a) && this.yjb(a);};c.prototype.cTb=function(){this.kS || (this.D2 && (this.W2=this.og + this.PM),this.kS=!0);};c.prototype.tTb=function(){this.kS && (this.D2 && (this.V2+=this.og + this.PM - this.W2),this.W2=0,this.kS=!1);};b.mBa=c;},function(d,b,a){var h,l,m,f;function c(a,b){this.ta=a;this.M1=this.ta.Be.ca(m.ga) - 1;this.TFb=this.M3=0;this.id="" + b.cA();}Object.defineProperty(b,"__esModule",{value:!0});b.Mua=void 0;d=a(0);h=a(1);l=a(35);m=a(4);a=a(90);c.prototype.Bb=function(){var a,b;a=this.ta.Be.ca(m.ga) - this.M1;if(a < this.M3){b=this.M3 + 1;this.M1-=b - a;a=b;}this.M3=a;return m.Nb(this.M3);};c.prototype.azb=function(){return this.TFb++;};ma.Object.defineProperties(c.prototype,{YE:{configurable:!0,enumerable:!0,get:function(){return m.Nb(this.M1);}}});f=c;f=d.__decorate([h.O(),d.__param(0,h.l(l.hh)),d.__param(1,h.l(a.Kv))],f);b.Mua=f;},function(d,b,a){var h,l,m,f;function c(a,b){this.is=a;this.Wd=b;}Object.defineProperty(b,"__esModule",{value:!0});b.vwa=void 0;d=a(0);l=a(1);m=a(22);a=a(27);c.prototype.encode=function(a){var b,c;b=this;c="";this.Wd.nA(a,function(a,f){a=b.GOa(a) + "=" + b.GOa(f);c=c?c + ("," + a):a;});return c;};c.prototype.GOa=function(a){return this.is.kE(a)?this.is.Th(a)?"" + a:this.is.Ho(a)?(a=a.replace(h.ara,this.doa.bind(this)),!h.KNb.test(a) && h.qIb.test(a) && (a='"' + a + '"'),a):this.is.PP(a)?"" + a:this.is.Wea(a)?"NaN":"":"";};c.prototype.doa=function(a){return h.map[a];};f=h=c;f.map={'"':'""',"\r":"","\n":" "};f.ara=/(?!^.+)["\r\n](?=.+$)/g;f.KNb=/["].*["]/g;f.qIb=/[", ]/;f=h=d.__decorate([l.O(),d.__param(0,l.l(m.Ie)),d.__param(1,l.l(a.tg))],f);b.vwa=f;},function(d,b,a){var h,l,m,f;function c(a,b,c){this.config=a;this.Ta=b;this.la=c.wb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.Gwa=void 0;d=a(0);h=a(1);l=a(22);m=a(88);a=a(6);c.prototype.assert=function(){};c.prototype.zkb=function(a,b){this.assert(this.Ta.kE(a),b);};c.prototype.Akb=function(a,b){this.assert(this.Ta.Rf(a),b);};c.prototype.Fkb=function(a,b){this.assert(this.Ta.Ho(a),b);};c.prototype.Ikb=function(a,b){this.assert(this.Ta.jn(a),b);};c.prototype.Gkb=function(a,b){this.assert(this.Ta.Ho(a) || null === a || void 0 === a,b);};c.prototype.Dkb=function(a,b){this.assert(this.Ta.Th(a),b);};c.prototype.Ckb=function(a,b){this.assert(this.Ta.wfa(a),b);};c.prototype.Hkb=function(a,b){this.assert(this.Ta.ZI(a),b);};c.prototype.Ekb=function(a,b){this.assert(this.Ta.QP(a),b);};c.prototype.ykb=function(a,b){this.assert(this.Ta.PP(a),b);};c.prototype.Bkb=function(a,b){this.assert(this.Ta.g_(a),b);};c.prototype.dDb=function(){this.assert(!1,"invalid operation, this method should not be called");};c.o6b=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var f;f={toString:function(){return "";}};a(f,c || b);return f.stack;}:function(){try{throw Error("capture stack");}catch(v){return v.stack;}};};f=c;f=d.__decorate([h.O(),d.__param(0,h.l(m.Y8)),d.__param(1,h.l(l.Ie)),d.__param(2,h.l(a.zb))],f);b.Gwa=f;},function(d,b,a){var h,l,m,f;function c(a){a=l.sN.call(this,a,"DebugConfigImpl") || this;a.j5b=function(){debugger;};return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Fwa=void 0;d=a(0);h=a(43);l=a(44);m=a(1);a=a(32);L(c,l.sN);ma.Object.defineProperties(c.prototype,{Tlb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});f=c;d.__decorate([h.config(h.Gc,"breakOnError")],f.prototype,"Tlb",null);f=d.__decorate([m.O(),d.__param(0,m.l(a.fW))],f);b.Fwa=f;},function(d,b,a){var h,l,m,f;function c(a){return l.sN.call(this,a,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.hwa=void 0;d=a(0);h=a(43);l=a(44);m=a(1);a=a(32);L(c,l.sN);ma.Object.defineProperties(c.prototype,{B4a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});f=c;d.__decorate([h.config(h.Gc,"usePerformanceApi")],f.prototype,"B4a",null);f=d.__decorate([m.O(),d.__param(0,m.l(a.fW))],f);b.hwa=f;},function(d,b,a){var h,l,m,f;function c(a,b){this.za=a;this.entries=new Set();this.la=b.wb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.kca=void 0;d=a(0);h=a(1);l=a(19);m=a(4);a=a(6);c.prototype.mark=function(a,b,c){a={name:a,ar:this.za.Bb()};b && (a.ea=b);c && (a.Fj=c);this.entries.add(a);return a;};c.prototype.Gka=function(){var a;a=[];this.entries.forEach(function(b){return a.push(b);});return a;};c.prototype.dRa=function(a){return this.Gka().filter(function(b){return b.ea === a;});};c.prototype.bRa=function(){var a;a={};try{a=this.Gka().filter(function(a){return !a.ea;}).reduce(function(a,b){a[b.name]=b.ar.ca(m.ga);return a;},{});}catch(q){this.la.error(" getMapOfCommonMarks exception",q);}return a;};c.prototype.q_a=function(a){var b;b=this;this.Gka().forEach(function(c){c.ea === a && b.entries["delete"](c);});};f=c;f=d.__decorate([h.O(),d.__param(0,h.l(l.Fd)),d.__param(1,h.l(a.zb))],f);b.kca=f;},function(d,b,a){var h,l,m,f,k,q,v,r,g;function c(a,b){this.za=a;this.config=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Iwa=void 0;d=a(0);l=a(1);m=a(19);f=a(40);k=a(2);q=a(13);v=a(4);r=a(10);a=a(331);c.prototype.DNa=function(a){var b,c,d,l,m,r,g,u,B;b=this;r=a.qb.value;d=a.hm.value;g=a.Ob.value;u=a.state.value;m={segmentId:a.Ska(),mediaTime:r,segmentTime:a.AA(),bufferingState:h.$lb[d],presentingState:h.WMb[g],playbackState:h.YLb[u],mseBuffersBusy:this.qAb(a),intBuffersBusy:this.Qyb(a),tabVisible:this.rUb(),decodedFrameCount:this.bsb(a),videoElementInDom:this.wXb(a),lastVideoSync:this.za.Bb().Fa(v.Nb(a.dV)).ca(v.ga)};B=g === q.ub.$f?a.Wa.Kj?this.config.IXa:this.config.HXa:this.config.mWa;d !== q.he.yd?(d=k.K.z7a,this.FKa(m.mseBuffersBusy,m.intBuffersBusy) && (l=h.uva)):(g !== q.ub.Uc?d=k.K.B7a:(d=k.K.A7a,(g=a.Wf) && 0 === g.X1() && (l=h.ndb)),(g=a.Wf) && g.Gb.sourceBuffers.forEach(function(a){var c,f;c=h.Ee[a.I];m[c + "Ranges"]=a.T1();try{f=a.buffered();}catch(ea){f=void 0;}f && 0 !== f.length?(a=1E3 * f.end(0) - r,m[c + "Undecoded"]=a,1 < f.length && (l=h.s6a),r < 1E3 * f.start(0) || r > 1E3 * f.end(0)?l=h.t6a:a < B.ca(v.ga)?l=h.u6a:b.FKa(m.mseBuffersBusy,m.intBuffersBusy) && (l=h.uva)):(m[c + "Undecoded"]=0,l=h.r6a);}));a=a.D_a.QRa();g=r === (null === (c=a.repositionTrace) || void 0 === c?void 0:c[0].newMediaTime);m.lastRepositionCausedTimeout=g;Object.assign(m,a);c="";try{c=JSON.stringify(m);}catch(E){c="Cannot stringify details: " + E;}return new f.Bc(k.L.wBa,d,l,void 0,void 0,void 0,c,void 0);};c.prototype.qAb=function(a){var b;if(a.Gb){b={};a.Gb.sourceBuffers.forEach(function(a){b[0 === a.type?"audio":"video"]={updating:a.updating()};});return b;}};c.prototype.Qyb=function(a){var b;if(a.Gb){b={};a.Gb.sourceBuffers.forEach(function(a){b[0 === a.type?"audio":"video"]={updating:a.$h()};});return b;}};c.prototype.rUb=function(){return !r.Ke.hidden;};c.prototype.bsb=function(a){return (a=a.Wf) && (a=a.Gb.na) && void 0 !== a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};c.prototype.wXb=function(a){if(a=a.Wf)if(a=a.Gb.na)return r.Ke.body.contains(a);return !1;};c.prototype.FKa=function(a,b){var c,f,d,k;return !((null === (c=a.audio) || void 0 === c?void 0:c.updating) === (null === (f=b.audio) || void 0 === f?void 0:f.updating) && (null === (d=a.video) || void 0 === d?void 0:d.updating) === (null === (k=b.video) || void 0 === k?void 0:k.updating));};g=h=c;g.r6a="1";g.s6a="2";g.t6a="3";g.uva="4";g.u6a="5";g.ndb="6";g.Ee=["Audio","Video"];g.$lb=["","NORMAL","BUFFERING","STALLED"];g.WMb=["","WAITING","PLAYING ","PAUSED","ENDED"];g.YLb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];g=h=d.__decorate([l.O(),d.__param(0,l.l(m.Fd)),d.__param(1,l.l(a.iaa))],g);b.Iwa=g;},function(d,b,a){var h,l,m,f;function c(a,b,c){var f;f=this;this.app=a;this.Ea=b;this.i0=c;this.Zx=function(a){f.Bi=void 0;f.JVb(a || f.i0);};this.kUa=m.Nb(-this.i0.ca(m.ga));}Object.defineProperty(b,"__esModule",{value:!0});b.LEa=void 0;d=a(0);h=a(1);l=a(19);m=a(4);a=a(42);c.prototype.bd=function(a){this.Pra=a;this.Bi=this.Bi || this.Ic(this.Zx);};c.prototype.Ug=function(){this.Bi && this.Bi.cancel();this.Bi=void 0;};c.prototype.JVb=function(a){var b,c;b=this.app.Bb();if(this.Pra){c=a.Fa(b.Fa(this.kUa));0 >= c.tk(m.nb)?(a=this.Pra,this.Pra=void 0,this.kUa=b,a()):this.Bi=this.Bi || this.Ea.Ai(c,this.Zx.bind(this,a));}};c.prototype.Ic=function(a){return this.Ea.Ai(m.nb,a);};f=c;f=d.__decorate([h.O(),d.__param(0,h.l(l.Fd)),d.__param(1,h.l(a.ph))],f);b.LEa=f;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.eDa=b.dDa=b.VX=void 0;b.VX="PrioritizedSetOfListsSymbol";b.dDa="PrioritizedSetOfListsFactorySymbol";b.eDa="PrioritizedSetOfSetsFactorySymbol";},function(d,b){function a(){this.searchParams={};}function c(b){this.Mo=b;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.eFa=void 0;c.prototype.toString=function(){return this.href;};ma.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Mo + this.searchParams.toString();}}});b.eFa=c;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(a,b,c){var f;f=N(b);b=f.next().value;f=f.next().value;return "" + a + (0 == c?"?":"&") + b + "=" + f;},"");};},function(d,b,a){var h,l,m,f,k;function c(a,b){this.wh=this.hvb(a,b.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.kFa=b.Gva=void 0;d=a(0);h=a(1);l=a(14);m=a(32);a=a(33);c.prototype.SAb=function(a,b){var c;b=this.TAb(b);if(b)switch(a){case k.cVa:c=0 < b.length?Number(b[0]):0;break;case k.ZHb:c=1 < b.length?Number(b[1]):0;break;case k.eLb:c=2 < b.length?Number(b[2]):0;break;case k.j6:c=3 < b.length?Number(b[3]):0;}return void 0 === c || isNaN(c)?0:c;};c.prototype.TAb=function(a){return null === a || void 0 === a?void 0:a.split(".");};c.prototype.yTa=function(a){return this.wh.name === a;};c.prototype.MK=function(a){return this.wh.FL.name === a;};c.prototype.ATa=function(a){return this.wh.Bla === a;};c.prototype.hvb=function(a,b){return Object.assign(Object.assign({Bla:this.jvb(a,b)},this.gvb(a,b)),{FL:this.kvb(a,b)});};c.prototype.jvb=function(a,b){return b && b.Bla?b.Bla:(/Android.*Chrome\/[.0-9]* Mobile/).test(a)?l.dH.zYa:(/Android.*Chrome\/[.0-9]* /).test(a)?l.dH.K2a:l.dH.hob;};c.prototype.gvb=function(a,b){return b && b.name && b.version?{name:b.name,version:b.version}:(/OPR/).test(a)?{name:l.ut.opera,version:""}:(b=a.match(/Edge\/(\d*)\./))?{name:l.ut.Zr,version:b[1]}:(b=a.match(/Edg\/(\d*)\./))?{name:l.ut.Ntb,version:b[1]}:(b=a.match(/Chrome\/(\d*)\./))?{name:l.ut.chrome,version:b[1]}:(b=a.match(/Firefox\/(\d*)\./))?{name:l.ut.gwb,version:b[1]}:(a=a.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:l.ut.fQb,version:a[1]}:{name:l.ut.chrome,version:""};};c.prototype.kvb=function(a,b){return b && b.FL && b.FL.name && b.FL.version?{name:b.FL.name,version:b.FL.version}:(/CrOS/).test(a)?{name:l.Xm.zLa,version:""}:(/Tesla/).test(a)?{name:l.Xm.P2a,version:""}:(b=a.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:l.Xm.aVa,version:b[1] + "." + b[2] + "." + b[3]}:(/Windows NT/).test(a)?{name:l.Xm.nua,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(a) || (/Android.*Chrome\/[.0-9]* /).test(a)?{name:l.Xm.r_,version:""}:(/Linux/).test(a)?{name:l.Xm.cFb,version:""}:{name:l.Xm.nua,version:""};};ma.Object.defineProperties(c.prototype,{qDb:{configurable:!0,enumerable:!0,get:function(){return this.yTa(l.ut.chrome);}},ODb:{configurable:!0,enumerable:!0,get:function(){return this.yTa(l.ut.opera);}},kDb:{configurable:!0,enumerable:!0,get:function(){return this.MK(l.Xm.r_) && this.ATa(l.dH.zYa);}},lDb:{configurable:!0,enumerable:!0,get:function(){return this.MK(l.Xm.r_) && this.ATa(l.dH.K2a);}},Gma:{configurable:!0,enumerable:!0,get:function(){return this.MK(l.Xm.zLa);}},GDb:{configurable:!0,enumerable:!0,get:function(){return this.MK(l.Xm.aVa);}},dEb:{configurable:!0,enumerable:!0,get:function(){return this.MK(l.Xm.P2a);}},lEb:{configurable:!0,enumerable:!0,get:function(){return this.MK(l.Xm.nua);}},gga:{configurable:!0,enumerable:!0,get:function(){return this.SAb(k.cVa,this.wh.version);}}});f=c;f=d.__decorate([h.O(),d.__param(0,h.l(a.uca)),d.__param(1,h.l(m.gH))],f);b.Gva=f;(function(a){a[a.cVa=0]="major";a[a.ZHb=1]="minor";a[a.eLb=2]="patch";a[a.j6=3]="revision";})(k=b.kFa || (b.kFa={}));},function(d,b,a){var h,l,m;function c(a,b,c){this.Ea=a;this.UUb=b;this.KE=c;}Object.defineProperty(b,"__esModule",{value:!0});b.TEa=void 0;d=a(0);h=a(42);l=a(1);m=a(4);c.prototype.mA=function(){this.Bi || (this.Bi=this.Ea.Ai(m.Nb(this.UUb),this.KE));};c.prototype.Di=function(){this.Bi && this.Bi.cancel();this.Bi=void 0;};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(h.ph))],a);b.TEa=a;},function(d,b,a){var h,l;function c(a,b){this.Ea=a;this.i0=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Ewa=void 0;d=a(0);h=a(1);a=a(42);c.prototype.bd=function(a){this.Ug();this.Bi=this.Ea.Ai(this.i0,a);};c.prototype.Ug=function(){this.Bi && this.Bi.cancel();this.Bi=void 0;};l=c;l=d.__decorate([h.O(),d.__param(0,h.l(a.ph))],l);b.Ewa=l;},function(d,b,a){var h,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Cxa=void 0;d=a(0);h=a(1);l=a(207);c.prototype.WJ=function(a,b){var c;c=this;a && Object.entries(b).forEach(function(b){var f,d,k;f=N(b);b=f.next().value;f=f.next().value;if(c.sDb(f)){d=N(f);f=d.next().value;k=d.next().value;d=a[f];Array.isArray(d)?(c.kia(a,b,f),d.forEach(function(a){c.WJ(a,k);})):f === l.hz?Object.values(a).forEach(function(a){c.WJ(a,k);}):(c.kia(a,b,f),"object" === typeof d && c.WJ(d,k));}else c.kia(a,b,f);});};c.prototype.sDb=function(a){return Array.isArray(a);};c.prototype.kia=function(a,b,c){a.hasOwnProperty(b) || b === c || Object.defineProperty(a,b,{get:function(){return a[c];},enumerable:!1});};a=c;a=d.__decorate([h.O()],a);b.Cxa=a;},function(d,b,a){var h,l,m;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.wAa=void 0;d=a(0);h=a(14);l=a(11);a=a(1);c.prototype.js=function(){return this.rDb()?l.dxa:(/widevine/i).test(this.config().De)?l.n9:(/fps/i).test(this.config().De)?"fairplay":l.xW;};c.prototype.rDb=function(){return (/clearkey/i).test(this.config().De);};m=c;m=d.__decorate([a.O(),d.__param(0,a.l(h.Sc))],m);b.wAa=m;},function(d,b,a){var c,h,l,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.QUa=void 0;c=a(680);h=a(681);d=a(1);l=a(107);m=a(6);f=a(687);b.QUa=new d.Tc(function(a){a(m.zb).to(h.Pza).Z();a(l.uC).to(c.Qza).Z();a(m.E$).to(f.Hza).Z();});},function(d,b,a){var h;function c(){this.K1a={};this.Om=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Qza=void 0;d=a(0);a=a(1);c.prototype.U5=function(a,b){b && (this.K1a[a]=b,this.Om=Object.values(this.K1a));};h=c;h=d.__decorate([a.O()],h);b.Qza=h;},function(d,b,a){var h,l,m,f,k,q,v;function c(a,b,c){this.za=a;this.Om=b;this.Lna=c;}Object.defineProperty(b,"__esModule",{value:!0});b.Pza=void 0;d=a(0);h=a(208);l=a(1);m=a(684);f=a(19);k=a(107);q=a(6);v=a(685);c.prototype.wb=function(a,b,c,f,d){c=void 0 === c?this.Om:c;return b?new m.wCa(this.za,this.Lna,c,b,a):d?new v.Yua(this.za,this.Lna,c,a,f || "",d):new h.iH(this.za,this.Lna,c,a);};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(f.Fd)),d.__param(1,l.l(k.uC)),d.__param(2,l.l(q.E$))],a);b.Pza=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.UD=void 0;c=a(683);b.UD=function(a,b){var f;a=a.$yb();for(var d=0;d < b.length;++d){f=b[d];void 0 != f && null != f && (f.Eh && (f=f.Eh),f.constructor === Uint8Array?a.Ijb(f):"MediaRequest" === f.constructor.name?a.wjb(f):"string" === typeof f?a.Hjb(f):"function" === typeof f?a.pjb(f):f instanceof Error?a.mjb(f):f instanceof c.EnumeratedErrorBase?a.ljb(f):f instanceof Object?a.xjb(f):a.Jjb(f));}return a.Cj();};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.EnumeratedErrorBase=void 0;b.EnumeratedErrorBase=function(a,b,d,l){this.type=a;this.name=a.name;this.number=b;"string" === typeof d?this.message=d:void 0 !== d && (this.cause=d);void 0 !== l && (this.message=l);};},function(d,b,a){var h,l,m;function c(a,b,c,d,l){a=m.iH.call(this,a,b,c,l) || this;a.j=d;h.In(a,"playback");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.wCa=void 0;h=a(53);l=a(339);m=a(208);L(c,m.iH);c.prototype.Hha=function(a){return new c(this.za,this.Pw,this.Om,this.j,a);};c.prototype.Jz=function(a,b,c){a=new l.D$(a,this.pn,this.za.Bb(),b,c,this.j.index);b=N(this.Om.Om);for(c=b.next();!c.done;c=b.next()){c=c.value;c(a,this.j);}};b.wCa=c;},function(d,b,a){var h,l;function c(a,b,c,d,l,r){a=h.iH.call(this,a,b,c,d) || this;a.yla=l;Array.isArray(r)?a.prefix=r:r && "string" === typeof r && (a.prefix=[],a.prefix.push(r));return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Yua=void 0;h=a(208);l=a(686);L(c,h.iH);c.prototype.Jz=function(a,b,c){a=new l.Xua(a,this.pn,this.za.Bb(),b,c,this.prefix);b=N(this.Om.Om);for(c=b.next();!c.done;c=b.next()){c=c.value;c(a);}};c.prototype.Hha=function(a){return new c(this.za,this.Pw,this.Om,a,this.yla,this.prefix);};b.Yua=c;},function(d,b,a){var h,l;function c(a,b,c,d,l,h,g){this.level=a;this.pn=b;this.timestamp=c;this.message=d;this.fd=l;this.prefix=h;this.index=void 0 === g?0:g;}Object.defineProperty(b,"__esModule",{value:!0});b.Xua=void 0;h=a(4);l={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.n7=function(a,b){a=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (b?"":" " + this.QTb(! !a));return (this.timestamp.ca(h.ga) / 1E3).toFixed(3) + "|" + this.index + "|" + (l[this.level] || this.level) + "|" + this.pn + "| " + a;};c.prototype.QTb=function(a){var l;for(var b=this.fd.length,c="",d=0;d < b;++d){l=this.fd[d].Qs;d && c.length && (c+=" ");if("object" === typeof l){if(null === l)c+="null";else if(l instanceof Error)c+=this.PTb(l,a);else try{c+=JSON.stringify(l);}catch(r){c+=this.OTb(l);}}else c+=l;}return c;};c.prototype.PTb=function(a,b){return a.toString() + (a.stack && !b?"\n" + a.stack:"") + "\n";};c.prototype.OTb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object" === typeof c && null !== c){if(-1 !== b.indexOf(c))return "<cycle>";b.push(c);}return c;});};b.Xua=c;},function(d,b,a){var h,l,m,f;function c(a,b){this.oc=a;this.Wd=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Hza=void 0;d=a(0);h=a(1);l=a(688);m=a(41);a=a(27);c.prototype.$yb=function(){return new l.Iza(this.oc,this.Wd);};f=c;f=d.__decorate([h.O(),d.__param(0,h.l(m.Ki)),d.__param(1,h.l(a.tg))],f);b.Hza=f;},function(d,b,a){var B,A,y,I;function c(a,b){this.oc=a;this.Wd=b;this.fd=[];}function h(a){return g.call(this,a,function(a){return {Details:a};}) || this;}function l(a){return g.call(this,a,function(a){return JSON.parse(a.toJSON());}) || this;}function m(a,b){b=g.call(this,b,function(b){return {Base64:a.encode(b)};}) || this;b.oc=a;return b;}function f(a,b){b=g.call(this,b,function(a){return a();}) || this;b.Wd=a;return b;}function k(a,b){return v.call(this,a,b,function(a){var b;b=A.reduce(a,function(a,b){var c;a.name=void 0 !== a.name?a.name + ("-" + b.name):b.name;c="";c="undefined" !== typeof b.type && "undefined" !== typeof b.type.prefix?c + b.type.prefix:c + b.name;"undefined" !== typeof b.number && (c+=b.number);a.errorCode=void 0 !== a.errorCode?a.errorCode + ("-" + c):c;k.Vnb(b,a,"stack","message");return a;},{});return Object.assign(Object.assign({},a),b);}) || this;}function q(a){return g.call(this,a,function(a){return {Exception:a.message || "" + a,StackTrace:a.stack || "nostack"};}) || this;}function v(a,b,c){b=g.call(this,b,c) || this;b.Wd=a;return b;}function r(a){return g.call(this,a,function(a){return {Details:a};}) || this;}function g(a,b){this.Qs=a;this.value=b?b(a):a;}Object.defineProperty(b,"__esModule",{value:!0});b.Iza=b.U8a=void 0;d=a(0);B=a(1);A=a(689);y=a(27);a=a(41);g.prototype.oR=function(a){return this.Qs === a;};L(r,g);r.prototype.wG=function(a,b){return b?"":"\r\n" + this.Qs;};L(v,g);v.prototype.wG=function(){var a;a="";this.Wd.nA(this.value,function(b,c){try{a+=", " + b + ": " + c;}catch(S){try{a+=", " + b + ": " + JSON.stringify(c);}catch(O){a+=", error stringifying " + b;}}});return a.replace(/[\r\n]+ */g," ");};L(q,g);q.prototype.wG=function(a){var b;b="\r\n" + this.Qs.message;a || (b+="\r\n" + this.Qs.stack);return b;};L(k,v);k.Vnb=function(a,b,c){var k,l;for(var f=[],d=2;d < arguments.length;++d){f[d - 2]=arguments[d];}for(d=0;d < f.length;++d){k=a[f[d]];if(void 0 !== k){l="" + f[d];b[l]=b[l] || [];b[l].push(k);}}};b.U8a=k;L(f,g);f.prototype.wG=function(){var a;a="";this.Wd.nA(this.value,function(b,c){a+=", " + b + ": " + c;});return a.replace(/[\r\n]+ */g," ");};L(m,g);m.prototype.wG=function(a,b){return this.Qs && !b?"\r\n" + this.oc.encode(this.Qs):"";};L(l,g);l.prototype.wG=function(){return this.Qs?this.Qs.toJSON():"";};L(h,g);h.prototype.wG=function(){return ", " + (this.Qs.toString?"" + this.Qs.toString():"");};c.prototype.Hjb=function(a){this.fd.push(new r(a));};c.prototype.xjb=function(a){this.fd.push(new v(this.Wd,a));};c.prototype.mjb=function(a){this.fd.push(new q(a));};c.prototype.ljb=function(a){this.fd.push(new k(this.Wd,a));};c.prototype.pjb=function(a){this.fd.push(new f(this.Wd,a));};c.prototype.Ijb=function(a){this.fd.push(new m(this.oc,a));};c.prototype.wjb=function(a){this.fd.push(new l(a));};c.prototype.Jjb=function(a){this.fd.push(new h(a));};c.prototype.Cj=function(){return this.fd;};I=c;I=d.__decorate([B.O(),d.__param(0,B.l(a.Ki)),d.__param(1,B.l(y.tg))],I);b.Iza=I;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.reduce=void 0;b.reduce=function(a,b,d){for(;void 0 !== a;a=a.cause){d=b(d,a);}return d;};},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.pWa=void 0;d=a(1);c=a(209);h=a(691);b.pWa=new d.Tc(function(a){a(c.uX).to(h.OAa).Z();});},function(d,b,a){var h,l,m;function c(a){this.Ea=a;}Object.defineProperty(b,"__esModule",{value:!0});b.OAa=void 0;d=a(0);h=a(1);l=a(692);a=a(42);c.prototype.Fha=function(a,b){return new l.PAa(this.Ea,a,b);};m=c;m=d.__decorate([h.O(),d.__param(0,h.l(a.ph))],m);b.OAa=m;},function(d,b){function a(a,b,d){this.Ea=a;this.config=b;this.getTime=d;}Object.defineProperty(b,"__esModule",{value:!0});b.PAa=void 0;a.prototype.observe=function(a,b){var c;c=this;this.cancel();this.Bi=this.Ea.Lra(this.config.Uka(),function(){c.getTime() >= a && (c.cancel(),b());});};a.prototype.cancel=function(){this.Bi && (this.Bi.cancel(),this.Bi=void 0);};b.PAa=a;},function(d,b,a){var c,h,l,m,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ja=void 0;d=a(1);c=a(210);h=a(340);l=a(694);m=a(697);f=a(343);k=a(698);b.Ja=new d.Tc(function(a){a(c.iY).to(l.YDa).Z();a(h.Uba).to(m.WDa).Z();a(f.mca).to(k.VEa).Z();});},function(d,b,a){var h,l,m,f,k,q,v,r,g,B,A,y,I;function c(a,b,c,f,d,k,l,h,m,r){this.za=a;this.Af=b;this.gB=c;this.yXb=f;this.IT=d;this.Ea=k;this.aJ=l;this.lj=h;this.jja=m;this.Ed=r;}Object.defineProperty(b,"__esModule",{value:!0});b.YDa=void 0;d=a(0);h=a(1);l=a(19);m=a(6);f=a(209);k=a(116);q=a(341);v=a(342);r=a(695);g=a(696);B=a(92);A=a(42);y=a(337);a=a(27);c.prototype.Rqb=function(a,b){return new r.ZDa(this.za,this.Af,this.gB,this.yXb,b,a,this.lj,this.IT,this.Ed,this.jja);};c.prototype.mqb=function(a,b){return new g.Fva(this.Af,a,b,this.gB,this.Ea,this.aJ);};I=c;I=d.__decorate([h.O(),d.__param(0,h.l(l.Fd)),d.__param(1,h.l(m.zb)),d.__param(2,h.l(f.uX)),d.__param(3,h.l(v.xca)),d.__param(4,h.l(q.mba)),d.__param(5,h.l(A.ph)),d.__param(6,h.l(B.oN)),d.__param(7,h.l(k.JC)),d.__param(8,h.l(y.XG)),d.__param(9,h.l(a.tg))],I);b.YDa=I;},function(d,b,a){var f,k,q,v;function c(a,b,c,d,l,h,m,q,g,n){var r;r=this;this.za=a;this.gB=c;this.cqa=d;this.config=l;this.jy=h;this.lj=m;this.IT=q;this.Ed=g;this.Uub=Object.values(k.Vb).map(function(a){return {event:a,KE:function(b){return r.Jb.ec(a,b);}};});this.Jb=n.create();this.KF=[];this.log=b.wb("SegmentManager");new f.po();this.Gja=!0;this.Xf=this.Ed.createElement("div",v.Hba);}function h(a,b,c,d,k,h,m,q,v,g){var r;r=this;this.log=a;this.config=b;this.sJb=c;this.cqa=d;this.lj=k;this.IT=h;this.Ws=m;this.W=q;this.Xf=v;this.jy=g;this.oJ=function(){r.kB && (r.kB.cancel(),r.kB=void 0);};this.Ala=function(a){r.log.trace("Received the transition event",{movieId:a.u});r.XNb();};this.log.debug("Constructing session data",l(q));this.Ena=new f.po();this.WUb=new Promise(function(a){r.XNb=a;});}function l(a){return {movieId:a.u};}function m(a){return JSON.stringify({movieId:a.u,startPts:a.X,logicalEnd:a.Nj,params:a.gb?{trackingId:a.gb.rj,authParams:a.gb.kQ,sessionParams:a.gb.Wn,disableTrackStickiness:a.gb.wia,uiPlayStartTime:a.gb.w7,loadImmediately:a.gb.S3,playbackState:a.gb.playbackState?{currentTime:a.gb.playbackState.currentTime,volume:a.gb.playbackState.volume,muted:a.gb.playbackState.muted,playbackRate:a.gb.playbackState.playbackRate}:void 0,pin:a.gb.AYa,heartbeatCooldown:a.gb.Ola,uiLabel:a.gb.xd,uxLabels:a.gb.I7}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.ZDa=void 0;f=a(134);k=a(13);q=a(4);v=a(11);h.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",l(this.W));this.R=this.cqa.$qb(this.config,this.IT,this.lj,this.W,this.jy);this.R.addEventListener(k.Vb.AK,function(a){b.log.trace("Segment is inactive",l(b.W));b.Ws.close(b.lj(a.errorCode));});this.R.addEventListener(k.Vb.closed,this.oJ);if(a)(this.log.debug("Pausing background segment",l(this.W)),this.R.addEventListener(k.Vb.Sma,this.Ala),this.R.pause());else {this.Xf.appendChild(this.R.hp());c=function(a){b.Ala(a);b.R.removeEventListener(k.Vb.loaded,c);};this.R.addEventListener(k.Vb.loaded,c);}};h.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",m(this.W));if(this.kB)this.log.trace("Segment is currently observing",l(this.W));else if(this.W.gb && this.W.gb.S3)this.Ena.next(this);else {b=this.sJb.Fha(this.config,function(){var b;if(a.R){b=a.R.j.qb.value;if(b)return b;}return 0;});c=this.qmb(this.W);this.log.trace("Adding a moment to watch",{time:c});b.observe(c,function(){a.log.trace("Segment has reached its loading point",l(a.W));a.Ena.next(a);a.oJ();});}};h.prototype.close=function(a){this.log.info("Closing segment",{segment:m(this.W),error:a});return this.R?(this.R.removeEventListener(k.Vb.Sma,this.Ala),this.R.close(a)):Promise.resolve();};h.prototype.qmb=function(a){var b,c;b=a.Nj;a=a.gb?a.gb.S3:!1;c=0;b && !a && (c=b - this.config.$Qa(),c < this.config.cRa() && (a=b - this.config.cRa(),c=b - a / 2));return c;};c.prototype.Xzb=function(){return this.Ue && this.Ue.R?this.Ue.R.isReady():!1;};c.prototype.hp=function(){return this.Xf;};c.prototype.oi=function(){if(!this.Ue || !this.Ue.R)throw Error("Player not ready");return this.Ue.R;};c.prototype.rWb=function(a){var b,c;c=this.xja(a);c?this.l4a(c,a):(this.log.cfa("xid",null === (b=this.Ue.R) || void 0 === b?void 0:b.uK()),this.log.error("Tried to update a non-existent segment",{segment:m(a),currentMovieId:this.Ue.W.u,queuedMovieIds:this.KF.map(function(a){return a.W.u;})}));};c.prototype.gq=function(a){var b;this.log.info("Adding segment",m(a));this.Gja?(this.log.trace("First segment, loading",l(a)),b=this.GUa(a),this.Gja=!1):(this.log.trace("Subsequent segment, caching",l(a)),(b=this.xja(a))?this.l4a(b,a):(b=this.rn(a),this.KF.push(b),this.Ue.observe()));return b?b.WUb:null;};c.prototype.transition=function(a){var b;if(this.Xx && this.Xx.R){b=this.Xx;this.Xx=void 0;this.log.info("Transitioning segment",m(b.W));b && b.R && b.R.s1a(this.za.Bb().ca(q.ga));return this.D3a(b,a);}this.log.info("Transitioning to next segment failed. Session not available.");return Promise.reject();};c.prototype.close=function(a){var b;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(l(this.Ue.W)),nextSession:this.Xx?JSON.stringify(l(this.Xx.W)):void 0});a=[this.Ue.close(a)];this.Xx && a.push(this.Xx.close());return Promise.all(a).then(function(){b.Xx=void 0;b.KF=[];b.Gja=!0;});};c.prototype.addListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.l4a=function(a,b){this.KKb(a.W,b);this.log.trace("Overwrote existing segment data",m(a.W));};c.prototype.GUa=function(a){var b,c;b=this;this.log.info("Loading the next episode",l(a));this.Ue?(this.config.gka()[a.u]=a.X,c=this.xja(a)):c=this.rn(a);if(c)return (this.log.trace("Found the next session",l(a)),c.Ena.subscribe(function(a){b.KUb(a);}),this.Ue?(this.log.trace("Subsequent playback, caching player and pausing",l(a)),this.Xx=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",l(a)),c.load(!1),this.D3a(c)),c);this.log.warn("Unable to find the session, make sure to add it before loading",l(a));};c.prototype.D3a=function(a,b){var c,f;b=void 0 === b?{}:b;this.log.trace("Playing episode",l(a.W));c=this.Ue;this.Ue=a;if(this.Ue.R){this.Ue.R.X0a(!1);this.NV(this.Ue.R,c?c.R:void 0);if(c && c.R){f=c.R.hp();a=this.Ue.R.hp();f.style.display="none";c=c.close();this.Xf.appendChild(a);c.then(function(){f.parentElement && f.parentElement.removeChild(f);});if(this.Ue.R)if((a.style.display="block",this.Ue.R.getError()))this.Ue.R.close();else return (this.Ue.R.Cu().oWb(b),this.Ue.R.RU(),this.Ue.R.play(),c);return Promise.reject();}return Promise.resolve();}return Promise.reject();};c.prototype.KUb=function(a){var b,c,f,d;if(this.KF.length && a.R){a=a.R.j.qb.value;b=this.KF[0];c=this.Ue.W.Nj;f=this.Ue.W.gb?this.Ue.W.gb.S3:!1;if(c || f){f?d=0:c && (d=c - this.config.$Qa());null !== a && a >= d && (this.log.info("Got a time change, loading the next player",l(b.W)),this.GUa(b.W),this.KF.splice(0,1));}}};c.prototype.xja=function(a){return this.Ue.W.u === a.u?this.Ue:this.KF.find(function(b){return b.W.u === a.u;});};c.prototype.KKb=function(a,b){a.X=b.X || a.X;a.Nj=b.Nj || a.Nj;a.gb=b.gb || a.gb;a.pa=b.pa || a.pa;};c.prototype.rn=function(a){return new h(this.log,this.config,this.gB,this.cqa,this.lj,this.IT,this,a,this.Xf,this.jy);};c.prototype.NV=function(a,b){this.Uub.forEach(function(c){b && b.removeEventListener(c.event,c.KE);a.addEventListener(c.event,c.KE);});this.Jb.ec(k.KC.vU);};b.ZDa=c;},function(d,b,a){var m,f,k,q;function c(a,b,c,f,d,l){var h;h=this;this.R=b;this.j=c;this.gB=f;this.Ea=d;this.aJ=l;this.oJ=function(){h.kB && (h.kB.cancel(),h.kB=void 0);};this.log=a.wb("SegmentManager",this.j);this.Ja=new Map();this.j.Wa.Kj && (this.j.addEventListener(k.V.VF,function(a){return h.lB(a);}),this.j.addEventListener(k.V.closed,this.oJ));}function h(a,b){this.id=a;this.Rga=b;}function l(a,b,c,d){return f.Bc.call(this,a,c,void 0,void 0,void 0,b,void 0,d) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Fva=void 0;m=a(2);f=a(40);k=a(13);q=a(4);L(l,f.Bc);l.prototype.toString=function(){return this.code + "-" + this.wd + " : " + this.message + "\n" + JSON.stringify(this.data);};h.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.tc,contentEndPts:this.Ad};};ma.Object.defineProperties(h.prototype,{tc:{configurable:!0,enumerable:!0,get:function(){return this.Rga.startTimeMs;}},Ad:{configurable:!0,enumerable:!0,get:function(){return this.Rga.endTimeMs;}},Wx:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.Rga.next);}}});c.prototype.lB=function(a){var b;b=this;!1;0 === this.Ja.size && Object.entries(this.j.GR()).forEach(function(a){var c;c=N(a);a=c.next().value;c=c.next().value;b.Ja.set(a,new h(a,c));});this.ia=this.Ja.get(a.segmentId);};c.prototype.play=function(a){this.gv && (this.gv=void 0);this.oJ();this.log.trace("Playing segment",a);return this.ITa(a)?this.QLb(a):this.FT(a);};c.prototype.Dl=function(a){this.log.trace("Queueing segment",a);return this.ITa(a)?this.GNb(a):this.INb(a);};c.prototype.Ii=function(a,b){var c,f;c=this;f=this.j.Ga;if(null === f || void 0 === f || !f.Wg())return Promise.reject(this.getError(m.L.tva,"ASE session manager is not yet initialized",m.K.p8,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(d,l){try{f.TB(a,b);c.j.fireEvent(k.V.Wta,{va:a,EWb:b});d();}catch(I){l(c.getError(m.L.tva,"updateNextSegmentWeights threw an exception",m.K.q6a,{segmentId:a,updates:b,error:I}));}});};c.prototype.ITa=function(a){return this.ia?void 0 !== this.j.GR()[this.ia.id].next[a]:!1;};c.prototype.Wka=function(){var a;a=this.j.Ga;if(null === a || void 0 === a?0:a.Wg())return a.yn().ee;};c.prototype.Rzb=function(){var a;a=this.j.Ga;if(null === a || void 0 === a?0:a.Wg())return a.yn().id;};c.prototype.Nxb=function(a){var b;b=this.j.Ga;if(null === b || void 0 === b?0:b.Wg())return (a=b.CE(a)) && a.Hd;};c.prototype.QLb=function(a){var b,c,f;b=this;c=this.j.Ga;if(null === c || void 0 === c || !c.Wg())return Promise.reject(this.getError(m.L.rN,"ASE session manager is not yet initialized",m.K.p8,{id:a}));if(this.ia && 1 === this.ia.Wx.length)return this.FT(a);if(!this.j.Wf)return (this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(m.L.rN,"MediaPresenter is not initialized",m.K.n6a,{id:a})));f=this.Nxb(a);return void 0 === f?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.FT(a)):new Promise(function(d,l){var u,B,A,y,n,p;function h(){!A && B && u && (p.cancel(),A=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:B,repositioned:u,completed:A}),c.qn(a,!1,!0)?(d(),A=!0):(A=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.FT(a).then(d)["catch"](l)));}function r(){u=!0;b.log.trace("Player is repositioned",{id:a,stopped:B,repositioned:u,completed:A});b.j.removeEventListener(k.V.Fl,r);h();}function v(){b.j.removeEventListener(k.V.NF,v);c.stop();}function g(){B=!0;b.log.trace("ASE is stopped",{id:a,stopped:B,repositioned:u,completed:A});c.removeEventListener("stop",g);h();}u=!1;B=!1;A=!1;y=b.Ja.get(a);if(b.j.J4a()){if((n=b.Wka(),void 0 === n))return (b.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:a}),b.FT(a));}else n=y.tc + (f || 0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:n,currentSegment:b.ia,nextSegment:y},null,"  "));b.j.fireEvent(k.V.N4,{Tg:b.ia && b.ia.id,oT:a});c.addEventListener("stop",g);b.j.addEventListener(k.V.NF,v);b.j.addEventListener(k.V.Fl,r);p=b.Ea.Ai(q.ah(10),function(){A=!0;p.cancel();l(b.getError(m.L.rN,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.K.m6a,{id:a,stopped:B,repositioned:u,completed:A}));});b.R.seek(n,k.zd.NC);});};c.prototype.FT=function(a){var b;b=this.Ja.get(a);return b?this.sU(b,m.L.rN):Promise.reject(this.getError(m.L.rN,"Unable to find the separated segment",m.K.sva,{id:a}));};c.prototype.GNb=function(a){var b;b=this.j.Ga;if(null === b || void 0 === b || !b.Wg())return Promise.reject(this.getError(m.L.LG,"ASE session manager is not yet initialized",m.K.p8,{id:a}));this.j.fireEvent(k.V.N4,{Tg:this.ia && this.ia.id,oT:a});if(b.qn(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(m.L.LG,"ASE chooseNextSegment failed",m.K.k6a,{id:a}));};c.prototype.INb=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.u,srcsegment:this.Rzb()});if(this.gv)return Promise.reject(this.getError(m.L.LG,"Unable to queue a non-next segment because there is currently already a segment queued",m.K.p6a,{currentSegment:this.ia?this.ia.id:void 0,queuedSegment:this.gv.id,failedSegment:a}));if(!this.ia)return Promise.reject(this.getError(m.L.LG,"Unable to queue a non-next segment because there is no currently playing segment",m.K.l6a,{nextSegmentid:a}));c=this.Ja.get(a);if(!c)return Promise.reject(this.getError(m.L.LG,"Unable to find the separated segment",m.K.sva,{nextSegmentid:a,currentSegmentId:this.ia.id}));this.gv={id:a,Sq:new Promise(function(f,d){var k;b.kB=b.gB.Fha({Uka:function(){return q.Nb(100);}},function(){return b.R.j.qb.value || 0;});k=b.Wka() - 500;b.log.trace("Adding moment for queued segment",{segment:a,pts:k});b.kB.observe(k,function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.ia.id,playerEndPts:b.Wka(),pts:k});b.gv=void 0;b.oJ();b.sU(c,m.L.LG).then(f)["catch"](d);});})};this.gv.Sq["catch"](function(a){b.j.ed(a.code,a);});return Promise.resolve();};c.prototype.sU=function(a,b){var c;c=this;return new Promise(function(f,d){var l;try{l=a.tc;!1;c.R.seek(l,k.zd.Tv);f();}catch(I){d(c.getError(b,"Seek threw an exception",m.K.o6a,{id:a.id,error:I}));}});};c.prototype.getError=function(a,b,c,f){this.log.warn(b,f);return new l(a,b,c,f);};b.Fva=c;},function(d,b,a){var l,m;function c(){}function h(a,b,c,d,l){this.debug=a;this.version=b;this.wEb=c;this.NLb=d;this.config=l;}Object.defineProperty(b,"__esModule",{value:!0});b.WDa=void 0;d=a(0);l=a(1);m=a(4);h.prototype.Gyb=function(){return this.config().HA;};h.prototype.gka=function(){return this.config().AKa;};h.prototype.Uka=function(){return m.Nb(this.config().jMb);};h.prototype.$Qa=function(){return this.config().FFb;};h.prototype.cRa=function(){return this.config().wGb;};c.prototype.vA=function(a,b,c,d,l){return new h(a,b,c,d,l);};a=c;a=d.__decorate([l.O()],a);b.WDa=a;},function(d,b,a){var h,l;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.VEa=void 0;d=a(0);h=a(1);a=a(14);c.prototype.nNb=function(a,b,c){var f,d;if(this.config().aRb){f=a.metrics;if(void 0 !== f && f.segment !== f.srcsegment){d=a.playlistSegment || void 0;b.Hq.transition({isBranching:void 0 === d || void 0,isPlaygraph:d,mid:b.u,xid:b.ea,srcxid:c.ea,srcmid:c.u,segment:a.segmentId,srcsegment:f.srcsegment,srcsegmentduration:f.srcsegmentduration,srcoffset:f.srcoffset,seamlessRequested:f.seamlessRequested,transitionType:f.transitionType,delayToTransition:f.delayToTransition,durationOfTransition:f.durationOfTransition,atRequest:f.atRequest,atTransition:f.atTransition,discard:f.discard});}}};l=c;l=d.__decorate([h.O(),d.__param(0,h.l(a.Sc))],l);b.VEa=l;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.R4a=void 0;d=a(1);c=a(342);h=a(700);b.R4a=new d.Tc(function(a){a(c.xca).to(h.nFa).Z();});},function(d,b,a){var h,l,m,f,k,q,v,r,g,B,A,y;function c(a){this.ae=a;}Object.defineProperty(b,"__esModule",{value:!0});b.nFa=void 0;d=a(0);h=a(1);l=a(87);m=a(27);f=a(22);k=a(6);q=a(91);v=a(210);r=a(344);g=a(701);B=a(211);A=a(79);y=a(345);c.prototype.$qb=function(a,b,c,d,l){return new g.fza(this.ae.get(m.tg),this.ae.get(f.Ie),this.ae.get(k.zb),this.ae.get(q.D9),this.ae.get(v.iY),this.ae.get(B.RX),this.ae.get(A.BW),this.ae.get(y.Maa),this.ae.get(r.f9),a,b,c,d,l);};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(l.l$))],a);b.nFa=a;},function(d,b,a){var h,l,m,f,k,q;function c(a,b,c,f,d,k,h,m,q,g,n,p,Y,E){var r;r=this;this.Wd=a;this.Ta=b;this.Jb=f;this.Js=k;this.DQ=h;this.SPa=m;this.config=g;this.lj=p;this.W=Y;this.jy=E;this.j=n.create(Y.u,Y.Ok,q,E,Y.gb,Y.id);this.j.background=!0;this.j.pa=Y.pa;this.log=c.wb("VideoPlayer",this.j);this.uYa=[];this.ended=!1;this.NV();this.j.state.addListener(function(a){a.newValue === l.Db.yd && r.re(l.Vb.Sma,{movieId:Y.u});});this.j.Wa.Kj && (this.hJ=d.mqb(this,this.j),this.j.addEventListener(l.V.VF,function(a){r.re(l.Vb.MQb,{segmentId:a.segmentId});}));}Object.defineProperty(b,"__esModule",{value:!0});b.fza=void 0;h=a(2);l=a(13);m=a(4);f=a(10);k=a(79);q=a(23);c.prototype.isReady=function(){return this.j.state.value === l.Db.yd;};c.prototype.ozb=function(){return this.j.u;};c.prototype.uK=function(){return this.j.ea;};c.prototype.hp=function(){return this.j.Xf;};c.prototype.Cu=function(){return this.j;};c.prototype.SA=function(){return this.j.Ks.value;};c.prototype.PDb=function(){return this.j.paused.value;};c.prototype.xDb=function(){return this.ended;};c.prototype.$h=function(){var a;a=this.j.sga.value;return a?{networkStalled:! !a.Q6,stalled:! !a.Q6,progress:a.zi,progressRollback:! !a.sNb}:null;};c.prototype.getError=function(){var a;a=this.j.Hj;return a?a.tta():null;};c.prototype.Cxb=function(){var a;a=(this.U1() || 0) + this.j.cQa();return Math.min(a,this.mQa());};c.prototype.U1=function(){return this.j.AA();};c.prototype.mQa=function(){return this.j.Qr.ca(m.ga);};c.prototype.VAb=function(){return this.j.dN?{width:this.j.dN.width,height:this.j.dN.height}:null;};c.prototype.nka=function(){var d;if(this.j.Qm){for(var a,b=0;b < this.j.Qm.length;b++){for(var c=this.j.Qm[b],f=0;f < c.yc.length;f++){d=c.yc[f];this.Ta.Th(d.Mha) && this.Ta.Th(d.q0) && this.Ta.Th(d.p0) && this.Ta.Th(d.o0) && 0 < d.q0 && (d=d.o0 / d.p0,a=this.Ta.Th(a)?Math.min(a,d):d);}}return a;}};c.prototype.Sxb=function(){return this.j.nka();};c.prototype.Xwb=function(a){var b,c;return (null === (b=this.j.pa) || void 0 === b?0:b.hj.NR("generateScreenshots"))?this.SPa.fp(this.log,this.j.pa.hj,a):(b=null === (c=this.j.Wa) || void 0 === c?void 0:c.vp)?this.SPa.Pe(this.log,Object.assign({packageId:b},a)):Promise.reject("Unknown packageId");};c.prototype.dyb=function(){return this.eyb(this.j.qia);};c.prototype.jxb=function(){var a;a=this;return this.j.ln?this.j.ln.map(function(b){return a.IE(b);}).filter(function(a){return null !== a;}):[];};c.prototype.WRa=function(a){var b,c;b=this;c=a && this.j.ln.find(function(c){return b.IE(c) === a;}) || this.j.Zc.value;return null === c?[]:c.Ml.map(function(a){return b.IE(a);}).filter(function(a){return null !== a;});};c.prototype.KDb=function(){return this.j.muted.value;};c.prototype.YAb=function(){return this.j.volume.value;};c.prototype.ixb=function(){return this.IE(this.j.Zc.value);};c.prototype.VRa=function(){return this.IE(this.j.Oc.value);};c.prototype.mDb=function(){return ! !this.j.background;};c.prototype.ARb=function(a){this.j.muted.set(! !a);};c.prototype.XRb=function(a){this.j.volume.set(this.jJb(a));};c.prototype.GRb=function(a){this.j.playbackRate.set(a);};c.prototype.xn=function(){return this.j.playbackRate.value;};c.prototype.kRb=function(a){var b,c;b=this;c=this.j.ln.find(function(c){return b.IE(c) === a;});c?this.j.Zc.set(c):this.log.error("Invalid setAudioTrack call");};c.prototype.r1a=function(a){var f;if(null !== this.j.Zc.value){for(var b=this.j.Zc.value.Ml,c=0;c < b.length;c++){f=b[c];if(!a && null === f){this.j.Oc.set(null);return;}if(this.IE(f) === a){this.log.info("Setting Timed Text, profile: " + f.profile);this.j.Oc.set(f);return;}}this.log.error("Invalid setTimedTextTrack call");}};c.prototype.X0a=function(a){this.j.background=a;};c.prototype.RU=function(){this.j.RU();};c.prototype.addEventListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.tB=function(){};c.prototype.load=function(){var a;a=this;this.loaded || (this.loaded=!0,this.j.load(function(b,c){try{a.re(l.Vb.JFb,void 0,!0);b.pa && (b.pa.Fc.f5a && a.re(l.Vb.NXb,b.pa.Fc.f5a,!0),b.pa.Fc.Ro && a.re(l.Vb.LQb,{segmentMap:b.pa.Fc.Ro},!0));c({ja:!0});}catch(B){c({ka:h.K.ii,Ab:a.Wd.Ve(B)});}}));};c.prototype.close=function(a){var b;b=this;this.LLa || (this.LLa=new Promise(function(c){a?b.j.ZD(a,c):b.j.close(c);}));return this.LLa;};c.prototype.play=function(){this.j.ll?this.j.fireEvent(l.V.j0a):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(l.V.H4a)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(l.V.eXb));};c.prototype.seek=function(a,b,c,f){this.j.Wf?this.j.Wf.seek(a,b,c,f):this.j.QD=a;};c.prototype.RLb=function(a){return this.hJ?(this.log.trace("Playing a segment",a),this.hJ.play(a)):Promise.resolve();};c.prototype.HNb=function(a){return this.hJ?(this.log.trace("Queueing a segment",a),this.hJ.Dl(a)):Promise.resolve();};c.prototype.Ii=function(a,b){return this.hJ?(this.log.trace("Updating next segment weights",a,b),this.hJ.Ii(a,b)):Promise.resolve();};c.prototype.tV=function(){this.j.tV();};c.prototype.t2=function(){var a;a=this.j.Ip.t2();return {bounds:a.sQ,margins:a.Kq,size:a.size,visibility:a.visibility};};c.prototype.HU=function(a){var b,c,f;b=a.bounds;c=a.margins;f=a.size;a=a.visibility;this.j.lV && (b && this.j.lV.usa(b),c && this.j.lV.wsa(c),"boolean" === typeof a && this.j.lV.xsa(a));this.j.Ip && f && this.j.Ip.RRb(f);};c.prototype.s1a=function(a){this.j.Ol=a;};c.prototype.IAb=function(a){return this.j.Fy && this.j.Fy.Fyb(a) || null;};c.prototype.cxb=function(){return this.Wd.gT({playerver:this.config.version,jssid:this.config.wEb,groupName:this.config.Gyb(),xid:this.j.ea,pbi:this.j.index},this.config.NLb,{prefix:"pi_"});};c.prototype.HCb=function(a){this.j.ed(h.L.S8a,h.K.Wl,a);};c.prototype.yFb=function(a,b,c,f){if(!this.Ta.rJa(a))throw Error("invalid url");this.uYa.push({url:a,name:b,flb:c,options:f});this.qZa();};c.prototype.ERa=function(){var a,b,c,f,d,k,l,h;a={};b=this.j.f2a;try{if((this.j.Hj && (a.errorCode=this.j.Hj.K0,a.errorType=b?"endplay":"startplay"),a.playdelay=q.Bk(this.j.yga()),a.xid=this.j.ea,this.j.pa && this.Ta.Ho(this.j.pa.Fc.vp) && (a.packageId=Number(this.j.pa.Fc.vp)),a.auth=this.j.mxb(),b)){a.totaltime=this.j.On?this.ox(this.j.On.VR()):0;a.abrdel=this.j.On?this.j.On.ZPa():0;c=this.j.Wf;f=c?c.DE():null;this.Ta.Th(f) && (a.totdfr=f);f=c?c.IR():null;this.Ta.Th(f) && (a.totcfr=f);d=c?c.Ryb():null;d && (a.rbfrs_decoder=d.x0,a.rbfrs_network=d.J4);a.rbfrs_delay=this.j.On?this.j.On.Ema:0;a.init_vbr=this.j.e3;k=this.RR();this.Ta.kE(k) && (a.pdltime=k);l=this.j.Df.value;h=l && l.stream;h && (a.vbr=h.U,a.vdlid=h.Jd);a.bufferedTime=this.j.cQa();}}catch(D){this.log.error("error capturing session summary",D);}return a;};c.prototype.nR=function(a){this.j.Wa.Wn && (this.j.Wa.Wn.userEngageAction=1);return this.Ta.Th(this.j.qb.value)?(a=Object.assign(Object.assign({},this.Js.create(this.j)),{action:a}),this.DQ(k.Sm.nR).fp(this.log,this.j.pa.hj,a).then(function(){return {success:!0};})["catch"](function(a){return {success:!1,errorCode:a.code,errorSubCode:a.wd,errorExternalCode:a.Vg,errorData:a.data,errorDetails:a.fx};})):Promise.resolve({success:!1});};c.prototype.eyb=function(a){return {register:a.register.bind(a),notifyUpdated:a.hXa.bind(a),getModel:a.mzb.bind(a),getGroups:a.c2.bind(a),addEventListener:a.addEventListener.bind(a),removeEventListener:a.removeEventListener.bind(a),getTime:a.getTime.bind(a)};};c.prototype.IE=function(a){var b;if(null !== a){b=a.xNb=a.xNb || ({trackId:a.Ya,bcp47:a.im,displayName:a.displayName,trackType:a.fo,channels:a.Or});a.lp && (b.isImageBased=!0);this.RDb(a) && (b.isNative=a.isNative,b.surroundFormatLabel=a.f7);this.SDb(a) && (b.isNoneTrack=a.KK(),b.isForcedNarrative=a.r3());return b;}return null;};c.prototype.RDb=function(a){return "undefined" !== typeof a.isNative;};c.prototype.SDb=function(a){return "undefined" !== typeof a.KK && "undefined" !== typeof a.r3;};c.prototype.jJb=function(a){return 0 <= a?1 >= a?a:1:0;};c.prototype.ox=function(a){return this.Ta.Th(a)?(a / 1E3).toFixed(0):"";};c.prototype.re=function(a,b,c){b=b || ({});b.target=this;this.Jb.ec(a,b,!c);};c.prototype.NV=function(){var a;a=this;this.j.addEventListener(l.V.lta,function(){a.re(l.Vb.oq);});this.j.addEventListener(l.V.m4,function(){a.re(l.Vb.MKa);});this.j.addEventListener(l.V.Fl,function(){a.re(l.Vb.MKa);});this.j.addEventListener(l.V.AK,function(b){a.re(l.Vb.AK,{errorCode:b});});this.j.addEventListener(l.V.Ufa,function(b){a.re(l.Vb.glb,b.j);});this.j.addEventListener(l.V.ll,function(b){a.re(l.Vb.hlb,b);});this.j.Ks.addListener(function(){a.re(l.Vb.hMb);});this.j.paused.addListener(function(){a.re(l.Vb.iLb);});this.j.muted.addListener(function(){a.re(l.Vb.oIb);});this.j.volume.addListener(function(){a.re(l.Vb.GXb);});this.j.Ob.addListener(function(){a.e4a();});this.j.state.addListener(function(){a.e4a();});this.j.sga.addListener(function(b){a.GFb || a.j.state.value != l.Db.yd || b.newValue || (a.GFb=!0,a.re(l.Vb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.ERa());}));a.re(l.Vb.tga);});this.j.Zc.addListener(function(b){a.re(l.Vb.iQ);b.oldValue && b.newValue && b.oldValue.Ml == b.newValue.Ml || a.re(l.Vb.uG);setTimeout(function(){var b;if(null !== a.j.Zc.value && null !== a.j.Oc.value){b=a.j.Zc.value.Ml;0 <= b.indexOf(a.j.Oc.value) || (a.log.info("Changing timed text track to match audio track"),a.j.Oc.set(b[0]));}},0);});this.j.Oc.addListener(function(b){b.oldValue && b.newValue && b.oldValue.Ya == b.newValue.Ya || a.re(l.Vb.UM);});this.j.addEventListener(l.V.uG,function(){a.re(l.Vb.uG);});this.j.addEventListener(l.V.rV,function(){a.re(l.Vb.rV);});this.j.state.addListener(function(b){switch(b.newValue){case l.Db.yd:a.re(l.Vb.Ltb);a.re(l.Vb.zXb);a.re(l.Vb.aKa);a.re(l.Vb.uG);a.re(l.Vb.IFb);a.qZa();a.TXb();break;case l.Db.CLOSING:a.j.Hj && a.re(l.Vb.error,a.j.Hj.tta());break;case l.Db.CLOSED:(a.re(l.Vb.closed),a.Jb.Ug());}});};c.prototype.TXb=function(){var a;a=this;this.j.Ip.addEventListener("showsubtitle",function(b){a.re(l.Vb.ESb,b,!0);});this.j.Ip.addEventListener("removesubtitle",function(b){a.re(l.Vb.aPb,b,!0);});};c.prototype.qZa=function(){if(this.j.state.value == l.Db.yd){for(var a,b,c;b=this.uYa.shift();){a=this.j.Ip.dfa(b.url,b.name,b.options);b.flb && (c=a);}c && this.j.Oc.set(c);}};c.prototype.e4a=function(){var a;a=this.j.state.value == l.Db.yd && this.j.Ob.value == l.ub.At;this.ended !== a && (this.ended=a,this.j.fq("Ended changed: " + a),(a || this.j.state.value === l.Db.CLOSING) && this.re(l.Vb.Hub));};c.prototype.RR=function(){var a,b;try{a=/playercore.*js/;b=f.It.getEntriesByType("resource").filter(function(b){return null !== a.exec(b.name);});if(b && 0 < b.length)return JSON.stringify(Math.round(b[0].duration));}catch(u){}};b.fza=c;},function(d,b,a){var c,h,l,m,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.PB=void 0;d=a(1);c=a(703);h=a(704);l=a(705);m=a(347);f=a(346);k=a(212);b.PB=new d.Tc(function(a){a(k.jca).to(c.NEa);a(m.F8).to(h.cwa).Z();a(f.ica).gi(new l.MEa());a(k.rY).jf(function(a){return function(){return a.ob.get(k.jca);};});});},function(d,b,a){var h,l,m,f;function c(a){this.config=a;this.Hsa=l.nb;this.AM=[];}Object.defineProperty(b,"__esModule",{value:!0});b.NEa=void 0;d=a(0);h=a(1);l=a(47);m=a(4);a=a(346);c.prototype.zn=function(){var b;for(var a;0 < this.AM.length;){a=this.AM.shift();this.LIa(a);}a=void 0 === this.aR || void 0 === this.nE?m.nb:this.nE.Fa(this.aR);b=a.XTa()?0:this.Hsa.ca(l.iC) / a.ca(m.ga);return {rG:Math.floor(b),Aia:a.ca(m.ga)};};c.prototype.j_=function(a){this.Hsa=this.Hsa.add(a.size);this.AM.push(a.ttb);for(this.AM.sort(function(a,b){return a.start.tk(b.start);});this.AM.length > this.config.utb;){a=this.AM.shift();this.LIa(a);}};c.prototype.LIa=function(a){void 0 === this.aR && (this.aR=a.start);void 0 !== this.nE && 0 > this.nE.tk(a.start) && (this.aR=this.aR.add(a.start.Fa(this.nE)));if(void 0 === this.nE || 0 > this.nE.tk(a.end))this.nE=a.end;};f=c;f=d.__decorate([h.O(),d.__param(0,h.l(a.ica))],f);b.NEa=f;},function(d,b,a){var h,l;function c(a){this.nVb=a;this.j7={};}Object.defineProperty(b,"__esModule",{value:!0});b.cwa=void 0;d=a(0);h=a(1);a=a(212);c.prototype.Lxb=function(){var a,b,c;a=[];for(b in this.j7){c=this.j7[b];a.push({Vz:Number(b),rG:c.zn().rG,Aia:c.zn().Aia});}return a;};c.prototype.j_=function(a){var b,c;b=a.Vz;c=this.j7[b];c || (c=this.nVb(),this.j7[b]=c);c.j_(a);};l=c;l=d.__decorate([h.O(),d.__param(0,h.l(a.rY))],l);b.cwa=l;},function(d,b,a){function c(a){this.utb=void 0 === a?10:a;}Object.defineProperty(b,"__esModule",{value:!0});b.MEa=void 0;d=a(0);a=a(1);c=d.__decorate([a.O()],c);b.MEa=c;},function(d,b,a){var c,h,l,m,f,k,q,g,r,u,B,A,y,I,n,D,p,S,O,Y,E,da,t;Object.defineProperty(b,"__esModule",{value:!0});b.pm=void 0;d=a(1);c=a(30);h=a(14);l=a(707);m=a(136);f=a(117);k=a(708);q=a(213);g=a(709);r=a(348);u=a(349);B=a(710);A=a(214);y=a(10);I=a(355);n=a(714);D=a(356);p=a(715);S=a(216);O=a(716);Y=a(357);E=a(33);da=a(354);t=a(717);b.pm=new d.Tc(function(a){a(f.RC).to(k.kEa).Z();a(c.mC).to(l.Mwa).Z();a(q.o$).to(g.gza).Z();a(u.C8).to(B.Xva).Z();a(q.bba).gi({isTypeSupported:y.qH && y.qH.isTypeSupported});a(A.dW).gi("undefined" !== typeof cast?cast:null);a(r.F9).QB(function(a){return {xyb:function(){return a.ob.get(E.yH);}};});a(m.SG).QB(function(a){return a.ob.get(h.Sc);});a(I.Y$).to(n.tAa).Z();a(da.W$).to(t.sAa).Z();a(D.X$).to(p.uAa).Z();a(S.E9).to(O.Lxa).Z();a(Y.Bba).gi(ja);});},function(d,b,a){var h,l,m,f,k,q;function c(a,b,c){this.config=a;this.fLa=b;this.MLb=c;this.oNb=this.hrb();}Object.defineProperty(b,"__esModule",{value:!0});b.Mwa=void 0;d=a(0);h=a(30);l=a(136);m=a(1);f=a(56);k=a(348);a=a(349);c.prototype.RRa=function(a){return this.XPa().SRa(a);};c.prototype.TRa=function(a){return this.Eu().SRa(a);};c.prototype.XPa=function(){this.Mfa && this.Mfa.type == this.config().Nfa || (this.Mfa=this.fLa.lqb(this.config().Nfa));return this.Mfa;};c.prototype.Eu=function(){this.M7 && this.M7.type == this.config().N7 || (this.M7=this.fLa.rrb(this.config().N7),this.M7.efa(this.MLb.xyb()));return this.M7;};c.prototype.Kyb=function(a){var f;if(!a || !a.length)return h.Od.KW;a=this.Zvb(a);for(var b=[h.Od.uO,h.Od.KW,h.Od.IH,h.Od.Iv,h.Od.kr,h.Od.KG,h.Od.YC,h.Od.Yj],c=b.length;c--;){f=b[c];if((0,this.oNb[f])(a))return f;}return h.Od.uO;};c.prototype.rv=function(a){return this.Eu().rv(a);};c.prototype.Tw=function(a){return this.Eu().Tw(a);};c.prototype.rx=function(){return this.Eu().rx();};c.prototype.$U=function(){return this.Eu().$U();};c.prototype.YU=function(){return this.XPa().YU();};c.prototype.e7=function(){return this.Eu().e7();};c.prototype.aV=function(){return this.Eu().aV();};c.prototype.gK=function(a){return this.Eu().gK(a);};c.prototype.nK=function(){return this.Eu().nK();};c.prototype.k2=function(){return this.Eu().k2();};c.prototype.Zvb=function(a){var b;b={};a.filter(function(a){return "video" === a.type;}).forEach(function(a){b[a.yg]="";});return Object.keys(b);};c.prototype.hrb=function(){var a;a={};a[h.Od.Yj]=function(a){return a.some(function(a){return -1 < a.indexOf("av1");});};a[h.Od.KG]=function(a){return a.some(function(a){return -1 < a.indexOf("hpl");});};a[h.Od.YC]=function(a){return a.some(function(a){return -1 < a.indexOf("vp9");});};a[h.Od.kr]=function(a){return a.some(function(a){return -1 < a.indexOf("hevc-dv");});};a[h.Od.Iv]=function(a){return a.some(function(a){return -1 < a.indexOf("hevc-hdr");});};a[h.Od.IH]=function(a){return a.some(function(a){return -1 < a.indexOf("hevc-main10-L") || -1 < a.indexOf("hevc-main-L");});};a[h.Od.KW]=(function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=N(b);for(b=a.next();!b.done;b=a.next()){if(c[b.value])return !0;}return !1;}).bind(null,[f.P.$G]);a[h.Od.uO]=function(){return !0;};return a;};q=c;q=d.__decorate([m.O(),d.__param(0,m.l(l.SG)),d.__param(1,m.l(a.C8)),d.__param(2,m.l(k.F9))],q);b.Mwa=q;},function(d,b,a){var h,l,m,f,k,q,g,r;function c(a,b,c){this.pm=a;this.Ta=b;this.v2a=c;this.Oib="video/mp4;codecs={0}";this.Jdb="audio/mp4;codecs={0}";a=this.pm.gK(l.Od.kr);this.Nib=f.Gd.SMa(a);}Object.defineProperty(b,"__esModule",{value:!0});b.kEa=void 0;d=a(0);l=a(30);m=a(1);f=a(137);k=a(22);q=a(328);g=a(350);r=a(11);c.prototype.PQ=function(a){a=this.pm.Kyb(a);a=this.Ta.kE(a)?a:l.Od.uO;return this.v2a.format(this.Oib,this.Nib[a]);};c.prototype.KQ=function(a){if(0 === a.length)return this.v2a.format(this.Jdb,f.Gd.QV);a=g.m8[a[0].yg] || h.vua;return a === h.vua?r.vC:a === h.L5a?r.Zza:r.Yza;};a=h=c;a.vua="AAC";a.L5a="XHEAAC";a=h=d.__decorate([m.O(),d.__param(0,m.l(l.mC)),d.__param(1,m.l(k.Ie)),d.__param(2,m.l(q.dca))],a);b.kEa=a;},function(d,b,a){var h,l,m,f,k,q;function c(a,b,c){this.config=a;this.oNa=b;this.cast=c;}Object.defineProperty(b,"__esModule",{value:!0});b.gza=void 0;d=a(0);h=a(1);l=a(213);m=a(136);f=a(30);k=a(214);q=a(215);c.prototype.KMa=function(){switch(this.config().N7){case f.Xl.D8:return k.E8.Cha(this.oNa,this.cast);case f.Xl.CC:return q.Yy.Cha(this.config);default:return this.oNa;}};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(m.SG)),d.__param(1,h.l(l.bba)),d.__param(2,h.l(k.dW))],a);b.gza=a;},function(d,b,a){var h,l,m,f,k,q,g,r,u,B,A,y,I,n,D,p,S,O;function c(a,b,c,f,d,k,l,h,m,q,r){this.STa=a;this.cast=b;this.config=c;this.Ea=f;this.ta=d;this.is=k;this.Gk=l;this.Gq=h;this.platform=m;this.oc=q;this.Pu=r;}Object.defineProperty(b,"__esModule",{value:!0});b.Xva=void 0;d=a(0);h=a(1);l=a(30);m=a(213);f=a(136);k=a(214);q=a(711);g=a(712);r=a(162);u=a(353);B=a(42);A=a(35);y=a(22);I=a(713);n=a(76);D=a(6);p=a(31);S=a(41);a=a(354);c.prototype.lqb=function(a){var b;b=this.STa.KMa();switch(a){case l.Ny.CC:return new q.MAa(this.config,b,this.is,this.platform,this.Pu);default:return new u.tW(this.config,b,this.Pu);}};c.prototype.rrb=function(a){var b;b=this.STa.KMa();switch(a){case l.Xl.D8:a=new k.E8(this.config,b,this.is,this.cast,this.Pu);break;case l.Xl.G8:a=new I.fwa(this.config,b,this.is,this.Gk,this.Gq,this.ta,this.Pu);break;case l.Xl.CC:a=new g.eAa(this.config,b,this.is,this.Ea,this.ta,this.Gq,this.oc,this.Pu);break;default:a=new r.Op(this.config,b,this.is,this.Pu);}return a;};O=c;O=d.__decorate([h.O(),d.__param(0,h.l(m.o$)),d.__param(1,h.l(k.dW)),d.__param(2,h.l(f.SG)),d.__param(3,h.l(B.ph)),d.__param(4,h.l(A.hh)),d.__param(5,h.l(y.Ie)),d.__param(6,h.l(n.qr)),d.__param(7,h.l(D.zb)),d.__param(8,h.l(p.vj)),d.__param(9,h.l(S.Ki)),d.__param(10,h.l(a.W$))],O);b.Xva=O;},function(d,b,a){var h,l,m,f,k;function c(a,b,c,d,k){a=f.tW.call(this,a,b,k) || this;a.is=c;a.platform=d;a.type=h.Ny.CC;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.MAa=void 0;h=a(30);l=a(56);m=a(131);f=a(353);k=a(215);L(c,f.tW);c.prototype.YU=function(){return Promise.resolve(this.config().hR && this.Uz(m.Wb.Mt,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.gE=function(){var a;a={};a[l.lf.RW]="mp4a.40.2";a[l.lf.U9]="mp4a.40.5";a[l.lf.SW]="mp4a.40.2";"browser" === this.platform.Nsb?this.config().hR && (a[l.lf.hW]={xh:"avc1",Yg:m.Wb.Mt,ef:["audio-endpoint-codec=DD+JOC"]},a[l.lf.iW]={xh:"avc1",Yg:m.Wb.Mt,ef:["audio-endpoint-codec=DD+JOC"]}):(this.config().sOa && (a[l.lf.hW]="ec-3"),this.config().rOa && (a[l.lf.N8]="ec-3"),this.config().hR && (a[l.lf.iW]={xh:"avc1",Yg:m.Wb.Mt,ef:["audio-endpoint-codec=DD+JOC"]}));return a;};c.prototype.fPa=function(a){var b;b=this;a=a.filter(function(a){var c,d;for(var c=N(b.cv),f=c.next();!f.done;f=c.next()){if(f.value.test(a))return !0;}c=N(b.Im);for(f=c.next();!f.done;f=c.next()){if(f.value.test(a))return !1;}a=b.Eqa[a];c=[];d=m.Wb.Mt;if(a)return (b.is.Ho(a)?f=a:(c=a.ef,f=a.xh,d=a.Yg),b.Uz(d,f,c));});return Promise.resolve(a);};c.prototype.Uz=function(a,b,c){a=k.Yy.l0(a,b,c);return this.Tw(a);};b.MAa=c;},function(d,b,a){var h,l,m,f,k,q,g,r,u,B,A,y,I,n,D,p,S,O,Y,E;function c(a,b,c,f,d,k,h,q){a=l.Op.call(this,a,b,c,q) || this;a.Ea=f;a.ta=d;a.Gq=k;a.oc=h;a.Pu=q;a.type=m.Xl.CC;a.BN="hvc1";a.X6a="avc1";a.HYa={};a.log=a.Gq.wb("MicrosoftVideoCapabilityDetector");a.gTb();a.ZU && a.config().wHb?a.Btb=a.Dqb():(a.Btb=Promise.resolve(""),a.config().yHb?a.Jqb():a.config().xHb && a.Iqb());return a;}Object.defineProperty(b,"__esModule",{value:!0});b.eAa=void 0;h=a(56);l=a(162);m=a(30);d=a(105);f=a(131);k=a(134);q=a(4);g=a(326);r=a(137);u=a(215);B=a(103);A=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");y=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");I=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");n=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");D=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");p=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");S=["hdcp=1"];O=["hdcp=2"];Y=new d.cz();E=new g.r8();L(c,l.Op);c.prototype.gK=function(a){return a === m.Od.kr && this.config().QWb?r.Gd.NN:l.Op.prototype.gK.call(this,a);};c.prototype.rv=function(a){switch(a){case m.Mi.tC:return this.F2a();case m.Mi.Dt:return this.ST;default:return Promise.resolve(!1);}};c.prototype.rx=function(){return this.ZU?this.hCb?this.F2a().then(function(a){return Promise.resolve(a?f.Wb.mf:f.Wb.oO);}):Promise.resolve(f.Wb.oO):this.iUb?Promise.resolve(f.Wb.oO):Promise.resolve(f.Wb.Mt);};c.prototype.$U=function(){return Promise.resolve({result:this.E2a(),reason:"is-type-supported"});};c.prototype.aV=function(){return this.ZU && this.H2a()?this.ST:Promise.resolve(!1);};c.prototype.e7=function(){return Promise.resolve(this.D2a()).then(function(a){return {result:a,reason:"isTypeSupportedWithFeatures"};});};c.prototype.efa=function(a){this.Nn=a;Object.assign(this.Nn,this.HYa);a.itshwdrm=this.ZU;a.itsqhd=this.G2a();a.itshevc=this.H2a();a.itshdr=this.E2a();a.itsdv=this.D2a();return a;};c.prototype.XP=function(a,b){(this.Nn?this.Nn:this.HYa)[a]=b;};c.prototype.nK=function(){var a;a=this;return this.rv(m.Mi.Dt).then(function(b){return b?a.MQ(m.Mi.Dt):a.rv(m.Mi.tC).then(function(b){return b?a.MQ(m.Mi.tC):a.MQ(void 0);});});};c.prototype.k2=function(){return this.rx().then(function(a){return a === f.Wb.mf?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.aK=function(a){var b,c,d;a=this.Eqa[a];c=[];d=f.Wb.Mt;return a?(this.is.Ho(a)?b=a:(c=a.ef,b=a.xh,d=a.Yg),a=this.Uz(d,b,c),Promise.resolve(a)):Promise.resolve(!1);};c.prototype.gE=function(){var a;a=l.Op.prototype.gE.call(this);a[h.P.JH]="vp09.00.11.08.02";a[h.P.KH]="vp09.00.11.08.02";a[h.P.DO]="vp09.00.11.08.02";a[h.P.VW]=a[h.P.UW]={xh:"hev1.2.6.L90.B0",Yg:f.Wb.mf,ef:A};a[h.P.XW]=a[h.P.WW]={xh:"hev1.2.6.L93.B0",Yg:f.Wb.mf,ef:A};a[h.P.ZW]=a[h.P.YW]={xh:"hev1.2.6.L120.B0",Yg:f.Wb.mf,ef:A};a[h.P.aX]=a[h.P.$W]={xh:"hev1.2.6.L123.B0",Yg:f.Wb.mf,ef:A};a[h.P.bX]=a[h.P.bH]={xh:"hev1.2.6.L150.B0",Yg:f.Wb.mf,ef:A};a[h.P.cX]=a[h.P.cH]={xh:"hev1.2.6.L153.B0",Yg:f.Wb.mf,ef:A};a[h.P.LW]=a[h.P.PN]={xh:"hev1.2.6.L90.B0",Yg:f.Wb.mf,ef:I};a[h.P.MW]=a[h.P.QN]={xh:"hev1.2.6.L93.B0",Yg:f.Wb.mf,ef:I};a[h.P.NW]=a[h.P.aH]={xh:"hev1.2.6.L120.B0",Yg:f.Wb.mf,ef:I};a[h.P.OW]=a[h.P.RN]={xh:"hev1.2.6.L123.B0",Yg:f.Wb.mf,ef:n};a[h.P.PW]=a[h.P.SN]={xh:"hev1.2.6.L150.B0",Yg:f.Wb.mf,ef:n};a[h.P.QW]=a[h.P.TN]={xh:"hev1.2.6.L153.B0",Yg:f.Wb.mf,ef:n};a[h.P.kW]=a[h.P.EN]={xh:"hev1.2.6.L90.B0",Yg:f.Wb.mf,ef:D};a[h.P.lW]=a[h.P.FN]={xh:"hev1.2.6.L93.B0",Yg:f.Wb.mf,ef:D};a[h.P.mW]=a[h.P.QG]={xh:"hev1.2.6.L120.B0",Yg:f.Wb.mf,ef:D};a[h.P.nW]=a[h.P.GN]={xh:"hev1.2.6.L123.B0",Yg:f.Wb.mf,ef:p};a[h.P.oW]=a[h.P.HN]={xh:"hev1.2.6.L150.B0",Yg:f.Wb.mf,ef:p};a[h.P.qW]=a[h.P.pW]={xh:"hev1.2.6.L153.B0",Yg:f.Wb.mf,ef:p};return a;};c.prototype.Uz=function(a,b,c){a=u.Yy.l0(a,b,c);return this.Tw(a);};c.prototype.G2a=function(){return this.Uz(f.Wb.mf,this.BN,A);};c.prototype.E2a=function(){return this.Uz(f.Wb.mf,this.BN,I);};c.prototype.D2a=function(){return this.Uz(f.Wb.mf,this.BN,D);};c.prototype.H2a=function(){return this.Uz(f.Wb.mf,this.BN,y);};c.prototype.F2a=function(){var a;a=this;return this.ST.then(function(b){return b?Promise.resolve(b):a.tZa;});};c.prototype.wV=function(){this.Nn && (this.Nn.itshdcp=JSON.stringify({hdcp1:this.ySa,time1:this.$2a - this.b2a,hdcp2:this.zSa,time2:this.a3a - this.c2a}));};c.prototype.gTb=function(){var a;a=this;this.ZU?(this.jqa=new k.po(),this.kqa=new k.po(),this.tZa=k.Eb.from(this.jqa).ft().then(function(a){return "probably" === a;}),this.ST=k.Eb.from(this.kqa).ft().then(function(a){return "probably" === a;}),this.A1a(this.kqa,this.config().AHb),this.WYa(this.Iyb.bind(this),this.kqa),this.ST.then(function(b){b || (a.A1a(a.jqa,a.config().zHb),a.WYa(a.Hyb.bind(a),a.jqa));})):(this.tZa=Promise.resolve(!0),this.ST=Promise.resolve(!1));};c.prototype.WYa=function(a,b){k.Eb.Cy(0,this.config().BHb).map(function(){return a();}).PU(function(a){return "maybe" === a;}).map(function(a){b.next(a);b.complete();}).iV(k.Eb.from(b)).ft();};c.prototype.A1a=function(a,b){this.Ea.Ai(q.Nb(b),function(){a.next("timeout");a.complete();});};c.prototype.Hyb=function(){var a;a=u.Yy.l0(f.Wb.oO,this.X6a,S).split("|");this.ySa=u.Yy.bta(a[0],a[1]);this.$2a=this.ta.Be.ca(q.ga);this.b2a=this.b2a || this.$2a;this.wV();return this.ySa;};c.prototype.Iyb=function(){var a;a=u.Yy.l0(f.Wb.mf,this.BN,O).split("|");this.zSa=u.Yy.bta(a[0],a[1]);this.a3a=this.ta.Be.ca(q.ga);this.c2a=this.c2a || this.a3a;this.wV();return this.zSa;};c.prototype.Dqb=function(){var a;a=this;return this.Gha(f.Wb.mf,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0">' + ("<ServerCert>" + B.Aaa + "</ServerCert>") + "</DriverInfo></PlayReadyCDMData>").then(function(b){a.log.debug("DriverInfo: " + b);return b;})["catch"](function(b){a.XP("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};c.prototype.Iqb=function(){var a;a=this;this.Gha(f.Wb.Mt,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.oc.decode(b));a.XP("itsHardwareInfo",c);a.log.debug("HardwareInfo: " + c);return b;})["catch"](function(b){a.XP("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};c.prototype.Jqb=function(){var a;a=this;this.Gha(f.Wb.Mt,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.oc.decode(b));a.XP("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: " + c);return b;})["catch"](function(b){a.XP("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};c.prototype.Gha=function(a,b){var c;c=this;return new Promise(function(f,d){var g,v,u;function k(a){try{m(a.target,"Unexpectedly got an mskeyerror event: 0x" + E.zR(a && a.target && a.target.error && a.target.error.r9b || 0,4));}catch(ka){m(a.target,ka);}}function l(a){m(a.target,"Unexpectedly got an mskeyadded event");}function h(a){var b;try{b=c.oja(a.message,"PlayReadyKeyMessage","Challenge");r(a.target);f(b);}catch(Qa){m(a.target,Qa);}}function m(a,f){c.log.error("PlayReadyChallenge error",{cdmData:b});r(a);d(f);}function r(a){a.removeEventListener("mskeymessage",h);a.removeEventListener("mskeyadded",l);a.removeEventListener("mskeyerror",k);g && g.cancel();}try{v=new Uint8Array(Y.MTb(b));u=new ja.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),v);u.addEventListener("mskeymessage",h);u.addEventListener("mskeyadded",l);u.addEventListener("mskeyerror",k);g=c.Ea.Ai(q.Nb(1E3),function(){m(u,Error("timeout"));});}catch(Ga){d(Ga);}});};c.prototype.oja=function(a,b){var c,f,d,k;for(var c=1;c < arguments.length;++c){;}c="";d=a.length;for(f=0;f < d;f++){k=a[f];0 < k && (c+=String.fromCharCode(k));}d="\\s*(.*)\\s*";for(f=arguments.length - 1;0 < f;f--){k=arguments[f];if(0 > c.search(k))return;k="(?:[^:].*:|)" + k;d="[\\s\\S]*<" + k + "[^>]*>" + d + "</" + k + ">[\\s\\S]*";}if(c=c.match(new RegExp(d)))return c[1];};ma.Object.defineProperties(c.prototype,{hCb:{configurable:!0,enumerable:!0,get:function(){return this.config().dub && (!this.config().CHb || this.G2a());}},ZU:{configurable:!0,enumerable:!0,get:function(){try{return this.Tw(f.Wb.mf + '|video/mp4;codecs="' + r.Gd.ZG + '"');}catch(da){return !1;}}},iUb:{configurable:!0,enumerable:!0,get:function(){try{return this.Tw(f.Wb.oO);}catch(da){return !1;}}}});b.eAa=c;c.CG='video/mp4;codecs="{0},mp4a";';},function(d,b,a){var h,l,m,f;function c(a,b,c,f,d,m,g){a=h.Op.call(this,a,b,c,g) || this;a.Gk=f;a.Gq=d;a.ta=m;a.Pu=g;a.type=l.Xl.G8;a.log=a.Gq.wb("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(b,"__esModule",{value:!0});b.fwa=void 0;h=a(162);l=a(30);m=a(4);f=a(103);L(c,h.Op);c.prototype.rv=function(a){switch(a){case l.Mi.Dt:return this.hUb;default:return Promise.resolve(!1);}};c.prototype.nK=function(){var a;a=this;return this.rv(l.Mi.Dt).then(function(a){return a?l.Mi.Dt:void 0;}).then(function(b){return a.MQ(b);});};c.prototype.efa=function(a){return this.Nn=a;};c.prototype.kEb=function(a){var b;return !(null === (b=a.getConfiguration().videoCapabilities) || void 0 === b || !b.some(function(a){return (null === a || void 0 === a?void 0:a.robustness) === f.eX;}));};c.prototype.wV=function(){var a;if(this.Nn){a=this.ASa && this.CSa && this.ASa.Fa(this.CSa).ca(m.ga);this.Nn.itshdcp=JSON.stringify({hdcp2:this.ps,time2:a});}};ma.Object.defineProperties(c.prototype,{Cm:{configurable:!0,enumerable:!0,get:function(){this.XVa || (this.XVa=this.Gk.Bu().then(function(a){return a.createMediaKeys();}));return this.XVa;}},hUb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.cta || (this.config().eub?this.cta=Promise.all([this.Gk.Bu(),this.Cm]).then(function(b){var c;c=N(b);b=c.next().value;c=c.next().value;if(!a.kEb(b))return (a.ps="not HW_SECURE_DECODE",a.log.trace("hdcpStatus: " + a.ps),!1);if(c && c.getStatusForPolicy)return (a.CSa=a.ta.Be,c.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.ASa=a.ta.Be;a.ps=b;a.log.trace("hdcpStatus: " + a.ps);return "usable" === a.ps;}));a.ps="not available";a.log.trace("hdcpStatus: " + a.ps);return !1;})["catch"](function(b){a.ps="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.ps},b);return !1;}).then(function(b){a.wV();return b;}):(this.ps="not enabled",this.log.trace("hdcpStatus: " + this.ps),this.wV(),this.cta=Promise.resolve(!1)));return this.cta;}}});b.fwa=c;},function(d,b,a){var h,l;function c(a){this.navigator=a;this.UVa=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.tAa=void 0;d=a(0);h=a(1);a=a(33);c.prototype.sja=function(a){return this.UVa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.U,framerate:a.I1}}).then(function(a){return {p9b:a.supported,VSb:a.smooth,pMb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};l=c;l=d.__decorate([h.O(),d.__param(0,h.l(a.EC))],l);b.tAa=l;},function(d,b,a){var h,l,m;function c(a,b){this.TVa=a;this.log=b.wb("MediaCapabilities");}Object.defineProperty(b,"__esModule",{value:!0});b.uAa=void 0;d=a(0);h=a(355);l=a(6);a=a(1);c.prototype.sja=function(a){var b,c,f;b=this;c={Yb:void 0};if(this.TVa.UVa){f={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,U:1E3 * a.U,I1:24};this.TVa.sja(f).then(function(a){return c.Yb=Object.assign(Object.assign({},a),f);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};m=c;m=d.__decorate([a.O(),d.__param(0,a.l(h.Y$)),d.__param(1,a.l(l.zb))],m);b.uAa=m;},function(d,b,a){var h,l,m;function c(a){this.TMb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Lxa=void 0;d=a(0);h=a(1);l=a(216);a=a(357);c.prototype.wvb=function(){var a,b;a={rR:l.Ry.adb};b=this.TMb.PresentationRequest;b && (new b("https://netflix.com").getAvailability() || Promise.reject()).then(function(b){var c;a.rR=b.value?l.Ry.bDa:l.Ry.Eua;if(a.rR === l.Ry.Eua){c=function(){b.value && (a.rR=l.Ry.bDa);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.rR=l.Ry.Error;});return a;};m=c;m=d.__decorate([h.O(),d.__param(0,h.l(a.Bba))],m);b.Lxa=m;},function(d,b,a){var h,l,m,f,k,q,g;function c(a,b,c,f){this.config=a;this.navigator=b;this.Gq=c;this.xoa=f;this.type=l.Xl.ycb;this.$Ja={};this.Q4a={};this.log=this.Gq.wb("MediaCapabilityDetector");this.$Ja=this.kqb();this.Q4a=this.qrb();}Object.defineProperty(b,"__esModule",{value:!0});b.sAa=void 0;d=a(0);h=a(1);l=a(30);m=a(56);f=a(6);k=a(33);q=a(76);a=a(136);c.prototype.aK=function(a){var b;b=this;return this.xoa.Bu().then(function(c){return b.Jvb(a,c);});};c.prototype.BDb=function(a){return ! !a.colorGamut || ! !a.hdrMetadataType || ! !a.transferFunction;};c.prototype.Kma=function(){return ja.matchMedia("(dynamic-range: high)").matches;};c.prototype.Jvb=function(a,b){var c,f,d,k;c=this;try{f={type:"media-source"};d=this.$Ja[a];k=this.Q4a[a];if(d)f.audio=d;else if(k){f.video=k;if(this.BDb(k) && !this.Kma())return Promise.resolve(!1);b && (f.keySystemConfiguration=this.jzb(b));}else return Promise.resolve(!1);return this.navigator.mediaCapabilities.decodingInfo(f).then(function(a){var b;a.configuration || (a.configuration=f);b=c.isSupported(f,a);b?c.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(a)):c.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(a));return b;})["catch"](function(a){c.log.error("mediaCapabilities.decodingInfo failed",a);return !1;});}catch(J){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",J),Promise.resolve(!1));}};c.prototype.jzb=function(a){return {keySystem:a.keySystem};};c.prototype.kqb=function(){var a,b;a={};b={contentType:"audio/mp4;codecs=mp4a.40.2"};a[m.lf.RW]=b;a[m.lf.dya]=b;a[m.lf.SW]=b;a[m.lf.FO]=b;a[m.lf.U9]={contentType:"audio/mp4;codecs=mp4a.40.5"};b={contentType:"audio/mp4;codecs=ec-3"};a[m.lf.hW]=b;a[m.lf.N8]=b;a[m.lf.iW]=b;return a;};c.prototype.qrb=function(){var a,b,c,f,d,k,l,h,q,g,v,n,p;a={};b={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};c={contentType:'video/mp4; codecs="dvh1.05.04"'};f={width:1920,height:1080};d={width:3840,height:2160};k=Object.assign(Object.assign({},f),{bitrate:12E6,framerate:30});l=Object.assign(Object.assign({},f),{bitrate:2E7,framerate:60});f=Object.assign(Object.assign({},d),{bitrate:25E6,framerate:30});d=Object.assign(Object.assign({},d),{bitrate:4E7,framerate:60});h={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};q={hdrMetadataType:"smpteSt2094-10",colorGamut:"rec2020",transferFunction:"pq"};g=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),k);a[m.P.IW]=g;a[m.P.JW]=g;a[m.P.M9]=g;g=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),k);a[m.P.JH]=g;a[m.P.KH]=g;a[m.P.DO]=g;g=Object.assign(Object.assign({},b),k);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),l);n=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),f);p=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),d);a[m.P.UW]=g;a[m.P.WW]=g;a[m.P.YW]=g;a[m.P.$W]=v;a[m.P.bH]=n;a[m.P.cH]=p;a[m.P.VW]=g;a[m.P.XW]=g;a[m.P.ZW]=g;a[m.P.aX]=v;a[m.P.bX]=n;a[m.P.cX]=p;g=Object.assign(Object.assign(Object.assign({},b),k),h);v=Object.assign(Object.assign(Object.assign({},b),l),h);n=Object.assign(Object.assign(Object.assign({},b),f),h);b=Object.assign(Object.assign(Object.assign({},b),d),h);a[m.P.PN]=g;a[m.P.QN]=g;a[m.P.aH]=g;a[m.P.RN]=v;a[m.P.SN]=n;a[m.P.TN]=b;a[m.P.LW]=g;a[m.P.MW]=g;a[m.P.NW]=g;a[m.P.OW]=v;a[m.P.PW]=n;a[m.P.QW]=b;k=Object.assign(Object.assign(Object.assign({},c),k),q);l=Object.assign(Object.assign(Object.assign({},c),l),q);f=Object.assign(Object.assign(Object.assign({},c),f),q);c=Object.assign(Object.assign(Object.assign({},c),d),q);a[m.P.EN]=k;a[m.P.FN]=k;a[m.P.QG]=k;a[m.P.GN]=l;a[m.P.HN]=f;a[m.P.pW]=c;a[m.P.kW]=k;a[m.P.lW]=k;a[m.P.mW]=k;a[m.P.nW]=l;a[m.P.oW]=f;a[m.P.qW]=c;return a;};c.prototype.isSupported=function(a,b){return a.video && this.config().qMb?b.supported && b.powerEfficient:b.supported;};g=c;g=d.__decorate([h.O(),d.__param(0,h.l(a.SG)),d.__param(1,h.l(k.EC)),d.__param(2,h.l(f.zb)),d.__param(3,h.l(q.qr))],g);b.sAa=g;},function(d,b,a){var c,h,l,m,f,k,q,g,r,u,B,A,y,I,n,D,p;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;d=a(1);c=a(358);h=a(63);l=a(163);m=a(719);f=a(361);k=a(720);q=a(360);g=a(164);r=a(721);u=a(723);B=a(724);A=a(725);y=a(63);I=a(362);n=a(727);D=a(363);p=a(728);b.storage=new d.Tc(function(a){a(l.naa).jf(function(){return function(){return ja.localStorage;};});a(l.f$).jf(function(){return function(){return ja.indexedDB;};});a(I.daa).to(n.KAa).Z();a(y.qt).to(A.Lua).Z();a(f.z$).to(k.Cza).Z();a(c.$N).to(u.Zya).Z();a(g.k$).to(r.$ya).Z();a(h.cca).to(m.rwa).Z();a(g.e$).to(r.yya).Z();a(g.jX).to(r.aza).Z();a(q.J8).to(B.swa).Z();a(D.g9).to(p.Swa).Z();});},function(d,b,a){var h,l,m,f,k;function c(a,b,c){this.Jm=b;this.config=c;this.la=a.wb(f.lY);}Object.defineProperty(b,"__esModule",{value:!0});b.rwa=void 0;d=a(0);h=a(1);l=a(6);m=a(62);f=a(359);a=a(360);c.prototype.mt=function(a){return this.config.enabled?this.config.timeout?this.Jm.Dp(this.config.timeout,this.QNa(a)):this.QNa(a):Promise.resolve();};c.prototype.QNa=function(a){var b;b=this;return new Promise(function(c,f){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(d){"true" !== d.value && f();b.la.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.la.error("Failed to remove testValue");c();});});})["catch"](function(a){return f(a);});});};k=c;k=d.__decorate([h.O(),d.__param(0,h.l(l.zb)),d.__param(1,h.l(m.az)),d.__param(2,h.l(a.J8))],k);b.rwa=k;},function(d,b,a){var h,l,m;function c(a){this.fy=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Cza=void 0;d=a(0);h=a(1);l=a(2);a=a(163);c.prototype.load=function(a){var b;b=this;return new Promise(function(c,f){var d,k;try{d=b.fy.getItem(a);if(d){k=d;if("{" === d[0])try{k=JSON.parse(d) || d;}catch(B){}c({key:a,value:k});}else f({ka:l.K.bz});}catch(B){f({ka:l.K.LDa,cause:B});}});};c.prototype.save=function(a,b,c){var f;f=this;return new Promise(function(d,k){if(c && f.fy.getItem(a))d(!1);else try{"string" === typeof b?f.fy.setItem(a,b):f.fy.setItem(a,JSON.stringify(b));d(!0);}catch(B){k({ka:l.K.MDa,cause:B});}});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,f){try{b.fy.removeItem(a);c();}catch(r){f({ka:l.K.Qba,cause:r});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.JS=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};m=c;m=d.__decorate([h.O(),d.__param(0,h.l(a.WAa))],m);b.Cza=m;},function(d,b,a){var m,f,k,q,g,r,u,B,A,y,n,J;function c(a,b,c,f,d,k){this.config=b;this.TQ=c;this.Vk=f;this.qXb=d;this.Wj=k;this.la=a.wb(r.lY);}function h(a,b){this.config=a;this.Cy=b;}function l(a,b,c,f,d){this.config=b;this.Cy=c;this.Wj=d;this.la=a.wb(r.lY);this.TQ=new Promise(function(a,b){var c;try{c=f();c?a(c):b({ka:g.K.zya});}catch(ea){b({ka:g.K.iX,cause:ea});}});}Object.defineProperty(b,"__esModule",{value:!0});b.aza=b.$ya=b.yya=void 0;d=a(0);m=a(1);f=a(6);k=a(722);q=a(163);g=a(2);r=a(359);u=a(358);B=a(62);A=a(63);y=a(65);n=a(164);J=a(78);l.prototype.create=function(){this.Vha || (this.Vha=this.wJ());return this.Vha;};l.prototype.pq=function(a){var b;b=this;this.Vha=null;return this.Cy.Dp(this.config.timeout,new Promise(function(c,f){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){f(a);});}))["catch"](function(a){return a instanceof B.ro?Promise.reject({ka:g.K.iX}):a.ka?Promise.reject(a):Promise.reject({ka:g.K.iX,cause:a});});};l.prototype["delete"]=function(a){var b;b=this;return this.Cy.Dp(this.config.timeout,new Promise(function(c,f){b.TQ.then(function(b){var d;d=b.deleteDatabase(a);d.onsuccess=function(){c();};d.onerror=function(){f({ka:g.K.iX,cause:d.error});};})["catch"](function(a){f(a);});}));};l.prototype.wJ=function(){var a,b;a=this;return this.Cy.Dp(this.config.timeout,new Promise(function(c,f){if(a.config.Fsa)return f({ka:a.config.Fsa});a.TQ.then(function(d){a.Wj.mark(J.Qi.F9a);b=d.open(a.config.name,a.config.version);if(!b)return f({ka:g.K.Aya});b.onblocked=function(){a.Wj.mark(J.Qi.C9a);f({ka:g.K.y9a});};b.onupgradeneeded=function(){var c;a.Wj.mark(J.Qi.M9a);c=b.result;try{c.createObjectStore(a.config.rF,{keyPath:"name"});}catch(da){a.la.error("Exception while creating object store",da);}};b.onsuccess=function(k){var l,h;a.Wj.mark(J.Qi.L9a);try{l=k.target.result;h=l.objectStoreNames.length;a.la.trace("objectstorenames length ",h);if(0 === h){a.la.error("invalid indexedDb state, deleting");a.Wj.mark(J.Qi.E9a);try{l.close();}catch(ea){}d.deleteDatabase(a.config.name);setTimeout(function(){f({ka:g.K.x9a});},1);return;}}catch(ea){a.la.error("Exception while inspecting indexedDb objectstorenames",ea);}c(b.result);};b.onerror=function(){a.Wj.mark(J.Qi.D9a);a.la.error("IndexedDB open error",b.error);f({ka:g.K.z9a,cause:b.error});};})["catch"](function(a){f(a);});}))["catch"](function(c){if(c instanceof B.ro){try{b && b.readyState && a.Wj.mark("readyState-" + b.readyState);}catch(O){}if(a.config.t_ && b && "done" === b.readyState){if(a.lXb(b))return (a.Wj.mark(J.Qi.J9a),Promise.resolve(b.result));a.Wj.mark(J.Qi.I9a);}a.Wj.mark(J.Qi.H9a);return Promise.reject({ka:g.K.B9a});}if(c.ka)return Promise.reject(c);a.Wj.mark(J.Qi.G9a);a.la.error("IndexedDB open exception occurred",c);return Promise.reject({ka:g.K.A9a,cause:c});});};l.prototype.lXb=function(a){try{return 0 < a.result.objectStoreNames.length;}catch(U){this.Wj.mark(J.Qi.K9a);this.la.error("failed to check open request state",U);}return !1;};a=l;a=d.__decorate([m.O(),d.__param(0,m.l(f.zb)),d.__param(1,m.l(u.$N)),d.__param(2,m.l(B.az)),d.__param(3,m.l(q.f$)),d.__param(4,m.l(y.ez))],a);b.yya=a;h.prototype.create=function(a){return Promise.resolve(new k.Yya(this.config,this.Cy,a));};a=h;a=d.__decorate([m.O(),d.__param(0,m.l(u.$N)),d.__param(1,m.l(B.az))],a);b.$ya=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.NQ || (this.NQ=this.wJ(this.qXb));return this.NQ;};c.prototype.wJ=function(a){var b;a=void 0 === a?[]:a;b=this;return new Promise(function(c,f){b.Wj.mark(J.Qi.rcb);b.TQ.create().then(function(d){b.Vk.create(d).then(function(k){Promise.all(a.map(function(a){return a.mt(k);})).then(function(){b.storage=k;c(b.storage);})["catch"](function(a){b.la.debug("DB validation failed, cause: " + a);b.config.vPa?(b.la.debug("Fixing corrupt DB"),b.TQ.pq(d).then(function(){b.la.error("Invalid database deleted, creating new database.");b.wJ().then(function(a){b.la.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.la.error("Couldn't delete invalid database.");f(a);})):(b.la.debug("Ignoring invalid DB due to config"),b.storage=k,c(b.storage));});})["catch"](function(a){f(a);});})["catch"](function(a){f(a);});});};a=c;a=d.__decorate([m.O(),d.__param(0,m.l(f.zb)),d.__param(1,m.l(u.$N)),d.__param(2,m.l(n.e$)),d.__param(3,m.l(n.k$)),d.__param(4,m.lF(A.cca)),d.__param(5,m.l(y.ez))],a);b.aza=a;},function(d,b,a){var l,m,f;function c(a,b,c){this.config=a;this.Jm=b;this.fy=c;}function h(a,b){this.reason=a;this.cause=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Yya=b.qDa=void 0;l=a(2);m=a(62);(function(a){a[a.raa=0]="NoData";a[a.Error=1]="Error";a[a.VC=2]="Timeout";})(f=b.qDa || (b.qDa={}));c.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.i1("get",!1,a).then(function(b){c({key:a,value:b});})["catch"](function(a){var b;b=l.K.LDa;switch(a.reason){case f.raa:b=l.K.bz;break;case f.VC:b=l.K.scb;}d({ka:b,cause:a.cause});});});};c.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(k,h){d.i1(c?"add":"put",!0,{name:a,data:b}).then(function(){k(!c);})["catch"](function(a){var b;b=l.K.MDa;switch(a.reason){case f.VC:b=l.K.vcb;}h({ka:b,cause:a.cause});});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.i1("delete",!0,a).then(function(){c();})["catch"](function(a){var b;b=l.K.Qba;switch(a.reason){case f.VC:b=l.K.KDa;}d({ka:b,cause:a.cause});});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.i1("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=l.K.Qba;switch(a.reason){case f.VC:b=l.K.KDa;}c({ka:b,cause:a.cause});});});};c.prototype.loadAll=function(){var a;a=this;return this.Jm.Dp(this.config.timeout,new Promise(function(b,c){var d,k,l;if(a.config.MU)c(new h(a.config.MU));else {d=[];k=a.fy.transaction(a.config.rF,"readonly");l=k.objectStore(a.config.rF).openCursor();k.onerror=function(){c(new h(f.Error,l.error));};l.onsuccess=function(a){if(a=a.target.result)try{d.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(y){c(new h(f.Error,y));}else b(d);};l.onerror=function(){c(new h(f.Error,l.error));};}}))["catch"](function(a){return a instanceof m.ro?Promise.reject(new h(f.VC,a)):a instanceof h?Promise.reject(a):Promise.reject(new h(f.Error,a));});};c.prototype.JS=function(a){var b;b=this;return this.Jm.Dp(this.config.timeout,new Promise(function(c,d){var k,l,m;if(b.config.MU)d(new h(b.config.MU));else {k={};l=b.fy.transaction(b.config.rF,"readonly");m=l.objectStore(b.config.rF).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);l.onerror=function(){d(new h(f.Error,m.error));};m.onsuccess=function(b){var l,m;try{l=b.target.result;if(l){m=l.key;a && 0 !== m.indexOf(a)?c(k):(k[m]=void 0,l["continue"]());}else c(k);}catch(D){d(new h(f.Error,D));}};m.onerror=function(){d(new h(f.Error,m.error));};}}))["catch"](function(a){return a instanceof m.ro?Promise.reject(new h(f.VC,a)):a instanceof h?Promise.reject(a):Promise.reject(new h(f.Error,a));});};c.prototype.i1=function(a,b,c){var d;d=this;return this.Jm.Dp(this.config.timeout,new Promise(function(k,l){var m,q;m=d.fy.transaction(d.config.rF,b?"readwrite":"readonly");q=m.objectStore(d.config.rF)[a](c);m.onerror=function(){l(new h(f.Error,q.error));};q.onsuccess=function(b){var c;if("get" == a)try{c=b.target.result;c?k(c.data):l(new h(f.raa));}catch(D){l(new h(f.raa,D));}else k(void 0);};q.onerror=function(){l(new h(f.Error,q.error));};}))["catch"](function(a){return a instanceof m.ro?Promise.reject(new h(f.VC,a)):a instanceof h?Promise.reject(a):Promise.reject(new h(f.Error,a));});};b.Yya=c;},function(d,b,a){var h,l,m,f,k;function c(a,b){a=m.Te.call(this,a,"IndexedDBConfigImpl") || this;a.config=b;a.version=1;a.rF="namedatapairs";return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Zya=void 0;d=a(0);h=a(1);l=a(43);m=a(44);f=a(36);a=a(32);L(c,m.Te);ma.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.qu?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Tsa;}},t_:{configurable:!0,enumerable:!0,get:function(){return this.config.t_;}},Fsa:{configurable:!0,enumerable:!0,get:function(){return 0;}},MU:{configurable:!0,enumerable:!0,get:function(){return 0;}},vPa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});k=c;d.__decorate([l.config(l.Iy,"simulateIdbOpenError")],k.prototype,"Fsa",null);d.__decorate([l.config(l.Iy,"simulateIdbLoadAllError")],k.prototype,"MU",null);d.__decorate([l.config(l.Gc,"fixInvalidDatabase")],k.prototype,"vPa",null);k=d.__decorate([h.O(),d.__param(0,h.l(a.ek)),d.__param(1,h.l(f.Ul))],k);b.Zya=k;},function(d,b,a){var h,l;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.swa=void 0;d=a(0);h=a(1);a=a(36);ma.Object.defineProperties(c.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Tsa;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.Q2a;}}});l=c;l=d.__decorate([h.O(),d.__param(0,h.l(a.Ul))],l);b.swa=l;},function(d,b,a){var l,m,f,k,q,g,r;function c(a,b,c,f){this.la=a;this.config=b;this.iCb=c;this.Coa=f;this.Zz={mem:{storage:this.Coa,key:"mem"}};this.JB=this.config.JB;}function h(a,b,c,f){this.Af=a;this.Vk=b;this.Coa=c;this.config=f;}Object.defineProperty(b,"__esModule",{value:!0});b.b8=b.Lua=void 0;d=a(0);l=a(1);m=a(2);f=a(164);k=a(6);q=a(362);g=a(726);a=a(36);h.prototype.create=function(){this.NQ || (this.NQ=this.wJ());return this.NQ;};h.prototype.wJ=function(){this.fkb=new c(this.Af.wb("AppStorage"),this.config,this.Vk,this.Coa);return this.fkb.create();};r=h;r=d.__decorate([l.O(),d.__param(0,l.l(k.zb)),d.__param(1,l.l(f.jX)),d.__param(2,l.l(q.daa)),d.__param(3,l.l(a.Ul))],r);b.Lua=r;c.prototype.create=function(){var a;a=this;return this.Kqb().then(function(b){if(!a.Jmb(b,a.config.X2))throw a.JIb(b);return a;});};c.prototype.load=function(a){var b;b=this;return new Promise(function(c,f){b.HR(a).storage.load(a).then(function(a){c(a);})["catch"](function(a){f(a);});});};c.prototype.save=function(a,b,c){var f;f=this;return new Promise(function(d,k){f.HR(a).storage.save(a,b,c).then(function(a){d(a);})["catch"](function(a){k(a);});});};c.prototype.remove=function(a){var b;b=this;return new Promise(function(c,f){b.HR(a).storage.remove(a).then(function(){c();})["catch"](function(a){f(a);});});};c.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.k_a("mem").then(function(){return a.k_a("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.la.error("remove all failed");c(b);});});};c.prototype.loadAll=function(){var a,b;a=this;b=[];return this.DUa("mem").then(function(c){b=b.concat(c);return a.DUa("idb");})["catch"](function(b){a.aEb(b) || a.la.error("IndexedDb.LoadAll exception",b);return [];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.la.error("load all failed",b);throw b;});};c.prototype.JS=function(a){var b;b=this;return new Promise(function(c,f){var d;d=b.Zz.idb;d?d.storage.JS(a).then(function(a){c(a);})["catch"](function(a){b.la.error("loadKeys failed",a);f(a);}):f("Storage is not available");});};c.prototype.Kqb=function(){var a;a=this;return this.iCb.create().then(function(b){a.Zz.idb={storage:b,key:"idb"};})["catch"](function(b){a.la.error("idb failed to load",b);return b || ({ka:m.K.Wl});});};c.prototype.Jmb=function(a,b){return !a || a && b?!0:!1;};c.prototype.JIb=function(a){var b;b="";a && (b+=a.ka);return {ka:b};};c.prototype.k_a=function(a){return (a=this.Zz[a])?a.storage.removeAll():Promise.resolve();};c.prototype.DUa=function(a){return (a=this.Zz[a])?a.storage.loadAll():Promise.resolve([]);};c.prototype.Rvb=function(a){for(var b in this.JB){if(a.startsWith(b))return this.JB[b];}return this.JB[g.ywa];};c.prototype.HR=function(a){var b,c;b=this;this.Rvb(a).every(function(a){return b.Zz[a]?(c=b.Zz[a],!1):!0;});c || (this.la.error("component not found for storageKey",{xTb:a,r4b:Object.keys(this.Zz),rules:this.JB}),c=this.Zz.mem);this.la.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};c.prototype.aEb=function(a){return (a && (a.ka || a.errorSubCode)) === m.K.bz;};b.b8=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.ywa=void 0;b.ywa="__default_rule_key__";},function(d,b,a){var h,l,m;function c(a){this.Af=a;this.jB={};this.la=this.Af.wb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.KAa=void 0;d=a(0);h=a(1);l=a(2);a=a(6);c.prototype.load=function(a){var b;if(this.jB.hasOwnProperty(a)){b=this.jB[a];this.la.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.la.debug("Storage entry not found",{key:a});return Promise.reject({ka:l.K.bz});};c.prototype.save=function(a,b,c){if(c && this.jB.hasOwnProperty(a))return Promise.resolve(!1);this.jB[a]=b;return Promise.resolve(!0);};c.prototype.remove=function(a){delete this.jB[a];return Promise.resolve();};c.prototype.loadAll=function(){var a;a=Object.entries(this.jB).map(function(a){var b;b=N(a);a=b.next().value;b=b.next().value;return {key:a,value:b};});return Promise.resolve(a);};c.prototype.JS=function(a){var b;b=Object.keys(this.jB).reduce(function(b,c){a && 0 !== c.indexOf(a) || (b[c]=void 0);return b;},{});return Promise.resolve(b);};c.prototype.removeAll=function(){this.jB={};return Promise.resolve();};m=c;m=d.__decorate([h.O(),d.__param(0,h.l(a.zb))],m);b.KAa=m;},function(d,b,a){var l,m,f;function c(a,b,c){var f;f=this;this.la=a;this.valid=!0;this.zk=!1;this.context=c.context;this.size=c.size;this.xm=b.create().then(function(a){f.storage=a;return a.JS("mediacache").then(function(a){f.keys=a;});});}function h(a,b){this.Af=a;this.Vk=b;this.NJ={};}Object.defineProperty(b,"__esModule",{value:!0});b.A8a=b.Swa=void 0;d=a(0);l=a(1);m=a(6);a=a(63);h.prototype.k0=function(a){this.NJ[a.context]=new c(this.Af.wb("DiskStorageContext"),this.Vk,a);return this.NJ[a.context];};h.prototype.BNa=function(a){delete this.NJ[a.context];};f=h;f=d.__decorate([l.O(),d.__param(0,l.l(m.zb)),d.__param(1,l.l(a.qt))],f);b.Swa=f;c.prototype.create=function(a,b,c,f){var d,k,l;d=this;k=this.getKey(a,b);l=Date.now();this.xm.then(function(){d.keys[k]=void 0;return d.storage.save(k,c,!1).then(function(){d.la.trace("create succeeded for " + k + ", " + (Date.now() - l) + " ms");f(d.s2(a,b));});})["catch"](function(c){d.la.trace("create failed",c);f(d.wA(a,b,c));});};c.prototype.append=function(a,b,c,f){c=this.getKey(a,b);this.la.trace("append " + c);f(this.wA(a,b,"append is not supported"));};c.prototype.remove=function(a,b,c){var f,d,k;f=this;d=this.getKey(a,b);k=Date.now();this.xm.then(function(){if(f.keys.hasOwnProperty(d))return (delete f.keys[d],f.storage.remove(d).then(function(){f.la.trace("remove succeeded for " + d + ", " + (Date.now() - k) + " ms");c(f.s2(a,b));}));c(f.s2(a,b));})["catch"](function(d){f.la.trace("remove failed",d);c(f.wA(a,b,d));});};c.prototype.read=function(a,b,c,f,d){var k,l,h;k=this;l=this.getKey(a,b);h=Date.now();0 !== c || -1 != f?d(this.wA(a,b,"byteStart/byteEnd combination is not supported")):this.xm.then(function(){if(k.keys.hasOwnProperty(l))return k.storage.load(l).then(function(m){k.la.trace("read succeeded for " + l + ", " + (Date.now() - h) + " ms");d(Object.assign(k.s2(a,b),{value:m.value,v4b:c,end:f}));});d(k.wA(a,b,"Item doesn't exist"));})["catch"](function(c){k.la.trace("read failed",c);d(k.wA(a,b,c));});};c.prototype.info=function(a){var b;b=this;this.la.trace("info ");this.xm.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.Hpa(c);a[c.SQ] || (a[c.SQ]={});a[c.SQ][c.TA]={size:0};return a;},{}),total:b.size,R9b:0};a(c);})["catch"](function(c){b.la.trace("info failed",c);a(b.wA(void 0,void 0,c));});};c.prototype.query=function(a,b,c){var f,d;f=this;d=this.getKey(a,b || "");this.xm.then(function(){var a;a=Object.keys(f.keys).filter(function(a){return 0 === a.indexOf(d);}).reduce(function(a,b){a[f.Hpa(b).TA]={size:0};return a;},{});f.la.trace("query succeeded for prefix " + b,a);c(a);})["catch"](function(a){f.la.trace("query failed",a);c({});});};c.prototype.mt=function(a){var b;b=this;this.la.trace("validate");this.xm.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.Hpa(c).TA]={size:0};return a;},{});a(c);})["catch"](function(c){b.la.trace("validate failed",c);a(b.wA(void 0,void 0,c));});};c.prototype.getKey=function(a,b){return ["mediacache",this.context,a,b].join(".");};c.prototype.s2=function(a,b){return {ja:!0,SQ:void 0 === a?"":a,key:void 0 === b?"":b,bXb:0,Ck:this.size};};c.prototype.wA=function(a,b,c){return {ja:!1,error:c,SQ:void 0 === a?"":a,key:void 0 === b?"":b,bXb:0,Ck:this.size};};c.prototype.Hpa=function(a){var b,c;a=a.slice(a.indexOf(".") + 1);b=a.slice(a.indexOf(".") + 1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c + 1);return {SQ:a,TA:b};};b.A8a=c;},function(d,b,a){var c,h,l,m,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.iu=void 0;d=a(1);c=a(217);h=a(364);l=a(365);m=a(730);f=a(731);k=a(732);b.iu=new d.Tc(function(a){a(c.aW).to(m.Ava).Z();a(h.w8).to(f.yva).Z();a(l.v8).to(k.zva).Z();});},function(d,b,a){var h,l,m,f,k,q,g;function c(a,b,c,f,d){this.F_=b;this.Ta=c;this.Ilb=f;this.config=d;this.la=a.wb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.Ava=void 0;d=a(0);h=a(1);l=a(364);m=a(365);f=a(6);k=a(22);q=a(4);a=a(14);c.prototype.gJa=function(a){var b,c;b=a.Wa.playbackState && a.Wa.playbackState.currentTime;c=this.Pxb(a.u);b=this.Ta.kE(b)?q.Nb(b):c;if(this.Ta.Rf(b))(this.la.info("Overriding bookmark",{From:a.SB.ca(q.ga),To:b.ca(q.ga)}),a=Object.assign({},a,{SB:b}));else if(this.nCb(a))return (this.la.trace("Ignoring bookmark because it's too close to beginning"),q.ah(0));return a.SB.Oma()?(this.la.trace("Ignoring bookmark because it's negative"),q.ah(0)):this.mCb(a)?(this.la.trace("Ignoring bookmark because it's too close to end"),q.ah(0)):this.lCb(a)?(this.la.trace("Ignoring bookmark because it's too close to the end to start decoding"),q.ah(0)):a.SB;};c.prototype.nCb=function(a){return 0 > a.SB.tk(this.vka(a));};c.prototype.vka=function(a){return this.BKa(this.F_.vka(),a.HT);};c.prototype.mCb=function(a){return 0 < a.SB.tk(this.wka(a));};c.prototype.wka=function(a){var b;b=a.Wa.Kj?this.F_.Myb():this.F_.wka();return a.HT.Fa(this.BKa(b,a.HT));};c.prototype.lCb=function(a){return 0 < a.SB.tk(this.uyb(a));};c.prototype.uyb=function(a){var b;b=a.Wa.Kj?this.config().GXa:this.config().vF;return a.HT.Fa(q.Nb(b));};c.prototype.Pxb=function(a){var b;a=this.F_.gka()[a];b=-1;this.Ta.Ho(a)?b=parseInt(a):this.Ta.Th(a) && (b=a);if(this.Ta.ZI(b))return q.Nb(b);};c.prototype.BKa=function(a,b){return this.Ilb.NTb(a,b);};g=c;g=d.__decorate([h.O(),d.__param(0,h.l(f.zb)),d.__param(1,h.l(l.w8)),d.__param(2,h.l(k.Ie)),d.__param(3,h.l(m.v8)),d.__param(4,h.l(a.Sc))],g);b.Ava=g;},function(d,b,a){var h,l;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.yva=void 0;d=a(0);h=a(1);a=a(14);c.prototype.vka=function(){return this.vA().Jlb;};c.prototype.wka=function(){return this.vA().Klb;};c.prototype.Myb=function(){return this.vA().Llb;};c.prototype.gka=function(){return this.vA().AKa;};c.prototype.vA=function(){return this.config();};l=c;l=d.__decorate([h.O(),d.__param(0,h.l(a.Sc))],l);b.yva=l;},function(d,b,a){var h,l,m;function c(a){this.Ta=a;}Object.defineProperty(b,"__esModule",{value:!0});b.zva=void 0;d=a(0);h=a(1);l=a(22);m=a(4);c.prototype.NTb=function(a,b){var c,f;c=parseFloat(a);f=0;"%" === a[a.length - 1] && this.Ta.Th(c)?f=Math.round(c * b.ca(m.ga) / 100):(a=parseInt(a),this.Ta.ZI(a) && (f=a));return m.Nb(Math.min(f,b.ca(m.ga)));};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(l.Ie))],a);b.zva=a;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});b.ZKa=void 0;d=a(1);c=a(366);h=a(734);b.ZKa=new d.Tc(function(a){a(c.B8).to(h.Kva).Z();});},function(d,b,a){var h,l,m,f,k,q,g,r,u;function c(a,b,c,f,d,k){this.config=a;this.iB=c;this.profile=f;this.s7=d;this.yQ=k;this.log=b.wb("CDMAttestedDescriptor");this.iQa(r.Ht.qO);}Object.defineProperty(b,"__esModule",{value:!0});b.Kva=void 0;d=a(0);h=a(1);l=a(14);m=a(6);f=a(138);k=a(218);q=a(87);g=a(155);r=a(36);u=a(61);c.prototype.iQa=function(a){var b;b=this;return this.s7.I6(a)?this.config().$tb?this.gQa().then(function(a){if(a)return (!1,Promise.resolve(void 0));b.xUa || (!1,b.xUa=b.yQ.fla(u.jh.Lv));return b.xUa;})["catch"](function(a){b.log.error("Failed to generate challenge",a);}).then(function(a){null === a || void 0 === a?void 0:a.Fb.close().subscribe();return null === a || void 0 === a?void 0:a.Jga;}).then(function(a){return Promise.all([Promise.resolve(a),b.gQa()]);}).then(function(a){var b;a=N(a);b=a.next().value;if(a.next().value)!1;else return b;}):this.iB().then(function(a){a.iT.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.gQa=function(){var a;a=this;return this.iB().then(function(b){return (b=b.iT.getServiceTokens(a.profile)) && b.find(function(a){return "cad" === a.name;});});};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(l.Sc)),d.__param(1,h.l(m.zb)),d.__param(2,h.l(f.nH)),d.__param(3,h.l(q.DH)),d.__param(4,h.l(k.zO)),d.__param(5,h.l(g.CN))],a);b.Kva=a;},function(d,b,a){var c,h,l,m,f,k,q,g,r,u,B,A,y,n;Object.defineProperty(b,"__esModule",{value:!0});b.lVa=void 0;d=a(1);c=a(367);h=a(736);l=a(368);m=a(766);f=a(378);k=a(167);q=a(380);g=a(767);r=a(381);u=a(768);B=a(168);A=a(769);y=a(383);n=a(770);b.lVa=new d.Tc(function(b){b(l.R$).to(m.iAa).Z();b(c.S$).to(h.jAa).Z();b(f.rba).gi(function(b){for(var c=[],f=0;f < arguments.length;++f){c[f - 0]=arguments[f];}f=a(224).UC;return new (Function.prototype.bind.apply(f,[null].concat(X(c))))();});b(k.yO).gi(function(b){for(var c=[],f=0;f < arguments.length;++f){c[f - 0]=arguments[f];}f=a(444).Vva;return new (Function.prototype.bind.apply(f,[null].concat(X(c))))();});b(q.U$).jf(function(){return function(a){return new g.nAa(a);};});b(r.T$).to(u.mAa).Z();b(B.lH).to(A.hAa).Z();b(y.P$).to(n.gAa).Z();});},function(d,b,a){var h,l,m,f,k,q,g,r,u,B,A,y;function c(a,b,c,f,d){this.Af=a;this.config=b;this.gqa=c;this.Dta=f;this.RB=d;}Object.defineProperty(b,"__esModule",{value:!0});b.jAa=void 0;d=a(0);h=a(1);l=a(6);m=a(368);f=a(737);k=a(762);q=a(763);g=a(764);r=a(765);u=a(223);B=a(378);A=a(167);a=a(379);c.prototype.create=function(a){var b,c;b=this.Af.wb("ManifestParser",a);c=new f.bwa(b,this.config);return new q.kAa(c,new k.KEa(b,this.config,a,c,this.gqa),new g.aFa(b,a,this.Dta),new r.pva(b,this.config,a,this.RB),new u.vY(b,this.RB));};y=c;y=d.__decorate([h.O(),d.__param(0,h.l(l.zb)),d.__param(1,h.l(m.R$)),d.__param(2,h.l(B.rba)),d.__param(3,h.l(a.oca)),d.__param(4,h.l(A.yO))],y);b.jAa=y;},function(d,b,a){var h;function c(a,b){this.log=a;this.config=b;}Object.defineProperty(b,"__esModule",{value:!0});b.bwa=void 0;h=a(118);c.prototype.ZXa=function(a,b,c){var f,d,l,m,g;f=this;d=this.config.Gga;l=this.config.Fga;a=N(h.Hs(function(a){return (!d.length || 0 <= d.indexOf(a.id)) && 0 > l.indexOf(a.id);},a || []));m=a.next().value;a.next().value.forEach(function(a){return f.log.warn("Cdn is not allowed",{Id:a.id});});g=m.map(function(a){var c;c=(b?b.find(function(b){return b.key === a.key;}):void 0) || ({});return {id:a.id,name:a.name,kg:a.kg,type:a.type,Gna:a.key,O6b:a.ZUa,location:{id:c.key,kg:c.kg,level:c.level,weight:c.weight,qk:[]}};});g.sort(function(a,b){return a.kg - b.kg;});g.forEach(function(a){return a.location.qk=g.filter(function(b){return b.Gna === a.Gna;});});this.log.trace("Transformed cdns",{Count:g.length});if(c && !g.length)throw Error("no valid cdns");return g;};b.bwa=c;},function(d,b,a){var c;b=a(165);c=a(739);a=b(function(a,b,d){return c(function(b,c,d){return a(c,d);},b,d);});d.exports=a;},function(d,b,a){var c,h;b=a(165);c=a(369);h=a(740);a=b(function m(a,b,d){return h(function(b,f,d){return c(f) && c(d)?m(a,f,d):a(b,f,d);},b,d);});d.exports=a;},function(d,b,a){var c;b=a(165);c=a(219);a=b(function(a,b,d){var f,k;f={};for(k in b){c(k,b) && (f[k]=c(k,d)?a(k,b[k],d[k]):b[k]);}for(k in d){c(k,d) && !c(k,f) && (f[k]=d[k]);}return f;});d.exports=a;},function(d,b,a){var c;b=a(370);c=a(750);a=a(760);a=c([b,a]);d.exports=a;},function(d){d.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(d){d.exports=function(b,a){for(var c=0,d=a.length,l=[];c < d;){b(a[c]) && (l[l.length]=a[c]);c+=1;}return l;};},function(d,b,a){var c,h;b=a(119);c=a(372);h=a(745);a=b(function(a){return c(a)?!0:!a || "object" !== typeof a || h(a)?!1:1 === a.nodeType?! !a.length:0 === a.length?!0:0 < a.length?a.hasOwnProperty(0) && a.hasOwnProperty(a.length - 1):!1;});d.exports=a;},function(d){d.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(d){var b;b=(function(){function a(a){this.tq=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,b){return this.tq(a,b);};return a;})();d.exports=function(a){return new b(a);};},function(d,b,a){var c;c=a(221);b=a(54)(function(a,b){return c(a.length,function(){return a.apply(b,arguments);});});d.exports=b;},function(d,b,a){var c,h;b=a(54);c=a(373);h=(function(){function a(a,b){this.PV=b;this.tq=a;}a.prototype["@@transducer/init"]=c.$a;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.tq(b)?this.PV["@@transducer/step"](a,b):a;};return a;})();a=b(function(a,b){return new h(a,b);});d.exports=a;},function(d,b,a){var c,h;c=a(219);h=Object.prototype.toString;d.exports=function(){return "[object Arguments]" === h.call(arguments)?function(a){return "[object Arguments]" === h.call(a);}:function(a){return c("callee",a);};};},function(d,b,a){var c;b=a(119);c=a(751);a=b(function(a){return c(function(){return Array.prototype.slice.call(arguments,0);},a);});d.exports=a;},function(d,b,a){var c,h,l,m,f;b=a(54);c=a(375);h=a(376);l=a(753);m=a(754);f=a(759);a=b(function(a,b){return h(f(l,0,m("length",b)),function(){var f,d;f=arguments;d=this;return a.apply(d,c(function(a){return a.apply(d,f);},b));});});d.exports=a;},function(d,b,a){var h,l;function c(a,b,d){return function(){var B;for(var f=[],k=0,m=a,g=0;g < b.length || k < arguments.length;){g < b.length && (!l(b[g]) || k >= arguments.length)?B=b[g]:(B=arguments[k],k+=1);f[g]=B;l(B) || --m;g+=1;}return 0 >= m?d.apply(this,f):h(m,c(a,f,d));};}h=a(221);l=a(166);d.exports=c;},function(d,b,a){b=a(54)(function(a,b){return b > a?b:a;});d.exports=b;},function(d,b,a){var c,h;b=a(54);c=a(755);h=a(757);a=b(function(a,b){return c(h(a),b);});d.exports=a;},function(d,b,a){var c,h,l,m,f,k;b=a(54);c=a(371);h=a(375);l=a(220);m=a(756);f=a(376);k=a(374);a=b(c(["fantasy-land/map","map"],m,function(a,b){switch(Object.prototype.toString.call(b)){case "[object Function]":return f(b.length,function(){return a.call(this,b.apply(this,arguments));});case "[object Object]":return l(function(c,f){c[f]=a(b[f]);return c;},{},k(b));default:return h(a,b);}}));d.exports=a;},function(d,b,a){var c,h;b=a(54);c=a(373);h=(function(){function a(a,b){this.PV=b;this.tq=a;}a.prototype["@@transducer/init"]=c.$a;a.prototype["@@transducer/result"]=c.result;a.prototype["@@transducer/step"]=function(a,b){return this.PV["@@transducer/step"](a,this.tq(b));};return a;})();a=b(function(a,b){return new h(a,b);});d.exports=a;},function(d,b,a){var c;b=a(54);c=a(758);a=b(function(a,b){return c([a],b);});d.exports=a;},function(d,b,a){b=a(54)(function(a,b){for(var c=0;c < a.length;){if(null == b)return;b=b[a[c]];c+=1;}return b;});d.exports=b;},function(d,b,a){b=a(165);a=a(220);a=b(a);d.exports=a;},function(d,b,a){var c,h;c=a(761);b=a(54);h=a(370);a=b(function(a,b){return h(c(a),b);});d.exports=a;},function(d){d.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(d,b,a){var h,l,m,f;function c(a,b,c,f,d){this.log=a;this.config=b;this.j=c;this.Hga=f;this.gqa=d;}Object.defineProperty(b,"__esModule",{value:!0});b.KEa=void 0;h=a(56);l=a(10);m=a(139);f=a(222);c.prototype.bLb=function(a){var b;b=this;a=a.map(function(a){var c,f,d;c=b.rVb(a);!1 !== a.LK || c.length || b.log.error("track without downloadables",b.aRa(a));!0 !== a.Jma || c.length || b.log.error("forced track without downloadables",b.aRa(a));f={};d=[];if(0 < c.length){f=c[0];d=f.profile;if(d == h.Vl.oH || d == h.Vl.AX)(f=b.OQb(c),!1);d=b.Hga.ZXa(a.Wmb,void 0,!1);}a=b.gqa(b.j,a.Fs,a.id,f.Jd,f.He || ({}),d,a.language,a.G3,m.sY[a.fo.toLowerCase()] || m.so.wH,a.YT.toUpperCase(),f.profile,b.kzb(f) || ({}),a.LK,a.Jma,a.v3,a.qs);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};c.prototype.PUb=function(a){var b,c;b=this;c=this.config.Pja;if(c){if(a=N(a.filter(function(a){return a.im == c || a.Ya == c;})).next().value)return a;}else if(this.j.B1 && (a=N(a.filter(function(a){return a.Ya == b.j.B1;})).next().value))return a;};c.prototype.rVb=function(a){var b,c;b=this;c=a.xtb;a=Object.entries(a.NVb || ({})).map(function(a){var f;f=N(a);a=f.next().value;f=f.next().value;return {Jd:c[a],profile:a,size:f.size || 0,Ud:b.lyb(a,f),offset:f.Goa || 0,ELb:f.width,CYa:f.height,He:f.hx};});a.sort(function(a,b){return a.Ud - b.Ud;});return a;};c.prototype.lyb=function(a,b){var c,f;c=this.config.sv.indexOf(a);b=b.size;f=this.config.TM;return a === h.Vl.Q8 && 0 < f && b > f?this.config.sv.length + 1:0 <= c?c:this.config.sv.length;};c.prototype.kzb=function(a){if(a.profile === h.Vl.oH || a.profile === h.Vl.AX)return {offset:a.offset,length:a.size,e6:{width:a.ELb,height:a.CYa}};};c.prototype.OQb=function(a){var b,c;b=this.config.fma || f.pY.Vka();c=N(a.filter(function(a){return a.profile === h.Vl.oH || a.profile === h.Vl.AX;}).filter(function(a){return a.CYa === b;})).next().value;if(c)return c;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:l.Jt.height,intendedResolution:b});return a[0];};c.prototype.aRa=function(a){return {isNone:a.LK,isForced:a.Jma,bcp47:a.language,id:a.Fs};};b.KEa=c;},function(d,b){function a(a,b,d,m,f){this.Hga=a;this.R2a=b;this.CVb=d;this.dKa=m;this.U4a=f;}Object.defineProperty(b,"__esModule",{value:!0});b.kAa=void 0;a.prototype.XKb=function(a){var b,c,d,f,k,q,g,r,u,B,A,y,n,J,D;b=a.Fc;a=this.Hga.ZXa(b.Xs,b.Hn,!0);c=this.R2a.bLb(b.SUb);d=this.CVb.cLb(b.FVb);f=this.dKa.PKb(b.fKa,b.media,c);k=this.U4a.Jpa(b.ot);q=this.ZKb(b,f,c);g=q[0];r=k[0];u=this.dKa.$kb(f) || g.Zc || f[0];g=this.R2a.PUb(u.Ml) || g.Oc || u.Ml[0];B=this.U4a.$Kb(b.ot);A=b.vi;y=b.Knb;n=b.G2;J=b.ol;D=b.fKa.findIndex(function(a){return a.Fs == u.Ya;});b=b.ot.findIndex(function(a){return a.Fs == r.Ya;});return {Ps:B,qk:a,ln:f,Qm:k,Ml:c,Gy:d,vi:A,gRb:y,Hx:n,ol:J,mNa:D,qNa:b,B5:q,iia:r,WQ:u,hia:g};};a.prototype.ZKb=function(a,b,d){var c,f;c=[];f=a.pNa[0];c.push({Zc:b.find(function(a){return a.Bx === f.ND;}),Oc:d.find(function(a){return a.Bx === f.ZTb;}),z8b:0});return c;};b.kAa=a;},function(d,b){function a(a,b,d){this.log=a;this.j=b;this.Dta=d;}Object.defineProperty(b,"__esModule",{value:!0});b.aFa=void 0;a.prototype.cLb=function(a){var b;b=this;a=(a || []).filter(function(a){return a.He && 0 < a.He.length;}).map(function(a){return b.Dta(b.j,a.id,a.height,a.width,a.JLb,a.KLb,a.size,a.qs,{unknown:a.He[0]});});0 === a.length && this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size - b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};b.aFa=a;},function(d,b,a){var h,l,m,f,k;function c(a,b,c,f){a=l.cO.call(this,a,f) || this;a.config=b;a.j=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.pva=void 0;h=a(350);l=a(377);m=a(118);f=a(80);k=a(139);L(c,l.cO);c.prototype.PKb=function(a,b,c){var d,l,q,g;d=this;l=N(m.Hs(function(a){return a.LK;},a));a=l.next().value;l=l.next().value;l=N(m.Hs(function(a){return a.yc && 0 < a.yc.length;},l));q=l.next().value;l.next().value.forEach(function(a){return d.log.warn("Audio track is missing streams",d.cSa(a));});g=this.config.ata;l=N(m.Hs(function(a){return 0 === g.length || 0 <= g.indexOf(a.fo);},q));q=l.next().value;l.next().value.forEach(function(a){return d.log.warn("Audio track is not supported",d.cSa(a));});a=[].concat(X(q),X(a)).map(function(a){var l,m;m=a.fo;m={type:f.kh.audio,Ya:a.Fs,Bx:a.yta,fo:k.sY[m.toLowerCase()] || k.so.wH,YT:m,im:a.language,displayName:a.G3,Or:a.Or,N4b:a.Or,Ml:d.fxb(a.Fs,b,c),Eh:{Bcp47:a.language,TrackId:a.Fs},yc:[],isNative:a.isNative,KK:a.LK,f7:a.f7};m.yc=d.B3a(a.yc,m);d.log.trace("Transformed audio track",m,{StreamCount:m.yc.length,AllowedTimedTextTracks:m.Ml.length});m.Tnb=h.m8[null === (l=m.yc[0]) || void 0 === l?void 0:l.yg];return m;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};c.prototype.$kb=function(a){var b,c;b=this;c=this.config.Mja;if(c){if(a=N(a.filter(function(a){return a.im == c || a.Ya == c;})).next().value)return a;}else if(this.j.A1 && (a=N(a.filter(function(a){return a.Ya == b.j.A1;})).next().value))return a;};c.prototype.cSa=function(a){return {language:a.G3,bcp47:a.language,type:a.fo};};c.prototype.fxb=function(a,b,c){return b.filter(function(b){return b.dh.AUDIO === a;}).map(function(a){return a.dh.fca;}).map(function(a){return c.find(function(b){return b.Ya === a;});}).filter(Boolean);};b.pva=c;},function(d,b,a){var h,l,m,f,k,q;function c(a,b){a=l.Te.call(this,a,"ManifestParserConfigImpl") || this;a.vn=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.iAa=void 0;d=a(0);h=a(1);l=a(44);m=a(32);f=a(43);k=a(130);q=a(47);L(c,l.Te);ma.Object.defineProperties(c.prototype,{ata:{configurable:!0,enumerable:!0,get:function(){return [];}},Mja:{configurable:!0,enumerable:!0,get:function(){return "";}},Gga:{configurable:!0,enumerable:!0,get:function(){return [];}},Fga:{configurable:!0,enumerable:!0,get:function(){return [];}},Pja:{configurable:!0,enumerable:!0,get:function(){return "";}},fma:{configurable:!0,enumerable:!0,get:function(){return 0;}},TM:{configurable:!0,enumerable:!0,get:function(){return this.vn.TM.ca(q.vt);}},sv:{configurable:!0,enumerable:!0,get:function(){return this.vn.sv;}}});a=c;d.__decorate([f.config(f.Z6,"supportedAudioTrackTypes")],a.prototype,"ata",null);d.__decorate([f.config(f.string,"forceAudioTrack")],a.prototype,"Mja",null);d.__decorate([f.config(f.Mta,"cdnIdWhiteList")],a.prototype,"Gga",null);d.__decorate([f.config(f.Mta,"cdnIdBlackList")],a.prototype,"Fga",null);d.__decorate([f.config(f.string,"forceTimedTextTrack")],a.prototype,"Pja",null);d.__decorate([f.config(f.Iy,"imageSubsResolution")],a.prototype,"fma",null);d.__decorate([f.config(f.Iy,"timedTextSimpleFallbackThreshold")],a.prototype,"TM",null);d.__decorate([f.config(f.Z6,"timedTextProfiles")],a.prototype,"sv",null);a=d.__decorate([h.O(),d.__param(0,h.l(m.ek)),d.__param(1,h.l(k.xH))],a);b.iAa=a;},function(d,b){function a(a){this.xc=a;this.Ab=JSON.stringify(this.ezb());}Object.defineProperty(b,"__esModule",{value:!0});b.nAa=void 0;a.prototype.ezb=function(){var a;a=[];(!this.xc.qk || 0 >= this.xc.qk.length) && a.push({error:"No CDN."});this.xc.WQ || a.push({error:"No default audio track.",foundTracks:this.uka(this.xc.ln)});this.xc.iia || a.push({error:"No default video track.",foundTracks:this.uka(this.xc.Qm)});this.xc.hia || a.push({error:"No default subtitle track.",foundTracks:this.uka(this.xc.Ml)});return a;};a.prototype.uka=function(a){return a && 0 < a.length?a.map(function(a){return a.Ya;}):"No tracks found.";};b.nAa=a;},function(d,b,a){var h,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.mAa=void 0;d=a(0);h=a(1);l=a(222);c.prototype.decode=function(a){var b,c;b=this.lAb(a.cdns);c=this.wyb(a);return {movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.Fka(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position / 1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.$xb(a),timedtexttracks:this.GAb(a.textTracks,b),media:this.izb(a.media),trickplays:this.KAb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:! !a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:c.qR,urlExpirationDuration:c.K4a,manifestExpirationDuration:c.K4a,initialHeader:void 0,steeringAdditionalInfo:null,viewableType:"",type:"standard"};};c.prototype.$xb=function(a){var b,c,d;b=N(a.defaultMedia.split("|"));c=b.next().value;d=b.next().value;b=b.next().value;return [{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:d,subtitleTrackId:b,preferenceOrder:0}];};c.prototype.Fka=function(a){return a?a.map(function(a){return {key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};c.prototype.lAb=function(a){return a?a.map(function(a){return {name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};c.prototype.eSa=function(a){return Object.entries(a).map(function(a){var b;b=N(a);a=b.next().value;b=b.next().value;return {cdn_id:Number(a),url:b};});};c.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return {type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.hxb(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c && c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,isNoneTrack:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};c.prototype.hxb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return {type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.eSa(a.urls),isDrm:! !a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate - b.bitrate;}),a):[];};c.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return {type:1,trackType:"PRIMARY",streams:c.UAb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",hasDrmProfile:!0,hasDrmStreams:! !b,hasClearProfile:!1,hasClearStreams:!b,drmHeader:b && b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length - 25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};c.prototype.UAb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return {type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.eSa(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate - b.bitrate;}),a):[];};c.prototype.GAb=function(a,b){var c;c=this;return a?a.map(function(a){return {type:"timedtext",trackType:"SUBTITLES" === a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47 || null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.BAb(a.downloadables),ttDownloadables:c.CAb(a.downloadables),isLanguageLeftToRight:! !a.isLanguageLeftToRight,cdnlist:b};}):[];};c.prototype.BAb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};c.prototype.Qzb=function(a){var b;b=l.pY.Vka();a=a.filter(function(a){return a.isImage;});return 0 === a.length?b:0 < a.filter(function(a){return a.pixHeight === b;}).length?b:Math.min.apply(Math,[].concat(X(a.map(function(a){return a.pixHeight;}))));};c.prototype.CAb=function(a){var b;if(a){b=this.Qzb(a);return a.reduce(function(a,c){c.isImage && c.pixHeight !== b || (a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return {};};c.prototype.izb=function(a){return a?a.map(function(a){return {id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return "AUDIO" === a.type;}).id,VIDEO:a.tracks.find(function(a){return "VIDEO" === a.type;}).id,TEXT:a.tracks.find(function(a){return "TEXT" === a.type;}).id}};}):[];};c.prototype.KAb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.values(a.urls),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return [];};c.prototype.wyb=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables && a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables && a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return {K4a:1E3 * b,qR:a.clientGenesis + 1E3 * b};};c.prototype.encode=function(){throw Error("encode not supported");};a=c;a=d.__decorate([h.O()],a);b.mAa=a;},function(d,b,a){var h,l,m,f,k,q,g,r;function c(a,b,c,f){this.ta=a;this.rGb=b;this.bFb=c;this.nGb=f;}Object.defineProperty(b,"__esModule",{value:!0});b.hAa=void 0;d=a(0);h=a(381);l=a(1);m=a(35);f=a(4);k=a(382);q=a(383);g=a(40);r=a(2);c.prototype.create=function(a){var b;if(this.LDb(a))throw g.Bc.WXb(r.L.MANIFEST,r.K.wcb,a);b=this.bFb();this.EDb(a)?(a.clientGenesis=a.clientGenesis || this.ta.Be.ca(f.ga),a=this.rGb.decode(a),b.sjb(a)):b.gfa(a.links);this.nGb.WJ(a);return {Fc:a,hj:b,FTa:!1};};c.prototype.LDb=function(a){return ("type" in a) && "muxed" === a.type;};c.prototype.EDb=function(a){return ("runtime" in a) && ! !a.runtime;};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(m.hh)),d.__param(1,l.l(h.T$)),d.__param(2,l.l(k.Oaa)),d.__param(3,l.l(q.P$))],a);b.hAa=a;},function(d,b,a){var h,l;function c(a){this.Lub=a;this.pGb={nu:"drmType",A5b:"drmVersion",qR:"expiration",S6b:"isUsingLegacyBatchingAPI",iu:"bookmark",u:"movieId",vp:"packageId",duration:"duration",vi:"playbackContextId",pNa:["defaultTrackOrderList",{gL:"mediaId",X9b:"videoTrackId",ZTb:"subtitleTrackId",ND:"audioTrackId",y8b:"preferenceOrder"}],ol:"drmContextId",ABb:"hasDrmProfile",zBb:"hasClearProfile",G2:"hasDrmStreams",pSa:"hasClearStreams",Hn:["locations",{kg:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],Xs:["servers",{id:"id",name:"name",type:"type",kg:"rank",ZUa:"lowgrade",itb:["dns",{host:"host",fDb:"ipv4",gDb:"ipv6",vwb:"forceLookup"}],key:"key"}],fKa:["audio_tracks",{type:"type",fo:"trackType",Fs:"new_track_id",yta:"track_id",pNb:"profileType",qTb:"stereo",profile:"profile",Or:"channels",language:"language",dnb:"channelsFormat",f7:"surroundFormatLabel",G3:"languageDescription",t5b:"disallowedSubtitleTracks",n5b:"defaultTimedText",isNative:"isNative",LK:"isNoneTrack",yc:["streams",{Bia:"downloadable_id",size:"size",GQ:"content_profile",fo:"trackType",U:"bitrate",Iu:"isDrm",He:["urls",{iLa:"cdn_id",url:"url"}],yIb:"new_stream_id",type:"type",Or:"channels",dnb:"channelsFormat",f7:"surroundFormatLabel",language:"language",p4b:"audioKey"}],Tnb:"codecName",YT:"rawTrackType",id:"id"}],ot:["video_tracks",{fo:"trackType",Fs:"new_track_id",type:"type",yta:"track_id",ABb:"hasDrmProfile",zBb:"hasClearProfile",G2:"hasDrmStreams",pSa:"hasClearStreams",yc:["streams",{Bia:"downloadable_id",size:"size",GQ:"content_profile",fo:"trackType",U:"bitrate",Iu:"isDrm",He:["urls",{iLa:"cdn_id",url:"url"}],yIb:"new_stream_id",type:"type",r8b:"peakBitrate",Vsb:"dimensionsCount",Wsb:"dimensionsLabel",EYa:"pix_w",DYa:"pix_h",FPb:"res_w",EPb:"res_h",yrb:"crop_x",zrb:"crop_y",xrb:"crop_w",wrb:"crop_h",Ewb:"framerate_value",Dwb:"framerate_scale",j9b:"startByteOffset",tb:"vmaf"}],pNb:"profileType",qTb:"stereo",profile:"profile",Vsb:"dimensionsCount",Wsb:"dimensionsLabel",Fia:["drmHeader",{ba:"bytes",snb:"checksum",pp:"keyId"}],Ns:["prkDrmHeaders",{ba:"bytes",snb:"checksum",pp:"keyId",e6:["resolution",{height:"height",width:"width"}]}],wq:"flavor",E6b:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",HLb:"pixelAspectX",ILb:"pixelAspectY",o7b:"maxCroppedWidth",n7b:"maxCroppedHeight",p7b:"maxCroppedX",q7b:"maxCroppedY",v7b:"max_framerate_value",u7b:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",H7b:"minCroppedWidth",G7b:"minCroppedHeight",I7b:"minCroppedX",J7b:"minCroppedY",ri:["license",{$Eb:"licenseResponseBase64",D8b:"providerSessionToken",y5b:"drmSessionId",links:["links",{}]}]}],hLa:["cdnResponseData",{ZF:"sessionABTestCell",xF:"pbcid"}],Ro:["choiceMap",{hf:"initialSegment",type:"type",fa:"viewableId",Ja:["segments",{hz:[l.hz,{tc:"startTimeMs",Ad:"endTimeMs",next:["next",{hz:[l.hz,{weight:"weight"}]}],zh:"defaultNext"}]}]}],PCb:["initialHeader",{$:["fragments",{sa:"endPts"}]}],media:["media",{id:"id",dh:["tracks",{AUDIO:"AUDIO",fca:"TEXT",VIDEO:"VIDEO"}]}],SUb:["timedtexttracks",{fo:"trackType",Fs:"new_track_id",type:"type",YT:"rawTrackType",G3:"languageDescription",language:"language",id:"id",LK:"isNoneTrack",Jma:"isForcedNarrative",xtb:["downloadableIds",{}],Wmb:["cdnlist",{id:"id",name:"name",type:"type",kg:"rank",ZUa:"lowgrade",itb:["dns",{host:"host",fDb:"ipv4",gDb:"ipv6",vwb:"forceLookup"}],key:"key"}],NVb:["ttDownloadables",{hz:[l.hz,{size:"size",t9b:"textKey",x6b:"hashValue",w6b:"hashAlgo",N6b:"isImage",Goa:"midxOffset",cWa:"midxSize",height:"height",width:"width",hx:["downloadUrls",{}]}]}],v3:"isLanguageLeftToRight",qs:"headIdentDuration"}],FVb:["trickplays",{Bia:"downloadable_id",size:"size",He:"urls",id:"id",interval:"interval",KLb:"pixelsAspectY",JLb:"pixelsAspectX",width:"width",height:"height",qs:"headIdentDuration"}],f5a:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],x5b:"dpsid",Kj:"isBranching",Y9b:"viewableType",type:"type",TE:"isSupplemental",Knb:"clientIpAddress",O9b:"urlExpirationDuration",h7b:"manifestExpirationDuration",k9b:["steeringAdditionalInfo",{l9b:"steeringId",k4b:"additionalGroupNames",m9b:["streamingClientConfig",{}]}]};}Object.defineProperty(b,"__esModule",{value:!0});b.gAa=void 0;d=a(0);h=a(1);l=a(207);c.prototype.WJ=function(a){this.Lub.WJ(a,this.pGb);};a=c;a=d.__decorate([h.O(),d.__param(0,h.l(l.A9))],a);b.gAa=a;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.bc=b.Dx=void 0;(function(a){a[a.ck=0]="STOPPED";a[a.cd=1]="BUFFERING";a[a.nf=2]="REBUFFERING";a[a.dk=3]="STREAMING";a[a.vO=4]="TRACK_SWITCH";})(a || (a={}));b.bc=a;b.Dx=function(b){return b === a.cd || b === a.nf || b === a.vO;};},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b,a){Object.defineProperties(b,{__esModule:{value:!0}});d=a(0);d.__exportStar(a(783),b);d.__exportStar(a(784),b);d.__exportStar(a(785),b);},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.oa=void 0;d=a || (a={});d[d.oh=0]="STARTING";d[d.cd=1]="BUFFERING";d[d.nf=2]="REBUFFERING";d[d.Uc=3]="PLAYING";d[d.Wv=4]="STOPPING";d[d.ck=5]="STOPPED";d[d.uj=6]="PAUSED";b.oa=a;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b,a){Object.defineProperties(b,{__esModule:{value:!0}});d=a(0);d.__exportStar(a(805),b);d.__exportStar(a(806),b);d.__exportStar(a(807),b);d.__exportStar(a(808),b);d.__exportStar(a(809),b);d.__exportStar(a(810),b);d.__exportStar(a(811),b);},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(813),b);},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gva=void 0;c=a(17);d=(function(){function a(a){this.config=a;}a.prototype.pl=function(a,b){return this.config.Y6 || b !== c.bc.dk?a.filter(function(a){return a.uu;}):a;};return a;})();b.gva=d;},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ZC=void 0;d=a(0);c=a(20);h=d.__importDefault(a(3));l=a(386);a=(function(){function a(a){this.console=a;this.nNa=[];this.yKa={};this.ENa=!1;}a.prototype.Jl=function(a,b){this.nNa=a;void 0 !== b?this.yKa[b]=a:this.ENa || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.ENa=!0);};a.prototype.pl=function(a){var b,f,d,m,g;b=this;if(0 === a.length)return a;m=a[0].fa;if(void 0 === m)return (this.console.error("StreamFilters: Stream has undefined viewable id"),a);try{null === (f=h["default"].Sr) || void 0 === f?void 0:f.call(h["default"],m);}catch(B){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + B),a);}g=null !== (d=this.yKa[m]) && void 0 !== d?d:this.nNa;c.ma && this.console.trace("VideoBitrateRangesFilter: filtering " + a.length + " streams with " + JSON.stringify(g));a=a.filter(function(a){return l.Bfa(a.profile,a.U,g,b.console).inRange;});c.ma && this.console.trace("VideoBitrateRangesFilter: ... " + a.length + " streams in range");return a;};return a;})();b.ZC=a;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.iva=void 0;d=(function(){function a(a){var b;b=this;a.KM && a.KM.enabled && a.KM.profiles && a.KM.profiles.length && "keepLowest" === a.KM.action && (this.gUa={},a.KM.profiles.forEach(function(a){return b.gUa[a]=!0;}));}a.prototype.pl=function(a){var b,c;b={};c=this.gUa;return void 0 === c?a:a.filter(function(a){return !c[a.profile] || (b[a.profile]?!1:b[a.profile]=!0);});};return a;})();b.iva=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eva=void 0;d=(function(){function a(a){this.config=a;}a.prototype.pl=function(a){var b;b=this.config;return a.filter(function(a){return !(void 0 !== a.tb && (a.tb < b.jF || a.tb > b.uVa) || (void 0 === a.tb || 0 >= b.jF) && a.U < b.Hoa || (void 0 === a.tb || Infinity === b.uVa) && a.U > b.GGb);});};return a;})();b.eva=d;},function(d,b,a){var h;function c(a,b){b=Math.max(a,b);return isNaN(b)?a || -Infinity:b;}Object.defineProperties(b,{__esModule:{value:!0}});b.Rua=void 0;h=a(17);d=(function(){function a(a){this.config=a;this.$T=0;this.state=h.bc.ck;this.nWa=c(a.Hoa,a.u4);this.Poa=c(a.jF,a.aT);}a.prototype.pl=function(a,b){var c;c=this;if(b !== this.state){this.state=b;if(b === h.bc.cd || b === h.bc.vO)return a;b === h.bc.nf && this.TZa();}return a.filter(function(a){return !(void 0 !== a.tb && a.tb < c.Poa || (void 0 === a.tb || 0 > c.Poa) && a.U < c.nWa);});};a.prototype.TZa=function(){++this.$T;this.Poa=c(this.config.jF,this.config.aT - this.config.JHb * this.$T);this.nWa=this.config.Hoa || -Infinity;};return a;})();b.Rua=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dva=void 0;c=a(34);d=(function(){function a(a){this.config=a;}a.prototype.lSb=function(a){return a % 100 + 1 <= this.config.Rpa;};a.prototype.pl=function(a){var b,f,d,l,h,g,u,B,A,y,n;u=Number(null === (b=a[0]) || void 0 === b?void 0:b.u);if(!(this.config.$0 && this.lSb(u) && 0 < this.config.g6.length))return a;b=a.length;B=null !== (f=a[b - 1].f6) && void 0 !== f?f:0;if(f=c.Qg(this.config.g6,function(a){return a.J8b >= B && a.V_a <= B;})){for(u=0;u < b;u++){A=a[Math.max(u - 1,0)];y=a[u];if(!((null !== (d=y.f6) && void 0 !== d?d:0) < f.V_a || (null !== (l=A.f6) && void 0 !== l?l:0) < f.V_a)){n=null !== (h=y.tb) && void 0 !== h?h:Infinity;A=null !== (g=A.tb) && void 0 !== g?g:Infinity;if(!(A < f.M7b || A < f.L7b && y.U < f.Am || !n && y.U < f.m7b))break;}}return a.slice(0,u);}return a;};return a;})();b.dva=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.K$=b.n8=void 0;c=a(34);b.n8={pl:function(a){return a.filter(function(a){return a.Hu && !a.JA;});}};b.K$={pl:function(a){return (a=c.Qg(a,function(a){return ! !a.Hu && !a.JA;}))?[a]:[];}};},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SC=void 0;c=a(387);d=(function(){function a(a,b){void 0 === b && (b=!1);this.Hmb=b;this.filters=[];Array.isArray(a)?a.forEach(this.and.bind(this)):this.and(a);}a.prototype.and=function(a){a !== c.FC && this.filters.push({filter:a,jMa:!0});return this;};a.prototype.by=function(a){this.filters.push({filter:a,jMa:!1});return this;};a.prototype.pl=function(a,b){return this.filters.reduce(function(c,d){d.jMa?c=d.filter.pl(c,b):0 === c.length && (c=d.filter.pl(a,b));return c;},a);};return a;})();b.SC=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.L$=void 0;b.L$={pl:function(a){return [a[0]];}};},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dE=b.cE=void 0;c=a(93);b.cE=function(a,b){b && (null === a || void 0 === a?0:a.SSa) && (b=new c.SC(b).by(c.FC));return new c.SC(c.n8).and(null !== b && void 0 !== b?b:c.FC).by(c.K$).by(c.L$);};b.dE=function(a,b){b && a.SSa && (b=new c.SC(b).by(c.FC));return new c.SC(c.n8).and(new c.gva(a)).and(new c.eva(a)).and(new c.Rua(a)).and(new c.iva(a)).and(a.$0?new c.dva(a):c.FC).and(null !== b && void 0 !== b?b:c.FC).by(c.K$).by(c.L$);};},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Hua=void 0;c=a(0);d=(function(a){function b(c,f){c=a.call(this,b.Uwb(c,f)) || this;c.Keb=f;c.name="AggregateError";return c;}c.__extends(b,a);b.Uwb=function(a,b){return b.reduce(function(a,b){return a + "\n" + b;},a);};Object.defineProperties(b.prototype,{ru:{get:function(){return this.Keb;},enumerable:!1,configurable:!0}});return b;})(Error);b.Hua=d;},function(d,b,a){var c,h,l,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.fAa=void 0;c=a(0);h=a(16);l=a(227);d=c.__importDefault(a(3));m=a(856);d=new d["default"].Console("ASEJS","media|asejs");d.trace.bind(d);f=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];d=(function(b){function d(a,c){var d;d=b.call(this) || this;d.H=a;d.jc=new m.wza(a,c);a.qE && d.nMa(c);d.ig=new h.sg();f.forEach(function(a){d.ig.on(d.jc,a,function(b){return d.emit(a,b);});d.Yn && d.ig.on(d.Yn,a,function(b){return d.emit(a,b);});});return d;}c.__extends(d,b);Object.defineProperties(d.prototype,{mb:{get:function(){return this.jc.mb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mn:{get:function(){return this.jc.Mn;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$q:{get:function(){return this.jc.$q;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xy:{get:function(){return this.jc.xy;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zma:{get:function(){return this.jc.Zma;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{GB:{get:function(){return this.jc.GB;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ye:{get:function(){return this.jc.Ye;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Uf:{get:function(){return this.jc.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{cma:{get:function(){return this.jc.cma;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{s5:{get:function(){return this.jc.s5.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{KS:{get:function(){return this.jc.KS.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{TUa:{get:function(){return this.jc.TUa.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{q1a:{get:function(){return this.jc.q1a.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{P1:{get:function(){return this.jc.P1.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{DRa:{get:function(){return this.jc.DRa.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aF:{get:function(){return this.jc.aF.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{DLa:{get:function(){return this.jc.DLa.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{L_:{get:function(){return this.jc.L_.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Sw:{get:function(){var a;a=this;return function(){a.wra();a.jc.Sw();};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{vga:{get:function(){var a;a=this;return function(){a.wra();a.jc.vga();};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wga:{get:function(){return this.jc.wga.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Rw:{get:function(){var a;a=this;return function(){a.wra();a.jc.Rw();};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ko:{get:function(){var a;a=this;return function(b,c,f){var d;null === (d=a.Ye) || void 0 === d?void 0:d.Ko(b,c,f);};},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{XKa:{get:function(){return this.jc.XKa.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{WKa:{get:function(){return this.jc.WKa.bind(this.jc);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{T0a:{get:function(){return this.jc.T0a.bind(this.jc);},enumerable:!1,configurable:!0}});d.prototype.nMa=function(b){return this.Yn=new (a(980).cEa)(this.H,this.Rw,this.Ko,b);};d.prototype.$a=function(a,b,c,f,d,k){this.jc.$a(a,b,c,f,d,k);this.Yn?this.Yn.$a(a,b,c,f,d,k):this.nUa={Ukb:a,vXb:b,ax:c,xy:f,GB:d,gHb:k};};d.prototype.FU=function(a,b,c){this.jc.FU(a,b,c);this.Yn?this.Yn.FU(a,b,c):this.rUa={ITb:a,xy:b,GB:c};};d.prototype.rn=function(a,b,c,d,k,l,h,m,q,g){var r,v,u,B,y;r=this;m || (m=this.jc.config);if(m.qE && !this.Yn){v=this.nMa(this.jc.By);f.forEach(function(a){r.ig.on(r.Yn,a,function(b){return r.emit(a,b);});});if(this.nUa){u=this.nUa;B=u.xy;y=u.GB;v.$a(u.Ukb,u.vXb,u.ax,B,y,u.gHb);}this.rUa && (y=this.rUa,u=y.ITb,B=y.xy,y=y.GB,v.FU(u,B,y));}return this.Yn && m && m.Pl?(m.hq || m.pF || this.jc.Rw(),this.Yn.rn(a,b,c,d,k,l,h,m,q,g)):this.jc.rn(a,b,c,d,k,l,h,m,q,g);};d.prototype.addEventListener=function(a,b){this.addListener(a,b);return !0;};d.prototype.removeEventListener=function(a,b){this.removeListener(a,b);return !0;};d.prototype.Tb=function(){var a;this.ig.clear();this.jc.Tb();null === (a=this.Yn) || void 0 === a?void 0:a.Tb();l.PG.reset();};d.prototype.wra=function(){var a;this.H.hq || this.H.pF || (null === (a=this.Yn) || void 0 === a?void 0:a.Ga.ny.reset());};return d;})(h.EventEmitter);b.fAa=d;},function(d){function b(a,b,d,m){a.trace(":",d,":",m);b(m);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addListener=function(a,d,l,m){l=m?l.bind(m):l;if(a){this.console && (l=b.bind(null,this.console,l,d));if("function" === typeof a.addListener)a.addListener(d,l);else if("function" === typeof a.addEventListener)a.addEventListener(d,l);else throw Error("Emitter does not have a function to add listeners for '" + d + "'");this.listeners.push([a,d,l]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function" === typeof b.removeEventListener?b.removeEventListener(c,a):"function" === typeof b.removeListener && b.removeListener(c,a);});this.listeners=[];this.console && this.console.trace("removed",a,"listener(s)");};d.exports=a;},function(d,b,a){d.exports={Qbb:a(833),QYb:a(834)};},function(d,b,a){function c(a){this.data=a;this.right=this.left=null;this.red=!0;}function h(a){this.we=null;this.$l=a;this.size=0;}function l(a){return null !== a && a.red;}function m(a,b){var c;c=a.Cg(!b);a.Fp(!b,c.Cg(b));c.Fp(b,a);a.red=!0;c.red=!1;return c;}function f(a,b){a.Fp(!b,m(a.Cg(!b),!b));return m(a,b);}b=a(388);c.prototype.Cg=function(a){return a?this.right:this.left;};c.prototype.Fp=function(a,b){a?this.right=b:this.left=b;};h.prototype=new b();h.prototype.jp=function(a){var b,d,k,h,g,A,y,n,J;b=!1;if(null === this.we)(this.we=new c(a),b=!0,this.size++);else {d=new c(void 0);k=0;h=0;g=null;A=d;y=null;n=this.we;for(A.right=this.we;;){null === n?(n=new c(a),y.Fp(k,n),b=!0,this.size++):l(n.left) && l(n.right) && (n.red=!0,n.left.red=!1,n.right.red=!1);if(l(n) && l(y)){J=A.right === g;n === y.Cg(h)?A.Fp(J,m(g,!h)):A.Fp(J,f(g,!h));}J=this.$l(n.data,a);if(0 === J)break;h=k;k=0 > J;null !== g && (A=g);g=y;y=n;n=n.Cg(k);}this.we=d.right;}this.we.red=!1;return b;};h.prototype.remove=function(a){var b,d,y,k,n,A,J;if(null === this.we)return !1;b=new c(void 0);d=b;d.right=this.we;for(var k=null,h,g=null,A=1;null !== d.Cg(A);){y=A;h=k;k=d;d=d.Cg(A);n=this.$l(a,d.data);A=0 < n;0 === n && (g=d);if(!l(d) && !l(d.Cg(A)))if(l(d.Cg(!A)))(h=m(d,A),k.Fp(y,h),k=h);else if(!l(d.Cg(!A)) && (n=k.Cg(!y),null !== n))if(l(n.Cg(!y)) || l(n.Cg(y))){J=h.right === k;l(n.Cg(y))?h.Fp(J,f(k,y)):l(n.Cg(!y)) && h.Fp(J,m(k,y));y=h.Cg(J);y.red=!0;d.red=!0;y.left.red=!1;y.right.red=!1;}else (k.red=!1,n.red=!0,d.red=!0);}null !== g && (g.data=d.data,k.Fp(k.right === d,d.Cg(null === d.left)),this.size--);this.we=b.right;null !== this.we && (this.we.red=!1);return null !== g;};d.exports=h;},function(d,b,a){function c(a){this.data=a;this.right=this.left=null;}function h(a){this.we=null;this.$l=a;this.size=0;}b=a(388);c.prototype.Cg=function(a){return a?this.right:this.left;};c.prototype.Fp=function(a,b){a?this.right=b:this.left=b;};h.prototype=new b();h.prototype.jp=function(a){if(null === this.we)return (this.we=new c(a),this.size++,!0);for(var b=0,f=null,d=this.we;;){if(null === d)return (d=new c(a),f.Fp(b,d),ret=!0,this.size++,!0);if(0 === this.$l(d.data,a))return !1;b=0 > this.$l(d.data,a);f=d;d=d.Cg(b);}};h.prototype.remove=function(a){var b,f,d,g,h;if(null === this.we)return !1;b=new c(void 0);f=b;f.right=this.we;for(var d=null,l=null,h=1;null !== f.Cg(h);){d=f;f=f.Cg(h);g=this.$l(a,f.data);h=0 < g;0 === g && (l=f);}return null !== l?(l.data=f.data,d.Fp(d.right === f,f.Cg(null === f.left)),this.we=b.right,this.size--,!0):!1;};d.exports=h;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Kt=b.Vbb=void 0;c=a(0);h=a(836);d=(function(){function a(a,b){this.o=a;this.vx=b?[b]:[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.addListener=function(a){-1 === this.vx.indexOf(a) && (this.vx=this.vx.slice(),this.vx.push(a));};a.prototype.removeListener=function(a){a=this.vx.indexOf(a);-1 !== a && (this.vx=this.vx.slice(),this.vx.splice(a,1));};return a;})();b.Vbb=d;d=(function(a){function b(b,c){return a.call(this,b,c) || this;}c.__extends(b,a);b.d5a=function(a,b,c){return new h.kBa(a,b,c);};b.e5a=function(a,c,d){return b.d5a(a,function(a){return a.every(function(a,b){return a === c[b];});},d);};Object.defineProperties(b.prototype,{value:{get:function(){return this.o;},set:function(a){this.set(a);},enumerable:!1,configurable:!0}});b.prototype.set=function(a){var b;b=this.o;b !== a && (this.o=a,this.vx.forEach(function(c){return c({oldValue:b,newValue:a});}));};return b;})(d);b.Kt=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kBa=void 0;d=(function(){function a(a,b,d){var c;c=this;this.properties=a;this.kob=b;this.xQ=d;this.state=!1;this.Apa=function(){var a,b;a=c.state;b=c.properties.map(function(a){return a.value;});c.state=c.kob(b);a !== c.state && c.xQ(c.state);};a.forEach(function(a){return a.addListener(c.Apa);});this.Apa();}a.prototype.clear=function(){var a;a=this;this.properties.forEach(function(b){return b.removeListener(a.Apa);});};return a;})();b.kBa=d;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.TAa=void 0;c=a(34);h=a(5);d=(function(){function a(){this.data={};}Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{size:{get:function(){var a;a=this;return Object.keys(this.data).reduce(function(b,c){return b + a.data[c].length;},0);},enumerable:!1,configurable:!0}});a.prototype.get=function(a){var b;return null !== (b=this.data[a]) && void 0 !== b?b:[];};a.prototype.has=function(a,b){return (a=this.data[a])?void 0 === b?!0:-1 !== a.indexOf(b):!1;};a.prototype.count=function(a){return (a=this.data[a])?a.length:0;};a.prototype.keys=function(){return Object.keys(this.data);};a.prototype.values=function(){var a;a=this;return c.wu(this.keys().map(function(b){return a.data[b];}));};a.prototype.set=function(a,b){(this.data[a] || (this.data[a]=[])).push(b);return this;};a.prototype.clear=function(){this.data={};};a.prototype["delete"]=function(a,b){var c,f;c=this.data[a];if(void 0 === c)return !1;if(void 0 === b)return (h.assert(1 === arguments.length),delete this.data[a],!0);f=c.indexOf(b);if(-1 === f)return !1;1 === c.length?delete this.data[a]:c.splice(f,1);return !0;};a.prototype.forEach=function(a,b){var c;c=this;a=void 0 !== b?a.bind(b):a;this.keys().forEach(function(b){return c.data[b].forEach(function(f){return a(f,b,c);});});};a.prototype.reduce=function(a,b,c){var f,d;f=this;a=void 0 !== c?a.bind(c):a;d=b;this.forEach(function(b,c){d=a(d,b,c,f);});return d;};a.prototype.map=function(a,b){var f;f=this;a=void 0 !== b?a.bind(b):a;return c.wu(this.keys().map(function(b){return f.data[b].map(function(c){return a(c,b,f);});}));};a.prototype.filter=function(a,b){var f;f=this;a=void 0 !== b?a.bind(b):a;return c.wu(this.keys().map(function(b){return f.data[b].filter(function(c){return a(c,b,f);});}));};return a;})();b.TAa=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oPa=void 0;b.oPa=function(a,b){return a.filter(function(a){var c,d;a=null !== (d=null !== (c=a.Qj) && void 0 !== c?c:a.pS) && void 0 !== d?d:a.Uk;return ! !a && a.ZE(b);}).pop();};},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gEa=b.fEa=void 0;c=a(34);d=(function(){function a(a){this.o=a;this.listeners=[];this.xT=[];}Object.defineProperties(a.prototype,{value:{get:function(){return this.o;},enumerable:!1,configurable:!0}});a.prototype.set=function(a){var b;this.o=a;b=this.xT;this.xT=[];this.listeners.forEach(function(b){return b(a);});b.forEach(function(b){return b(a);});};a.prototype.U_a=function(){this.o=void 0;};a.prototype.on=function(a){this.listeners=this.listeners.concat([a]);void 0 !== this.o && a(this.o);};a.prototype.once=function(a){void 0 !== this.o?a(this.o):this.xT.push(a);};a.prototype.BL=function(a){this.listeners=this.listeners.filter(function(b){return b !== a;});this.xT=this.xT.filter(function(b){return b !== a;});};return a;})();b.fEa=d;d=(function(){function a(){this.listeners=[];}a.prototype.on=function(a,b){this.listeners.push({M6:a,listener:b});a.on(b);};a.prototype.once=function(a,b){var c,d;c=this;if(void 0 === a.value){d=function(f){c.remove(a,b);b(f);};this.listeners.push({M6:a,listener:b,j5a:d});a.once(d);}else a.once(b);};a.prototype.BL=function(a,b){var f,d;d=c.Qg(this.listeners,function(c){return c.M6 === a && c.listener === b;});void 0 !== d && a.BL(null !== (f=d.j5a) && void 0 !== f?f:d.listener);this.remove(a,b);};a.prototype.removeAllListeners=function(){this.listeners.forEach(function(a){var b,c;b=a.listener;c=a.j5a;return a.M6.BL(null !== c && void 0 !== c?c:b);});this.listeners=[];};a.prototype.remove=function(a,b){this.listeners=this.listeners.filter(function(c){return c.M6 !== a || c.listener !== b;});};return a;})();b.gEa=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.uS=void 0;b.uS=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kNa=void 0;b.kNa=function(a){return JSON.parse(JSON.stringify(a));};},function(d,b,a){var h;function c(a,b,f){var d,l,g,u;if(a === b || !f.JTb && a == b)return !0;if(typeof a !== typeof b)return !1;if(a && "object" === typeof a){for(var m in a){if(!c(a[m],b[m],f))return !1;}if(!f.inb){g=Object.keys(a);u=Object.keys(b).filter(function(a){return 0 > g.indexOf(a);});try{for(var B=h.__values(u),A=B.next();!A.done;A=B.next()){if((m=A.value,!c(a[m],b[m],f)))return !1;}}catch(y){d={error:y};}finally{try{A && !A.done && (l=B["return"]) && l.call(B);}finally{if(d)throw d.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.esb=void 0;h=a(0);b.esb=function(a,b,f){void 0 === f && (f={});f=h.__assign({JTb:!1,inb:!1},f);return c(a,b,f);};},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.kY=void 0;d=(function(){function a(){this.count=0;this.max=this.min=this.Ca=NaN;}Object.defineProperties(a.prototype,{Tq:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(a){this.count++;1 === this.count?this.Ca=this.min=this.max=a:(this.min=Math.min(a,this.min),this.max=Math.max(a,this.max),this.Ca+=(a - this.Ca) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.Ca};};return a;})();b.kY=d;},function(d,b,a){var h;function c(a){this.lM=new Uint16Array(a.length);for(var b=0;b < a.length;++b){this.lM[b]=a.charCodeAt(b);}}h=new (a(3)["default"].Console)("ASEJS_XORCiper","media|asejs");c.prototype.constructor=c;c.prototype.encrypt=function(a){var b,c;b=this.lM.length;if(void 0 === this.lM)h.warn("XORCiper.encrypt is called with undefined secret!");else {c="";for(var d=0;d < a.length;++d){c+=String.fromCharCode(this.lM[d % b] ^ a.charCodeAt(d));}return encodeURIComponent(c);}};c.prototype.decrypt=function(a){var b,c;b="";c=this.lM.length;a=decodeURIComponent(a);for(var d=0;d < a.length;d++){b+=String.fromCharCode(this.lM[d % c] ^ a.charCodeAt(d));}return b;};d.exports=c;},function(d){function b(a,b){this.Ca=a;this.hi=b;}b.prototype.mqa=function(a){var m,f,d;a*=2;if(2 <= a)a=-100;else if(0 >= a)a=100;else {for(var b=1 > a?a:2 - a,d=Math.sqrt(-2 * Math.log(b / 2)),d=-.70711 * ((2.30753 + .27061 * d) / (1 + d * (.99229 + .04481 * d)) - d),l=0;2 > l;l++){m=Math.abs(d);f=1 / (1 + m / 2);m=f * Math.exp(-m * m - 1.26551223 + f * (1.00002368 + f * (.37409196 + f * (.09678418 + f * (-.18628806 + f * (.27886807 + f * (-1.13520398 + f * (1.48851587 + f * (-.82215223 + .17087277 * f)))))))));m=(0 <= d?m:2 - m) - b;d=d + m / (1.1283791670955126 * Math.exp(-(d * d)) - d * m);}a=1 > a?d:-d;}return this.Ca - Math.sqrt(2 * this.hi) * a;};d.exports=b;},function(d,b,a){var l,m,f,k;function c(a,b,c){l.call(this,a,b,c);}function h(a,b){m.call(this,new c(a,b,!1));}l=a(847);m=a(848);f=a(108).oxb;k=a(108).RAb;c.prototype=Object.create(l.prototype);c.prototype.Ca=function(){return Math.floor(8 * f(this.qd) / this.dd);};c.prototype.hi=function(){return Math.floor(64 * k(this.qd) / (this.dd * this.dd));};c.prototype.get=function(){return {Ca:this.Ca(),hi:this.hi(),B4b:this.qd.length};};c.prototype.toString=function(){return "bsw(" + this.TI + "," + this.dd + "," + this.Yi + ")";};h.prototype=Object.create(m.prototype);h.prototype.setInterval=function(a){this.cI.setInterval(a);};d.exports=h;},function(d){function b(a,b,d){this.TI=a;this.Yi=Math.floor((a + b - 1) / b);this.dd=b;this.Ahb=d;this.reset();}b.prototype.shift=function(){this.qd.shift();this.th.shift();};b.prototype.update=function(a,b){this.qd[a]+=b;};b.prototype.push=function(a){this.qd.push(0);this.th.push(a?a:0);this.eb+=this.dd;};b.prototype.add=function(a,b,d,l){var c,f;if(null === this.eb){c=Math.max(Math.floor((d - b + this.dd - 1) / this.dd),1);for(this.eb=b;this.qd.length < c;){this.push(l);}}for(;this.eb < d;){if((this.push(l),this.Ahb))for(;1 < this.qd.length && d + l - (this.eb - this.dd * this.qd.length + this.th[0]) > this.TI;){this.shift();}else this.qd.length > this.Yi && this.shift();}if(b > this.eb - this.dd)this.update(this.qd.length - 1,a);else if(b == d)(l=this.qd.length - Math.max(Math.ceil((this.eb - d) / this.dd),1),0 <= l && this.update(l,a));else for(l=1;l <= this.qd.length;++l){c=this.eb - l * this.dd;f=c + this.dd;if(!(c > d)){if(f < b)break;this.update(this.qd.length - l,Math.round(a * (Math.min(f,d) - Math.max(c,b)) / (d - b)));}}for(;this.qd.length > this.Yi;){this.shift();}};b.prototype.reset=function(){this.qd=[];this.th=[];this.eb=null;};b.prototype.setInterval=function(a){this.Yi=Math.floor((a + this.dd - 1) / this.dd);};d.exports=b;},function(d){function b(a){this.cI=a;this.me=0;this.NI=null;}b.prototype.add=function(a,b,d){null !== this.NI && b > this.NI && (this.me+=b - this.NI,this.NI=null);this.cI.add(a,b - this.me,d - this.me,this.me);};b.prototype.stop=function(a){null === this.NI && (this.NI=a);};b.prototype.pqa=function(a,b){return this.cI.pqa(a,b);};b.prototype.get=function(){return this.cI.get();};b.prototype.reset=function(){this.cI.reset();};b.prototype.toString=function(){return this.cI.toString();};d.exports=b;},function(d,b,a){var h,l,m,f,k,g,v,r,u,B;function c(a){this.ueb=a;}b=a(391);h=b.z8a;l=b.x8a;m=a(230).y8a;f=a(230).jdb;k=a(392);g=a(393);v=a(394).IEa;r=a(850);u=a(851);B=a(395);c.prototype.constructor=c;c.prototype.create=function(a,b){var c,d,q,y;d=this.ueb[a];q=b[a];y={};d && Object.keys(d).forEach(function(a){y[a]=d[a];});q && Object.keys(q).forEach(function(a){y[a]=q[a];});switch(y.type){case "slidingwindow":c=new m(y.mw);break;case "discontiguous-ewma":c=new l(y.mw);break;case "wssl":c=new f(y.mw,y.max_n);break;case "iqr":c=new k(y.mx,y.mn,y.bw,y.iv);break;case "tdigest":c=new g(y);break;case "discrete-ewma":c=new h(y.hl);break;case "tdigest-history":c=new v(y);break;case "iqr-history":c=new r(y);break;case "avtp":c=new B();break;case "entropy":c=new u(y);}c && (c.type=y.type);return c;};d.exports=c;},function(d,b,a){var h;function c(){this.Wi=void 0;this.Az=0;}h=a(8);c.prototype.sd=function(){return 0 !== this.Az && this.Wi?{p25:this.Wi.Lk,p50:this.Wi.kj,p75:this.Wi.Mk,c:this.Az}:null;};c.prototype.ue=function(a){if(!(!h.ab(a) && h.has(a,"p25") && h.has(a,"p50") && h.has(a,"p75") && h.has(a,"c") && h.isFinite(a.p25) && h.isFinite(a.p50) && h.isFinite(a.p75) && h.isFinite(a.c)))return (this.Wi=void 0,this.Az=0,!1);this.Wi={Lk:a.p25,kj:a.p50,Mk:a.p75};this.Az=a.c;};c.prototype.get=function(){return {p5:this.Wi,Jra:this.Az};};c.prototype.set=function(a,b){this.Wi=a;this.Az=b;};c.prototype.reset=function(){this.Wi=void 0;this.Az=0;};c.prototype.toString=function(){return "IQRHist(" + this.Wi + "," + this.Az + ")";};d.exports=c;},function(d,b,a){var h;function c(a){var b,c;b=a.sw;c=a.mw;this.SI=b;this.Sca={uhd:a.uhdl,hd:a.hdl};this.Yi=Math.max(Math.ceil(1 * b / c),1);this.egb=a.mins || 1;h.call(this,b,c);this.reset();}h=a(142);new (a(3)["default"].Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(h.prototype);c.prototype.flush=function(){this.qd.map(function(a,b){this.$Ia(a,this.$ja(b));},this);};c.prototype.imb=function(){var a,b,c,d,h,g,r,y;a=this.Sca;for(b in a){if(a.hasOwnProperty(b)){c=a[b];d=this.Lea[b];h=this.Kea[b];if(d.first){g=d.first;r=d.FF;void 0 !== r && (h[g][r]+=1);d.first=void 0;}for(var d=[],g=0,c=r=c.length + 1,u=0;u < r;u++){for(var B=0,A=0;A < c;A++){B+=h[A][u];}g+=B;d.push(B);}B=-1;if(g > this.egb){for(u=B=0;u < r;u++){if(0 < d[u])for(A=0;A < c;A++){y=h[A][u];0 < y && (B-=y * Math.log(1 * y / d[u]));}}B/=g * Math.log(2);}this.sda[b]=B;}}return this.sda;};c.prototype.$Ia=function(a,b){var c,l,m;for(var c=this.Yi,d=this.Sca;this.WY.length >= c;){this.WY.shift();}for(;this.XY.length >= c;){this.XY.shift();}this.WY.push(a);this.XY.push(b);a=this.WY.reduce(function(a,b){return a + b;},0);b=this.XY.reduce(function(a,b){return a + b;},0);if(0 < b){a=8 * a / b;for(var h in d){if(d.hasOwnProperty(h)){b=this.Lea[h];c=this.Kea[h];l=this.CNb(a,d[h]);m=b.FF;void 0 !== m?c[l][m]+=1:b.first=l;b.FF=l;}}}};c.prototype.CNb=function(a,b){for(var c=0;c < b.length && a > b[c];){c+=1;}return c;};c.prototype.shift=function(){this.$Ia(this.qd[0],this.$ja(0));h.prototype.shift.call(this);};c.prototype.reset=function(){var a,b;this.Lea={};this.WY=[];this.XY=[];this.Kea={};this.sda={};a=this.Sca;for(b in a){if(a.hasOwnProperty(b)){for(var c=this.Kea,d=b,g,v=void 0,r=Array(v),v=g=a[b].length + 1,u=0;u < v;u++){r[u]=Array(g);for(var B=0;B < g;B++){r[u][B]=0;}}c[d]=r;this.Lea[b]={first:void 0,FF:void 0};this.sda[b]=0;}}h.prototype.reset.call(this);};d.exports=c;},function(d,b,a){var h,l;function c(a){this.H=a;this.iP();}h=a(8);l=a(3)["default"];new l.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var a;a=this.sd();l.storage.set("nh",a);};c.prototype.jTb=function(){this.CD || (this.CD=!0,this.ow=l.time.aa());};c.prototype.wTb=function(){var a;if(this.CD){a=l.time.aa();this.vw+=a - this.ow;this.ow=a;this.CD=!1;this.hP=null;}};c.prototype.tTa=function(a,b){this.CD && (b > this.ow && (this.vw+=b - this.ow,this.ow=b),null === this.hP || a > this.hP) && (a=b - a,this.pI.push([this.vw - a,a]),this.zib(),this.hP=b);};c.prototype.zib=function(){var a;a=this.vw - this.H.vIb;this.pI=this.pI.filter(function(b){return b[0] > a;});};c.prototype.iP=function(){var a;a=l.storage.get("nh");this.Dea(a) || (this.ow=l.time.aa(),this.vw=0,this.CD=!1,this.hP=null,this.pI=[]);};c.prototype.Dea=function(a){if(!(a && h.has(a,"t") && h.has(a,"s") && h.has(a,"i") && h.qa(a.t) && h.qa(a.s) && h.isArray(a.i)))return !1;this.ow=l.time.kpa(1E3 * a.t);this.vw=1E3 * a.s;this.CD=!1;this.pI=a.i.map(function(a){return [1E3 * a[0],a[1]];});this.hP=null;return !0;};c.prototype.sd=function(){return this.CD?{t:l.time.now() / 1E3 | 0,s:(this.vw + (l.time.aa() - this.ow)) / 1E3 | 0,i:this.pI.map(function(a){return [a[0] / 1E3 | 0,a[1]];})}:{t:l.time.Roa(this.ow) / 1E3 | 0,s:this.vw / 1E3 | 0,i:this.pI.map(function(a){return [a[0] / 1E3 | 0,a[1]];})};};d.exports=c;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Axa=void 0;d=a(0);c=a(854);new (d.__importDefault(a(3))["default"].Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){function a(a){var D00;D00=2;for(;D00 !== 4;){switch(D00){case 2:var F84="1";F84+="SIYbZ";F84+="rNJCp9";this.mma=a;this.jx={};F84;D00=4;break;}}}var C00;C00=2;for(;C00 !== 7;){switch(C00){case 4:a.prototype.du=function(a,b,c,d){var H00;H00=2;for(;H00 !== 1;){switch(H00){case 2:d.Ae && (this.mma?this.OB.add(a,b,c,d.Ae):this.VP === d.Ae && this.OB.add(a,b,c,d.Ae));H00=1;break;}}};a.prototype.zn=function(){var I00;I00=2;for(;I00 !== 1;){switch(I00){case 2:return this.OB.get();break;}}};a.prototype.a4a=function(a){var J00,b,c;J00=2;for(;J00 !== 5;){switch(J00){case 2:(b=Object.keys(this.jx),c=this.jx[b[0]]);1 === b.length && !1 === c.q1?(this.OB.start(a,c.Ae),this.VP=c.Ae):1 < b.length && this.VP && (b=this.jx[this.VP],this.OB.stop(a,this.VP),b.q1=!1,this.VP=void 0);J00=5;break;}}};return a;break;case 2:a.prototype.reset=function(){var E00;E00=2;for(;E00 !== 1;){switch(E00){case 2:this.OB=new c.$va();E00=1;break;case 4:this.OB=new c.$va();E00=2;break;E00=1;break;}}};a.prototype.OF=function(a,b){var F00;F00=2;for(;F00 !== 1;){switch(F00){case 2:b.Ae && (this.mma?this.OB.start(a,b.Ae):1 === b.type && (this.jx[b.Ae]?this.jx[b.Ae].EV+=1:this.jx[b.Ae]={Ae:b.Ae,EV:1,q1:!1},this.a4a(a)));F00=1;break;}}};a.prototype.QF=function(a,b){var G00,c;G00=2;for(;G00 !== 9;){switch(G00){case 1:G00=this.mma?5:4;break;case 2:G00=b.Ae?1:9;break;case 4:c=this.jx[b.Ae];1 === b.type && c && (--c.EV,0 === c.EV && (c.q1 && this.OB.stop(a,b.Ae),c.q1=!1,delete this.jx[b.Ae]),this.a4a(a));G00=9;break;case 5:this.OB.stop(a,b.Ae);G00=9;break;}}};C00=4;break;}}})();b.Axa=a;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$va=void 0;c=a(0).__importDefault(a(395));d=(function(){var K00;function a(){var L00;L00=2;for(;L00 !== 5;){switch(L00){case 2:var t84="1SIYb";t84+="ZrNJ";t84+="Cp9";this.AZ={};t84;L00=5;break;case 3:this.AZ={};"";L00=2;break;L00=5;break;}}}K00=2;for(;K00 !== 9;){switch(K00){case 2:a.prototype.add=function(a,b,d,k){var M00,f;M00=2;for(;M00 !== 4;){switch(M00){case 2:var n84="defa";n84+="u";n84+="lt";f=this.AZ;void 0 === f[k] && (f[k]=new c[n84]());f[k].add(a,b,d);M00=4;break;}}};a.prototype.start=function(a,b){var N00,d;N00=2;for(;N00 !== 4;){switch(N00){case 2:var v84="de";v84+="f";v84+="a";v84+="u";v84+="lt";d=this.AZ;void 0 === d[b] && (d[b]=new c[v84]());d[b].start(a);N00=4;break;}}};a.prototype.stop=function(a,b){var O00,c;O00=2;for(;O00 !== 5;){switch(O00){case 2:c=this.AZ;void 0 !== c[b] && c[b].stop(a);O00=5;break;}}};a.prototype.get=function(){var P00,a,b,c,d,h,g;P00=2;for(;P00 !== 8;){switch(P00){case 1:P00=d < b.length?5:9;break;case 2:(a=this.AZ,b=Object.keys(a),c=[],d=0);P00=1;break;case 5:(h=b[d],g=a[h].get());g && c.push({cdnid:h,avtp:g.Ca,tm:g.N0});P00=3;break;case 9:return c;break;case 3:d++;P00=1;break;}}};K00=3;break;case 3:return a;break;}}})();b.$va=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.DBa=void 0;d=(function(){var Q00;Q00=2;function a(){var R00;R00=2;for(;R00 !== 4;){switch(R00){case 1:var s84="1";s84+="SI";s84+="YbZrNJCp9";this.oV=[0,0];s84;R00=4;break;case 2:this.CT=[0,0];R00=1;break;}}}for(;Q00 !== 3;){switch(Q00){case 2:a.prototype.reset=function(){var S00;S00=2;for(;S00 !== 5;){switch(S00){case 2:this.CT=[0,0];this.oV=[0,0];S00=5;break;}}};a.prototype.du=function(a,b,d,m,f){var T00;T00=2;for(;T00 !== 5;){switch(T00){case 2:this.oV[m.type]+=a;f && (this.CT[m.type]+=a);T00=5;break;}}};a.prototype.j2=function(){var U00;U00=2;for(;U00 !== 1;){switch(U00){case 2:return {bytesRequestedPacingVideo:this.CT[1],bytesRequestedPacingAudio:this.CT[0],bytestotalVideo:this.oV[1],bytestotalAudio:this.oV[0]};break;}}};return a;break;}}})();b.DBa=d;},function(d,b,a){var c,h,l,m,f,k,g,v,r,u,B,A,y,n,J,D,p;Object.defineProperties(b,{__esModule:{value:!0}});b.wza=void 0;c=a(0);h=c.__importStar(a(8));d=a(16);l=c.__importDefault(a(25));m=c.__importDefault(a(857));f=c.__importDefault(a(3));k=f["default"].Promise;g=a(231);v=a(227);r=c.__importDefault(a(229));u=c.__importDefault(a(858));B=a(396);A=a(5);y=a(861);n=a(965);J=new f["default"].Console("ASEJS","media|asejs");D=J.trace.bind(J);p=J.warn.bind(J);d=(function(b){var V00;V00=2;for(;V00 !== 30;){switch(V00){case 23:d.prototype.vga=function(){var x10,a;x10=2;for(;x10 !== 5;){switch(x10){case 2:null === (a=this.Ph) || void 0 === a?void 0:a.wPa();x10=5;break;}}};V00=22;break;case 6:Object.defineProperties(d.prototype,{Uf:{get:function(){var e10;e10=2;for(;e10 !== 1;){switch(e10){case 2:return this.MY.Uf;break;case 4:return this.MY.Uf;break;e10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{cma:{get:function(){var f10;f10=2;for(;f10 !== 1;){switch(f10){case 2:return this.HHa;break;case 4:return this.HHa;break;f10=1;break;}}},enumerable:!1,configurable:!0}});V00=13;break;case 17:d.prototype.Fhb=function(a){var q10,b;q10=2;for(;q10 !== 4;){switch(q10){case 2:var Q84="can't fin";Q84+="d session ";Q84+="in array, movieId:";this.mb.EU(null);b=this.yD.indexOf(a);h.Y(b)?p(Q84,a.Qd.N.u):(this.yD.splice(b,1),0 === this.yD.length && this.Mn.wTb(),this.Mn.save(),this.Uf.save());q10=4;break;}}};d.prototype.q1a=function(){};d.prototype.P1=function(a,b,c){var r10;r10=2;for(;r10 !== 1;){switch(r10){case 2:return g.gRa(a,b,c);break;case 4:return g.gRa(a,b,c);break;r10=1;break;}}};V00=27;break;case 13:d.prototype.$a=function(a,b,c,d,f,k){var g10,l,g;g10=2;for(;g10 !== 11;){switch(g10){case 8:var R84="d";R84+="efa";R84+="u";R84+="l";R84+="t";var q84="def";q84+="a";q84+="ul";q84+="t";m[q84](g);this.MY=v.PG.oRa(g,this.By);this.Aea=new u[R84](g);g10=14;break;case 2:(l=this,g=this.config);v.PG.reset();0 < g.Ds && (!h.Y(a) && a > g.Ds && (a=g.Ds),b > g.Ds && (b=g.Ds));h.Y(a) && (this.nIa=b);this.IP=d;this.jIa=f;g10=8;break;case 13:var x84="mediac";x84+="ach";x84+="e";var C84="cach";C84+="eEv";C84+="ic";C84+="t";var Z84="flu";Z84+="s";Z84+="hedByt";Z84+="es";var o84="discardedB";o84+="yt";o84+="es";var I84="preb";I84+="uf";I84+="fsta";I84+="ts";(b=new n.pya(this,g,c,k),a=function(a){var h10;h10=2;for(;h10 !== 1;){switch(h10){case 2:l.emit(a.type,a);h10=1;break;}}},b.addListener(I84,a),b.addListener(o84,a),b.addListener(Z84,a),b.addListener(C84,a),(g.dua || g.UB) && b.addListener(x84,function(a){var i10;i10=2;for(;i10 !== 1;){switch(i10){case 2:var i84="media";i84+="cac";i84+="he";l.emit(i84,a);i10=1;break;case 4:l.emit("",a);i10=2;break;i10=1;break;}}}),this.Ph=b);g10=12;break;case 12:this.dP=!0;g10=11;break;case 14:g10=g.ZM || g.E7?13:12;break;}}};d.prototype.FU=function(a,b,c){var j10;j10=2;for(;j10 !== 4;){switch(j10){case 2:this.nIa=a;this.IP=b || 0;this.jIa=c || 0;j10=4;break;}}};d.prototype.s5=function(){var k10;k10=2;for(;k10 !== 1;){switch(k10){case 2:this.HHa=!0;k10=1;break;}}};d.prototype.rn=function(a,b,c,d,k,m,g,q,r,v){var l10;l10=2;for(;l10 !== 4;){switch(l10){case 7:p("");l10=1;break;l10=4;break;case 1:var A84="d";A84+="efa";A84+="u";A84+="l";A84+="t";var f84="de";f84+="f";f84+="ault";return (q=q || this.config,this.mb.reset(),this.Mn.jTb(),this.Aea.reset(),void 0 === m && (m=this.P1(a,b)),h.Y(this.IP) && (f[f84].ql()[l[A84].Ua.VIDEO] <= q.PHb?this.IP=0:this.IP=q.dM),a=new y.bEa(this,a,v,b,c,d,k,m,g,q,r),this.yD.push(a),a);break;case 2:l10=this.dP?1:5;break;case 9:l10=this.dP?7:9;break;l10=this.dP?1:5;break;case 5:var k84="open: streamingMan";k84+="ag";k84+="er ";k84+="not initted";p(k84);l10=4;break;}}};V00=20;break;case 22:d.prototype.wga=function(){var y10;y10=2;for(;y10 !== 1;){switch(y10){case 4:return this.Ph?this.Ph.list():[];break;y10=1;break;case 2:return this.Ph?this.Ph.list():[];break;}}};d.prototype.XKa=function(a){var z10,b;z10=2;for(;z10 !== 5;){switch(z10){case 2:null === (b=this.Ph) || void 0 === b?void 0:b.psa(a);z10=5;break;}}};d.prototype.Rw=function(){var A10,a;A10=2;for(;A10 !== 5;){switch(A10){case 2:null === (a=this.Ph) || void 0 === a?void 0:a.Jsb();A10=5;break;}}};V00=34;break;case 31:return d;break;case 20:d.prototype.KS=function(a,b){var m10;m10=2;for(;m10 !== 1;){switch(m10){case 2:return this.Ph && (a=this.Ph.KS(a,b))?a:!1;break;}}};d.prototype.TUa=function(a){var n10;n10=2;for(;n10 !== 1;){switch(n10){case 2:return this.Ph && (a=this.Ph.SUa(a))?a:!1;break;}}};d.prototype.aF=function(){var o10;o10=2;for(;o10 !== 1;){switch(o10){case 2:return this.Ph?this.Ph.aF():k.resolve([]);break;}}};V00=17;break;case 4:Object.defineProperties(d.prototype,{$q:{get:function(){var Z00;Z00=2;for(;Z00 !== 1;){switch(Z00){case 2:return this.Aea;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xy:{get:function(){var a10;a10=2;for(;a10 !== 1;){switch(a10){case 2:return this.IP;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Zma:{get:function(){var b10;b10=2;for(;b10 !== 1;){switch(b10){case 2:return !h.Y(this.nIa);break;case 4:return ~h.Y(this.nIa);break;b10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{GB:{get:function(){var c10;c10=2;for(;c10 !== 1;){switch(c10){case 4:return this.jIa;break;c10=1;break;case 2:return this.jIa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ye:{get:function(){var d10;d10=2;for(;d10 !== 1;){switch(d10){case 4:return this.Ph;break;d10=1;break;case 2:return this.Ph;break;}}},enumerable:!1,configurable:!0}});V00=6;break;case 27:d.prototype.DRa=function(){var s10;s10=2;for(;s10 !== 4;){switch(s10){case 2:s10=this.dP?1:5;break;case 1:return this.mb.exb();break;case 8:return this.mb.exb();break;s10=5;break;case 5:var c84="ge";c84+="tSessionS";c84+="tatistics: StreamingMan";c84+="ager n";c84+="ot initted";p(c84);s10=4;break;case 7:p("");s10=3;break;s10=4;break;}}};d.prototype.DLa=function(a){var t10,b;t10=2;for(;t10 !== 3;){switch(t10){case 2:var H84="de";H84+="faul";H84+="t";b=this.Uf || new r[H84](this.config,this.By);b.OOa(a);b.save();this.mb && this.mb.reset();t10=3;break;}}};d.prototype.L_=function(a,b){var u10;u10=2;for(;u10 !== 1;){switch(u10){case 2:var K84="ca";K84+="tc";K84+="h";this.Ph && (a=this.Ph.MMb(this,a),h.Y(b) || a.then(b),a[K84](function(a){var v10;v10=2;for(;v10 !== 1;){switch(v10){case 2:var r84="cacheP";r84+="repare caught e";r84+="r";r84+="ror:";p(r84,a);v10=1;break;}}}));u10=1;break;}}};d.prototype.Sw=function(){var w10,a;w10=2;for(;w10 !== 5;){switch(w10){case 2:w10=1;break;case 3:w10=7;break;w10=1;break;case 1:null === (a=this.Ph) || void 0 === a?void 0:a.flush();w10=5;break;}}};V00=23;break;case 34:d.prototype.WKa=function(){var B10;B10=2;for(;B10 !== 1;){switch(B10){case 4:return this.Ph?this.Ph.Y5():1;break;B10=1;break;case 2:return this.Ph?this.Ph.Y5():null;break;}}};d.prototype.T0a=function(){var C10,a;C10=2;for(;C10 !== 3;){switch(C10){case 2:C10=this.dP?1:4;break;case 1:a=new B.fX(this.$q.tw,this.config,J);C10=5;break;case 5:return {gJ:a.mKa,R7b:a.nKa,a9b:a.fRb};break;case 4:var Y84="sessionH";Y84+="istor";Y84+="yReport: ase-ma";Y84+="nager not initted";p(Y84);C10=3;break;case 14:p("");C10=5;break;C10=3;break;}}};d.prototype.Tb=function(){var D10;D10=2;for(;D10 !== 6;){switch(D10){case 2:var W84="Atte";W84+="mpted to destruct Manager before all Sessions remov";W84+="ed";A.assert(0 === this.yD.length,W84);this.dP=!1;delete this.MY;delete this.Aea;delete this.By;this.Rw();delete this.Ph;D10=7;break;case 7:v.PG.reset();D10=6;break;}}};V00=31;break;case 2:c.__extends(d,b);Object.defineProperties(d.prototype,{mb:{get:function(){var X00;X00=2;for(;X00 !== 1;){switch(X00){case 2:return this.MY.mb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mn:{get:function(){var Y00;Y00=2;for(;Y00 !== 1;){switch(Y00){case 4:return this.MY.Mn;break;Y00=1;break;case 2:return this.MY.Mn;break;}}},enumerable:!1,configurable:!0}});V00=4;break;}}function d(c,d){var W00,f;W00=2;for(;W00 !== 13;){switch(W00){case 7:var L84="1S";L84+="IYb";L84+="ZrNJCp9";f.yD=[];L84;return f;break;case 2:var J84="D";J84+="E";J84+="BU";J84+="G";J84+=":";var B84="nf-ase ver";B84+="s";B84+="io";B84+="n";B84+=":";f=b.call(this) || this;f.config=c;f.By=d;c=a(434);D(B84,c,J84,!1);f.dP=!1;f.HHa=!1;W00=7;break;}}}})(d.EventEmitter);b.wza=d;},function(d,b,a){var h,l,m,f;function c(a){var b;b=nrdp.Xh.h9b.match(/android-(\d*)/);b?23 < b[1]?a.$sa=!1:(b=nrdp.Xh.q2b.lu.platform.v8b.match(/(\d*)\.(\d*).(\d*)/),a.$sa=b?6 < b[1] || 6 == b[1] && 1 < b[2] || 6 == b[1] && 1 == b[2] && 1 <= b[3]?!0:!1:!1):a.$sa=!1;a.d7=!1;}h=a(5).assert;a(110);l=a(3)["default"];m=l.Vm;f=l.kab;d.exports=function(){var a,b,d;new l.Console("ASEJSMONKEY","media|asejs");if(!l.Vm.Yb){a=function(a){this.Xfb=a;};b=f.prototype.appendBuffer;l.MediaSource.Yb || (l.MediaSource.Yb={});"undefined" !== typeof nrdp && nrdp.r_ && (c(l.MediaSource.Yb),l.MediaSource.Yb.NLa=!1,l.MediaSource.Yb.AWa=!1);l.Vm.Yb={gM:{tua:!0,QC:!0,VAa:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.sib || this.seb;},set:function(a){this.seb=a;}});d=m.prototype.open;m.prototype.open=function(b,c,f,k,h,l,m){1 === f && (this.sib=new a(this));return d.call(this,b,c,f,k,h,l,m);};m.prototype.aU=function(){this.II=void 0;};f.prototype.appendBuffer=function(c){if(c instanceof ArrayBuffer)return b.call(this,c);if(c instanceof a)return this.s_(c.Xfb);h(!1);};}};},function(d,b,a){var l,m;function c(){this.lw=this.UO=this.dZ=this.qZ=this.$Y=null;}function h(a){this.H=a;this.tw=[];this.Up=new c();this.iP();}l=a(8);a(25);a(9);m=a(3)["default"];new m.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.ue=function(a){var b;b=!1;a && l.has(a,"ens") && l.has(a,"lns") && l.has(a,"fns") && l.has(a,"d") && l.has(a,"t") && (this.$Y=a.ens,this.qZ=a.lns,this.dZ=a.fns,this.UO=a.d,this.lw=a.t,b=!0);return b;};c.prototype.sd=function(){var a;if(l.ab(this.$Y) || l.ab(this.qZ) || l.ab(this.dZ) || l.ab(this.UO) || l.ab(this.lw))return null;a={d:this.UO,t:this.lw};a.ens=this.$Y;a.lns=this.qZ;a.fns=this.dZ;return a;};c.prototype.get=function(){var a,b;a=this.sd();if(a){b=new Date(this.lw);a.dateint=1E4 * b.getFullYear() + 100 * (b.getMonth() + 1) + b.getDate();a.hour=b.getHours();}return a;};h.prototype.iP=function(){var a;a=m.storage.get("sth");a && this.ue(a);};h.prototype.ue=function(a){var b,d;b=null;d=this.H;a.forEach(function(a){var d;d=new c();d.ue(a)?(b=!0,this.tw.push(d)):l.ab(b) && (b=!1);},this);this.tw=this.tw.filter(function(a){return a.UO >= d.A4;});this.tw.sort(function(a,b){return a.lw - b.lw;});return l.ab(b)?!0:b;};h.prototype.Dda=function(){var a;a=[];this.tw.forEach(function(b){a.push(b.sd());},this);return a;};h.prototype.save=function(){var a,b,d;a=this.Dda();b=this.H;d=this.Up.sd();d && d.d >= b.A4 && (a.push(d),this.tw.push(this.Up));a.length > b.e4 && (a=a.slice(a.length - b.e4,a.length));this.Up=new c();a && m.storage.set("sth",a);};h.prototype.reset=function(){this.Up=new c();};h.prototype.Xxb=function(){return this.Up.get();};h.prototype.mAb=function(){return this.tw.length + 1;};h.prototype.kjb=function(a){this.Up.$Y=a;this.Up.lw=m.time.aa();};h.prototype.vjb=function(a){this.Up.qZ=a;this.Up.lw=m.time.aa();};h.prototype.ojb=function(a,b){this.Up.dZ=a;this.Up.lw=m.time.aa();this.Up.UO=b;};d.exports=h;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Rza=void 0;d=(function(){function a(a,b,d){this.wib=b;this.Kdb=d;this.G=a;}a.prototype.pqa=function(a){a=this.TCb(a,this.wib) + this.Kdb;return this.pea=isNaN(a)?NaN:this.Esa(a);};a.prototype.Dnb=function(a){return isNaN(this.pea)?0:this.pea > a?1:0;};a.prototype.TCb=function(a,b){var c;c=0;if(a.length !== b.length)c=NaN;else for(var d=0;d < a.length;d++){c+=a[d] * b[d];}return c;};a.prototype.Esa=function(a){return 1 / (1 + Math.exp(-a));};return a;})();b.Rza=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.mO=void 0;d=(function(){function a(a){this.Wi={};this.Zda=a;this.sf=[];this.cq=!1;this.zD=void 0;}a.prototype.m_=function(a){this.sf.length === this.Zda && this.sf.shift();Array.isArray(a)?this.sf=this.sf.concat(a):this.sf.push(a);this.cq=!0;};a.prototype.oK=function(){return this.sf.length;};a.prototype.xga=function(){var a;a=this.sf;return 0 < a.length?a.reduce(function(a,b){return a + b;},0) / this.sf.length:void 0;};a.prototype.Q_=function(){var a,b;a=this.sf;b=this.xga();if(0 < a.length && "undefined" !== typeof b)return (a=a.reduce(function(a,b){return a + b * b;},0) / a.length,Math.sqrt(a - b * b));};a.prototype.Nr=function(a){var b,c,d;if(this.cq || void 0 === this.zD)(this.zD=this.sf.slice(0).sort(function(a,b){return a - b;}),this.cq=!1);if(void 0 === this.Wi[a]){b=this.zD;c=Math.floor(a / 100 * (b.length - 1) + 1) - 1;d=(a / 100 * (b.length - 1) + 1) % 1;this.Wi[a]=c === b.length - 1?b[c]:b[c] + d * (b[c + 1] - b[c]);}return this.Wi[a];};return a;})();b.mO=d;},function(d,b,a){var c,h,l,m,f,k,g,v,r,u,B,A,y,n,J,D,p,S,O,Y,E,t,sa,ea,Z,ta,ca,Ca,P,aa,Q,ua;Object.defineProperties(b,{__esModule:{value:!0}});b.bEa=void 0;d=a(0);c=a(16);h=d.__importStar(a(8));l=a(141);m=a(862);f=a(231);k=a(17);g=a(225);v=a(245);r=a(174);u=a(907);B=a(909);A=d.__importDefault(a(3));y=A["default"].Promise;n=A["default"].MediaSource;J=a(9);D=a(5);p=a(170);S=a(412);O=a(911);Y=a(912);E=a(413);d=a(38);t=a(913);sa=a(914);ea=a(414);Z=a(949);ta=a(425);ca=a(955);Ca=a(430);P=a(961);aa=a(962);Q=a(963);ua=a(964);a=(function(){var E10;E10=2;function a(a,b,d,f,k,h,l,q,r,y,n){var F10,sa,I,D,U,t;F10=2;for(;F10 !== 74;){switch(F10){case 22:this.vI=h.LS;this.GZ=void 0;this.R=new Y.Wua(r);this.PZ=k || 0;F10=33;break;case 59:da=b.N;this.Ba=new ta.z8(this,this.bb,this.G,this.Eea.bind(this),da,this.PZ,this.H,this.uf,this.R,this.FR.bind(this));y={LS:this.LS,Vq:this.Vq,Ql:this.Ql,DF:this.DF};this.ib=new Ca.qEa(this.G,this.Kf,this.H,this.Mb.bind(this),this.R,y,this.Ib.mb,this.bb,this.uf,this.Ba,t);F10=55;break;case 28:this.sea=0;this.eg=new c.sg();this.Mm=new P.UDa(this,this.G,this.Mb.bind(this),D);this.uf=new aa.Xwa(this,this.G,this.Mb.bind(this));this.bR=new O.Wwa(this,this.G,D);F10=40;break;case 33:this.wI=0;this.Oca=q;this.TZ=!1;this.bP=void 0;this.nZ=-1;F10=28;break;case 75:n && this.ib.Jl(n,da.fa);F10=74;break;case 18:this.Lj=new Q.Bza(this,this.G,this.Mb.bind(this),t);this.uib=[!h.cN,!h.z_];F10=16;break;case 55:F10=this.sq?77:75;break;case 39:var M84="managerd";M84+="e";M84+="bugev";M84+="en";M84+="t";this.eg.on(this.Ib.Ye,M84,function(a){var G10;G10=2;for(;G10 !== 1;){switch(G10){case 2:J.Ma(I,a.type,a);G10=1;break;}}});F10=38;break;case 15:this.Ib=a;this.el=l;this.H=y=this.tMa.JFa(b,y);this.yZ=h.DF;this.CIa=! !h.ZM;this.Lib=! !h.E7;F10=22;break;case 77:sa=this;F10=76;break;case 76:this.R.addListener(function(a){var I10,J10;I10=2;for(;I10 !== 1;){switch(I10){case 2:try{J10=2;for(;J10 !== 1;){switch(J10){case 2:sa.ib.nWb.bind(sa.ib)(a);J10=1;break;}}}catch(Mb){var G84="Hindsight:";G84+=" Error when ";G84+="adding updatePlaySegm";G84+="ent Listener: ";a000.L24(1);sa.bb.Dm(a000.Y24(Mb,G84));}I10=1;break;}}});F10=75;break;case 48:y.lR && (k=this.Ib.$q.tw);p.Bv.yf().reset();b=m.Q$.create({sb:0,pa:b,Cl:d,I0a:f,Sf:! !h.Sf,GTa:!1,Vh:! !h.Vh,Ee:g.s4(! !h.z_,! !h.cN),X:0,sa:h.sa,bb:this.bb,zq:this.MGa.bind(this),Fb:this,config:this.H,G:this.G,uf:this.uf,Mm:this.Mm,Ye:this.CIa?this.Ib.Ye:void 0,NA:this.NA});F10=45;break;case 38:F10=(y.dua || y.UB) && this.Ib.Ye?37:36;break;case 2:I=this;this.Zv=new E.sDa();F10=5;break;case 14:var m84="bran";m84+="ch";m84+="ing";D=new ua.cBa(this,this.G);this.bb=D;this.tMa=new S.I8(this.G);(U=!(!b || !b.choiceMap || m84 !== b.choiceMap.type),t=U?{jR:!1,sq:!1}:B.PQa(y));this.jR=t.jR;this.sq=t.sq;this.mv=y.mv;F10=18;break;case 63:F10=y.Pia && this.Kf.t3?62:59;break;case 37:var z84="m";z84+="ed";z84+="iacache";this.eg.on(this.Ib.Ye,z84,function(a){var H10;H10=2;for(;H10 !== 1;){switch(H10){case 2:var N84="me";N84+="di";N84+="acac";N84+="h";N84+="e";J.Ma(I,N84,a);H10=1;break;case 4:J.Ma(I,"",a);H10=4;break;H10=1;break;}}});F10=36;break;case 36:U && y.TJ && !y.Wtb && (y.set?y.set({enableAdaptiveParallelStreaming:!1}):y.TJ=!1);0 === Math.floor(1E6 * Math.random()) % y.cQ && (this.Ohb=new u.wDa(y));this.au=[];this.bg=[];F10=51;break;case 61:for(var da in y){d=y[da];y.hasOwnProperty(da) && d && (this.H[da]=d);}F10=60;break;case 62:y=y.RBb;F10=61;break;case 45:b.aQ=!0;this.Xc=[b];this.Kf=new ca.Iua(this,this.G,a,this.Ib.mb,y,this.cL(),k,this.Mb.bind(this),t);F10=63;break;case 9:var S84="m";S84+="ed";S84+="i";S84+="a|as";S84+="ejs";var E84="A";E84+="S";E84+="E";E84+="J";E84+="S";var X84="def";X84+="a";X84+="ult";this.G=new A[X84].Console(E84,S84,"(" + l.sessionId + ")");this.pf=this.G.error.bind(this.G);this.yb=this.G.warn.bind(this.G);this.kk=this.G.trace.bind(this.G);F10=14;break;case 40:F10=y.Ah && this.Ib.Ye?39:38;break;case 51:this.U0a=new v.mX(b,this.Ib.mb,this.Ib.Uf,this.H,void 0);F10=50;break;case 60:this.Kf.Tta(this.H);F10=59;break;case 5:var h84="1SI";h84+="Y";h84+="bZrNJC";h84+="p9";this.OFa=[];this.NA={Wt:[Object.create(null),Object.create(null)]};h84;F10=9;break;case 50:a=this.U0a.tAb();k=null;F10=48;break;case 16:this.Mb(0) && this.Mb(1);F10=15;break;}}}for(;E10 !== 119;){switch(E10){case 27:a.prototype.Hma=function(a,b){var i20;i20=2;for(;i20 !== 9;){switch(i20){case 2:i20=a === b?1:5;break;case 1:return !0;break;case 6:return -6;break;i20=5;break;case 5:a=this.Xc[a];b=this.Xc[b];return a.N.Qe.Sf && b.N.Qe.US || b.N.Qe.Sf && a.N.Qe.US;break;}}};a.prototype.CE=function(a){var j20;j20=2;for(;j20 !== 5;){switch(j20){case 2:j20=(a=this.Ba.yi.children[a])?1:5;break;case 1:return {id:a.W.id,Hd:a.Hd,Rc:a.eqa,ee:a.ee,Qb:a.r6,Pb:a.Pb};break;}}};a.prototype.yn=function(){var k20,a;k20=2;for(;k20 !== 5;){switch(k20){case 2:a=this.Ba.yi;return {id:a.W.id,Hd:a.Hd,Rc:a.eqa,ee:a.ee,Qb:a.r6,Pb:a.Pb};break;}}};a.prototype.TB=function(a,b){var l20;l20=2;for(;l20 !== 1;){switch(l20){case 2:return this.Ba.TB(a,b);break;}}};a.prototype.open=function(){var m20,b,c,d,f,k,l,m,g,q,a;m20=2;for(;m20 !== 33;){switch(m20){case 5:var j84="NF";j84+="Err_MC_StreamingInit";j84+="Failure";var w84="startPts";w84+=" must be a po";w84+="sitive";w84+=" number";w84+=", not ";this.Co(w84 + this.PZ,void 0,j84);m20=33;break;case 4:var U84="hea";U84+="de";U84+="r";U84+="s";(b=this.H,c=this.Qd.N,d=c.u,f=[],k=[U84]);this.Ql && (f.push(1),k.push(1));m20=9;break;case 9:this.iq && (f.push(0),k.push(0));this.bR.wfb();l=b.hq;this.Ib.Ye && this.Ib.Ye.Ko(l,this.el.sessionId);m=this.bR.keb(k,c);m20=13;break;case 20:var a84="cre";a84+="ateMed";a84+="iaSourceEnd";this.bb.xj(a84);g.Yb || (g.Yb=n.Yb);this.Of=g;m20=17;break;case 10:m20=1 === g.readyState?20:34;break;case 13:var b84="createMedia";b84+="So";b84+="urceSta";b84+="rt";k.forEach(function(b,c){var n20;n20=2;for(;n20 !== 1;){switch(n20){case 2:var P84="he";P84+="a";P84+="d";P84+="e";P84+="rs";P84 === b?a.bP=m[c]:a.ib.$e[b].$g=m[c];n20=1;break;}}});this.bb.xj(b84);g=new n(this.R.YD);m20=10;break;case 1:m20=!h.qa(this.PZ) || 0 > this.PZ?5:4;break;case 34:var y64="NFErr_";y64+="MC_StreamingInit";y64+="Failure";var g64="e";g64+="xceptio";g64+="n in i";g64+="nit";var d84="E";d84+="rr";d84+="o";d84+="r";d84+=":";(this.kk(d84,g.error),this.Co(g64,void 0,y64));m20=33;break;case 16:var e64="E";e64+="rr";e64+="or";e64+=":";throw (this.kk(e64,g.error),g.error);m20=15;break;case 17:m20=!g.n_(f)?16:15;break;case 15:g.sourceBuffers.forEach(function(c){var o20,d,f;o20=2;for(;o20 !== 13;){switch(o20){case 5:var O64="e";O64+="r";O64+="r";O64+="o";O64+="r";var V64="r";V64+="eq";V64+="uestAppen";V64+="ded";var D64="headerA";D64+="ppe";D64+="nded";f=new Z.rza(c,d,a.Ba,a.H,f.G);c.addListener(D64,a.mfb.bind(a));c.addListener(V64,a.pfb.bind(a));c.addListener(O64,function(b){var p20;p20=2;for(;p20 !== 1;){switch(p20){case 2:var u64="NFErr_MC_";u64+="StreamingFail";u64+="ure";a.Co(b.errorstr,void 0,u64);p20=1;break;}}});o20=8;break;case 2:(d=c.I,f=a.ib.$e[d]);c=new r.A8(f.G,d,g,c,b,a.R,void 0,a.Bg.bind(a));o20=5;break;case 8:var p64="manag";p64+="erdebu";p64+="g";p64+="eve";p64+="nt";var l64="l";l64+="og";l64+="d";l64+="at";l64+="a";c.addListener(l64,function(b){var q20;q20=2;for(;q20 !== 1;){switch(q20){case 4:J.Ma(a,b.type,b);q20=6;break;q20=1;break;case 2:J.Ma(a,b.type,b);q20=1;break;}}});b.Ah && c.addListener(p64,function(b){var r20;r20=2;for(;r20 !== 1;){switch(r20){case 2:J.Ma(a,b.type,b);r20=1;break;}}});a.bg[d]=c;a.au[d]=f;o20=13;break;}}});this.cw=new t.CCa(this.au,this.JI.bind(this),this.R.$d.bind(this.R));this.Vq && this.bb.lgb();c=this.eRa();this.bb.wHa(c);q=function(){var s20;s20=2;for(;s20 !== 5;){switch(s20){case 2:var T64="shutdow";T64+="n detected ";T64+="before startRequests";a.bb.Cgb();a.am()?a.yb(T64):a.oib();s20=5;break;}}};m20=22;break;case 22:var t64="star";t64+="tpl";t64+="ay";var F64="l";F64+="o";F64+="gd";F64+="a";F64+="ta";b.psb?setTimeout(function(){var t20;t20=2;for(;t20 !== 1;){switch(t20){case 2:a.ZFa(d).then(q);t20=1;break;}}},0):this.ZFa(d).then(function(){var u20;u20=2;for(;u20 !== 1;){switch(u20){case 2:setTimeout(q,0);u20=1;break;}}});c={type:F64,target:t64,fields:{audiogapconfig:b.mL,audiogapdpi:this.Of.Yb && this.Of.Yb.mL,aseApiVersion:this.KD}};this.emit(c.type,c);m20=33;break;case 2:a=this;m20=1;break;}}};Object.defineProperties(a.prototype,{KD:{get:function(){var v20;v20=2;for(;v20 !== 1;){switch(v20){case 4:return "";break;v20=1;break;case 2:var n64="1";n64+=".";n64+="0";return n64;break;}}},enumerable:!1,configurable:!0}});a.prototype.Xka=function(){};a.prototype.flush=function(){var w20;w20=2;for(;w20 !== 1;){switch(w20){case 2:this.Lj.flush();w20=1;break;}}};a.prototype.paused=function(){var x20;x20=2;for(;x20 !== 1;){switch(x20){case 2:this.R.paused();x20=1;break;}}};a.prototype.Ky=function(){var y20;y20=2;for(;y20 !== 1;){switch(y20){case 4:this.R.Ky();y20=6;break;y20=1;break;case 2:this.R.Ky();y20=1;break;}}};E10=32;break;case 94:a.prototype.qfb=function(a,b){var E40;E40=2;for(;E40 !== 5;){switch(E40){case 2:b=f.hRa(b);this.Oca[a.I]=b;E40=5;break;}}};Object.defineProperties(a.prototype,{Lw:{set:function(a){var F40;F40=2;for(;F40 !== 1;){switch(F40){case 2:this.ib.Lw=a;F40=1;break;}}},enumerable:!1,configurable:!0}});a.prototype.f2=function(a){var G40,b;G40=2;for(;G40 !== 4;){switch(G40){case 2:this.Xc.some(function(c){var H40;H40=2;for(;H40 !== 1;){switch(H40){case 2:return c.N.Cl === a?(b=c.N.sb,!0):!1;break;}}});return b;break;}}};return a;break;case 39:a.prototype.stop=function(){var L20;L20=2;for(;L20 !== 1;){switch(L20){case 2:this.Lj.stop();L20=1;break;}}};a.prototype.Lm=function(a,b,c){var M20;M20=2;for(;M20 !== 5;){switch(M20){case 2:c && (D.assert(void 0 === b),b=this.f2(c));return this.Mm.Lm(a,b);break;}}};a.prototype.seek=function(a,b){var N20;N20=2;for(;N20 !== 1;){switch(N20){case 2:return this.Mm.seek(a,b);break;}}};a.prototype.ho=function(a){var O20,b,c,d,f,h,R20;O20=2;for(;O20 !== 17;){switch(O20){case 2:var q64="branchOff";q64+="s";q64+="et:";var Q64="entry.";Q64+="manifestOf";Q64+="fs";Q64+="e";Q64+="t:";var s64="co";s64+="nte";s64+="n";s64+="tPts:";var v64="underflow: going to BUFFERING ";v64+="at";v64+=" player pts:";(b=this,c=this.H,d=this.Uo(this.PT,a));this.yb(v64,a,s64,d,Q64,this.Qd.Lu,q64,this.Ba.Hd);f=c.Tx;this.bg.forEach(function(b){var P20;P20=2;for(;P20 !== 1;){switch(P20){case 2:f=Math.max(0,Math.min(f,b.Cka - a));P20=1;break;}}});O20=3;break;case 3:this.sea+=1;h=this.Ba.pc;h.Vta(d,this.H.hta);g.je.forEach(function(d){var Q20,f,k,l,m;Q20=2;for(;Q20 !== 13;){switch(Q20){case 1:Q20=k?5:13;break;case 2:k=h.gd(d);Q20=1;break;case 5:Q20=4;break;case 3:l=b.bg[d];m=b.Ba.WD(h,d);Q20=8;break;case 4:Q20=c.Ah?3:7;break;case 7:c.Ah && b.bb.zl(l);k.Uga();null === (f=k.Ig) || void 0 === f?void 0:f.pPb();Q20=13;break;case 8:var A64=", toApp";A64+="en";A64+="d: ";var f64=", f";f64+="r";f64+="agmen";f64+="ts: ";var i64=", co";i64+="mpleteS";i64+="treamingPts: ";var x64=",";x64+=" strea";x64+="min";x64+="gPts";x64+=": ";var C64=",";C64+=" ";C64+="par";C64+="t";C64+="ials: ";var Z64=", c";Z64+="ompl";Z64+="eted";Z64+="Bytes:";Z64+=" ";var o64=", c";o64+="o";o64+="mpl";o64+="et";o64+="edMs: ";var I64=", ";I64+="me";I64+="diaTyp";I64+="e: ";var R64="un";R64+="d";R64+="erflow";R64+=": ";l=R64 + a + I64 + d + o64 + k.sJ + Z64 + m + C64 + k.Pa.dy + x64 + k.ac + i64 + k.Pr + f64 + JSON.stringify(k.Pa.$) + A64 + (l && l.y6());Q20=7;break;}}});O20=6;break;case 11:O20=this.sq?10:20;break;case 20:d=this.Ib.mb.get();d=d.Pd?d.Ka.Ca:0;f > c.qvb && d > c.pvb && this.Eea();O20=17;break;case 12:this.uf.Xi();O20=11;break;case 10:try{R20=2;for(;R20 !== 1;){switch(R20){case 2:this.f1(k.oa.cd);R20=1;break;case 4:this.f1(k.oa.cd);R20=7;break;R20=1;break;}}}catch(Na){var k64="Hindsi";k64+="ght:";k64+=" Error when evaluating Q";k64+="oE at Bufferin";k64+="g: ";a000.L24(1);this.bb.Dm(a000.r24(Na,k64));}O20=20;break;case 6:var c64="u";c64+="n";c64+="d";c64+="e";c64+="rflow";this.Qd.N.Kk();this.emit(c64);this.OZ(2);O20=12;break;}}};a.prototype.Uj=function(a){var S20;S20=2;for(;S20 !== 1;){switch(S20){case 2:return this.Mm.Uj(a);break;case 4:return this.Mm.Uj(a);break;S20=1;break;}}};a.prototype.qn=function(a,b,c){var T20;T20=2;for(;T20 !== 1;){switch(T20){case 2:return this.Mm.qn(a,b,c);break;}}};a.prototype.iHa=function(a){var U20,b;U20=2;for(;U20 !== 3;){switch(U20){case 2:this.wI=a;b=this.Xc[a];this.bb.Agb(a,b);this.bb.wHa(b.N.Cs);U20=3;break;}}};a.prototype.Cw=function(a,b,c){var V20,l,q,r,d,f,v,k;V20=2;for(;V20 !== 31;){switch(V20){case 21:V20=this.iq && h.Y(b) || this.Ql && h.Y(c)?35:34;break;case 13:(l=b.X || 0,q=b.sa);a=m.Q$.create({sb:k,pa:a,Cl:c,I0a:b.mVb || [this.Qd.W1(0),this.Qd.W1(1)],Sf:!1,GTa:! !b.replace,Vh:! !b.Vh,Ee:g.s4(! !b.z_,! !b.cN),X:l,sa:q,bb:this.bb,zq:this.MGa.bind(this),Fb:this,config:this.H,G:this.G,uf:this.uf,Mm:this.Mm,Ye:this.CIa?this.Ib.Ye:void 0,NA:this.NA});r=a.N;(b.D_ || this.OFa) && this.ib.Jl(b.D_ || this.OFa,r.fa);V20=20;break;case 24:var L64=",";L64+=" ";var W64=") lastStr";W64+="eamA";W64+="ppended: (";var Y64=",";Y64+=" ";var r64=" stream";r64+="Co";r64+="u";r64+="nt: ";r64+="(";var K64=" play";K64+="erSt";K64+="ate:";K64+=" ";var H64="addManifest, currentP";H64+="t";H64+="s: ";b=this.ib.Ru[0].XE;c=this.ib.Ru[1].XE;f.Ah && this.bb.zl(H64 + this.R.$d() + K64 + this.R.sd() + r64 + a.gp(0).md.length + Y64 + a.gp(1).md.length + W64 + b + L64 + c + ")");V20=21;break;case 1:V20=this.am()?5:4;break;case 8:var B64="addM";B64+="anifest ignore";B64+="d, pipeli";B64+="nes already set EOS:";this.yb(B64,k.Pp,l.Pp);V20=31;break;case 2:(d=this,f=this.H);V20=1;break;case 9:V20=!b.oCb && (this.iq && k.Pp || this.Ql && l.Pp)?8:7;break;case 7:var J64="addMani";J64+="fest in fastplay but n";J64+="ot drm manifest, leaving space ";J64+="for it";b.DF && (this.yZ=!0);k=this.Xc.length;b.replace && 1 !== k?k=1:this.Qd.N.Qe.Sf && !b.replace && 1 === k && (this.yb(J64),k=this.Xc[0].clone(),this.Xc.push(k),k=this.Xc.length);V20=13;break;case 5:var M64="addManifest:";M64+=" pipelin";M64+="es already shutdown";this.yb(M64);V20=31;break;case 20:var N64="b";N64+="oo";N64+="l";N64+="ea";N64+="n";var m64="vide";m64+="o_tra";m64+="cks";var G64="audi";G64+="o_trac";G64+="ks";c=[G64,m64];v=this.eRa();b.replace && c.forEach(function(a,b){var W20,f,c;W20=2;for(;W20 !== 3;){switch(W20){case 5:f=d.Xc[0].N;Object.keys(c).forEach(function(a){var X20,d;X20=2;for(;X20 !== 5;){switch(X20){case 2:d=f.ls(b,a);d && d.se && (c[a].j0(d),a=r.Cs,a[b] > v[b] && (v[b]=a[b]));X20=5;break;}}});W20=3;break;case 1:W20=c?5:3;break;case 2:c=r.HE(b);W20=1;break;}}});c.forEach(function(a,b){var Y20,c;Y20=2;for(;Y20 !== 5;){switch(Y20){case 2:c=r.HE(b);c && Object.keys(c).forEach(function(a){var Z20,d;Z20=2;for(;Z20 !== 5;){switch(Z20){case 2:var z64="de";z64+="fa";z64+="u";z64+="l";z64+="t";d=A[z64].ql()[b];c[a].b4a(d,r.Cx()?f.CVa:0);Z20=5;break;}}});Y20=5;break;}}});a.aQ=N64 === typeof b.kKa?b.kKa:!0;this.Xc[k] && this.Xc[k].dc();V20=27;break;case 4:b || (b={});(k=this.Ba.pc.gd(0),l=this.Ba.pc.gd(1));V20=9;break;case 35:return !0;break;case 34:a.N.bM([a.gp(0),a.gp(1)]);this.c_();return !0;break;case 27:this.Xc[k]=a;a.aLa();b.replace || this.Ba.Fjb(r,l,q);V20=24;break;}}};a.prototype.TP=function(a){var a30;a30=2;for(;a30 !== 1;){switch(a30){case 2:return this.Mm.TP(a);break;case 4:return this.Mm.TP(a);break;a30=1;break;}}};a.prototype.Yr=function(a,b){var b30,c,d,f,k;b30=2;for(;b30 !== 7;){switch(b30){case 1:b30=!this.am()?5:7;break;case 2:d=this.H;b30=1;break;case 5:var h64=" ready";h64+="Sta";h64+="te: ";var S64=" for movi";S64+="eId:";S64+=" ";var E64=",";E64+=" ";var X64="drmRead";X64+="y ";X64+="at streaming";X64+=" pts: ";h.Y(b) && (b=!0);(f=this.Ba.pc.gd(0),k=this.Ba.pc.gd(1));d.Ah && this.bb.zl(X64 + (f?f.ac:null) + E64 + (k?k.ac:null) + S64 + a + h64 + b);a000.W24(1);this.R.CU(a000.r24("",a),b);b30=8;break;case 8:var w64="d";w64+="r";w64+="m";w64+="R";w64+="eady";b && (this.bg.forEach(function(a){var c30;c30=2;for(;c30 !== 5;){switch(c30){case 2:d.z1 && a.APa();a.Yr();c30=5;break;}}}),d.R7 && this.EP(),this.Qd.N.Qe.Sf && this.b_(this.Mm.xz?this.Mm.xz.sb:this.wI + 1),d.hq || (null === (c=this.Mg) || void 0 === c?0:c.IA()) || this.Zv.Kz || this.MP(w64),this.Mm.wda());b30=7;break;}}};E10=48;break;case 104:a.prototype.hNb=function(a,b,c){var r40,d;r40=2;for(;r40 !== 6;){switch(r40){case 4:r40=a.N.L2?3:7;break;case 2:l.Tl.ip(0);a=this.Xc[a];a.Qta(b);r40=4;break;case 3:a.gp(0).md.some(function(a){var s40;s40=2;for(;s40 !== 4;){switch(s40){case 5:return ! !d;break;case 1:s40=!(d && d.stream && d.stream.$ && c < d.stream.$.pj(0))?5:4;break;case 2:d=a.Jj();s40=1;break;}}});r40=8;break;case 7:this.EP(0);r40=6;break;case 8:d?(a.N.Dg[0]=d,a.WT=!1,d.stream.se && a.M_()):(a.N.Dg[0]=void 0,a.WT=!1,a.N.bM([a.gp(0)],!0,0));r40=7;break;}}};a.prototype.whb=function(a,b){var t40,c;t40=2;for(;t40 !== 4;){switch(t40){case 5:h.Y(a) || this.uf.Xi();t40=4;break;case 2:c=this.bg[a.I];a=this.Ba.TT(a.Kb,a.I,b,this.Ib.xy || 0,function(a){var u40;u40=2;for(;u40 !== 1;){switch(u40){case 2:c.X5(a);u40=1;break;}}});t40=5;break;}}};a.prototype.mfb=function(a){var v40,b,c,d;v40=2;for(;v40 !== 8;){switch(v40){case 2:(b=a.mediaType,c=a.manifestIndex,d=a.streamId);a=this.Ba.pc.Va(b);b=this.Xc[c].N.ls(b,d);this.hib(a,b);v40=3;break;case 3:this.H=this.tMa.Cdb(b.yg,this.H);this.Xc.forEach(function(a,b){var w40,c;w40=2;for(;w40 !== 5;){switch(w40){case 2:c=a.N;c.L2 || 0 === b || c.bM([a.gp(0),a.gp(1)]);w40=5;break;}}});v40=8;break;}}};a.prototype.pfb=function(a){var x40,b,c;x40=2;for(;x40 !== 8;){switch(x40){case 2:b=a.request;x40=1;break;case 1:a=a.mediaType;c=b.Pa.Kb;x40=4;break;case 4:c.xGb(a);b.w1 && this.bb.sgb(b);b.En && this.bb.Hgb(a,b.N.sb,c.W);x40=8;break;}}};a.prototype.hib=function(a,b){var y40;y40=2;for(;y40 !== 1;){switch(y40){case 2:this.ib.Ru[a.I].XE={id:b.Da,index:b.Yf,U:b.U,Ka:b.kb && b.kb.Pd && b.kb.Ka?b.kb.Ka.Ca:0,location:b.location};y40=1;break;}}};a.prototype.GK=function(a){var z40,b,c,d,f,k,h,l,m,g,q;z40=2;for(;z40 !== 11;){switch(z40){case 6:k.abuflmsec=l.ku(m,0);a && (k.a=null === g || void 0 === g?void 0:g.Pa.$.toJSON(),k.v=null === q || void 0 === q?void 0:q.Pa.$.toJSON());z40=13;break;case 2:(k={},h=this.bg,l=this.Ba);z40=1;break;case 1:z40=!l.pc.pk?5:12;break;case 12:return k;break;case 13:a && h && (a=h[1],h=h[0],k.atoappend=null === a || void 0 === a?void 0:a.y6(),k.vtoappend=null === h || void 0 === h?void 0:h.y6());z40=12;break;case 5:(m=l.pc,g=m.gd(0),q=m.gd(1));k.vspts=null !== (b=null === q || void 0 === q?void 0:q.ac) && void 0 !== b?b:0;k.aspts=null !== (c=null === g || void 0 === g?void 0:g.ac) && void 0 !== c?c:0;k.vbuflbytes=null !== (d=null === q || void 0 === q?void 0:q.So.ba) && void 0 !== d?d:0;k.abuflbytes=null !== (f=null === g || void 0 === g?void 0:g.So.ba) && void 0 !== f?f:0;k.vbuflmsec=l.ku(m,1);z40=6;break;}}};a.prototype.KRa=function(a){var A40,d,f,k,h,l,b,c;A40=2;for(;A40 !== 3;){switch(A40){case 1:A40=c?5:3;break;case 5:var j64="de";j64+="faul";j64+="t";(d=this.ib.Ru[a],f=this.Ba.WD(b,a),d=d.XE?d.XE.U:0,k=c.Pa.Kpa,h=this.Ba.Hd,l=A[j64].ql()[a]);return {type:a,availableMediaBuffer:l - f,completeBuffer:b.dj(a),incompleteBuffer:k,playbackBitrate:c.KYa,streamingBitrate:d,streamingTime:c.ac + h,usedMediaBuffer:f,toappend:c.KXb};break;case 2:(b=this.Ba.pc,c=b.Va(a));A40=1;break;}}};a.prototype.vPb=function(){var B40,a;B40=2;for(;B40 !== 5;){switch(B40){case 2:var a64="d";a64+="e";a64+="fa";a64+="ul";a64+="t";var U64="reques";U64+="tGarbageColl";U64+="ecti";U64+="on";a={type:U64,time:A[a64].time.aa()};J.Ma(this,a.type,a);B40=5;break;}}};a.prototype.Co=function(a,b,c,d,f,k){var C40;C40=2;for(;C40 !== 1;){switch(C40){case 2:var P64="NFErr_MC";P64+="_StreamingFai";P64+="l";P64+="u";P64+="re";this.TZ || (h.Y(c) && (c=P64),this.TZ=!0,this.bb.Lgb(c,a,d,f,k,void 0 !== b?b:this.PT));C40=1;break;}}};a.prototype.MGa=function(){var D40;D40=2;for(;D40 !== 5;){switch(D40){case 2:var b64="Networ";b64+="k failures";b64+=" reset!";this.yb(b64);this.uf.Xi();D40=5;break;}}};E10=94;break;case 13:Object.defineProperties(a.prototype,{Vq:{get:function(){var U10;U10=2;for(;U10 !== 1;){switch(U10){case 2:return this.Ohb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{LS:{get:function(){var V10;V10=2;for(;V10 !== 1;){switch(V10){case 2:return this.vI;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{DF:{get:function(){var W10;W10=2;for(;W10 !== 1;){switch(W10){case 2:return this.yZ;break;}}},enumerable:!1,configurable:!0}});a.prototype.Mb=function(a){var X10;X10=2;for(;X10 !== 1;){switch(X10){case 4:return this.uib[a];break;X10=1;break;case 2:return this.uib[a];break;}}};a.prototype.FR=function(){var Y10;Y10=2;for(;Y10 !== 1;){switch(Y10){case 2:var d64="d";d64+="ef";d64+="aul";d64+="t";return A[d64].time.aa() - this.Uca;break;}}};a.prototype.eRa=function(){var Z10;Z10=2;for(;Z10 !== 1;){switch(Z10){case 2:return (this.Xc || []).reduce(function(a,b){var a20,c;a20=2;for(;a20 !== 4;){switch(a20){case 2:c=b.N;g.je.forEach(function(b){var b20;b20=2;for(;b20 !== 1;){switch(b20){case 2:c.Cs[b] > a[b] && (a[b]=c.Cs[b]);b20=1;break;}}});return a;break;}}},[0,0]);break;}}};a.prototype.cL=function(){var c20,a;c20=2;for(;c20 !== 4;){switch(c20){case 2:a=0;h.forEach(this.Qd.N.pa.audio_tracks,function(b){var d20;d20=2;for(;d20 !== 1;){switch(d20){case 2:h.forEach(b.streams,function(b){var e20;e20=2;for(;e20 !== 1;){switch(e20){case 2:a=Math.max(a,b.bitrate);e20=1;break;}}});d20=1;break;}}});return a;break;}}};a.prototype.Bg=function(a){var f20;f20=2;for(;f20 !== 1;){switch(f20){case 2:return this.Xc[a];break;}}};a.prototype.Pyb=function(){var g20,a;g20=2;for(;g20 !== 5;){switch(g20){case 2:a=this.Xc[0];return a.N.Qe.Sf?this.Xc[1]:a;break;}}};a.prototype.lK=function(){var h20;h20=2;for(;h20 !== 1;){switch(h20){case 2:return this.Xc.length;break;case 4:return this.Xc.length;break;h20=1;break;}}};E10=27;break;case 48:a.prototype.yK=function(){var d30;d30=2;for(;d30 !== 1;){switch(d30){case 4:return this.R.An(this.Qd.N);break;d30=1;break;case 2:return this.R.An(this.Qd.N);break;}}};a.prototype.$Fa=function(a){var e30,b,c,d;e30=2;for(;e30 !== 14;){switch(e30){case 3:return !1;break;case 2:e30=a >= this.Xc.length?1:5;break;case 1:return !1;break;case 4:e30=!(a === this.wI + 1 && c.Qe.replace || b && d) || !this.R.An(c)?3:9;break;case 9:a=c.Dg[0];b=c.Dg[1];b=!this.Ql || b && b.stream.se;return (!this.iq || a && a.stream.se) && b?!0:!1;break;case 5:(b=this.Ba.pc.gd(0),c=this.Ba.pc.gd(1),b=!b || b.ih,d=!c || c.ih,c=this.Xc[a].N);e30=4;break;}}};a.prototype.c_=function(){var f30;f30=2;for(;f30 !== 1;){switch(f30){case 2:this.b_(this.wI + 1);f30=1;break;}}};a.prototype.b_=function(a){var g30,b;g30=2;for(;g30 !== 6;){switch(g30){case 2:g30=!this.$Fa(a)?1:5;break;case 5:b=this.Xc[a];g30=4;break;case 4:g30=b.nvb || !b.N.Qe.replace?3:9;break;case 1:return !1;break;case 9:this.vib(a);this.uf.Xi();return !0;break;case 3:return !1;break;}}};a.prototype.vib=function(a){var h30,b,c,d,f,k,h;h30=2;for(;h30 !== 14;){switch(h30){case 6:this.uf.Xi();h30=14;break;case 2:var e94=",";e94+=" ";var y94=", st";y94+="reamin";y94+="gPts: ";var g94="s";g94+="witchManifest ";g94+="mani";g94+="festIndex: ";(b=this.Xc[a],c=this.H,d=this.Ba.pc,f=d.Va(0),f=f?f.ac:void 0,k=d.Va(1),k=k?k.ac:void 0);c.Ah && this.bb.zl(g94 + a + y94 + f + e94 + k);(c=this.Qd,f=c.N.Qe.Sf,h=[]);[1,0].forEach(function(a){var i30;i30=2;for(;i30 !== 1;){switch(i30){case 2:b.N.Mb(a) && (h[a]=b.gp(a));i30=1;break;}}});h30=3;break;case 3:f?this.Ba.hPb(c.N,b.N,h):d.v1a(b.N,h);this.iHa(a);b.dpa();this.Mm.wda();h30=6;break;}}};a.prototype.upa=function(){var j30,c,d,a,b;j30=2;for(;j30 !== 6;){switch(j30){case 8:this.uf.Xi();j30=6;break;case 1:j30=b?5:7;break;case 5:var D94="onAudioTrackSwitchStarted but current ";D94+="p";D94+="laying ";D94+="request not found";(c=this.R.$d(),d=this.ib.$e[b.I]);(a=this.Ba.gs(c,a,0))?b=a.Pa:(this.yb(D94),b=b.Pa);j30=3;break;case 2:(a=this.Ba.pc,b=a.Va(0));j30=1;break;case 7:var V94="onAudioTrackSw";V94+="i";V94+="tchSta";V94+="rted ignored, no audio pipeline";this.yb(V94);j30=6;break;case 3:this.rhb(b);d.iN=!1;j30=8;break;}}};a.prototype.lG=function(a){var k30,d,c,f,b,h;k30=2;for(;k30 !== 35;){switch(k30){case 13:d=this.Ba.pc;k30=12;break;case 4:k30=this.ib.Lw?3:9;break;case 12:k30=this.R.sd() === k.oa.Uc?11:19;break;case 1:k30=!this.iq?5:4;break;case 17:k30=!f?16:15;break;case 10:k30=f < b.w4?20:19;break;case 7:c=this.ib.$e[0];k30=6;break;case 5:var O94="switc";O94+="hTrack";O94+="s rejected, ";O94+="audio d";O94+="isabled";return (this.yb(O94),!1);break;case 27:k30=h === f.Ya?26:25;break;case 16:var u94="switchTr";u94+="acks ca";u94+="n't find tr";u94+="ack";u94+="Id:";return (this.yb(u94,a),!1);break;case 11:f=this.Ba.ku(d,1);k30=10;break;case 9:k30=this.R.hg()?8:7;break;case 2:b=this.H;k30=1;break;case 14:var l94="switchTracks rejected, previous s";l94+="witch still waitin";l94+="g to start";return (this.yb(l94),!1);break;case 8:var p94="switchTracks ";p94+="rejected, buf";p94+="fering";return (this.yb(p94),!1);break;case 20:var T94="swit";T94+="c";T94+="hTrac";T94+="ks re";T94+="jected, bufferLevelMs";return (this.yb(T94,f,"<",b.w4),!1);break;case 19:a=a.ND;f=this.Qd.N.getTrackById(a);k30=17;break;case 6:k30=c.iN?14:13;break;case 15:h=this.Qd.gp(0).Ya;k30=27;break;case 26:return !1;break;case 25:var t94=" t";t94+="o:";t94+=" ";var F94="swi";F94+="tchTr";F94+="ac";F94+="ks curr";F94+="ent: ";b.Ah && this.bb.zl(F94 + h + t94 + f.Ya);c.L4={Ya:a};b=d.Va(0);this.nib(b);k30=21;break;case 3:var n94="switchTrac";n94+="ks rejected, previous switch still i";n94+="n progress: ";return (this.yb(n94 + JSON.stringify(this.ib.Lw)),!1);break;case 21:return !0;break;}}};a.prototype.Jl=function(a,b){var l30;l30=2;for(;l30 !== 1;){switch(l30){case 2:this.ib.Jl(a,b);l30=1;break;case 4:this.ib.Jl(a,b);l30=2;break;l30=1;break;}}};a.prototype.gs=function(a,b,c){var m30;m30=2;for(;m30 !== 1;){switch(m30){case 2:return this.Ba.gs(a,this.Ba.yi,b,c);break;}}};a.prototype.Sg=function(a){var n30;n30=2;for(;n30 !== 1;){switch(n30){case 2:return this.Mm.Sg(a);break;}}};E10=59;break;case 2:Object.defineProperties(a.prototype,{addEventListener:{get:function(){var K10;K10=2;for(;K10 !== 1;){switch(K10){case 2:return this.addListener.bind(this);break;case 4:return this.addListener.bind(this);break;K10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{removeEventListener:{get:function(){var L10;L10=2;for(;L10 !== 1;){switch(L10){case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{nHb:{get:function(){var M10;M10=2;for(;M10 !== 1;){switch(M10){case 2:return this.Of.Yb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{iq:{get:function(){var N10;N10=2;for(;N10 !== 1;){switch(N10){case 2:return this.Mb(0);break;case 4:return this.Mb(3);break;N10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ql:{get:function(){var O10;O10=2;for(;O10 !== 1;){switch(O10){case 2:return this.Mb(1);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{attributes:{get:function(){var P10;P10=2;for(;P10 !== 1;){switch(P10){case 2:return this.Oca;break;case 4:return this.Oca;break;P10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ig:{get:function(){var Q10;Q10=2;for(;Q10 !== 1;){switch(Q10){case 4:return this.eg;break;Q10=1;break;case 2:return this.eg;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{PT:{get:function(){var R10;R10=2;for(;R10 !== 1;){switch(R10){case 2:return 0 <= this.nZ?this.nZ:0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Qd:{get:function(){var S10;S10=2;for(;S10 !== 1;){switch(S10){case 2:return this.Xc[this.wI];break;case 4:return this.Xc[this.wI];break;S10=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$q:{get:function(){var T10;T10=2;for(;T10 !== 1;){switch(T10){case 2:return this.Ib.$q;break;}}},enumerable:!1,configurable:!0}});E10=13;break;case 59:a.prototype.f1=function(a,b){var o30,c,d,p30;o30=2;for(;o30 !== 6;){switch(o30){case 9:c.ura();o30=6;break;case 3:o30=b?9:8;break;case 2:c=this.ib;a=c.tja(a,b);d=this.Kf.Jqa;o30=4;break;case 4:a && !a.$I && d.gja(a);o30=3;break;case 8:b=d.Gxb();try{p30=2;for(;p30 !== 1;){switch(p30){case 4:this.bb.vgb(b);p30=4;break;p30=1;break;case 2:this.bb.vgb(b);p30=1;break;}}}catch(Ua){var s94="]";s94+=" ";s94+="[";var v94="e";v94+="xcep";v94+="ti";v94+="on: ";v94+="[";this.G.error(v94 + Ua.message + s94 + Ua.i9b + "]");}o30=6;break;}}};a.prototype.mJ=function(a,b,c,d){var q30;q30=2;for(;q30 !== 4;){switch(q30){case 2:d && (D.assert(void 0 === b),b=this.f2(d));a000.L24(2);D.assert(a000.r24(b,0));return this.Xc[b].zmb(a,c || !1);break;}}};a.prototype.Uo=function(a,b,c){var r30,d;r30=2;for(;r30 !== 8;){switch(r30){case 2:c && (D.assert(void 0 === a),a=this.f2(c),D.assert(void 0 !== a));void 0 === a && (a=this.PT);r30=4;break;case 4:(c=this.Ba.Mvb(b,a))?d=c.Hd:(c=this.Ba.uja(a),0 < c.length && (c=c[0],d=c.Hd));h.qa(d) || (d=this.Xc[a].Lu);a000.L24(3);return a000.Y24(d,b);break;}}};a.prototype.$w=function(a,b,c){var s30,d;s30=2;for(;s30 !== 8;){switch(s30){case 2:c && (D.assert(void 0 === a),a=this.f2(c),D.assert(void 0 !== a));void 0 === a && (a=this.PT);(c=this.Ba.Lvb(b,a))?d=c.Hd:(c=this.Ba.uja(a),0 < c.length && (c=c[0],d=c.Hd));s30=3;break;case 3:h.qa(d) || (d=this.Xc[a].Lu);a000.W24(1);return a000.Y24(d,b);break;}}};a.prototype.JI=function(){var t30,a;t30=2;for(;t30 !== 4;){switch(t30){case 1:t30=a || this.ib.Lw?5:4;break;case 2:a=this.R.hg();t30=1;break;case 8:t30=a && this.ib.Lw?0:8;break;t30=a || this.ib.Lw?5:4;break;case 9:a=this.R.hg();t30=2;break;t30=1;break;case 5:(a && this.bb.fea(),this.NP(),this.R.ue(k.oa.Uc),this.uf.Xi());t30=4;break;}}};a.prototype.Eea=function(){var u30,a,b;u30=2;for(;u30 !== 3;){switch(u30){case 2:(a=this,b=this.R.hg());this.Ba.pc.B6(b,function(b){var v30;v30=2;for(;v30 !== 1;){switch(v30){case 2:return a.bg[b]?a.bg[b].y6():"";break;}}});this.VH && (clearTimeout(this.VH),this.VH=void 0);u30=4;break;case 4:this.cw.DGb();u30=3;break;}}};a.prototype.fIa=function(a){var w30,b,x30;w30=2;for(;w30 !== 7;){switch(w30){case 5:b=this.R.$d() || 0;a.qJ(b);this.ib.dw();w30=9;break;case 2:a.ih=!0;a.Pp=!1;w30=5;break;case 9:w30=this.sq && 1 === a.I?8:7;break;case 8:try{x30=2;for(;x30 !== 1;){switch(x30){case 2:this.f1(k.oa.Wv,{sa:a.Pb});x30=1;break;}}}catch(ka){var Q94="Hinds";Q94+="ight: Error ";Q94+="evaluating QoE at e";Q94+="ndOfStream: ";a000.W24(1);this.bb.Dm(a000.r24(ka,Q94));}w30=7;break;}}};a.prototype.Jhb=function(){var y30,a;y30=2;for(;y30 !== 5;){switch(y30){case 2:a=this.Ib.mb;a && (a=a.get()) && a.avtp && this.$q.kjb({avtp:a.avtp.Ca});y30=5;break;}}};a.prototype.oib=function(){var z30,a,b,c;z30=2;for(;z30 !== 4;){switch(z30){case 2:var I94="sta";I94+="rt";I94+="up, playerState no longer STARTING:";var R94="failed to s";R94+="ta";R94+="rt au";R94+="d";R94+="io pipeline";var q94="failed";q94+=" to start vid";q94+="eo pipel";q94+="ine";this.R.ue(k.oa.oh);(a=this.Ba.pc,b=a.gd(0),c=a.gd(1));this.Ql && !this.kIa(c)?this.yb(q94):this.iq && !this.kIa(b)?this.yb(R94):(this.GHa=!0,this.Xc[0].N.L2=!0,b=this.ib.$e[1],c=this.ib.$e[0],(b && 0 < b.Ls || c && 0 < c.Ls) && this.bb.tgb(String(a.N.u),c?c.Ls:0,b?b.Ls:0,c?c.LT:0,b?b.LT:0),this.R.QTa()?(this.OZ(0),this.iq && (a=this.Qd.W1(0),b=this.Qd.gp(0).Ya,this.bb.wgb(a,b))):this.yb(I94,this.R.sd()));z30=4;break;}}};a.prototype.kIa=function(a){var A30,b,c;A30=2;for(;A30 !== 14;){switch(A30){case 1:A30=h.Y(c)?5:4;break;case 5:var Z94="NF";Z94+="Err_MC_St";Z94+="reaming";Z94+="InitFailure";var o94="startPipeline ";o94+="fail";o94+="ed";return (this.am() || this.Co(o94,a.Kb.N.sb,Z94),!1);break;case 8:c=this.Qd.N;A30=7;break;case 2:(b=a.I,c=this.ib.kAb(a));A30=1;break;case 7:a.N.FMa(a,{offset:0,kA:!c.Qe.Sf && !c.Vh && 1 === b,tu:!this.ib.$e[b].jwb});return !0;break;case 4:a=a.track.md[c];A30=3;break;case 3:A30=a.Jj()?9:8;break;case 9:return !0;break;}}};E10=72;break;case 87:a.prototype.Bea=function(a,b){var f40,d,f,c;f40=2;for(;f40 !== 8;){switch(f40){case 4:var C94="pt";C94+="sch";C94+="an";C94+="ged";(d=this.ib.$e[a],f=this.ib.zy[a]);h.Y(d.fm) && (d.fm=b,1 === a && this.iq && (a=this.ib.$e[0],h.Y(a.fm) && (c=c.Va(0),c.cG(b)),this.emit(C94,b)));h.Y(f.wQ) && (f.wQ=b);f40=8;break;case 5:f40=c.Va(a)?4:8;break;case 2:c=this.Ba.pc;f40=5;break;}}};a.prototype.lSa=function(a){var g40;g40=2;for(;g40 !== 1;){switch(g40){case 2:this.Mg && (this.Mg.AGb(a),this.oLa());g40=1;break;}}};a.prototype.B2=function(a){var h40;h40=2;for(;h40 !== 1;){switch(h40){case 2:this.Mg && (this.Mg.zGb(a),this.oLa());h40=1;break;}}};a.prototype.oLa=function(){var i40,a;i40=2;for(;i40 !== 4;){switch(i40){case 1:var x94="al";x94+="lCo";x94+="mpl";x94+="et";x94+="ed";a=this.H;this.Mg.IA() || (this.Mg=void 0,a.hq || this.Zv.Kz || this.MP(x94));i40=4;break;case 2:i40=this.Mg?1:4;break;}}};a.prototype.NP=function(){var j40,a,b,c,d,f,l,m,g;j40=2;for(;j40 !== 7;){switch(j40){case 8:this.Gz=setTimeout(this.NP.bind(this),g);j40=7;break;case 2:(a=this,b=this.H,c=this.PT,d=this.Xc[c],f=this.Ba.pc,l=this.R.$d() || 0,m=this.Uo(c,l),g=b.A7);this.Ib.Ye && void 0 !== d.qF && d.qF - l <= b.fWa && this.Ib.Ye.Ko(!0,this.el.sessionId);this.R.sd() === k.oa.Uc && ([1,0].forEach(function(b){var k40,c,u,d,k,q,r,v;k40=2;for(;k40 !== 33;){switch(k40){case 1:c=f.Va(b);k40=5;break;case 20:k40=!a.Ql || 1 === b?19:26;break;case 7:k40=v?6:34;break;case 19:k40=(a.Ba.$Ib(v,v.Qn),k > a.nZ)?18:27;break;case 6:r=v.ee - l;r < g && (g=r);q=a.ib.Ru[b];d=v.N;k40=11;break;case 34:var i94="Unable to find request presenting ";i94+="a";i94+="t ";i94+="playe";i94+="rPts:";c.yb(i94,l);k40=21;break;case 15:m=a.Uo(k,l);k40=26;break;case 26:q.REb=v.Qn;d=v.Da;d != q.rna && (q.rna=d,b=a.Xc[k].N.ls(b,d),k=a.Uo(k,v.Rc),a.bb.Jgb(b,v.Rc,k,b.N.sb));v=v.U;k40=22;break;case 5:k40=c?4:33;break;case 18:a.nZ=k;u=0 < k?k - 1:null;a.bb.ygb(d,l,v.Qn,null !== u?a.Xc[u].N.u:null,u);k40=15;break;case 11:k=d.sb;k40=10;break;case 27:a.vI && v.Qn != q.REb && a.bb.Ogb(v.Qn);k40=26;break;case 10:r=v.Pa;k40=20;break;case 4:r=c.Pa;c.qJ(l);(v=a.Ba.gs(l,f,b)) && !v.ze && (v=a.bg[b].IEb);k40=7;break;case 21:a.whb(r,l);a.Ba.vNb();k40=33;break;case 2:k40=a.Mb(b)?1:33;break;case 22:h.Y(v) || v == c.KYa || (c.KYa=v);k40=21;break;}}}),this.Ba.jt(l,m));this.uf.Xi();g=Math.max(g,1);this.Gz && clearTimeout(this.Gz);j40=8;break;}}};a.prototype.NY=function(a){var l40;l40=2;for(;l40 !== 1;){switch(l40){case 2:return this.uf.NY(a);break;}}};a.prototype.Xi=function(){var m40;m40=2;for(;m40 !== 1;){switch(m40){case 2:return this.uf.Xi();break;}}};a.prototype.FD=function(a,b){var n40,c,d,f;n40=2;for(;n40 !== 13;){switch(n40){case 14:return f;break;case 2:c=a.Pa;n40=1;break;case 4:(d=a.I,f=a.abort());a.dc();n40=9;break;case 1:n40=!c?5:4;break;case 9:a.eg && a.eg.clear();c.X5(a);this.bg[d].X5(a);!0 === b && this.uf.Xi();n40=14;break;case 5:var f94="abortR";f94+="equ";f94+="est with no requestMa";f94+="nagaer:";return (this.yb(f94,a),!1);break;}}};a.prototype.nib=function(a){var o40,b,c;o40=2;for(;o40 !== 5;){switch(o40){case 2:var A94="no newAu";A94+="dioTrack";A94+=" set";(b=a.I,c=this.ib.$e[b]);h.Y(c.L4)?a.yb(A94):(this.bg[b].pause(),c.iN=!0,a=this.Qd.gp(0),c=this.Qd.N.getTrackById(c.L4.Ya),this.bb.ngb(a,c));o40=5;break;}}};a.prototype.rhb=function(a){var p40,b,c,d,f,k,h,l,m;p40=2;for(;p40 !== 27;){switch(p40){case 7:c=this.Ib.P1(k.N.pa,[l],0);this.Oca[0]=c[0];this.bR.WHa(0,a.N);f.L4=void 0;this.Kf.uM(null);this.wea(0,ea.sO.HPa,a);p40=10;break;case 19:p40=c < this.Xc.length?18:16;break;case 20:c=this.wI;p40=19;break;case 16:a.d_a(h,m);this.hG(0);p40=27;break;case 2:(b=this,d=this.H);a=a.Kb;f=this.ib.$e[0];this.ib.Lw=f.L4;p40=3;break;case 3:(k=this.Qd,h=k.N.getTrackById(this.ib.Lw.Ya),l=h.WM,m=this.R.$d() - a.Hd);p40=9;break;case 18:this.hNb(c,l,m);p40=17;break;case 8:var k94="a";k94+="udioS";k94+="wi";k94+="tch";(this.Mg.cPb(function(a){var q40;q40=2;for(;q40 !== 5;){switch(q40){case 1:return (b.FD(a,!1),!0);break;case 2:q40=0 === a.I?1:5;break;}}}),this.Mg.IA() || (this.Mg=void 0,d.hq || this.Zv.Kz || this.MP(k94)));p40=7;break;case 9:p40=(null === (c=this.Mg) || void 0 === c?0:c.IA())?8:7;break;case 17:++c;p40=19;break;case 10:this.Ba.$0a(a,!0);p40=20;break;}}};E10=104;break;case 72:a.prototype.OZ=function(a,b){var B30,c,d,f,h,l;B30=2;for(;B30 !== 19;){switch(B30){case 6:var c94="defa";c94+="u";c94+="lt";g.je.forEach(function(b){var C30;C30=2;for(;C30 !== 5;){switch(C30){case 1:(b.nga=0,b.seeking=0 === a || 1 === a,b.Uga());C30=5;break;case 2:C30=(b=c.Ba.pc.gd(b))?1:5;break;}}});this.Uca=A[c94].time.aa();f.nk=h.nk=this.Uca;0 === a && (!this.Ql || 0 < h.Ls) && (!this.iq || 0 < f.Ls) && this.ib.dw();B30=11;break;case 11:d.lR && (this.qda=setTimeout(function(){var D30;D30=2;for(;D30 !== 1;){switch(D30){case 2:c.Jhb();D30=1;break;case 4:c.Jhb();D30=2;break;D30=1;break;}}},d.Mia));this.R.hg() && (this.VH=setTimeout(function(){var E30;E30=2;for(;E30 !== 1;){switch(E30){case 2:c.ib.dw();E30=1;break;}}},d.ky));this.uf.Xi();B30=19;break;case 3:var H94="startBuf";H94+="fe";H94+="r";H94+="ing";this.bb.qgb(b);this.cw.reset();this.Qd.N.vpa();this.emit(H94);B30=6;break;case 2:(c=this,d=this.H,f=this.ib.$e[0] || ({}),h=this.ib.$e[1] || ({}),l=this.ib.zy[1] || ({}));(this.ib.zy[0] || ({})).wQ=void 0;l.wQ=void 0;this.R.ue(2 === a?k.oa.nf:k.oa.cd);B30=3;break;}}};a.prototype.MP=function(a){var F30,b;F30=2;for(;F30 !== 3;){switch(F30){case 2:var r94="Adop";r94+="tingData s";r94+="till ha";r94+="s lock:";var K94="wi";K94+="p";K94+="eHead";K94+="erCa";K94+="che:";a000.L24(1);a=a000.Y24(a,K94);this.Zv.Kz && this.pf(r94 + a);b=this.H;b.pF || (b.Ah && this.bb.zl(a),this.Ib.Rw(),this.Mg && (this.Mg=void 0));F30=3;break;}}};a.prototype.ZFa=function(a){var G30,c,d,f,k;function b(a,b){var H30,d,f,k,l,m,g,q;H30=2;for(;H30 !== 10;){switch(H30){case 2:(d=a.I,f=b[d],k=y.resolve(void 0));H30=1;break;case 1:H30=f?5:11;break;case 8:H30=!a.rXb(l)?7:6;break;case 6:H30=!f.Aq?14:13;break;case 5:(l=f.Da,m=f.Aq.stream,g=c.ib.$e[d],q=c.ib.zy[d]);h.Y(b.rs) || c.Kf.e1a(b.rs,b.sl,b.tl);q.Dq=b.Dq;q.vq=b.vq;H30=8;break;case 14:var Y94="adoptPipelin";Y94+="e no header ";Y94+="fo";Y94+="r streamId:";return (a.pf(Y94,l),k);break;case 13:b=c.Qd.N;H30=12;break;case 12:b.l_(f.Aq,!b.Qe.Sf && !b.Vh && 1 === d,!0) && (void 0 !== a.zF && a.cG(a.zF),k=b.Jj(d,l).stream.$.sm(a.ac,void 0,!0),b=m.ej(k),m=b.X,a.Asa() && (b=b.s1(a.ac)) && 0 < b.jd && (m=b.jd),a.ac !== m && (a.F6(m,k),c.Bea(d,m)),k=c.vdb(a,f.data).then(function(){var I30;I30=2;for(;I30 !== 1;){switch(I30){case 2:return l;break;}}}),g.jwb=!0,0 === d && c.Kf.uM(f.Aq.U));H30=11;break;case 7:return k;break;case 11:return k;break;}}}G30=2;for(;G30 !== 13;){switch(G30){case 14:var G94="c";G94+="a";G94+="t";G94+="c";G94+="h";return this.Ib.Ye.aGb(a,k?k.N:void 0).then(function(a){var K30,d,k;K30=2;for(;K30 !== 8;){switch(K30){case 5:var W94="headerCach";W94+="eDataNotF";W94+="oun";W94+="d";return (f.hq || c.Zv.Kz || c.MP(W94),y.resolve());break;case 1:K30=h.Y(a)?5:4;break;case 2:var L94="chec";L94+="kFor";L94+="Hc";L94+="dE";L94+="nd";c.bb.xj(L94);K30=1;break;case 4:var B94="ad";B94+="opt";B94+="HcdStart";(d=c.Ba.pc.gd(0),k=c.Ba.pc.gd(1));c.bb.xj(B94);return c.Zv.h5a(function(){var L30,h,l;L30=2;for(;L30 !== 7;){switch(L30){case 3:var J94="a";J94+="doptHcd";J94+="E";J94+="nd";c.SGa=a;c.bb.xj(J94);return y.all([h,l]);break;case 2:h=y.resolve();c.Ql && (h=b(k,a));l=y.resolve();!c.iq || f.ESa && !h || (l=f.ESa?h.then(function(c){var M30;M30=2;for(;M30 !== 1;){switch(M30){case 2:return c?b(d,a):y.resolve();break;}}}):b(d,a));L30=3;break;}}});break;}}}).then(function(){var N30,a;N30=2;for(;N30 !== 5;){switch(N30){case 2:N30=1;break;case 1:var M94="adoptedCompl";M94+="etedR";M94+="equest";M94+="s";f.hq || (null === (a=c.Mg) || void 0 === a?0:a.IA()) || c.Zv.Kz || !c.R.An(c.Qd.N) || c.MP(M94);N30=5;break;}}})[G94](function(a){var O30;O30=2;for(;O30 !== 1;){switch(O30){case 2:var m94="header";m94+="Cac";m94+="he:lookupData";m94+="Promise caught error:";c.yb(m94,a);O30=1;break;}}});break;case 2:c=this;G30=1;break;case 1:var z94="Previously a";z94+="dopte";z94+="d request list still retained was u";z94+="nexpected";(null === (d=this.Mg) || void 0 === d?0:d.IA()) && this.pf(z94);this.Mg=void 0;f=this.H;G30=3;break;case 8:var N94="ch";N94+="ec";N94+="kForHcdS";N94+="tar";N94+="t";this.bb.xj(N94);this.Xc.forEach(function(b){var J30;J30=2;for(;J30 !== 1;){switch(J30){case 2:b.N.u === a && (k=b);J30=1;break;}}});G30=14;break;case 9:return (this.Ib.vga(),y.resolve());break;case 3:G30=!this.Lib || !this.Ib.Ye?9:8;break;}}};a.prototype.vdb=function(a,b){var P30,c,d,f,k,l,m,g;P30=2;for(;P30 !== 9;){switch(P30){case 14:return y.resolve();break;P30=4;break;case 1:P30=0 === b.length?5:4;break;case 7:c=this;P30=3;break;P30=1;break;case 2:c=this;P30=1;break;case 5:return y.resolve();break;case 3:return this.Zv.h5a(function(){function d(){var R30,d;R30=2;for(;R30 !== 5;){switch(R30){case 2:var E94="adoptData, not";E94+=" ad";E94+="opting failed med";E94+="iaRequest:";var X94="adoptData, not adopting ";X94+="aborted mediaReque";X94+="st:";d=b.shift();7 === d.readyState?a.yb(X94,d.toString()):6 === d.readyState?(a.yb(E94,d.toString()),c.FD(d,!1)):a.ac >= d.Qb && a.ac < d.Pb && (a.ac < k || !h.qa(k))?(q.push(c.wdb(a,d).then(function(){var S30;S30=2;for(;S30 !== 1;){switch(S30){case 2:d.complete && c.lSa(d);S30=1;break;}}})),a.BRb(d.Pb),h.qa(k) && a.ac >= k && c.bb.gea(f,d.Pb),0 === l && c.Kf.uM(d.U),d.complete?(m.Ls+=d.duration,d.HFb && (m.LT+=d.duration),g=d):(c.Mg || (c.Mg=new sa.Gua(c.G)),c.Mg.push(d))):c.FD(d,!1);R30=5;break;}}}var Q30,q;Q30=2;for(;Q30 !== 3;){switch(Q30){case 8:q=[];Q30=2;break;Q30=1;break;case 2:q=[];Q30=1;break;case 5:d();Q30=1;break;case 1:Q30=0 < b.length?5:4;break;case 4:return y.all(q);break;}}}).then(function(){var T30,b,f;T30=2;for(;T30 !== 8;){switch(T30){case 2:g && a.mSa(g);T30=5;break;case 5:T30=g || (null === (b=c.Mg) || void 0 === b?0:b.IA())?4:8;break;case 4:b=c.Xc[d.N.sb];f=a.vja(a.ac);void 0 !== f?(a.yl=f,a.We=b.N.Dg[l].stream.ej(a.yl)):a.yl=a.Tf?a.Tf.index + 1:a.yl + 1;T30=8;break;}}});break;case 4:(d=a.R3,f=d.W,k=Math.min(this.Xc[0].sa || Infinity,d.Pb || Infinity),l=a.I,m=this.ib.$e[l]);P30=3;break;}}};a.prototype.wdb=function(a,b){var U30,c,d;U30=2;for(;U30 !== 3;){switch(U30){case 2:var j94="ca";j94+="t";j94+="ch";var w94=", ";w94+="p";w94+="ts: ";var h94=",";h94+=" ";h94+="stat";h94+="e:";h94+=" ";var S94="ad";S94+="optMediaReque";S94+="st: ";S94+="type:";S94+=" ";(c=this,d=a.I);this.H.Ah && this.bb.zl(S94 + d + h94 + b.readyState + w94 + b.Qb);this.Bea(d,b.Qb);return a.Pa.Tjb(b)[j94](function(a){var V30;V30=2;for(;V30 !== 1;){switch(V30){case 4:c.pf("",a);V30=9;break;V30=1;break;case 2:var U94="Error";U94+=" adopt";U94+="i";U94+="ng requests";c.pf(U94,a);V30=1;break;}}});break;}}};a.prototype.wea=function(a,b,c){var W30,d;W30=2;for(;W30 !== 9;){switch(W30){case 4:this.cw.reset();(void 0 === a?g.je:[a]).forEach(function(a){var X30;X30=2;for(;X30 !== 1;){switch(X30){case 2:d.Mb(a) && (d.au[a].reset(),d.Vhb(a),d.Kf.VJb(a));X30=1;break;}}});W30=9;break;case 2:d=this;void 0 === b && (b=ea.sO.Xfa);(c || this.Ba.pc).vra(a,b);W30=4;break;}}};a.prototype.Ssa=function(a){var Y30,b;Y30=2;for(;Y30 !== 5;){switch(Y30){case 2:b=this;(void 0 === a?g.je:[a]).forEach(function(a){var Z30,c;Z30=2;for(;Z30 !== 5;){switch(Z30){case 2:null === (c=b.au[a]) || void 0 === c?void 0:c.stop();Z30=5;break;}}});Y30=5;break;}}};a.prototype.hG=function(a){var a40,b;a40=2;for(;a40 !== 4;){switch(a40){case 2:b=this;(void 0 === a?g.je:[a]).forEach(function(a){var b40,c;b40=2;for(;b40 !== 5;){switch(b40){case 2:null === (c=b.au[a]) || void 0 === c?void 0:c.resume();b40=5;break;}}});return y.resolve();break;}}};a.prototype.EP=function(a){var c40,b,c;c40=2;for(;c40 !== 3;){switch(c40){case 2:b=this;a=void 0 === a?g.je:[a];null === (c=this.cw) || void 0 === c?void 0:c.reset();a.forEach(function(a){var d40,c;d40=2;for(;d40 !== 5;){switch(d40){case 2:null === (c=b.au[a]) || void 0 === c?void 0:c.resume();d40=5;break;}}});c40=3;break;}}};a.prototype.Vhb=function(a){var e40,b;e40=2;for(;e40 !== 3;){switch(e40){case 14:b.LT=8;e40=5;break;e40=3;break;case 4:b.LT=0;e40=3;break;case 2:b=this.ib.$e[a];this.ib.Ru[a].rna=void 0;b.Ls=0;e40=4;break;}}};E10=87;break;case 32:a.prototype.NL=function(){};a.prototype.close=function(){var z20;z20=2;for(;z20 !== 4;){switch(z20){case 2:this.U0a.Tb();this.Xc.forEach(function(a){var A20;A20=2;for(;A20 !== 1;){switch(A20){case 2:a.close();A20=1;break;}}});this.Lj.close();z20=4;break;}}};a.prototype.u_a=function(){var B20;B20=2;for(;B20 !== 1;){switch(B20){case 2:this.Ib.Fhb(this);B20=1;break;}}};a.prototype.dc=function(){var C20,a;C20=2;for(;C20 !== 20;){switch(C20){case 6:this.Xc.forEach(function(a){var E20;E20=2;for(;E20 !== 1;){switch(E20){case 2:a.dc();E20=1;break;}}});this.Xc=[];this.eg.clear();C20=12;break;case 4:this.Ba.Tb();this.bR.xeb();null === (a=this.cw) || void 0 === a?void 0:a.reset();this.au.forEach(function(a){var D20;D20=2;for(;D20 !== 1;){switch(D20){case 4:a.reset();D20=8;break;D20=1;break;case 2:a.reset();D20=1;break;}}});this.R.ue(k.oa.ck);C20=6;break;case 2:this.Kf.IJb();this.KY();C20=4;break;case 12:a=this.Of;this.Of=void 0;C20=10;break;case 10:var a94="Error on Me";a94+="diaSource";a94+=" destro";a94+="y: ";h.Y(a) || a.pq() || this.yb(a94,a.error);C20=20;break;}}};a.prototype.suspend=function(){var F20;F20=2;for(;F20 !== 1;){switch(F20){case 4:this.Lj.suspend();F20=3;break;F20=1;break;case 2:this.Lj.suspend();F20=1;break;}}};a.prototype.resume=function(){var G20;G20=2;for(;G20 !== 1;){switch(G20){case 2:this.Lj.resume();G20=1;break;case 4:this.Lj.resume();G20=4;break;G20=1;break;}}};a.prototype.am=function(){var H20;H20=2;for(;H20 !== 1;){switch(H20){case 2:return this.Lj.am();break;}}};a.prototype.jib=function(){var I20,a;I20=2;for(;I20 !== 8;){switch(I20){case 2:a=this.H;this.Gz && clearTimeout(this.Gz);this.Gz=setTimeout(this.NP.bind(this),a.A7);this.aw || (this.aw=setInterval(this.bb.vHa.bind(this.bb),a.RD));I20=3;break;case 3:this.VZ || (this.VZ=setInterval(this.bb.Ngb.bind(this.bb),a.Xsa));this.Vq && !this.AY && (this.AY=setInterval(this.bb.uHa.bind(this.bb),a.Ifa));I20=8;break;}}};a.prototype.KY=function(){var J20;J20=2;for(;J20 !== 7;){switch(J20){case 9:this.qda && (clearTimeout(this.qda),this.qda=void 0);this.uf.KY();J20=7;break;case 2:this.Gz && (clearTimeout(this.Gz),this.Gz=void 0);this.aw && (clearInterval(this.aw),this.aw=void 0);this.VZ && (clearInterval(this.VZ),this.VZ=void 0);this.AY && (clearInterval(this.AY),this.AY=void 0);this.VH && (clearTimeout(this.VH),this.VH=void 0);J20=9;break;}}};a.prototype.play=function(){var K20;K20=2;for(;K20 !== 1;){switch(K20){case 2:this.Lj.play();K20=1;break;case 4:this.Lj.play();K20=7;break;K20=1;break;}}};E10=39;break;}}})();b.bEa=a;d.af(c.EventEmitter,a);},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Q$=void 0;c=a(16);h=a(9);l=a(232);d=(function(){function a(a,b,c,d,h,l,m,g,y,n,J,D){void 0 === c && (c=0);this.Ec=a;this.KZ=b;this.X=c;this.sa=d;this.R1=h;this.Bg=l;this.lK=m;this.config=g;this.G=y;this.bb=n;this.nvb=J;this.ig=D;this.Lu=0;}a.create=function(b){var f,m,g,u,B,A,y,n,J,D,p,S,O,Y,E;function d(a){h.Ma(n,a.type,a);}f=b.sb;m=b.pa;g=b.I0a;u=b.X;B=b.sa;A=b.zq;y=b.bb;n=b.Fb;J=b.config;D=b.G;p=b.uf;S=b.Mm;O=b.Ye;Y=b.NA;E=new l.YV(Number(m.movieId),{sb:f,pa:m,Cl:b.Cl,soa:{q3:b.Sf,Tma:! !b.GTa},Vh:b.Vh,Ee:b.Ee,config:J,Mla:{bd:p.Xi.bind(p),Ye:O,NA:Y,Em:d,n3:function(a){return a === n.Ba.pc.N;},UR:function(a,b,c,d,f){a=n.ib.$e[a];return !b || c || d || f?n.bP:a.$g;},zA:function(a){return n.ib.Ru[a];},Bg:n.Bg.bind(n)},yL:function(a){n.emit("requestComplete",{timestamp:a.ud,mediaRequest:a});},DR:function(){return n.Kf;},mb:n.Ib.mb,Uf:n.Ib.Uf,dja:{zq:A,Hg:function(a,b,c,d,k){n.Co(a,f,b,c,d,k);},Cn:function(){return n.TZ;},NK:n.R.hg.bind(n.R),Em:d},RF:void 0,HB:{da:n.Ib.xy,ba:n.Ib.GB}});J.lA && E.bG({xF:n.el.xF,ea:n.el.ea,gx:n.el.gx,Dm:y.Dm.bind(y)});b=new c.sg();b.addListener(E.MA,"onHeaderFragments",function(a){var b,c,d,k,h;b=a.I;c=a.Da;d=a.stream.$;k=n.Bg(f);if(k){if(E.Dg[b] && a !== E.Dg[b])a.tu && (k=E.Dg[b],a=a.stream,h=k && k.stream,D.warn("first header received for non-current track (trackId " + a.Ya + "streamId " + a.Da + "), expected track " + (h && h.Ya) + ", stream " + (h && h.Da) + ", " + k));else {E.Dg[b]=a;a=n.Ba.pc;if(0 === f){h=E.Mb(1)?a.Va(1).ac:a.Va(0).ac;a.P_(h,E);}k.WT=!1;k.M_();n.c_();}S.wda();y.Dgb(f,b,c,E.u,d);p.Xi();}else D.warn("addFragments for stale manifestIndex:",f);});b.addListener(E.MA,"onHeaderRequestComplete",function(a){var b,c;a.zk?n.c_():a.kA && (D.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),n.Yr(a.u));b=a.I;c=Object.getOwnPropertyNames(Y.Wt[b]);n.bg[b].$Wa(a.stream,1 === c.length && c[0] === a.Da);p.nGa();n.vPb();});b.addListener(E.MA,"onHeaderFromCache",function(a){var b;b=a.Aq;a=a.kwb;b.zk && n.c_();a && y.ugb(b.u,b.Da);});return new a(E,g,u,B,function(){return n.Ba;},n.Bg.bind(n),n.lK.bind(n),J,D,y,!1,b);};Object.defineProperties(a.prototype,{N:{get:function(){return this.Ec;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sb:{get:function(){return this.N.sb;},enumerable:!1,configurable:!0}});a.prototype.gp=function(a){return this.Ec.bSa(a,this.W1(a));};a.prototype.W1=function(a){return this.KZ[a];};a.prototype.close=function(){this.ig.clear();this.N.close();};a.prototype.dc=function(){this.Ec.dc();delete this.Ec;};a.prototype.clone=function(){return new a(this.N,this.KZ,this.X,this.sa,this.R1,this.Bg,this.lK,this.config,this.G,this.bb,!0,this.ig);};a.prototype.Qta=function(a){this.G.trace("updateAudioTrack:",this.KZ[0],"->",a);this.KZ[0]=a;};a.prototype.VQa=function(){return void 0 !== this.qF?this.qF:this.sa?this.sa:this.Ec.duration;};a.prototype.zmb=function(a,b){var c,d,f,k;c=this.Ec.Dg[1];if(c && c.stream.se){if(this.nx && this.nx[1] && this.nx[1].X <= a && this.nx[1].sa > a)return this.nx[1].Rc;d=c.stream.$;f=d.sm(a,void 0,!0);k=void 0;b && (a=c.stream.ej(f).s1(a)) && (k=a.jd);void 0 === k && (k=d.pj(f));return k;}};a.prototype.M_=function(){var a,b;if(!this.WT && this.wSa()){this.dpa();b=[0,0];0 === this.sb || this.Ec.Qe.US || this.Ec.Qe.replace || (a=this.Bg(this.sb - 1),a=this.Ec.u === a.Ec.u,b=this.R1().pc,a=b.P_(this.X,this.N,b,a),b=a.TL);this.X=b[1];this.TL=b;this.nx=a && a.nx;this.aLa();a=this.Ec.Mb(1)?this.Ec.Dg[1].stream.$.sa:this.Ec.Dg[0].stream.$.sa;this.bb.zgb(this.sb,this.Lu,this.X,this.qF,a);this.WT=!0;for(a=this.sb + 1;a < this.lK();++a){b=this.Bg(a);b.WT=!1;b.M_();}}};a.prototype.aLa=function(){var a;if(0 === this.sb || this.Ec.Qe.replace)this.Lu=0;else {a=this.Bg(this.sb - 1);this.Lu=a.Lu + a.VQa() - this.X;}};a.prototype.dpa=function(){var a,b,c,d,h,l,m,g;if(this.wSa()){h=this.R1().pc;l=this.sa || Infinity;m=this.Ec.Mb(1);g=h.uR(l,this.N);this.qF=m?g[1].sa:g[0].sa;h=m?this.Ec.Dg[1].stream.$.sa:this.Ec.Dg[0].stream.$.sa;m=Math.min(null !== (b=null === (a=g[1]) || void 0 === a?void 0:a.sa) && void 0 !== b?b:Infinity,null !== (d=null === (c=g[0]) || void 0 === c?void 0:c.sa) && void 0 !== d?d:Infinity);this.bb.Bgb(this.sb,this.qF,h,m);a=this.R1().uja(this.sb);0 < a.length && a.forEach(function(a){a.hWb(g,l);});}};a.prototype.wSa=function(){var a,b,c,d;a=this.Ec.Mb(0);b=this.Ec.Mb(1);c=this.Ec.Dg[0];d=this.Ec.Dg[1];c=c && c.stream.se;d=d && d.stream.se;return (!a || c) && (!b || d);};return a;})();b.Q$=d;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.eEa=void 0;d=a(0);c=a(9);a=d.__importDefault(a(3));h=a["default"].Vm;new a["default"].Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function a(a,b,d){this.Dm=d;this.Sib=new c.wFa(a);this.ea=b.ea;this.Odb=1E3 * b.YGb / b.Wlb;this.gtb=b.gx;this.HJa=!1;}a.prototype.Tr=function(a){var b,d;b={s_xid:this.ea,dl:this.gtb?1:0};a.iJ && (b.bs=c.W_(Math.floor(a.iJ / this.Odb) + 1,1,5));a.P4 && (b.limit_rate=a.P4);a.zKa && (b.bb_reason=a.zKa);a.m3a && (b.tm=a.m3a);if(a.vJ){d=Object.keys(a.vJ).every(function(b){return 0 === a.vJ[b];});if(!d || d && this.HJa)(b.cpr_ss=a.vJ.JQ,b.cpr_ca=a.vJ.JQ,b.cpr_rec=a.vJ.Bha,this.HJa=d?!1:!0);}a.ega && (b.br="" + a.ega.start + "+" + a.ega.size);return this.Pgb(b);};a.prototype.$ra=function(a,b){var c,d;try{c=new h(void 0,"notification");d=this.Tr({zKa:a});b && d && c.open(b,void 0,2,void 0,void 0,void 0,d);}catch(v){this.Dm("SideChannel: Error when sending sendBlackBoxNotification. Error: " + v);}};a.prototype.Pgb=function(a){var b;try{b=this.eib(a);return this.Sib.encrypt(b);}catch(k){this.Dm("SideChannel: Error when obfuscating msg. Error: " + k);}};a.prototype.eib=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b) + "=" + encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;})();b.eEa=a;},function(d,b,a){var h,l,m,f,k,g;function c(a,b){var c,d;c=Math.floor(1E3 * a / b);d=1E3 * Math.round(c / 1E3);return new l.T(d,Math.abs(Math.floor(1001 * a / b) - d) > Math.abs(c - d)?1E3:1001);}Object.defineProperties(b,{__esModule:{value:!0}});b.hva=void 0;h=a(397);l=a(21);m=a(5);f=a(9);k=a(233);g=a(398);d=(function(){function a(b,d,k){this.H=d;this.G=k;this.nz=new f.fEa();this.QGa=!1;this.Qx=b.Qx;this.N=b.N;this.I=b.I;this.WM=b.WM;this.GD=b.GD;1 === this.I && (d=this.Qx.streams[0],void 0 !== d.framerate_value && void 0 !== d.framerate_scale && (this.Xda=c(d.framerate_value,d.framerate_scale).a_a()));this.jl=(this.mI=this.Xda) && this.mI.S;this.Eda=this.oGa=!1;this.Tla=-Infinity;this.YUa=Infinity;b=a.meb(this,b.Sf);d=b.Am;k=b.md;this.$R=b.$R;this.Am=d;this.md=k;this.rib=k.reduce(function(a,b){a[b.Da]=b;return a;},{});!1;}a.meb=function(a,b){var c,d,f,k,h;c=a.H;d=1 === a.I;f=!1;k=0;h=[];a.Qx.streams.forEach(function(l,m){var q,r,v;r=l.bitrate;v=!0;d && (q=-1 === l.content_profile.indexOf("none"),v=b && !q || !b && q,f=f || q);v && r > k && (k=r);l=new g.fva({Px:l,Yf:m,track:a,Hu:v},c,a.G);h.push(l);});return {$R:f,Am:k,md:h};};Object.defineProperties(a.prototype,{Uoa:{get:function(){return !this.se && !this.QGa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{se:{get:function(){return ! !this.Nl && ! !this.nz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Gia:{get:function(){return this.oGa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{u:{get:function(){return String(this.N.u);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ya:{get:function(){return this.Qx.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wa:{get:function(){return this.mI;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.jl;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sL:{get:function(){return this.hgb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nl:{get:function(){return this.Dc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oS:{get:function(){return this.nz.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Uja:{get:function(){return this.wa.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tja:{get:function(){return this.wa.xb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Eja:{get:function(){return this.nz;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{TS:{get:function(){return this.md.some(function(a){var b;return 1 < ((null === (b=a.Dh) || void 0 === b?void 0:b.length) || 0);});},enumerable:!1,configurable:!0}});a.prototype.ls=function(a){return this.HE()[a];};a.prototype.HE=function(){return this.rib;};a.prototype.equals=function(a){return this.u === a.u && this.I === a.I && this.Ya === a.Ya;};a.prototype.xpa=function(){this.QGa=!0;};a.prototype.Z4=function(a,b,c,d,f){if(d && void 0 !== d.Tk && (this.se || void 0 !== d.Zd && d.Zd.length)){if((a.Iu && (this.oGa=!0),this.se))!this.Eda && d.Zd && d.Zd.length > this.Nl.length && (this.Dc=new h.lca(this.I,this.wa,d,f),this.nz.U_a(),this.Tla=-Infinity,this.Eda=!0);else {this.hIa(b);if(c=c || this.Xda)(this.gIa(c || this.Xda),void 0 === this.S && this.iIa(c.S));this.Dc=new h.lca(this.I,this.wa,d,f);a.Iu && (this.Eda=!0);}}else this.G && this.G.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.QJb=function(a){void 0 === this.nz.value && this.nz.set(a);};a.prototype.Gob=function(a){this.se || (this.iIa(a.S),this.hIa(a.sL),this.gIa(a.wa),this.Dc=a.Nl,a.Eja.value?this.nz.set(a.Eja.value):this.nz.U_a());};a.prototype.wn=function(a,b,c,d){m.assert(this.oS);return k.wn(this.I,a,this.oS,b,c,d);};a.prototype.yE=function(a,b,c){m.assert(this.oS);return k.yE(this.I,a,this.oS,b,c);};a.prototype.toJSON=function(){return {movieId:this.u,mediaType:this.I,trackId:this.Ya};};a.prototype.toString=function(){return (0 === this.I?"a":"v") + ":" + this.Ya;};a.prototype.iIa=function(a){this.jl=a;};a.prototype.hIa=function(a){this.hgb=a;};a.prototype.gIa=function(a){this.mI=a;};return a;})();b.hva=d;},function(d,b,a){var c,h,l,m,f,k,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sEa=b.Ecb=void 0;c=a(0);h=a(95);l=a(5);d=c.__importDefault(a(3));m=a(406);a=a(397);f=new d["default"].Console("FRAGMENTS","media|asejs");try{k=!0;}catch(v){k=!1;}g=(function(a){function b(b,c){c=a.call(this,b.Nl,c) || this;c.AD=b;return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{ba:{get:function(){return this.AD.QSb(this.wj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{offset:{get:function(){return this.AD.Fh(this.wj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Soa:{get:function(){return this.AD.rL && this.AD.rL[this.wj];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Zi:{get:function(){return this.AD.dxb(this.wj);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tb:{get:function(){return this.AD.YB && this.AD.YB[this.wj];},enumerable:!1,configurable:!0}});b.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.Ra,contentEndTicks:this.jb,durationTicks:this.rq,timescale:this.S,startPts:this.X,endPts:this.sa,duration:this.duration,additionalSAPs:this.Zi};};return b;})(a.UEa);b.Ecb=g;d=(function(){function a(a,b,c,d,k,h){this.BI=128;this.Dc=a;this.me=b.offset;this.Fo=b.sizes;this.WH=this.OO=this.th=this.uIa=this.Fea=void 0;this.ggb=c;this.Mca=d && d.Fh;this.EIa=k;this.Me=Math.min(this.Dc.length,this.Fo.length);this.Tfb=this.rmb();this.Nl.Wp.length !== this.Fo.length && f.error("Mis-matched stream duration (" + this.Nl.Wp.length + "," + this.Fo.length + ") for movie id " + h);this.Nl.o_ && !this.Mca && f.error("Mis-matched additional SAPs information for movie id " + h);}a.a5b=function(a,b){var c,d;b=b.S;c=b / 1E3;d=new DataView(a);a=Math.floor(a.byteLength / 16);return {S:b,Tk:d.getUint32(4) * c,offset:65536 * d.getUint32(8) + d.getUint16(12),sizes:h.u8a.rK(d,0,a,16),Zd:h.rca.from(Uint32Array,{length:a},function(a,b){return d.getUint16(16 * b + 14) * c;})};};Object.defineProperties(a.prototype,{I:{get:function(){return this.Dc.I;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{length:{get:function(){return this.Me;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Tk:{get:function(){return this.Dc.Tk;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Uia:{get:function(){return this.Dc.Uia;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.Dc.X;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return this.Dc.sa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{joa:{get:function(){return this.Dc.joa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{g4:{get:function(){return this.Tfb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{wa:{get:function(){return this.Dc.wa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.Dc.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Fi:{get:function(){return this.uIa || this.Xca();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{rL:{get:function(){return this.ggb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cJa:{get:function(){return this.Mca;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{YB:{get:function(){return this.EIa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nl:{get:function(){return this.Dc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{yM:{get:function(){return this.Fea || this.leb();},enumerable:!1,configurable:!0}});a.prototype.QSb=function(a){if(this.Fo)return this.Fo[a];f.error("sizesByIndex _sizes is undefined");return -1;};a.prototype.pj=function(a){return this.Dc.pj(a);};a.prototype.Via=function(a){return this.Dc.pj(a) + this.Dc.Zd(a);};a.prototype.Fh=function(a){if(this.OO !== a || void 0 === this.WH){if(0 === a)return this.me;if(this.OO === a - 1 && void 0 !== this.WH)(this.WH+=this.Fo[this.OO],++this.OO);else {for(var b=this.th || this.Wdb(),c=Math.floor(a / this.BI),d=c * this.BI,b=b[c];d < a;++d){b+=this.Fo[d];}this.OO=a;this.WH=b;}}return this.WH;};a.prototype.Zd=function(a){return this.Dc.Zd(a);};a.prototype.get=function(a){return new g(this,a);};a.prototype.dxb=function(a){var b,c,d;l.assert(0 <= a);b=this.Nl.o_;c=this.Nl.dJa;d=this.Mca;if(!d || !b || !c || a >= b.length)return [];for(var f=[],k=a === b.length - 1?c.length:b[a + 1],b=b[a];b < k;++b){f.push({Sn:c[b],jd:this.pj(a) + this.wa.mF(c[b]).da,offset:d[b]});}return f;};a.prototype.WRb=function(a){this.EIa=a;};a.prototype.sm=function(a,b,c){return this.Dc.sm(a,b,c);};a.prototype.r1=function(a,b,c){return this.Dc.r1(a,b,c);};a.prototype.Aha=function(a,b){return this.Dc.Aha(a,b);};a.prototype.omb=function(a,b,c,d,f){var k,h,l,m,g,q,r,v,u;k=!0;h=0;m=this.Dc.Wp;g=this.Fo;a=Math.floor(a * this.S / 1E3);q=Math.floor(c * this.S / 1E3);r=0;v=0;u=0;if(this.Dc.Pta && this.Dc.Ota)for(h=this.Dc.Pta;h <= this.Dc.Ota;++h){r+=m[h];v+=g[h];}if(v > b)k=!1;else for(;h < this.length && (!f || h < f);){l=g[h];c=m[h];if(v + l > b){for(;1 < h - u && v + l > b && (r - m[u] >= q || v - g[u] > d);){r-=m[u];v-=g[u];++u;}if(r < a || v + l > b){k=!1;this.Dc.Pta=u;this.Dc.Ota=h;break;}}r+=c;v+=l;++h;}return k;};a.prototype.subarray=function(b,c){l.assert(void 0 === b || 0 <= b && b < this.length);l.assert(void 0 === c || c > b && c <= this.length);return new a(this.Dc.subarray(b,c),{offset:this.Fh(b),sizes:this.Fo.subarray(b,c)},this.rL && this.rL.subarray(b,c),this.cJa && ({Fh:this.cJa}));};a.prototype.forEach=function(a){for(var b=0;b < this.length;++b){a(this.get(b),b,this);}};a.prototype.map=function(a){for(var b=[],c=0;c < this.length;++c){b.push(a(this.get(c),c,this));}return b;};a.prototype.reduce=function(a,b){for(var c=0;c < this.length;++c){b=a(b,this.get(c),c,this);}return b;};a.prototype.toJSON=function(){return {length:this.length};};a.prototype.dump=function(){var b;f.trace("StreamFragments: " + this.length);for(var a=0;a < this.length;++a){b=this.get(a);f.trace("StreamFragments: " + a + ": [" + b.X + "-" + b.sa + "] @ " + b.offset + ", " + b.ba + " bytes");}};a.prototype.rmb=function(){var a,b,c,d,f;b=0;c=this.Dc.BVa;d=this.Dc.Wp;f=this.Fo;if(void 0 === c || c >= this.length){for(var k=0;k < this.length;++k){a=f[k] / d[k];a > b && (b=a,c=k);}void 0 === this.Dc.BVa && (this.Dc.BVa=c);}else b=f[c] / d[c];return Math.floor(b * this.S / 125);};a.prototype.Xca=function(){for(var a=0,b=0;b < this.length;++b){a+=this.Fo[b];}return this.uIa=a;};a.prototype.leb=function(){return this.Fea=new m.Wba(this.Dc.Wp,this.Fo,this.Dc.S);};a.prototype.Wdb=function(){var a;if(!this.th){a=k?new Float64Array(Math.ceil(this.length / this.BI)):Array(Math.ceil(this.length / this.BI));for(var b=this.me,c=0;c < a.length;++c){a[c]=b;for(var d=0;d < this.BI;++d){b+=this.Fo[c * this.BI + d];}}this.th=a;}return this.th;};return a;})();b.sEa=d;d.prototype.d2a=a.NS(d.prototype.pj);},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.ng();this.fd=1 === this.version?this.kv([{wk:"int64"},{modificationTime:"int64"},{S:"int32"},{duration:"int64"}]):this.kv([{wk:"int32"},{modificationTime:"int32"},{S:"int32"},{duration:"int32"}]);return !0;};b.cf="mvhd";b.Jc=!1;return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.cf="trak";b.Jc=!0;return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.ng();a=1 === this.version?[{wk:"int64"},{modificationTime:"int64"},{Ya:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{wk:"int32"},{modificationTime:"int32"},{Ya:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{Y6b:"int16"},{m4b:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.fd=this.kv(a);this.fd.C9b=! !(this.Zh & 1);this.fd.D9b=! !(this.Zh & 2);this.fd.E9b=! !(this.Zh & 4);this.fd.G9b=! !(this.Zh & 8);this.M.console.trace("Finished parsing track box");return !0;};b.cf="tkhd";b.Jc=!1;return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.ng();this.fd=this.kv(1 === this.version?[{LPa:"int64"}]:[{LPa:"int32"}]);return !0;};b.cf="mehd";b.Jc=!1;return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.fd=this.kv([{C6b:"int32"},{U9b:"int32"}]);return !0;};b.cf="pasp";b.Jc=!1;return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.fd=this.kv([{C4b:"int32"},{Am:"int32"},{klb:"int32"}]);return !0;};b.cf="btrt";b.Jc=!1;return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.M.xB();this.M.xB();for(this.gha=[];this.M.offset <= this.byteOffset + this.byteLength - 4;){this.gha.push(this.M.xB());}return !0;};b.cf="ftyp";b.Jc=!1;return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(81);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.ng();this.fd=this.kv([{x8b:"int32"},{oSa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.fd.oSa=h.kz(this.fd.oSa);return !0;};b.cf="hdlr";b.Jc=!1;return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c,h,l,m,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(96);l=a(235);m=a(171);d=a(28);f=a(97);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.ng();this.Zo=this.M.Ub();return !0;};b.prototype.bK=function(a){var b;b=Object.keys(this.$c);b.length && (b=b[0],this.$c[b].length && (b=this.$c[b][0],b instanceof m["default"]?this.wa=new l.T(b.H1,b.l0a):b instanceof f["default"] && (b=b.$c[h.kaa]) && b.length && (b=b[0].fd,1E3 !== b.G0 && 1001 !== b.G0 || 0 !== b.ppa % 1E3?this.M.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + b.ppa + "/" + b.G0):this.wa=new l.T(b.G0,b.ppa)),this.wa && (a.wa=this.wa)));return !0;};b.prototype.t_a=function(a){void 0 !== this.$c[a] && 0 !== this.$c[a].length && (this.rb.fr(this.Zo - 1,this.byteOffset + 12),a=this.$c[a][0],this.El(a.byteLength,a.byteOffset));};b.cf="stsd";b.Jc=!0;return b;})(d.rg);b["default"]=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.Owb=this.M.mg(2);this.Ulb=this.M.mg(5);this.Vlb=this.M.mg(3);this.Zib=this.M.mg(3);this.M.mg(1);this.M.mg(5);this.M.mg(5);return !0;};b.cf="dac3";return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var b;this.iJb=this.M.Ih() & 7;this.WTb=[];for(var a=0;a < this.iJb;a++){b={Owb:this.M.mg(2),Ulb:this.M.mg(5),Vlb:this.M.mg(5),Zib:this.M.mg(3),$6b:this.M.mg(1),hJb:this.M.mg(4)};0 < b.hJb?b.M4b=this.M.mg(9):this.M.mg(1);this.WTb.push(b);}return !0;};b.cf="dec3";return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(28);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.ng();this.q0a=this.M.xB();h.ma && this.M.console.trace("SchemeTypeBoxTranslator: " + this.q0a);"cenc" === this.q0a && (this.M.offset-=4,h.ma && this.M.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.M.offset),this.rb.k5a("piff"));this.M.Ub();return !0;};b.cf="schm";b.Jc=!1;return b;})(h.rg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a;this.M.Nd();this.W5a=this.M.Nd();this.M.Nd();this.M.Nd();this.M.Nd();this.V1a=this.rea(this.M.Nd() & 31);this.rea(this.M.Nd());this.I5=this.V1a.length?this.V1a[0][0]:this.W5a;this.OHa=this.M.offset;this.startOffset + this.length < this.M.offset && (100 === this.I5 || 110 === this.I5 || 122 === this.I5 || 144 === this.I5) && (this.M.Nd(),this.M.Nd(),this.rea(this.M.Nd()));a=this.startOffset + this.length - this.OHa;0 < a && this.El(a,this.OHa);return !0;};b.prototype.rea=function(a){var d;for(var b=[],c=0;c < a;++c){d=this.M.Ih();b.push(this.M.O5(d));}return b;};b.cf="avcC";b.Jc=!1;return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.bK=function(){var a;a=this.rA("esds");if(a=a && a.R8a.rA(5))this.H1=a.H1;return !0;};b.cf="mp4a";b.Jc=!0;return b;})(a(171)["default"]);b["default"]=d;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(237);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.ng();this.R8a=h.oxa.KZa(this.M);return !0;};b.cf="esds";b.Jc=!1;return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(96);a=a(28);h=d.kaa;a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){this.ng();this.fd=this.kv([{ppa:"int32"},{G0:"int16"}]);return !0;};b.cf=h;b.Jc=!1;return b;})(a.rg);b["default"]=a;},function(d,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.parse=function(){var a,b,c,d,h;this.ng();a=this.kv([{xta:"int32"},{rNa:"int32"},{C0:"int32"},{E0:"int32"},{D0:"int32"}]);b=a.xta;c=a.rNa;d=a.C0;h=a.D0;a=a.E0;this.fd={Ya:b,k5b:c,B0:d,l5b:h,m5b:a};this.xta=b;this.rNa=c;this.C0=d;this.E0=a;this.D0=h;return !0;};b.cf="trex";b.Jc=!1;return b;})(a(28).rg);b["default"]=d;},function(d,b,a){var c,h,l,m,f,k,g,v,r,u,B,A;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(884);l=a(241);m=a(143);f=a(235);k=a(28);d=a(401);g=a(402);v=a(404);r=a(144);u=a(234);B=a(96);A=a(405);a=(function(){function a(a,b,c,d,f,k){this.console=a;this.stream=b;this.Vs=d;this.Kjb=f;this.view=c instanceof ArrayBuffer?new DataView(c):new DataView(c.data,c.offset,c.length);this.config=k || ({});this.FBb=r.fyb();}a.path=function(a,b){return b.reduce(function(a,b){return a && a.$c[b] && a.$c[b][0];},a);};a.hzb=function(a){return a && a.gha && -1 !== a.gha.indexOf("mcl0")?"mcl0":void 0;};a.Tvb=function(a,b){var c;m.assert("mcl0" === a,"Unsupported McClearen brand");c=b.$;a=c.Zd;b=new f.T(120,1).Ge(c.S).xb;for(var d=0,c=c.Tk;d < a.length && c < b;){c+=a[d++];}return d;};a.prototype.parse=function(a){var b;b=this.pQb();if(!b.done){if(b.EWa)return {mB:!1,Ljb:b.EWa};this.console.error("Scan error: " + b.error);return {mB:!1,parseError:b.error || "unknown mp4 scan error"};}b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + b.offset);this.view=new DataView(b);a=this.RKb(a);return a.done?this.uob():(this.console.error("Parse error: " + a.error),{mB:!1,parseError:a.error || "unknown mp4 parse error"});};a.prototype.xE=function(a){return k.rg.xE(this,a);};a.prototype.rA=function(a){return k.rg.rA(this,a);};a.prototype.pQb=function(){var b,d;b=new A.u9a(this.Vs,this.Kjb?[B.zX,B.yX]:[],this.config && this.config.s9b || ["moof",B.UAa],this.config && this.config.lYa);d=c.__assign(c.__assign({},this.config),{Ipa:!1});return new v.x8(a.Kra,b,this.view,this.console,d).parse();};a.prototype.RKb=function(a){var b,d,f;b=new A.Lwa(this.view.byteLength);d=Object.create(u.tL.$c);this.config && ((this.config.jYa || this.config.E3a || this.config.O6) && h(u.tL.Hra,d),this.config.Cta && h(u.tL.wVb,d),this.config.E3a && h(u.tL.F3a,d));f=c.__assign(c.__assign({},this.config),{Ipa:!0});this.Zg=new v.x8(d,b,this.view,this.console,f);a=this.Zg.parse(a);a.done && (this.$c=this.Zg.$c);return a;};a.prototype.uob=function(){var b,c,d,k,h,m;b={mB:!0};c=a.path(this,["moov"]);d=a.path(c,["trak","mdia","minf","stbl","stsd"]);if(this.config.jYa)if(d)(b.wa=d.wa,b.R8b=d.$c);else return {mB:!1,parseError:"Missing sample descriptions"};k=a.path(d,["encv","sinf","schi"]);k && (k=a.path(k,["tenc"]) || a.path(k,[B.vBa])) && (b.Fub={Z4b:k.pp,fna:k.fna,T6b:!1});if(k=a.path(c,["trak","mdia","mdhd"]))b.S=k.S;if(k=a.path(c,["mvex","trex"]))b.B0=k && k.fd.B0;b.B0 && b.S && (b.wa=new f.T(b.B0,b.S));if(k=a.path(this,["sidx"])){h=a.path(this,[B.zX]);h=h && h.$Gb;m=a.path(this,[B.yX]);m=m && m.Zi;b.$=k.$;b.rL=h;b.Zi=m;}if(h=this.$c.vmaf && this.$c.vmaf[0])b.YB=h.YB;if(this.config.WPb)if(c)(this.trim(c.byteOffset + c.byteLength),this.config.O6 && d && 1 < d.Zo && k && (b.Dh=this.O6(d,k)),void 0 === b.Dh && (c=this.Zg.V0?l.concat(this.Zg.xa()):this.view.buffer,b.Dh=[{Ag:0,data:c}]));else return {mB:!1,parseError:"Missing movie box"};b.mB=!0;b.k5=this.Zg.offset;return b;};a.prototype.trim=function(a){var b;b=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(a,this.view.byteLength));this.Zg.trim(a);this.view=new DataView(b);};a.prototype.O6=function(b,c){var d,f,k;d=Object.keys(b.$c);f=d.filter(function(a){return "encv" !== a;});if(!(2 > d.length || f.length === d.length || 0 === f.length)){d=a.path(this,["ftyp"]);k=a.hzb(d);if(k)return (d=[],this.Zg.BNb(),b.t_a("encv"),d.push({Ag:0,zk:!1,data:l.concat(this.Zg.xa())}),this.Zg.kMb(),b.t_a(f[0]),b=a.Tvb(k,c),d.push({Ag:b,zk:!0,data:l.concat(this.Zg.xa())}),d);}};a.Kra={};return a;})();b.Zy=a;a.Kra[B.laa]=d["default"];a.Kra[B.maa]=g["default"];},function(d){d.exports=function a(c,d){var h;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,d);Object.getOwnPropertyNames(c).forEach(function(a){h=Object.getOwnPropertyDescriptor(c,a);void 0 !== h && Object.defineProperty(d,a,h);});};},function(d,b,a){var c,h,l,m,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);h=a(143);l=a(241);m=a(81);d=a(886);f=(function(){function a(a){a?(this.Zn=a.Zn.slice(),this.gr=a.gr.slice(),this.Fh=a.Fh.slice(),this.trim=a.trim):(this.Zn=[],this.gr=[],this.Fh=[]);}Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.Zn.length && 0 === this.gr.length && 0 === this.Fh.length;},enumerable:!0,configurable:!0}});return a;})();d=(function(a){function b(b,c,d){b=a.call(this,b,c,d) || this;b.fOa=[];b.Kd=new f();return b;}c.__extends(b,a);b.nkb=function(a,b){if(b.offset + b.size <= a.byteLength)switch(b.size){case 1:a.setUint8(b.offset,b.value);break;case 2:b.LU?a.setInt16(b.offset,b.value):a.setUint16(b.offset,b.value);break;case 4:b.LU?a.setInt32(b.offset,b.value):a.setUint32(b.offset,b.value);break;case 8:h.assert(!b.LU);a.setUint32(b.offset,Math.floor(b.value / 4294967296));a.setUint32(b.offset + 4,b.value & 4294967295);break;default:h.assert(!1);}};Object.defineProperties(b.prototype,{V0:{get:function(){return !this.Kd.empty;},enumerable:!0,configurable:!0}});b.prototype.U7=function(a,b){this.Kd.gr.push({offset:void 0 !== b?b:this.offset,value:a,size:1});void 0 === b && (this.offset+=1);};b.prototype.$Xb=function(a){this.Kd.gr.push({offset:!1,value:a,size:2,LU:!1});};b.prototype.fr=function(a,b){this.Kd.gr.push({offset:void 0 !== b?b:this.offset,value:a,size:4,LU:!1});void 0 === b && (this.offset+=4);};b.prototype.aYb=function(a,b){this.Kd.gr.push({offset:void 0 !== b?b:this.offset,value:a,size:8,LU:!1});void 0 === b && (this.offset+=8);};b.prototype.k5a=function(a){this.fr(m.bGa(a));};b.prototype.qua=function(a,b){this.Kd.Fh.push({offset:this.offset,Mo:a,value:b});this.offset+=4;};b.prototype.El=function(a,b,c){this.Kd.Zn.push({offset:b,remove:a,ob:c});};b.prototype.eU=function(a,b,c,d){this.Kd.Zn.push({offset:c,remove:a,replace:b,ob:d});};b.prototype.trim=function(a){this.Kd.trim=a;};b.prototype.BNb=function(){this.fOa.push(new f(this.Kd));};b.prototype.kMb=function(){this.Kd=this.fOa.pop() || new f();};b.prototype.xa=function(){var a,c,d,f,k,h,l;a=this;if(0 === this.Kd.Zn.length && 0 === this.Kd.gr.length && 0 === this.Kd.Fh.length)return [void 0 === this.Kd.trim?this.view.buffer:this.view.buffer.slice(0,this.Kd.trim)];this.Kd.Zn.sort(function(a,b){return a.offset - b.offset;});this.Kd.gr.sort(function(a,b){return a.offset - b.offset;});this.LPb();c=this.Nvb();d=this.view.buffer.slice(0,c);f=new DataView(d);this.Kd.gr.forEach(b.nkb.bind(void 0,f));this.eWb(f);this.dWb(f);k=[];h=void 0 !== this.Kd.trim?Math.min(this.Kd.trim,this.view.byteLength):this.view.byteLength;l=0;this.Kd.Zn.filter(function(a){return a.offset <= h;}).forEach(function(b){b.offset > l && (k.push(f.buffer.slice(l,b.offset)),b.offset > f.byteLength && f !== a.view && (f=a.view,k.push(f.buffer.slice(c,b.offset))));b.replace && k.push(b.replace);l=b.offset + b.remove;});l < c && k.push(d.slice(l));l < h && k.push(this.view.buffer.slice(Math.max(d.byteLength,l),h));return k;};b.prototype.Nvb=function(){var a,b,c;a=[];b=this.Kd.gr[this.Kd.gr.length - 1];c=this.Kd.Fh[this.Kd.Fh.length - 1];b && a.push(b.offset + b.size);c && a.push(c.offset + 4);this.Kd.Zn.filter(function(a){return a.ob;}).forEach(function(b){return a.push(b.ob.byteOffset + 4);});b=Math.max.apply(void 0,a);return void 0 !== this.Kd.trim?Math.min(b,this.Kd.trim):b;};b.prototype.LPb=function(){this.Kd.Zn=this.Kd.Zn.reduce(function(a,b){var c,d;if(0 === a.length)return (a.push(b),a);c=a[a.length - 1];d=c.offset + c.remove;b.offset >= d?a.push(b):b.offset + b.remove > d && (h.assert(c.ob === b.ob),c.remove+=b.offset + b.remove - d,b.replace && (c.replace=c.replace?l.concat(c.replace,b.replace):b.replace));return a;},[]);};b.prototype.eWb=function(a){var b;b=this;this.Kd.Fh.forEach(function(c){var d,f,k,h;d=a;f=c.offset;b.Kd.Zn.some(function(a){return a.offset <= c.offset && a.replace && a.offset + a.replace.byteLength >= c.offset + 4?(d=new DataView(a.replace),f=c.offset - a.offset,!0):!1;});k=c.Mo + (void 0 !== c.value?c.value:d.getInt32(f));h=b.Kd.Zn.reduce(function(a,b){return b.offset > c.Mo && b.offset < k?a + (b.remove - (b.replace?b.replace.byteLength:0)):a;},0);d.setInt32(f,k - c.Mo - h);});};b.prototype.dWb=function(a){this.Kd.Zn.forEach(function(b){var c;c=(b.remove || 0) - (b.replace?b.replace.byteLength:0);if(0 !== c)for(b=b.ob;b;){a.setUint32(b.byteOffset,a.getUint32(b.byteOffset) - c);b=b.parent;}});};return b;})(d.fdb);b.edb=d;},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(144);a(144);h=a(81);d=(function(){function a(a,b,c){this.view=a;this.console=b;this.config=c;this.view=a;this.console=b;this.nF=this.qQ=this.offset=0;}a.prototype.Zxb=function(a){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,a);};a.prototype.mg=function(a){for(;this.nF < a;){this.qQ=(this.qQ << 8) + this.Nd();this.nF+=8;}this.nF-=a;return this.qQ >>> this.nF & (1 << a) - 1;};a.prototype.Nd=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};a.prototype.Ih=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};a.prototype.Ub=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};a.prototype.Rqa=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};a.prototype.pLb=function(a,b){var c;c=this.view.getUint32(this.offset + (a?4:0),a);a=this.view.getUint32(this.offset + (a?0:4),a);b || 0 === (c & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * c + a;};a.prototype.Sj=function(a,b){a=this.pLb(a,b);this.offset+=8;return a;};a.prototype.rLb=function(){var a,b;a=this.view.getInt32(this.offset + 0,void 0);b=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < a?a:-a) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * a + b;};a.prototype.VNb=function(){var a;a=this.rLb();this.offset+=8;return a;};a.prototype.xB=function(){return h.kz(this.Ub());};a.prototype.Q5=function(){var b,c,d,h,l,g;function a(a,b){return ("000000" + a.toString(16)).slice(2 * -b);}b=this.Ub(!0);c=this.Ih(!0);d=this.Ih(!0);h=this.Ih();l=this.Ih();g=this.Ub();return [a(b,4),a(c,2),a(d,2),a(h,2),a(l,2) + a(g,4)].join("-");};a.prototype.PNb=function(){var a;a=this.view.byteOffset + this.offset;return this.view.buffer.slice(a,a + 16);};a.prototype.ONb=function(a){var b;b=[];if(0 === a)return "";a=a || Number.MAX_SAFE_INTEGER;for(var c=this.Nd();0 !== c && 0 <= --a;){b.push(c);c=this.Nd();}return String.fromCharCode.apply(null,b);};a.prototype.O5=function(a){var b,d;void 0 === b && (b=1);void 0 === d && (d=!0);return this.mj(this.config.$M && c.NAb || c.sK,1,a,b,d);};a.prototype.NNb=function(a){var b,d,h;d=10;h=!1;void 0 === d && (d=2);void 0 === h && (h=!0);void 0 === b && (b=!1);return this.mj(this.config.$M && c.LAb || c.u2,2,a,d,h,b);};a.prototype.N5=function(a,b,d){var f;void 0 === b && (b=4);void 0 === d && (d=!0);void 0 === f && (f=!1);return this.mj(this.config.$M && c.MAb || c.rK,4,a,b,d,f);};a.prototype.RNb=function(){for(var a=this.Nd(),b=a & 127;a & 128;){a=this.Nd();b=b << 7 | a & 127;}return b;};a.prototype.mj=function(a,b,c,d,h,l){void 0 === h && (h=!0);void 0 === l && (l=!1);a=a(this.view,this.offset,c,d,l);this.offset=h || !d || d === b?this.offset + c * (d || b):this.offset + b;return a;};return a;})();b.fdb=d;},function(d,b,a){var l,g,f,k;function c(a,b,c,d){g.call(this,a,b,c,d);}function h(a,b,c){g.call(this,a,b,c,void 0);}l=a(96);g=a(242).DC;f=a(403);k=a(81).bGa;c.prototype=Object.create(g.prototype);h.prototype=Object.create(c.prototype);h.prototype.hfb=function(a,b){return "string" === typeof b?f[b]:b?f.reset[a] || f.bTb[a]:f.bTb[a];};h.prototype.p_a=function(a,b,c){return this.xa(a,b,!1,c,void 0);};h.prototype.w_a=function(a,b,c){return this.xa(a,b,!0,c,void 0);};h.prototype.xa=function(a,b,c,d,f){var h,g,m,q,r,v,u,B,n,p,t,ea,Z,ta;function k(a){g=h[a];m=g.ht("traf");if(void 0 === m || void 0 === m.Mw)return !1;q=m.ht("tfdt");if(void 0 === q)return !1;r=m.ht("trun");return void 0 === r?!1:!0;}if(!this.parse().done)return !1;h=this.$c.moof;if(!h || 0 === h.length)return !1;if(void 0 !== a)for((v=a,a=0);a < h.length;++a){if(!k(a))return !1;if(r.Fe > v || c && r.Fe === v)break;v-=r.Fe;}else if((a=c?h.length - 1:0,!k(a)))return !1;if(c && a < h.length - 1){u=h[a + 1];this.Zg.El(this.i5b - u.startOffset,u.startOffset);}else !c && 0 < a && this.Zg.El(g.startOffset,0);u=m.ht("tfhd");if(void 0 === u)return !1;q=m.ht("tfdt");B=r.Fe;n=m.ht("saiz");p=m.ht("saio");t=m.ht(l.uBa);ea=m.ht("sbgp");if(!(!n && !p || n && p))return !1;Z=m.ht("sdtp");if(this.$c.mdat && a < this.$c.mdat.length)ta=this.$c.mdat[a];else if(a !== h.length - 1)return !1;void 0 === v && (v=c?r.Fe:0);if(r.xa(m,u,ta || this.Zg,b,v,m.Mw,c))r.V0 && (!c && q && q.xa(r.SSb),n && p && (n.xa(r.zM,c),p.xa(t?0:n.Gra,m.Mw,c)),t && t.xa(r.zM,c),Z && Z.xa(r.zM,B,c),ea && ea.xa(r.zM,c));else if(!c){if(a === h.length - 1)return !1;this.Zg.El(h[a + 1].startOffset - g.startOffset,g.startOffset);}else if(0 === r.zM)return !1;d && (b=this.hfb(this.stream.profile,f)) && r.jPb(m,u,ta,c,d,b);c=this.Zg.xa();d=c.reduce(function(a,b){return a + b.byteLength;},0);c={Sd:c,length:d,wF:this.Zg.view.byteLength};r.V0 && !ta && (c.$L=m.Mw + r.$L,c.Ts=r.Ts);return c;};d.exports={Ov:h,aL:function(a){var b,c;b=new ArrayBuffer(8);c=new DataView(b);c.setUint32(0,a + 8);c.setUint32(4,k("mdat"));return b;}};},function(d,b,a){var c,h;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);d=a(242);h=a(241);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.xa=function(a){var b,c,d,f;b=this;if(!this.parse().done)return !1;c=this.$c.moov;if(!c || 0 === c.length)return !1;d=c[0].rA("tenc");if(!d)return !1;f=new Uint8Array(d.pp);a.forEach(function(a){for(var c=a.from,k=!0,h=0;h < c.length;h++){if(f[h] !== c[h]){k=!1;break;}}k && b.Zg.eU(a.from.length,a.to,d.fna);});return h.concat(this.Zg.xa());};return b;})(d.DC);b.u$=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=b.sr || (b.sr={});d[d.AUDIO=0]="AUDIO";d[d.VIDEO=1]="VIDEO";},function(d,b,a){var c,h,l,g,f,k,q,v,r,u,B,A,y,n,J;Object.defineProperties(b,{__esModule:{value:!0}});b.Exa=void 0;d=a(0);c=a(16);h=d.__importStar(a(8));l=d.__importDefault(a(3));g=new l["default"].Console("ASEJS_ERROR_DIRECTOR","asejs");f=d.__importDefault(a(25));k=d.__importDefault(a(891));q=l["default"].Vm;v=q.zW;r={};u={};a=[f["default"].Kg.Pv,!1];d=[f["default"].Kg.Pv,!0];B=[f["default"].Kg.PC,!1];A=[f["default"].Kg.PC,!0];y=[f["default"].Kg.URL,!0];n=[-1,!1];J=[f["default"].Kg.PC,!1];r[v.jYb]=B;r[v.UNKNOWN_ERROR]=B;r[v.T0b]=B;r[v.a8a]=B;r[v.Cwa]=B;r[v.m8a]=B;r[v.e8a]=A;r[v.b7a]=A;r[v.Ova]=J;r[v.Mva]=J;r[v.c7a]=n;r[v.d7a]=J;r[v.e7a]=J;r[v.Z6a]=B;r[v.a7a]=B;r[v.Nva]=a;r[v.$6a]=B;r[v.Y6a]=J;r[v.dZb]=A;r[v.q9a]=J;r[v.lya]=J;r[v.kya]=J;r[v.hya]=J;r[v.iya]=J;r[v.p9a]=y;r[v.Z9]=A;r[v.b$]=y;r[v.a$]=d;r[v.oya]=A;r[v.s9a]=y;r[v.dX]=J;r[v.mya]=A;r[v.r9a]=A;r[v.h8a]=A;r[v.b8a]=B;r[v.ocb]=B;r[v.S7a]=B;r[v.T7a]=B;r[v.U7a]=B;r[v.V7a]=B;r[v.W7a]=B;r[v.X7a]=B;r[v.Y7a]=B;r[v.Z7a]=B;r[v.$7a]=B;r[v.c8a]=B;r[v.d8a]=B;r[v.f8a]=B;r[v.g8a]=B;r[v.i8a]=B;r[v.j8a]=B;r[v.k8a]=B;r[v.l8a]=B;r[v.n8a]=B;r[v.o8a]=B;r[v.ncb]=J;r[v.TIMEOUT]=a;u[v.Ova]=!0;u[v.lya]=!0;u[v.kya]=!0;u[v.iya]=!0;u[v.Cwa]=!0;a=(function(){var I40;I40=2;for(;I40 !== 12;){switch(I40){case 6:a.prototype.Kk=function(){var X40,a,b,c;X40=2;for(;X40 !== 4;){switch(X40){case 2:var d94="m";d94+="s";var b94="Setting ";b94+="under";b94+="flow timeo";b94+="ut in ";var P94="de";P94+="fa";P94+="u";P94+="lt";(a=this,b=this.config,c=b.c4);this.TK=Math.max(l[P94].time.aa(),this.TK);b.w4a && !this.vV && (g.info(b94 + c + d94),this.vV=setTimeout(function(){var Y40;Y40=2;for(;Y40 !== 4;){switch(Y40){case 2:var e34="def";e34+="aul";e34+="t";var y34="Forcing p";y34+="ermanent net";y34+="work fail";y34+="u";y34+="re after ";var g34="ms, s";g34+="ince und";g34+="erflow with ";g34+="n";g34+="o success";a000.W24(4);g.info(a000.r24(g34,y34,c));a.vV=void 0;a.wl.Uq(f[e34].Kg.Pv,!0);Y40=4;break;}}},c));X40=4;break;}}};a.prototype.ILa=function(){var Z40;Z40=2;for(;Z40 !== 1;){switch(Z40){case 2:var D34="Clea";D34+="red underflow time";D34+="out";this.vV && (clearTimeout(this.vV),this.vV=void 0,g.info(D34));Z40=1;break;}}};return a;break;case 2:a.prototype.Tb=function(){var K40;K40=2;for(;K40 !== 1;){switch(K40){case 2:this.ig.clear();K40=1;break;case 4:this.ig.clear();K40=2;break;K40=1;break;}}};a.prototype.bG=function(a){var L40;L40=2;for(;L40 !== 1;){switch(L40){case 2:this.L6=a;L40=1;break;}}};a.prototype.Uq=function(a,b,c,d){var M40,p,D,I,k,l,m,v,y,A;M40=2;for(;M40 !== 17;){switch(M40){case 18:var V34="Unma";V34+="pped failure code in JSASE error direc";V34+="tor ";V34+=": ";a000.L24(1);g.error(a000.Y24(c,V34));M40=17;break;case 19:return;break;case 13:(p=A[0],D=A[1]);v.Os?h.forEach(l,function(h,l){var N40;N40=2;for(;N40 !== 5;){switch(N40){case 2:var u34="e";u34+="r";u34+="r";u34+="o";u34+="r";A === J || A === B?k.xqa.cNb({url:void 0 !== a.url?a.url:h[0],Zb:l},{hJa:l,uV:A,ME:b,zg:c,aPa:m,si:d}):h.some(function(a){var O40;O40=2;for(;O40 !== 5;){switch(O40){case 2:var O34="def";O34+="au";O34+="lt";y.Uq(p,D,a);return p === f[O34].Kg.PC;break;}}});!k.L6 || 0 !== b && void 0 !== b || (h=void 0 !== a.url?a.url:h[0]) && k.L6.$ra(u34,h);N40=5;break;}}}):h.forEach(l,function(c,d){var P40;P40=2;for(;P40 !== 5;){switch(P40){case 1:var p34="e";p34+="r";p34+="r";p34+="or";(c.some(function(a){var Q40;Q40=2;for(;Q40 !== 5;){switch(Q40){case 2:var l34="de";l34+="f";l34+="au";l34+="lt";y.Uq(p,D,a);return p === f[l34].Kg.PC;break;}}}),!k.L6 || 0 !== b && void 0 !== b || (c=void 0 !== a.url?a.url:c[0]) && k.L6.$ra(p34,c));P40=5;break;case 2:P40=A !== J || k.nPb(d)?1:5;break;}}});M40=17;break;case 8:M40=A !== n?7:17;break;case 7:M40=void 0 !== a.url?6:11;break;case 6:I=y.P0a(a.url);M40=14;break;case 20:var T34="Invalid affect";T34+="ed fo";T34+="r network";T34+=" failure";g.error(T34);M40=19;break;case 10:l=y.dRb(a.host,a.port);M40=13;break;case 5:M40=c && h.isArray(r[c])?4:18;break;case 2:var n34=" : cri";n34+="tical error cou";n34+="nt = ";var t34=" ";t34+="o";t34+="n";t34+=" ";var F34="F";F34+="ail";F34+="u";F34+="re";F34+=" ";(k=this,l=q.zW.name,m=c?l[c]:void 0,l={},v=this.config,y=this.wl);g.warn(F34 + m + t34 + JSON.stringify(a) + n34 + this.Vr);M40=5;break;case 14:I && (l[I]=[a.url]);M40=13;break;case 11:M40=void 0 !== a.host && void 0 !== a.port?10:20;break;case 4:var s34="cr";s34+="iticalN";s34+="etworkE";s34+="rror";var v34="cri";v34+="t";v34+="ica";v34+="lNetworkErr";v34+="or";A=r[c];this.Ix={ME:b,zg:c,aPa:m,si:d};u[c] && (++this.Vr,this.events.emit(v34,{type:s34,zg:c}));M40=8;break;}}};a.prototype.nPb=function(a){var R40,b,c,d;R40=2;for(;R40 !== 7;){switch(R40){case 2:var Q34="def";Q34+="a";Q34+="ul";Q34+="t";(b=l[Q34].time.aa(),c=this.config,d=this.mta[a]);R40=1;break;case 5:R40=d.pi < this.TK?4:3;break;case 4:(d.pi=b,d.count=1);R40=7;break;case 9:return d.ry=!0;break;case 3:R40=!(d.pi >= b - c.h7 || d.ry || (d.pi=b,++d.count,d.count < c.h4))?9:7;break;case 8:this.mta[a]={pi:b,count:1};R40=7;break;case 1:R40=d?5:8;break;}}};I40=3;break;case 9:a.prototype.c6=function(){var U40;U40=2;for(;U40 !== 1;){switch(U40){case 2:this.eM || (this.wl.c6(),this.mta={},this.zq());U40=1;break;}}};a.prototype.x7=function(a){var V40,b;V40=2;for(;V40 !== 9;){switch(V40){case 3:var R34="upd";R34+="atingLast";R34+="SuccessEvent";var q34="updatingLastSu";q34+="cce";q34+="ssEve";q34+="nt";this.events.emit(q34,{type:R34});V40=9;break;case 2:var I34="d";I34+="efaul";I34+="t";b=this.config;this.TK=Math.max(a.timestamp || l[I34].time.aa(),this.TK);this.ILa();b.Os && this.xqa.x7(a);V40=3;break;}}};a.prototype.vpa=function(){var W40;W40=2;for(;W40 !== 1;){switch(W40){case 2:this.Vr=0;W40=1;break;case 4:this.Vr=2;W40=8;break;W40=1;break;}}};I40=6;break;case 3:a.prototype.nBb=function(a){var S40,b,c,d,f,k,h,m;S40=2;for(;S40 !== 8;){switch(S40){case 3:var Z34="temporaryN";Z34+="e";Z34+="tworkError";var o34="tempor";o34+="aryNetwor";o34+="k";o34+="Err";o34+="or";a || this.events.emit(o34,{type:Z34,errorCode:f,httpCode:k,nativeCode:h});d?(this.eM && (clearTimeout(this.eM),this.eM=void 0),this.ILa(),this.xqa.reset(),this.uBb({QDb:a,AKb:f,BKb:k,CKb:h})):this.eM || (this.eM=setTimeout(function(){var T40;T40=2;for(;T40 !== 5;){switch(T40){case 2:b.eM=void 0;b.c6();T40=5;break;}}},m.Xoa));S40=8;break;case 2:var k34=" l";k34+="as";k34+="t";k34+=" success w";k34+="as ";var A34="Net";A34+="work h";A34+="as fai";A34+="le";A34+="d ";var f34="te";f34+="mporar";f34+="ily";var i34="pe";i34+="rm";i34+="anently";var x34=" ";x34+="m";x34+="s";x34+=" ago";var C34="d";C34+="e";C34+="fau";C34+="lt";(b=this,c=l[C34].time.aa() - this.TK,d=a,m=this.config);a000.L24(5);g.warn(a000.r24(c,x34,a?i34:f34,A34,k34));!a && c > m.Woa && (d=!0);this.Ix && (f=this.Ix.zg,k=this.Ix.ME,h=this.Ix.si);S40=3;break;}}};I40=9;break;}}function a(a,b,d,f){var J40;J40=2;for(;J40 !== 10;){switch(J40){case 3:var c34="1S";c34+="IYb";c34+="Z";c34+="rNJCp9";this.events=new c.EventEmitter();this.ig=new c.sg();c34;J40=7;break;case 7:var K34="d";K34+="ef";K34+="ault";var H34="ne";H34+="tworkF";H34+="ailed";r[v.hya]=b.gCb?A:J;this.ig.addListener(this.wl,H34,this.nBb.bind(this));this.TK=l[K34].time.aa();this.Vr=0;J40=12;break;case 12:var r34="d";r34+="e";r34+="fault";this.mta={};this.xqa=new k[r34](a,f,b);J40=10;break;case 2:this.wl=a;this.config=b;this.uBb=d;this.zq=f;J40=3;break;}}}})();b.Exa=a;},function(d,b,a){var h,l,g;function c(a,b,c){this.jP=a;this.iD=0 === Math.floor(1E6 * Math.random()) % c.GF;this.groupId=1;this.config=c;this.lx={};this.vB={};this.zq=b;}h=a(8);l=a(3)["default"];new l.Console("ASEJS_PROBE_MANAGER","asejs");g=a(892).cva;c.prototype.constructor=c;c.prototype.cNb=function(a,b){var c,d,f,k,g,m,y,n,J,p,t;c=this.jP;d=a.Zb;f=c.p2a(a.url);k=c.T3(a.url);g=this.config;m=l.time.aa();n=b;J=[];p=f.Hn[0];t=!1;y=this.lx[d];if(!y)y=this.lx[d]={count:0,pi:m,ry:!1,error:b,jsa:[],zqa:{}};else if(y.pi >= m - g.h7)return;y.ry || (p && k.id === p.id && (a.isPrimary=!0),y.pi=m,y.ry=!1,y.error=b,++y.count,f && f.He && 0 !== f.He.length && (h.forEach(f.He,function(b){var c,f,k;c=b.Nc.id;f=c + "-" + d;k=this.vB[f];if(void 0 === k || void 0 === k.H5)(k && k.co && clearTimeout(k.co),b=this.JMa(b.url,a,c),this.vB[f]={ja:!1,count:0,H5:b.Dk()},J.push(b.Dk()),t=!0);-1 === y.jsa.indexOf(c) && y.jsa.push(c);},this),this.iD && 0 < J.length && (f={type:"logdata",target:"endplay",fields:{}},b=n,n={ts:l.time.aa(),es:b.hJa,fc:b.zg,fn:b.aPa,nc:b.si,pb:J,gid:this.groupId},b.ME && (n.hc=b.ME),f.fields.errpb={type:"array",value:n,adjust:["ts"]},c.Em(f)),t && this.groupId++));};c.prototype.JMa=function(a,b,c){var d,f,k;d=this.jP.T3(b.url);d && d.kb && d.kb.ss && d.kb.ss.Ca || Math.random(0,1);d=new g(this);f=a.split("?");k="random=" + parseInt(1E7 * Math.random(),10);d.vKb(1 < f.length?a + "&" + k:a + "?" + k,b,c);return d;};c.prototype.dNb=function(a,b){var c,d,f,k,h,g,m,n;c=this.jP;d=this.config;f=b.Zb;k=this.lx[f];g=a.url;m=this.vB[a.Zb + "-" + f];if(k && (h=k.error,m)){m && m.co && clearTimeout(m.co);m.ja=!0;m.count=0;m.H5=void 0;k.zqa[a.Zb]=!0;(m=this.lx[a.Zb]) && !0 === m.ry && d.Gw && (c.T_a(a.Zb,m.error.uV[1]),this.iD && (m={type:"logdata",target:"endplay",fields:{}},m.fields.errst={type:"array",value:{ts:l.time.aa(),id:a.requestId,servid:b.Zb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Em(m)),this.lx[a.Zb]=void 0,this.zq());if(g !== b.url){n=this.vB[f + "-" + f];n && n.ja || (f=(f=c.T3(g)) && f.kb && f.kb.ss && f.kb.ss.Ca || Math.random(0,1) * d.d4,f=Math.min(f,d.d4),setTimeout((function(){var d;if(!(!1 !== k.ry || n && n.ja) && (k.ry=!0,c.Uq(h.uV[0],h.uV[1],b.url,h),this.iD)){d={type:"logdata",target:"endplay",fields:{}};d.fields.erep={type:"array",value:{ts:l.time.aa(),id:a.requestId,servid:b.Zb,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.Em(d);}}).bind(this),f));}this.iD && (m={type:"logdata",target:"endplay",fields:{}},m.fields.pbres={type:"array",value:{ts:l.time.aa(),id:a.requestId,result:1,servid:a.Zb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Em(m));}};c.prototype.aNb=function(a,b){var c,d,f,k,g,m,y,n,p,D;c=this.jP;d=parseInt(b.Zb,10);f=this.lx[d];k=parseInt(a.Zb,10);g=this.vB[k + "-" + d];m=0;p=this.config;if(g && f){g.ja=!1;g.H5=void 0;f.zqa[k]=!1;n=f.jsa;if(p.Gw && k === d && b.isPrimary){D=c.T3(b.url);D=D && D.kb && D.kb.ss && D.kb.ss.Ca || 300 * Math.random(0,1);D=D * Math.pow(2,g.count);D=Math.min(D,12E4);D=D + Math.random(0,1) * (1E4 > D?100:1E4);g.co=setTimeout((function(){var c;g.co=void 0;c=this.JMa(a.url,b,k);c.wRb(a.groupId);g.H5=c.Dk();}).bind(this),D);}++g.count;k === d && (m=0,n.forEach(function(a){!1 === f.zqa[a] && m++;}),n.length === m && f.count >= p.h4 && (y=f.error,f.ry=!0,h.forEach(c.p2a(b.url).He,function(a){var b;c.Uq(y.uV[0],y.uV[1],a.url,y);if(this.iD){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:l.time.aa(),id:-1,servid:a.Nc.id},adjust:["ts"]};c.Em(b);}},this)));this.iD && (d={type:"logdata",target:"endplay",fields:{}},d.fields.pbres={type:"array",value:{ts:l.time.aa(),id:a.requestId,result:0,servid:a.Zb,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.Em(d));}};c.prototype.x7=function(a){var b,c,d;b=a.url || a.mediaRequest.url;if(b){a=this.jP;b=a.P0a(b);c=this.lx[b];d=this.vB[b + "-" + b];c && c.ry && this.config.Gw && (a.T_a(c.error.hJa,!1),this.iD && (c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:l.time.aa(),id:-1,servid:b},adjust:["ts"]},a.Em(c)),this.lx[b]=void 0,d && d.co && clearTimeout(d.co));}};c.prototype.reset=function(){var a,b,c;a=this.vB;for(c in a){a.hasOwnProperty(c) && (b=a[c + "-" + c]) && b.co && clearTimeout(b.co);}this.vB={};this.lx={};};d.exports=c;},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cva=void 0;c=a(0);h=a(16);l=c.__importDefault(a(3))["default"].Nt;d=(function(a){function b(b){var c;c=a.call(this) || this;c.MHa=b;c.hZ=b.groupId;c.eg=new h.sg();c.eg.on(c,l.ie.hO,c.oP);c.eg.on(c,l.ie.GC,c.CI);return c;}c.__extends(b,a);b.prototype.vKb=function(a,b,c){l.prototype.open.call(this,a,b,c);};b.prototype.wRb=function(a){this.hZ=a;};Object.defineProperties(b.prototype,{groupId:{get:function(){return this.hZ;},enumerable:!1,configurable:!0}});b.prototype.dc=function(){this.eg && this.eg.clear();l.prototype.dc.call(this);};b.prototype.oP=function(a){this.MHa.dNb(a.probed,a.affected);this.dc();};b.prototype.CI=function(a){this.MHa.aNb(a.probed,a.affected);this.dc();};return b;})(l);b.cva=d;},function(d,b,a){var c,h,l,g,f,k,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.qya=void 0;c=a(0);h=a(141);l=a(407);g=a(17);f=c.__importDefault(a(3));d=a(94);k=a(410);q=a(5);v=a(121);a=(function(a){function b(b,c,d,f,k,h,l,g,m,q,r){var u;u=a.call(this,b) || this;u.Ec=b;u.G=c;u.H=d;u.Em=f;u.zA=h;u.n3=l;u.Ph=g;u.dIa=m;u.Bg=q;u.aHa=[void 0,void 0];u.Uea=[];u.aP=null !== r && void 0 !== r?r:{Wt:[Object.create(null),Object.create(null)]};k?u.UR=k:(u.Pg=v.jo.yf.Ur("headers","" + u.Ec.fa,!0,!1,{},u.H),u.Pg.$a());return u;}c.__extends(b,a);Object.defineProperties(b.prototype,{Wt:{get:function(){return this.aP.Wt;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{lz:{get:function(){return this.aP.lz;},set:function(a){this.aP.lz=a;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dI:{get:function(){return this.aP.dI;},set:function(a){this.aP.dI=a;},enumerable:!1,configurable:!0}});b.prototype.dc=function(){var a;a=this;this.Wt.forEach(function(b,c){for(var d in b){b[d].dc();a.lia(c,d);}});this.Pg && v.jo.yf.KJ(this.Pg);this.Pg=void 0;};b.prototype.Jj=function(a,b){return this.Wt[a][b];};b.prototype.F2=function(){return !(!this.lz || !this.lz.length);};b.prototype.Wga=function(){this.lz=void 0;};b.prototype.vM=function(a){this.lz=a;};b.prototype.Ita=function(){var a,b;if(!this.F2() || this.dI)return !1;for(h.Tl.ip(1);0 < this.lz.length;){a=this.lz.shift();b=this.Ec.ls(1,a);if(b && !this.DBb(a) && b.xs)return (this.dI=a,this.t7(b,{offset:0,BM:!0}));}return !1;};b.prototype.Zta=function(a,b){var c;c=this;b.forEach(function(b){var d;d=c.Jj(a,b.Da);d && !b.se && (d.stream.se?b.j0(d.stream):(d.AT || (d.AT=[]),d.AT.push(c.Ec)));});};b.prototype.bM=function(a,b,c){var d,f,h;d=this;h=this.Ec;g.je.forEach(function(f){var l,g,m,r,v;if(h.Mb(f) && (void 0 === c || f === c)){r=a[f];q.assert(r && h.getTrackById(r.Ya) === r);r=r.md;if(h.fj)d.G.warn("requestHeadersFromManifest, shutdown detected");else if(h.wl.YM(h.fa,r)){v=null !== (m=null === (g=null === (l=d.zA(f)) || void 0 === l?void 0:l.XE) || void 0 === g?void 0:g.U) && void 0 !== m?m:0;l=k.wja(r,v);void 0 === l && d.G.warn("Unable to find stream for bitrate " + v);l=r[l];(g=h.Jj(f,l.Da)) && g.stream.$?h.fWb(f,g):(f={offset:0,BM:!1,kA:1 === f,tu:!0,uL:!d.n3(h)},h.FMa(l,f,b));}else d.G.warn("requestHeadersFromManifest, unable to update urls");}});h.L2=!0;null === (f=this.Bg) || void 0 === f?void 0:f.call(this,h.sb).M_();};b.prototype.AG=function(a,b){var c,d,k,h;c=this.H;d=this.Jj(a.I,a.Da);if(d)return (d.stream.$ || d.BM && this.GLa(d),!1);d=this.Gfb;k=this.Hfb;if(void 0 !== c.Moa && void 0 !== d && void 0 !== k){h=f["default"].time.aa();if(h - d < c.Moa || h - k < c.Moa)return !1;}a=this.t7(a,{url:a.url,offset:0},void 0,void 0,b);this.Hfb=f["default"].time.aa();return a;};b.prototype.t7=function(a,b,d,f,k){var l,g,m,r,v;m=a.I;h.Tl.ip(m);r=a.Da;if(this.Zdb(r,! !b.tu))return (null === (l=this.dIa) || void 0 === l?void 0:l.call(this),!1);if(l=this.Jj(m,r))a=!1;else {l=c.__assign(c.__assign({},b),{ba:this.Leb(a)});r=! !l.kA;v=! !l.uL;this.UR?k=this.UR(m,! !l.tu,r,v,! !d):k || (k=this.Pg);q.assert(k);a.url && (this.zA(m).una=a.url);l=a=this.gda(a,k,l);if(!a.Yu())return (this.Ec.Hg("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);a=!0;}b.tu && f && (this.Ec.Dg[m]=l);null === (g=this.dIa) || void 0 === g?void 0:g.call(this);return a;};b.prototype.dr=function(){var a,b;a=this;b=[];this.Wt.forEach(function(c,d){var k;h.Tl.ip(d);for(var f in c){d=c[f];k=d.D7();1 === k?b.push(d):2 === k && a.Ec.Hg("swapUrl failure");}});return b;};b.prototype.Oj=function(a){var b,c;b=a.I;c=h.Tl.ip(b);this.Ec.fj?c.warn("header onrequestcomplete ignored, session shutdown:",a.toString()):(this.Em({type:"logdata",target:"startplay",fd:{usedNativeDataView:a.aXb}}),a.k5 > a.yKb && (this.aHa[b]=a.k5),a.BM && this.GLa(a),this.ofb(a),this.Gfb=f["default"].time.aa(),this.Ec.MA.emit("onHeaderRequestComplete",a));this.hs(a);};b.prototype.l_=function(a,b,c){var d;d=a.I;h.Tl.ip(d);d=this.Ec.ls(d,a.Da);if(b !== ! !a.zk)return !1;this.OIa(a);a.Sjb(d);this.CFa(a);this.Ec.MA.emit("onHeaderFromCache",{Aq:a,kwb:c});return !0;};b.prototype.RP=function(a,b){var c,d,f,k;c=[];d=this.Wt[a];for(f in d){k=d[f];k && !k.stream.$ && k.Dl === b && (this.lia(a,f),c.push({stream:k.stream,offset:k.offset,ba:k.ba,kA:k.kA,tu:k.tu,uL:k.uL,Lpa:k.Lpa}),k.dc());}return c;};b.prototype.h6=function(a){var b;b=this;a.forEach(function(a){b.t7(a.stream,a);});};b.prototype.OIa=function(a){this.Wt[a.I][a.Da]=a;};b.prototype.DBb=function(a){return ! !this.Jj(1,a);};b.prototype.ofb=function(a){var b,c,d,f,l;b=this.H;c=h.Tl.ip(a.I);d=a.stream.$;if(b.Xha){f=d.length;c.trace("fragment count:",f);for(var k=0;k < f;++k){l=d.get(k);c.trace("fragment: " + k + ", startPts: " + l.X + ", duration: " + l.duration + ", offset: " + l.offset);}}this.CFa(a);if(b.nB && b.nB.enabled && void 0 === d.YB && b.nB.simulatedFallback){f=d.length;b=[];for(k=0;k < f;++k){b[k]=Math.max(0,a.stream.tb + this.yhb(k));}d.WRb(b);}};b.prototype.CFa=function(a){var b,c;b=a.I;c=a.Da;h.Tl.ip(b);a.AT && (a.AT.forEach(function(d){(d=d.ls(b,c)) && d !== a.stream && !d.se && d.j0(a.stream);}),a.AT=void 0);this.Ec.lBb(a);};b.prototype.gda=function(a,b,c){var d,f;d=this;f=h.Tl.ip(a.I);a=new l.h8(a,this.H,b,c,this,!1,f);a.addListener("headerRequestCancelled",function(a){d.nfb(a.request);});a.$a(void 0);this.OIa(a);return a;};b.prototype.Zdb=function(a,b){return this.Ph && (a=this.Ph.KS(this.Ec.u,a)) && this.l_(a,!1,b)?!0:!1;};b.prototype.Leb=function(a){var b,c,d;b=a.Zs;c=a.N;d=this.H;return c.Qe.Sf?d.n1?d.n1:d.K2:d.E4a && b?b.offset + b.size:(a=this.aHa[a.I])?a + 128:2292 + 12 * Math.ceil(c.duration / 2E3);};b.prototype.nfb=function(a){this.lia(a.I,a.Da);};b.prototype.lia=function(a,b){delete this.Wt[a][b];};b.prototype.GLa=function(a){this.dI === a.Da && (this.dI=void 0);};b.prototype.yhb=function(a){var b;b=this.H.nB.fallbackBound;void 0 === this.Uea[a] && (this.Uea[a]=Math.floor(2 * Math.random() * b) - b);return this.Uea[a];};return b;})(d.Av);b.qya=a;},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.CDa=void 0;c=a(0);h=a(16);l=c.__importDefault(a(3))["default"].Promise;d=(function(a){function b(b,c,d,f){var k;k=a.call(this) || this;k.G=b;k.track=c;k.sn=!1;k.Ida=!1;k.ig=new h.sg();k.ig.on(c,"networkfailing",function(){k.emit("networkfailing");});k.ig.on(c,"error",function(){k.G.warn("requestQueue got error");k.emit("error");});if(d)(k.sn=!0,l.resolve().then(function(){return k.emit("created");}));else k.ig.on(c,"created",function(){k.sn=!0;k.emit("created");});k.Ida=f;return k;}c.__extends(b,a);Object.defineProperties(b.prototype,{m1:{get:function(){return this.track.m1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zg:{get:function(){return this.track.zg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{si:{get:function(){return this.track.si;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tR:{get:function(){return this.track.tR;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});b.prototype.$a=function(){var a,b;this.Ida || (null === (b=(a=this.track).$a) || void 0 === b?void 0:b.call(a),this.Ida=!0);};b.prototype.mp=function(){return this.track.mp();};b.prototype.Y5=function(){return this.track.Y5();};b.prototype.toString=function(){return this.track.toString();};b.prototype.toJSON=function(){return this.track;};b.prototype.pq=function(){this.ig.clear();};return b;})(h.EventEmitter);b.CDa=d;},function(d,b,a){var q,v,r,u,B,n,y;function c(a){var b,d,f;a=a.parent;b=!1;if(a && a.children){d={};d[n.Zk]=[];d[n.ak]=[];d[n.TEMPORARY]=[];f=a.children;f.forEach(function(a){a && d[a.Ce].push(a);});0 < d[n.Zk].length || (d[n.ak].length === f.length?a.Ce !== n.ak && (a.Ce=n.ak,B.error("PERM failing :",r["default"].Kg.name[a.rE] + " " + a.id),b=!0):(a.Ce === n.Zk && (a.Ce=n.TEMPORARY,B.error("TEMP failing :",r["default"].Kg.name[a.rE] + " " + a.id),b=!0),d[n.TEMPORARY].forEach(function(a){a.Ce=n.Zk;})),b && c(a));}}function h(a){var c;for(var b=[];a;a=a.parent){switch(a.rE){case r["default"].Kg.PC:c=a;b.unshift(c.id + "(" + c.name + ")");break;case r["default"].Kg.oza:b.unshift(a.id);break;case r["default"].Kg.URL:b.unshift("<url for " + a.stream.U + ">");}}return b.length?"/" + b.join("/"):"";}function l(a){var b;if((a=a.parent) && 0 < a.children.length && a.Ce !== n.Zk){b={};b[n.Zk]=[];b[n.ak]=[];b[n.TEMPORARY]=[];a.children.forEach(function(a){a && b[a.Ce].push(a);});0 < b[n.Zk].length && (a.Ce=n.Zk,l(a));}}function g(a){return a.Ce !== n.Zk;}function f(a){switch(a.Ce){case n.Zk:return "OK";case n.ak:return "FAILED PERMANENTLY";case n.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function k(a,b){if(a.Ce === n.TEMPORARY || a.Ce === n.ak && b)a.Ce=n.Zk;a.children && a.children.forEach(function(a){a && k(a,b);});}Object.defineProperties(b,{__esModule:{value:!0}});b.mX=void 0;q=a(0);v=q.__importStar(a(8));d=a(16);r=q.__importDefault(a(25));u=q.__importDefault(a(3));B=new u["default"].Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.Zk=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.ak=2]="PERMANENT";})(n || (n={}));(function(a){a[a.Vv=0]="STARTUP";a[a.Sbb=1]="REBUFFER";})(y || (y={}));a=(function(a){function b(b,c,d,f,k){var b50,h;b50=2;for(;b50 !== 27;){switch(b50){case 2:h=a.call(this) || this;h.mb=c;h.Uf=d;b50=4;break;case 4:h.config=f;h.xgb=k;b50=9;break;case 13:var L34="d";L34+="efau";L34+="l";L34+="t";var W34="de";W34+="fa";W34+="u";W34+="l";W34+="t";var Y34="ne";Y34+="twor";Y34+="k";h.yc={};h.Vx=[];h.I4=!1;h.Ln={id:Y34,rE:r[W34].Kg.Pv,Ce:n.Zk,bv:void 0,parent:void 0,children:h.Vx};h.rZ=null;h.oM=null;h.pM=r[L34].OC.Vv;b50=17;break;case 17:var B34="1";B34+="SI";B34+="YbZr";B34+="NJ";B34+="Cp9";h.Cw(b);B34;b50=15;break;case 9:h.gNb=y.Vv;h.As=void 0;h.Hn={};b50=6;break;case 15:return h;break;case 6:h.Xs={};h.He={};b50=13;break;}}}var a50;a50=2;for(;a50 !== 25;){switch(a50){case 2:q.__extends(b,a);b.prototype.tAb=function(){var c50;c50=2;for(;c50 !== 1;){switch(c50){case 2:return this.Vx[0].kb;break;}}};a50=5;break;case 5:b.prototype.Fka=function(){var d50;d50=2;for(;d50 !== 1;){switch(d50){case 2:return this.Vx;break;}}};a50=4;break;case 7:b.prototype.Cw=function(a){var i50,b;i50=2;for(;i50 !== 11;){switch(i50){case 2:var M34="d";M34+="ef";M34+="a";M34+="ul";M34+="t";b=this;a.locations.forEach(function(a){var j50,c,d,f,k;j50=2;for(;j50 !== 8;){switch(j50){case 1:j50=!b.Hn[c]?5:8;break;case 2:c=a.key;j50=1;break;case 5:var J34="d";J34+="ef";J34+="au";J34+="lt";(d=[],f=b.Uf.get(c),k=b.Ln);a={id:c,rE:r[J34].Kg.oza,Ce:n.Zk,kg:a.rank,level:a.level,weight:a.weight,bv:void 0,parent:k,children:d,Xs:d,yc:{},kb:f};b.Hn[a.id]=a;k.children.push(a);j50=8;break;}}});this.rZ=u[M34].time.aa();i50=4;break;case 4:this.Vx.sort(function(a,b){var k50;k50=2;for(;k50 !== 1;){switch(k50){case 2:return a.level - b.level || a.kg - b.kg;break;}}});a.servers.forEach(function(a){var l50,c,d,f;l50=2;for(;l50 !== 6;){switch(l50){case 2:c=a.id;l50=1;break;case 1:l50=!b.Xs[c]?5:6;break;case 5:d=b.Hn[a.key];l50=4;break;case 4:l50=d?3:6;break;case 3:var G34="de";G34+="f";G34+="a";G34+="ul";G34+="t";f=[];a={id:c,rE:r[G34].Kg.PC,Ce:n.Zk,bv:void 0,parent:d,children:f,He:f,name:a.name,type:a.type,kg:a.rank,location:d};b.Xs[a.id]=a;d.children.push(a);l50=6;break;}}});a.audio_tracks.forEach(function(a){var m50;m50=2;for(;m50 !== 1;){switch(m50){case 4:b.nZa(a);m50=7;break;m50=1;break;case 2:b.nZa(a);m50=1;break;}}});a.video_tracks.forEach(function(a){var n50;n50=2;for(;n50 !== 1;){switch(n50){case 2:b.nZa(a);n50=1;break;case 4:b.nZa(a);n50=6;break;n50=1;break;}}});a=this.Vx.filter(function(a){var o50,c;o50=2;for(;o50 !== 4;){switch(o50){case 2:c=a.Xs.every(function(a){var q50;q50=2;for(;q50 !== 1;){switch(q50){case 4:return 1 == a.He.length;break;q50=1;break;case 2:return 0 === a.He.length;break;}}});c && (a.Xs.forEach(function(a){var r50;r50=2;for(;r50 !== 1;){switch(r50){case 2:b.Xs[a.id]=void 0;r50=1;break;}}}),b.Hn[a.id]=void 0,a.parent=void 0,a.children.length=0,a.yc={});return !c;break;}}});a.forEach(function(a){var s50;s50=2;for(;s50 !== 1;){switch(s50){case 2:a.Xs.sort(function(a,b){var t50;t50=2;for(;t50 !== 1;){switch(t50){case 4:return a.kg * b.kg;break;t50=1;break;case 2:return a.kg - b.kg;break;}}});s50=1;break;}}});i50=14;break;case 14:this.Vx=a;this.Ln.children=a;this.dump();i50=11;break;}}};b.prototype.YM=function(a,b){var u50,h,l,c,d,f,k;u50=2;for(;u50 !== 19;){switch(u50){case 3:var z34="d";z34+="e";z34+="fault";var m34="d";m34+="ef";m34+="au";m34+="l";m34+="t";h=r[m34].bf.pC;d.lT && (h=r[z34].bf.oC);u50=8;break;case 13:l=this.oM;u50=12;break;case 6:u50=!this.oM?14:13;break;case 11:var N34="def";N34+="a";N34+="u";N34+="lt";return (this.Uq(r[N34].Kg.Pv,!1),!1);break;case 14:var X34="def";X34+="a";X34+="ul";X34+="t";return (this.Uq(r[X34].Kg.Pv,!1),!1);break;case 8:this.mb.location && f.Pd >= h && (a=this.Hn[this.mb.location]) && (a.kb=f);v.ab(this.oM) && (this.oM=this.iWb());u50=6;break;case 10:var l04="de";l04+="fau";l04+="lt";var u04="(em";u04+="pty st";u04+="rea";u04+="m";u04+=" list)";var O04="Did";O04+=" not find a URL for ANY str";O04+="eam...";var V04="n";V04+="etwo";V04+="r";V04+="kFailed";var D04="Network has fa";D04+="iled, not u";D04+="pdating stream selection";b.forEach(function(a,b){var v50,m;v50=2;for(;v50 !== 5;){switch(v50){case 2:var e04=" K";e04+="b";e04+="ps)";var y04=" ";y04+="(";var g04="]";g04+=" ";var d34="Failin";d34+="g";d34+=" ";d34+="s";d34+="tream [";m=a.id;l.some(function(b){var w50,k,c;w50=2;for(;w50 !== 8;){switch(w50){case 1:w50=!c?5:4;break;case 5:return !1;break;case 4:k=c.Hn[0];void 0 === a.F5 && (a.F5=k.id,a.wqa=c.yV[k.id][0].Nc.id);return c.yV[b.id].some(function(c){var x50,m;x50=2;for(;x50 !== 12;){switch(x50){case 2:x50=g(c.Nc)?1:5;break;case 1:return (c.Nc.Ce === n.TEMPORARY && (a.Ce=n.TEMPORARY),d.Os && a.Nc === c.Nc.id && c.Nc.bv && (a.bv=c.Nc.bv),!1);break;case 4:return !1;break;case 3:var U34="lo";U34+="cationfai";U34+="lover";var j34="s";j34+="erver";j34+="fa";j34+="ilover";var w34="p";w34+="er";w34+="fo";w34+="rmanc";w34+="e";var h34="d";h34+="e";h34+="fau";h34+="lt";var S34="de";S34+="fa";S34+="u";S34+="l";S34+="t";var E34="unkn";E34+="o";E34+="wn";m=E34;a.location !== b.id && (d.Os?a.ana=b.id === k.id:m=b !== l[0]?"" + r[S34].OC.o8:void 0 === a.location?"" + r[h34].OC.Vv:v.Y(a.oUa) || a.oUa === b.id?v.Y(a.qUa) || a.qUa === c.Nc.id?w34:j34:U34,a.location=b.id,a.Ina=b.level,a.Yq=m);a.url=c.url;a.Nc=c.Nc.id;x50=6;break;case 6:var b34="de";b34+="f";b34+="ault";var P34="defa";P34+="u";P34+="lt";var a34="d";a34+="efau";a34+="lt";a.YF=c.Nc.name;a.kb=d.dga?b.kb.Pd >= r[a34].bf.oC || f.Pd < h?b.kb:f:f.Pd === r[P34].bf.HAVE_NOTHING || b.kb.Pd >= r[b34].bf.oC?b.kb:f;return !0;break;case 5:x50=g(c)?4:3;break;}}});break;case 2:c=b.yc[m];w50=1;break;}}})?(a.JA=!1,a.Ce=void 0,a.Hu && ++k):a.Ce && a.Ce === n.TEMPORARY?c.Ln.Ce=n.TEMPORARY:a.JA || (B.warn(d34 + b + g04 + m + y04 + a.U + e04),a.Inb(),a.JA=!0);v50=5;break;}}});return g(this.Ln)?(B.warn(D04),this.I4=!0,this.emit(V04,this.Ln.Ce === n.ak),!1):k?!0:(B.warn(O04 + (b.length?"":u04)),this.Uq(r[l04].Kg.Pv,!0),!1);break;case 12:u50=!l.length?11:10;break;case 1:var T04="d";T04+="efaul";T04+="t";var p04="de";p04+="f";p04+="a";p04+="ult";u[p04].Sr && u[T04].Sr(a);u50=5;break;case 2:(c=this,d=this.config,f=this.mb.get(),k=0);u50=1;break;case 4:return !1;break;case 5:u50=g(this.Ln)?4:3;break;}}};b.prototype.dRb=function(a,b){var y50,c,d;y50=2;for(;y50 !== 4;){switch(y50){case 2:(c={},d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);y50=1;break;case 1:v.forEach(this.He,function(f,k){var z50,h,l,g,m;z50=2;for(;z50 !== 8;){switch(z50){case 2:f=f.parent?f.parent.id:"";z50=1;break;case 1:(h=c[f],l=k.match(d));z50=5;break;case 5:z50=l && 4 === l.length?4:8;break;case 4:var t04="8";t04+="0";var F04="4";F04+="4";F04+="3";(g="s" === l[1],m=l[2],l=l[3]);l.length || (l=g?F04:t04);v.te(m) && v.te(l) && m === a && l == b && (h?h.push(k):c[f]=[k]);z50=8;break;}}});return c;break;}}};b.prototype.Uq=function(a,b,d,k){var A50,B50,l,m,q;A50=2;for(;A50 !== 25;){switch(A50){case 7:return;break;case 17:A50=B50 === n.TEMPORARY?6:16;break;case 19:var n04="d";n04+="efau";n04+="l";n04+="t";k && (this.pM=r[n04].OC.Dbb,l.bv=k);this.dump();A50=25;break;case 15:A50=27;break;case 9:var I04=" ";I04+=":";I04+=" ";I04+="was";I04+=" ";var R04=" ";R04+="a";R04+="t";R04+=" ";var q04="de";q04+="f";q04+="au";q04+="l";q04+="t";var Q04=" failure";Q04+=" r";Q04+="eport";Q04+="ed fo";Q04+="r ";var s04="T";s04+="E";s04+="MP";var v04="P";v04+="E";v04+="R";v04+="M";B.warn((b?v04:s04) + Q04 + r[q04].Kg.name[a] + R04 + h(l) + I04 + f(l));A50=8;break;case 8:B50=l.Ce;A50=B50 === n.ak?7:17;break;case 6:var C04="d";C04+="e";C04+="fau";C04+="lt";var Z04="netw";Z04+="o";Z04+="r";Z04+="kFailed";var o04="E";o04+="mitting networkFa";o04+="iled,";o04+=" perman";o04+="ent =";l.Ce=q;c(l);this.I4=this.I4 || g(this.Ln);a=this.Ln.Ce;a > m && (B.warn(o04,a === n.ak),this.emit(Z04,a === n.ak));this.oM=null;this.pM=r[C04].OC.ERROR;A50=19;break;case 1:A50=l && l.parent && l.rE !== a?5:4;break;case 26:var x04="Unable";x04+=" to find failure ent";x04+="ity for URL";x04+=" ";a000.W24(1);B.warn(a000.Y24(d,x04));A50=25;break;case 5:l=l.parent;A50=1;break;case 4:A50=l?3:26;break;case 16:A50=B50 === n.Zk?6:15;break;case 3:A50=q !== l.Ce?9:25;break;case 27:var i04="Inv";i04+="a";i04+="lid failure sta";i04+="t";i04+="e";throw Error(i04);A50=6;break;case 2:var f04="d";f04+="e";f04+="faul";f04+="t";(l=a !== r[f04].Kg.Pv && d?this.He[d]:this.Ln,m=this.Ln.Ce,q=b?n.ak:n.TEMPORARY);A50=1;break;}}};b.prototype.T_a=function(a,b){var C50;C50=2;for(;C50 !== 3;){switch(C50){case 2:C50=(a=this.Xs[a])?1:5;break;case 1:(k(a,b),l(a));C50=5;break;case 7:(k(a,b),l(a));C50=9;break;C50=5;break;case 5:var A04="d";A04+="e";A04+="f";A04+="a";A04+="ult";this.oM=null;this.pM=r[A04].OC.Faa;C50=3;break;}}};b.prototype.c6=function(){var D50;D50=2;for(;D50 !== 1;){switch(D50){case 2:k(this.Ln,!1);D50=1;break;}}};b.prototype.Em=function(a){var E50,b;E50=2;for(;E50 !== 5;){switch(E50){case 2:null === (b=this.xgb) || void 0 === b?void 0:b.call(this,a);E50=5;break;}}};a50=20;break;case 4:b.prototype.uq=function(){var e50;e50=2;for(;e50 !== 1;){switch(e50){case 2:return g(this.Ln);break;}}};b.prototype.P0a=function(a){var f50;f50=2;for(;f50 !== 5;){switch(f50){case 2:f50=(a=this.He[a]) && a.parent?1:5;break;case 9:return a.parent.id;break;f50=5;break;case 1:return a.parent.id;break;}}};b.prototype.T3=function(a){var g50;g50=2;for(;g50 !== 5;){switch(g50){case 2:g50=(a=this.He[a]) && a.Nc?1:5;break;case 9:return a.Nc.location;break;g50=5;break;case 1:return a.Nc.location;break;}}};b.prototype.p2a=function(a){var h50;h50=2;for(;h50 !== 5;){switch(h50){case 1:return a.stream;break;case 3:h50=(a=this.He[a])?6:9;break;h50=(a=this.He[a])?1:5;break;case 2:h50=(a=this.He[a])?1:5;break;}}};a50=7;break;case 27:b.prototype.dump=function(){};return b;break;case 20:b.prototype.Kk=function(){var F50;F50=2;for(;F50 !== 1;){switch(F50){case 2:this.sPb(y.Sbb);F50=1;break;case 4:this.sPb(y.Sbb);F50=6;break;F50=1;break;}}};b.prototype.Tb=function(){var G50;G50=2;for(;G50 !== 1;){switch(G50){case 2:this.config.MFb && this.yLb();G50=1;break;}}};b.prototype.nZa=function(a){var H50,b;H50=2;for(;H50 !== 5;){switch(H50){case 2:b=this;a.streams.forEach(function(a){var I50,c,d,f;I50=2;for(;I50 !== 7;){switch(I50){case 1:I50=v.Y(d)?5:3;break;case 2:(c=a.downloadable_id,d=b.yc[c]);I50=1;break;case 5:var k04="no";k04+="ne";k04+="-";(f=a.content_profile,d={id:c,U:a.bitrate,tb:a.vmaf,type:a.type,profile:f,clear:0 === f.indexOf(k04),Hu:!0,He:[],yV:{},Hn:[]});I50=4;break;case 3:a.urls.forEach(function(a){var J50,k,f,c;J50=2;for(;J50 !== 14;){switch(J50){case 5:var c04="d";c04+="efau";c04+="l";c04+="t";(k=a.location,f={id:c,rE:r[c04].Kg.URL,Ce:n.Zk,bv:void 0,parent:a,children:[],url:c,Nc:a,stream:d});b.He[c]=f;a.children.push(f);J50=9;break;case 2:(c=a.url,f=b.He[c]);J50=1;break;case 9:d.He.push(f);0 === d.Hn.filter(function(a){var K50;K50=2;for(;K50 !== 1;){switch(K50){case 2:return a.id === k.id;break;}}}).length && d.Hn.push(k);k.yc[d.id]=d;(c=d.yV[k.id])?c.push(f):d.yV[k.id]=[f];J50=14;break;case 1:J50=v.Y(f) && (a=b.Xs[a.cdn_id])?5:14;break;}}});v.oe(d.yV,function(a){var L50;L50=2;for(;L50 !== 1;){switch(L50){case 2:a.sort(function(a,b){var M50;M50=2;for(;M50 !== 1;){switch(M50){case 4:return a.Nc.kg * b.Nc.kg;break;M50=1;break;case 2:return a.Nc.kg - b.Nc.kg;break;}}});L50=1;break;}}});d.Hn=d.Hn.sort(function(a,b){var N50;N50=2;for(;N50 !== 1;){switch(N50){case 2:return a.level - b.level || a.kg - b.kg;break;}}});I50=7;break;case 4:b.yc[d.id]=d;I50=3;break;}}});H50=5;break;}}};b.prototype.iWb=function(){var O50,a,b,c,d;O50=2;for(;O50 !== 13;){switch(O50){case 1:O50=0 === c.length?5:4;break;case 2:(a=this,b=this.config,c=this.Vx.filter(function(a){var P50;P50=2;for(;P50 !== 1;){switch(P50){case 4:return +g(a) || 5 === a.level;break;P50=1;break;case 2:return !g(a) && 0 !== a.level;break;}}}));O50=1;break;case 5:return null;break;case 4:var H04="defa";H04+="u";H04+="lt";d=u[H04].time.aa();O50=3;break;case 14:return c;break;case 3:O50=null === this.rZ || this.rZ + b.Hna < d?9:8;break;case 8:b=this.pM;c.sort(function(a,b){var R50;R50=2;for(;R50 !== 1;){switch(R50){case 2:return a.level - b.level || a.kg - b.kg;break;}}});this.As || v.ab(b) || (this.As=!0);O50=14;break;case 9:(c.forEach(function(b){var Q50;Q50=2;for(;Q50 !== 1;){switch(Q50){case 2:b.id !== a.mb.location && (b.kb=a.Uf.get(b.id));Q50=1;break;}}}),this.rZ=d);O50=8;break;}}};b.prototype.sPb=function(a){var S50,b;S50=2;for(;S50 !== 3;){switch(S50){case 1:this.As=!1;this.gNb=a;this.Vx.forEach(function(a){var T50;T50=2;for(;T50 !== 1;){switch(T50){case 2:var r04="d";r04+="ef";r04+="au";r04+="l";r04+="t";var K04="defa";K04+="u";K04+="lt";a.id !== b && a.kb && a.kb.Pd > r[K04].bf.pC && (a.kb.Pd=r[r04].bf.pC);T50=1;break;}}});S50=3;break;case 8:b=this.mb.location;S50=8;break;S50=1;break;case 2:b=this.mb.location;S50=1;break;}}};b.prototype.yLb=function(){var U50,a;U50=2;for(;U50 !== 5;){switch(U50){case 2:a=this;this.I4 || this.Vx.forEach(function(b){var V50;V50=2;for(;V50 !== 1;){switch(V50){case 2:var Y04="de";Y04+="f";Y04+="aul";Y04+="t";b.Ce === n.TEMPORARY && a.Uf.fail(b.id,u[Y04].time.aa());V50=1;break;}}});U50=5;break;}}};a50=27;break;}}})(d.EventEmitter);b.mX=a;},function(d,b,a){var c,h,l,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.SDa=void 0;d=a(0);c=a(174);h=a(175);l=d.__importDefault(a(25));g=a(21);a=(function(){function a(a,b){this.H=a;this.G=b;this.cea=this.Yda=this.$v=g.T.nb;this.tZ=this.sZ=void 0;this.kk=this.G.trace.bind(this.G);this.lpa=new f(a,b);}a.prototype.pU=function(a,b,c,d,f,k,h,m,n,p){var q,r,v,u,B,y,A,I;q=!1;a=a === l["default"].Ua.AUDIO && ! !b.xa && this.$hb(b.stream);r=g.T.nb;v=b.console;if(a){u=b.stream.wa;B=this.dfb(b.profile,u);y=this.efb(b.profile,u);A=b.$s + b.Qn;if(b.En)(q=new g.T(b.sa - A,1E3),(q=this.$v.add(q).rl(B)) || !h || this.Ddb(b,h) || (n=h.$s + h.Qn,b=new g.T(A - (b.sa - 1E3 * u.xb / u.S),1E3),n=new g.T(n - h.X,1E3),this.$v.Fa(b).add(n).Alb(y,B) && (q=!0)));else if(void 0 !== c){I=b.Qj;new g.T(A - b.X,1E3);h=this.$v.add(c.Fa(I)).Fa(this.lpa.Erb);if(I.add(u).ZE(c) || h.rl(B))(q=!0,I.add(u),h=h.Fa(u));B=y.Fa(g.T.Al.mF(2));h.R4(this.$v) && h.lessThan(B)?(q=a=!1,this.lpa.reset(),this.$v=g.T.nb,B=d.add(f),n(B),v.error("Unexpected seamless audio sync " + h.toString() + " at content pts " + b.Qb + " in stream " + b.stream.Da + " following " + k.Pb)):(B=d.add(h).add(f),B=this.lpa.round(b,m,B,q),n(B),h.R4(this.$v) && (this.Yda=g.T.max(this.Yda,h),this.cea=g.T.min(this.cea,h),p(this.Yda,this.cea),r=h.Fa(this.$v),this.$v=h));}}return {pU:a,Hia:q,Sfa:r};};a.prototype.$hb=function(a){void 0 === this.FP && (this.FP=h.ufa(this.H,a));return this.FP;};a.prototype.dfb=function(a,b){void 0 === this.sZ && ("object" === typeof this.H.jM && this.H.jM[a]?(a=new g.T(this.H.jM[a],1E3).Ge(b.S).add(new g.T(1,b.S)),this.sZ=g.T.min(b,a)):this.sZ=b);return this.sZ;};a.prototype.efb=function(a,b){var c;if(void 0 === this.tZ)if("object" === typeof this.H.kM && this.H.kM[a]){c=new g.T(-Math.floor(b.da / 2),b.S);a=new g.T(this.H.kM[a],1E3).Ge(b.S).Fa(new g.T(1,b.S));this.tZ=g.T.max(c,a);}else this.tZ=new g.T(-12,1E3);return this.tZ;};a.prototype.Ddb=function(a,b){return a.Qb <= b.Qb && a.Pb >= b.Qb && a.stream.track.equals(b.stream.track);};return a;})();b.SDa=a;f=(function(){function a(a,b){this.H=a;this.G=b;this.Ez=0;}Object.defineProperties(a.prototype,{Erb:{get:function(){return g.T.Al.mF(this.Ez);},enumerable:!1,configurable:!0}});a.prototype.round=function(a,b,c,d){this.H.Us || (a=this.Vdb(a,c,d),b=b.Fa(a),b.rl(g.T.Al.mF(2))?(c=c.Fa(g.T.Al),++this.Ez):b.lessThan(g.T.nb)?(c=c.add(g.T.Al),--this.Ez):0 < this.Ez && b.lessThan(g.T.Al)?(c=c.add(g.T.Al),--this.Ez):0 > this.Ez && b.greaterThan(g.T.Al) && (c=c.Fa(g.T.Al),++this.Ez));return c;};a.prototype.reset=function(){this.Ez=0;};a.prototype.Vdb=function(a,b,d){var f;f=a.yh;this.H.$i && a.stream.Cd && (f=f.Fa(a.stream.Cd));d && (f=f.add(a.stream.wa));return c.rp(f).add(c.rp(b));};return a;})();},function(d,b,a){var c,h,l,g,f,k,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.HAa=void 0;c=a(21);h=a(5);l=a(411);g=a(898);f=a(899);k=a(900);q=a(901);v=a(902);d=(function(){function a(a,b,c,d){this.config=a;this.I=b;this.Yb=c;this.console=d;}a.prototype.append=function(a,b){var d,f,k,l;f=b.endOfStream;k=b.r4;l=b.Zoa;void 0 === this.track?this.EK(a.stream):this.track !== a.stream.track && (h.assert(this.track.wa),h.assert(a.stream.track.wa),h.assert(1 === this.I || this.track.wa.equal(a.stream.track.wa)),this.track=a.stream.track);h.assert(void 0 !== this.lu);b={Sd:a,offset:null !== (d=a.K5) && void 0 !== d?d:c.T.nb};b=this.lu.reduce(function(a,b){return b.append(a,{endOfStream:f,r4:k,Zoa:l});},b);d=b.Sd;b=b.offset;d.xa && a.ei(d.xa);return b;};a.prototype.reset=function(){this.lu=this.track=void 0;};a.prototype.EK=function(a){var b,d;this.track=a.track;this.lu=[];if(0 === this.I){this.lu.push(new f.RDa(this.config,a.track,this.console));d=this.O_(a);d.equal(c.T.nb)?this.config.$i && a.Cd && this.h3(a.N.fa) && this.lu.push(new v.dza(this.config)):this.lu.push(new l.WX(d));this.config.q4 || (this.console.log("MediaSplicer: NegativePtsGuard: " + d.Bd() + ", " + ("" + (null === (b=a.Cd) || void 0 === b?void 0:b.Bd()))),this.lu.push(new k.XAa(this.config,a,this.console)));this.MDb() && (this.lu.push(new g.dBa(this.config,a,this.console)),this.ySb(a) && (h.assert(a.wa),this.lu.push(this.wob(a.Cd || c.T.nb,a.wa,d))));}};a.prototype.h3=function(a){return this.config.h3 || this.config.i3 && -1 !== this.config.i3.indexOf(a);};a.prototype.O_=function(a){return l.WX.O_(this.config,a.Cd,this.Yb,this.console);};a.prototype.MDb=function(){return !this.config.Us;};a.prototype.ySb=function(a){return this.config.GVb && this.config.$i && ! !a.Cd;};a.prototype.wob=function(a,b,c){return new q.dFa(a.Fa(c),b,this.console);};return a;})();b.HAa=d;},function(d,b,a){var h,l,g,f;function c(a){return a.toString() + " (nrdp: " + a.TF + "ms)";}Object.defineProperties(b,{__esModule:{value:!0}});b.dBa=void 0;h=a(21);l=a(174);g=a(20);f=a(5);d=(function(){function a(a,b,c){this.console=c;this.offset=h.T.nb;this.Cd=a.$i?b.Cd:void 0;f.assert(b.wa);this.wa=b.wa;}a.prototype.append=function(a){var b,c;b=a.Sd;c=a.offset;void 0 !== this.lUa && (f.assert(void 0 !== this.ina),b.yh.add(a.offset).equal(this.lUa)?(a=this.umb(b,c.add(this.offset)).da - this.ina,0 > a?this.offset=this.offset.add(h.T.Al):0 === a?this.offset.lessThan(h.T.nb) && (this.offset=this.offset.add(h.T.Al)):1 === a?this.offset.greaterThan(h.T.nb) && (this.offset=this.offset.Fa(h.T.Al)):this.offset=this.offset.Fa(h.T.Al)):this.offset=h.T.nb);this.ina=this.tmb(b,c.add(this.offset)).da;this.lUa=b.lm.add(c);return {Sd:b,offset:c.add(this.offset)};};a.prototype.umb=function(a,b){var d,f;a=this.eJa(a.yh);d=l.rp(a).add(l.rp(b));f=a.add(b).Fa(d);g.ma && this.console.trace("NrdpRounding: content start " + c(a) + ", timestamp offset: " + c(b) + ", start rounding error: " + l.rp(a).toString() + ", offset rounding error: " + l.rp(b).toString() + ", total error: " + d.toString() + ", expected nrdp value:" + f.Bd() + ", (" + a.TF + b.TF + "ms), last fragment end nrdp: " + this.ina);return f;};a.prototype.tmb=function(a,b){var d,f,k;d=this.wa;a=this.eJa(a.lm);f=l.rp(a.Fa(d)).add(l.rp(d)).add(l.rp(b));k=a.add(b).Fa(f);g.ma && this.console.trace("NrdpRounding: content end: start of last frame:" + c(a.Fa(d)) + ", frame duration: " + c(d) + ", offset: " + c(b) + ", timestamp rounding error: " + l.rp(a.Fa(d)).toString() + ", frame duration rouding error: " + l.rp(d).toString() + ", offset rounding error: " + l.rp(b).toString() + ", total rounding error: " + f.toString() + ", expected nrdp value: " + k.Bd() + ", (" + a.Fa(d).TF + d.TF + b.TF + "ms)");return k;};a.prototype.eJa=function(a){return this.Cd?a.Fa(this.Cd):a;};return a;})();b.dBa=d;},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.RDa=void 0;c=a(21);h=a(5);l=a(20);d=(function(){function a(a,b,d){this.config=a;this.console=d;this.gu=c.T.nb;h.assert(b.wa);this.wa=b.wa;a=b.md[0].profile;this.fT=this.lzb(a,this.wa);this.k4=this.gzb(a,this.wa);}a.prototype.append=function(a,b){var d,f,k;f=a.Sd;a=a.offset;k=b.r4;b=b.Zoa;!f.En || null !== (d=f.xa) && void 0 !== d && d.start?this.Qpa && (d=this.$Hb(f,this.Qpa),f.xa && this.Vfa(d)?(f.eR(1),this.gu=d):(this.gu=d.add(this.wa),this.lKa(this.gu) || (l.ma && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + f.Qj.Bd() + " error would be " + this.gu.Bd() + " (editing " + (f.xa?"":"not ") + "allowed)"),this.gu=c.T.nb)),this.Qpa=void 0):(h.assert(k,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),f.xa && (d=this.aIb(f,k,b),d.rl(this.fT) && f.Iia(1)));f.En && (h.assert(k,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),this.Qpa=k);h.assert(this.lKa(this.gu));this.mna=f.wi;return {Sd:f,offset:a.add(this.gu)};};a.prototype.aIb=function(a,b,c){var d;c?d=this.gu.add(a.wi.Fa(c)).Fa(this.wa):(d=a.wi.Fa(b),d=this.gu.add(d).Fa(this.wa));l.ma && this.console.trace("SeamlessAudio: fragment end: " + a.wi.Bd() + ", splice " + b.Bd() + ", next start " + (null === c || void 0 === c?void 0:c.Bd()) + ", error " + d.add(this.wa).Bd() + ", error with frame drop " + d.Bd() + ", is" + (this.Vfa(d)?"":" not") + " within bounds of [" + this.fT.Bd() + " and " + this.k4.Bd() + ")");return d;};a.prototype.$Hb=function(a,b){var c;h.assert(this.mna);c=this.gu.add(this.mna.Fa(a.Qj)).Fa(this.wa);l.ma && this.console.trace("SeamlessAudio: fragment start: " + a.Qj.Bd() + ", splice " + b.Bd() + ", last fragment end: " + this.mna.Bd() + ", error " + c.add(this.wa).Bd() + ", error with frame drop " + c.Bd() + ", is" + (this.Vfa(c)?"":" not") + " within bounds of [" + this.fT.Bd() + " and " + this.k4.Bd() + ")");return c;};a.prototype.Vfa=function(a){return a.lessThan(this.k4) && a.rl(this.fT);};a.prototype.lKa=function(a){return a.lessThan(this.k4.add(c.T.Al)) && a.rl(this.fT.Fa(c.T.Al));};a.prototype.gzb=function(a,b){return "object" === typeof this.config.jM && void 0 !== this.config.jM[a]?(a=new c.T(this.config.jM[a],1E3).Ge(b.S).add(new c.T(1,b.S)),c.T.min(b,a)):b;};a.prototype.lzb=function(a,b){var d;if("object" === typeof this.config.kM && void 0 !== this.config.kM[a]){d=b.Xo(-2);a=new c.T(this.config.kM[a],1E3).Ge(b.S).Fa(new c.T(1,b.S));return c.T.max(d,a);}return new c.T(-12,1E3);};return a;})();b.RDa=d;},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.XAa=void 0;c=a(21);h=a(5);l=a(20);d=(function(){function a(a,b,d){var f;this.console=d;this.iU=!1;h.assert(b.wa,"NegativePtsGuard: stream.frameDuration must exist.");this.wa=b.wa;this.$i=a.$i;this.Cd=null !== (f=b.Cd) && void 0 !== f?f:c.T.nb;}a.prototype.append=function(a){var b,d,f;if(this.iU)return a;b=a.Sd;a=a.offset;if(b.xa){d=b.yh.Fa(this.$i?this.Cd:c.T.nb).add(a);if(d.lessThan(c.T.nb)){f=Math.ceil(d.mF(-1).Xo(this.wa));l.ma && this.console.trace("NegativePtsGuard: dropping " + f + " frames on first fragment to avoid nagative pts, " + ("profile offset " + this.Cd.Bd() + ", ") + ("request content start " + b.yh.Bd() + ", ") + ("current timestamp offset " + a.Bd() + " => ") + ("firstPlatformTimestamp " + d.Bd() + "."));b.eR(f);}}this.iU=!0;return {Sd:b,offset:a};};return a;})();b.XAa=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.dFa=void 0;c=a(20);d=(function(){function a(a,b,c){this.Cd=a;this.wa=b;this.console=c;}a.prototype.append=function(a,b){var d,k,h;d=a.Sd;a=a.offset;k=b.endOfStream;b=b.r4;if(k && b){k=d.yh.Fa(this.Cd).add(a);h=d.lm.Fa(this.Cd).add(a);c.ma && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + k.Bd() + "-" + h.Bd() + " vs media splice point at " + b.Bd());h.rl(b.add(this.wa)) && (b=Math.floor(h.Fa(b).Xo(this.wa)),d.xa?(c.ma && this.console.trace("TruncateEndOfStreamAudio: drop " + b + " frames"),d.Iia(b)):(c.ma && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),d.Etb()));}else k && c.ma && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");return {Sd:d,offset:a};};return a;})();b.dFa=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dza=void 0;d=(function(){function a(a){this.iU=!1;this.KSb=a.sTa;}a.prototype.append=function(a){a.Sd.xa && (a.Sd.NRb(this.iU?0:this.KSb),this.iU=!0);return a;};return a;})();b.dza=d;},function(d,b,a){var h,l,g,f,k,q,v,r,u,B,n,y,p,J;function c(a,b,d,f){var h,l;k.assert(a.vl,"Current time: " + r["default"].time.aa() + " cr: " + a.currentTime);k.assert(a.currentTime.isFinite());h=d.Fa(a.currentTime);h=Math.max(Math.ceil(h.aZa / a.speed),0);l=null !== f && void 0 !== f?f:{id:void 0,wNa:h,iXa:0,zKb:h};l.id=setTimeout(function(){d.Fa(a.currentTime).ZE(g.T.nb)?b():(l.iXa++,c(a,b,d,l));},h);l.wNa=h;return l;}Object.defineProperties(b,{__esModule:{value:!0}});b.xO=void 0;h=a(0);l=a(16);g=a(21);f=a(246);k=a(5);q=a(20);v=a(904);r=h.__importDefault(a(3));u=a(176);B=a(905);n=a(906);y=a(146);p=(function(){function a(){this.complete();}Object.defineProperties(a.prototype,{vG:{get:function(){return this.Iea;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{MWa:{get:function(){return this.kgb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vrb:{get:function(){return this.peb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Nra:{get:function(){return this.Yhb;},enumerable:!1,configurable:!0}});a.prototype.set=function(a,b,c){this.peb=b === J.wL?0:r["default"].time.aa();this.kgb=a;this.Yhb=b;q.ma && k.assert(!this.Iea,"Invalid replacement of timeout value");this.Iea=c;};a.prototype.complete=function(){this.Iea=void 0;this.set(g.T.yx,J.wL);};return a;})();(function(a){a[a.wL=0]="none";a[a.aWa=1]="microTask";a[a.setTimeout=2]="setTimeout";})(J || (J={}));d=(function(a){function b(b,c,d){var k;void 0 === d && (d="unknown");k=a.call(this) || this;k.ta=b;k.console=c;k.name=d;k.igb=0;k.Kda=!1;k.Aj=new p();k.g1=new l.sg();k.fl=new f.tX([],v.cMa(function(a,b){return a.fM.tk(b.fM);},function(a,b){return a.pG.id > b.pG.id?1:a.pG.id < b.pG.id?-1:0;}));k.RJa(b);return k;}h.__extends(b,a);Object.defineProperties(b.prototype,{oSb:{get:function(){return this.ta.vl;},enumerable:!1,configurable:!0}});b.prototype.PMa=function(a,b){a=new (a.bind.apply(a,h.__spread([void 0],b)))();a.id=this.igb++;a.Jkb(this);this.lfa(a);return a;};b.prototype.fE=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return this.PMa(B.hza,a);};b.prototype.lxb=function(){var a;a={hasSchedule:! !this.Aj.vG,schedule:this.Aj.vG && ({sleepTime:this.Aj.vG.wNa,originalSleepTime:this.Aj.vG.zKb,clockSkewAdjustments:this.Aj.vG.iXa}),nextWakeup:this.Aj.MWa.da,timeScheduled:this.Aj.vrb,scheduleType:J[this.Aj.Nra],numTasks:this.fl.length,clock:{ir:this.ta.vl,ct:this.ta.currentTime.da,sp:this.ta.speed}};q.ma && this.trace("audit",a);return a;};b.prototype.n0=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}return this.PMa(n.iEa,a);};b.prototype.RJa=function(a){var b;b=this;this.Wz();this.g1.clear();this.ta=a;this.g1.on(a,"stopStart",function(){return b.YL();});this.g1.on(a,"clockReset",function(){return b.X4();});this.g1.on(a,"speedChanged",function(){return b.kKb();});this.X4();this.emit("clockChanged");};b.prototype.kKb=function(){this.Wz();this.YL();};b.prototype.Tb=function(){this.reset();};b.prototype.reset=function(){this.Wz();this.fl.clear();};b.prototype.X4=function(){var a,b;a=this;b=this.fl.map(function(a){return a.pG;});this.Wz();this.fl.clear();b.forEach(function(b){return a.lfa(b,!1);});this.YL();};b.prototype.lfa=function(a,b){var c,d;void 0 === b && (b=!0);c=a.O4();d=this.n3a(c);a={pG:a,fM:d,Z5:c};k.assert(!this.fl.contains(a));this.fl.push(a);b && this.YL();};b.prototype.YL=function(){var a,b,d,f,k;a=this;q.ma && this.trace("recheck schedule task count:" + this.fl.length);if(this.oSb){if(this.Kda)q.ma && this.trace("already executing, bailing");else {f=this.Aj.MWa;k=null !== (d=null === (b=this.fl.$u()) || void 0 === b?void 0:b.fM) && void 0 !== d?d:g.T.yx;k.isFinite() && k.R4(f)?(this.Wz(!1),this.ta.currentTime.rl(k)?(this.Aj.set(k,J.aWa),Promise.resolve().then(function(){a.Aj.Nra === J.aWa && (a.Aj.complete(),a.h0a());})):(q.ma && this.trace("scheduling next wake up for:" + k.da),b=c(this.ta,function(){a.Aj.complete();a.h0a();},k),this.Aj.set(k,J.setTimeout,b))):k.isFinite() || this.Aj.Nra !== J.setTimeout || this.Wz(!1);}}else (q.ma && this.trace("should check schedule is false, stopping"),this.Wz());};b.prototype.h0a=function(){var a,b,c,d;c=0;d=null === (a=this.fl.$u()) || void 0 === a?void 0:a.Z5;try{for(this.Kda=!0;1E4 > c++ && this.KVb();){;}}finally{this.Kda=!1;this.Wz();1E4 < c && !this.JBb(d)?null === (b=this.console) || void 0 === b?void 0:b.error("Task scheduler executed more than 10000 iterations in same tick"):this.YL();}};b.prototype.JBb=function(a){var b,c;c=null === (b=this.fl.$u()) || void 0 === b?void 0:b.Z5;return a && c && a.timestamp.equal(c.timestamp) && a.type === c.type?!1:!0;};b.prototype.KVb=function(){var a,b,c,d;d=null !== (b=null === (a=this.fl.$u()) || void 0 === a?void 0:a.fM) && void 0 !== b?b:g.T.yx;q.ma && this.trace("tryExecuteNextTask @" + this.ta.currentTime.da + ", next wakeup at " + d);if(this.ta.currentTime.rl(d) && (a=this.fl.pop())){b=a.pG;q.ma && this.trace("Running a task @" + this.ta.currentTime.da + ", scheduled for time:" + d.da);try{b.CB();a.Z5=b.O4();a.fM=this.n3a(a.Z5);}catch(da){throw (null === (c=this.console) || void 0 === c?void 0:c.error("Unhandled error from a task occurred. Removing the task from future executions:" + da),b.Tb(),da);}finally{a.fM !== g.T.yx && b.state === u.cl.lU && (k.assert(!this.fl.contains(a)),this.fl.push(a));}return !0;}};b.prototype.SPb=function(a){k.assert(a.bh === this);this.gra(a,!1);this.lfa(a);};b.prototype.gra=function(a,b){var c;void 0 === b && (b=!0);c=this.fl.find(function(b){return b.pG === a;});c && this.bPb(c,b);};b.prototype.bPb=function(a,b){this.fl.remove(a);b && this.YL();};b.prototype.Wz=function(a){void 0 === a && (a=!0);this.Aj.vG && (a && this.emit("stopping"),clearTimeout(this.Aj.vG.id),this.Aj.complete());};b.prototype.n3a=function(a){return a.type === y.Sba.absolute?a.timestamp:a.timestamp.add(this.ta.currentTime);};b.prototype.trace=function(){for(var a,b=[],c=0;c < arguments.length;c++){b[c]=arguments[c];}null === (a=this.console) || void 0 === a?void 0:a.trace.apply(a,h.__spread(["TaskScheduler(" + this.name + "):"],b));};return b;})(l.EventEmitter);b.xO=d;},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cMa=void 0;c=a(0);h=a(20);l=a(5);b.cMa=function(){for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}h.ma && l.assert(a.length);return function(b,d){var f,k,g,m;try{for(var h=c.__values(a),l=h.next();!l.done;l=h.next()){g=l.value;m=g(b,d);if(0 !== m)return m;}}catch(I){f={error:I};}finally{try{l && !l.done && (k=h["return"]) && k.call(h);}finally{if(f)throw f.error;}}return 0;};};},function(d,b,a){var c,h,l,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hza=void 0;c=a(0);h=a(21);l=a(5);g=a(176);f=a(146);d=(function(a){function b(b){var c;c=a.call(this) || this;c.qQb=b;c.reset();return c;}c.__extends(b,a);b.prototype.reset=function(){var a,b;if(this.Yd === g.cl.lU || this.Yd === g.cl.Fm)null === (b=null === (a=this.UY) || void 0 === a?void 0:a["return"]) || void 0 === b?void 0:b.call(a);this.Yd=g.cl.Fm;this.UY=this.qQb();this.eea=f.al.hN(h.T.nb);};b.prototype.Gl=function(){this.reset();l.assert(this.Fz);this.Fz.SPb(this);};b.prototype.O4=function(){return this.eea;};b.prototype.Pe=function(){var a,b,c;c=this.UY.next();c.done?(this.eea=f.al.kua,null === (b=(a=this.UY)["return"]) || void 0 === b?void 0:b.call(a)):this.eea=c.value;};b.prototype.Tb=function(){var b,c;null === (c=(b=this.UY)["return"]) || void 0 === c?void 0:c.call(b);a.prototype.Tb.call(this);};return b;})(g.hca);b.hza=d;},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.iEa=void 0;c=a(0);h=a(176);l=a(146);d=(function(a){function b(b,c){var d;d=a.call(this) || this;d.tQb=b;d.xQ=c;return d;}c.__extends(b,a);b.prototype.O4=function(){return this.Yd === h.cl.Fm?this.tQb:l.al.kua;};b.prototype.Pe=function(){this.xQ();};return b;})(h.hca);b.iEa=d;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.wDa=void 0;d=a(0);c=d.__importDefault(a(25));h=d.__importDefault(a(908));a=(function(){function a(a){this.WZ=[];this.WZ[c["default"].Ua.VIDEO]=new h["default"](a,c["default"].Ua.VIDEO);this.WZ[c["default"].Ua.AUDIO]=new h["default"](a,c["default"].Ua.AUDIO);}a.prototype.Gjb=function(a,b,c){this.WZ[a].add(b,c);};a.prototype.vAb=function(){var a;a=[];this.WZ.forEach(function(b){var c;if(b){c=b.get();c && 0 < c.length && c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.Bvb=function(a){var b;b=this.vAb();a.strmsel=b;return 0 < b.length;};return a;})();b.wDa=a;},function(d,b,a){var h;function c(a,b){this.ihb=a.nB && a.nB.enabled;this.BD=void 0;this.Yfb=b;this.zea=[];this.Vea=[];this.wZ=[];this.Le=[];}h=a(37).PK;c.prototype.reset=function(a){this.BD=void 0;this.zea=[];this.Vea=[];this.wZ=[];a && (this.Le=[]);};c.prototype.add=function(a,b){var c,d,l;c=b.filter(function(b,c){return h(b) || c === a.Vd;});d=c.map(function(a){return a.U;});b=b[a.Vd];c=c.indexOf(b);if(this.BD && (this.BD.length !== d.length || this.BD.some(function(a,b){return a !== d[b];}))){l=this.oQa();l && (this.Le.push(l),this.reset(!1));}void 0 === this.BD && (this.BD=d);this.zea.push([c,a.Jta,a.ac,a.qga,a.QKa,a.uMb,a.qJb,a.oB,a.kn,a.Wh,a.yUb - a.Jta,a.dMb]);void 0 !== a.Gs && this.wZ.push([a.Jta,a.Gs.JQ,a.Gs.yMa,a.Gs.Bha]);this.ihb && void 0 !== b.$ && (c=b.$.sm(a.Wh),-1 != c && (c=b.$.get(c),l=c.duration,b=c.tb || b.tb,void 0 !== b && this.Vea.push({X:c.X,duration:l,tb:b})));};c.prototype.FOa=function(a){for(var b=[],c=[],d=0;d < a.length;d++){for(var h=a[d],l=[],g=0;g < h.length;g++){l.push(h[g] - (c[g] || 0));}b.push(l);c=h;}return b;};c.prototype.oQa=function(){var a,b;a=this.FOa(this.zea);if(0 !== a.length){b=0 < this.wZ.length?this.FOa(this.wZ):[];return {dltype:this.Yfb,bitrates:this.BD,seltrace:a,vmaftrace:this.Vea,paceratetrace:b};}};c.prototype.get=function(){var a,b;a=this.oQa();b=this.Le;a && b.push(a);if(0 !== b.length)return b;};d.exports=c;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.PQa=void 0;b.PQa=function(a){var b,d,l;b=Math.floor(1E6 * Math.random());d=a.Vla;l=a.N2;a=0 === b % a.Wla && 0 < l.length;return {sq:a,jR:a && 0 === b % d};};},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qMa=void 0;b.qMa=function(a,b){var c;if(!Array.isArray(a.pMa))return a;c=a.nq?a.nq():Object.create(a);a.pMa.forEach(function(a){if(void 0 !== a.UHb && b.duration >= a.UHb && a.config)for(var d in a.config){c[d]=a.config[d];}});return c;};},function(d,b,a){var c,h,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Wwa=void 0;c=a(0).__importStar(a(8));h=a(121);l=a(5);d=(function(){var W50;function a(a,b,c){var X50;X50=2;for(;X50 !== 3;){switch(X50){case 2:var W04="1SIYbZrN";W04+="JC";W04+="p9";this.rm=a;this.G=b;this.sh=c;W04;X50=3;break;}}}W50=2;for(;W50 !== 7;){switch(W50){case 4:a.prototype.WHa=function(a,b){var e60,c,d;e60=2;for(;e60 !== 5;){switch(e60){case 2:(c=this.rm.ib.$e[a],d=c.$g);d && (d=b.RP(a,d),this.web(a),c.$g=this.cGa(a,b.u,b.Cx(),this.rm.el,this.rm.H),b.h6(d));e60=5;break;}}};a.prototype.cGa=function(a,b,c,d,g){var f60,f,k;f60=2;for(;f60 !== 7;){switch(f60){case 2:var X04="transpo";X04+="r";X04+="trepo";X04+="rt";var G04="er";G04+="r";G04+="or";var J04="netw";J04+="o";J04+="rkfailing";var L04="cre";L04+="at";L04+="ed";(f=this,k=h.jo.yf.Ur(a,b,!0,c,d,g));k.ig.on(k,L04,function(){var g60;g60=2;for(;g60 !== 5;){switch(g60){case 2:var B04="creat";B04+="eDl";B04+="Tra";B04+="cksEn";B04+="d";--f.uD;0 === f.uD && f.rm.bb.xj(B04);g60=5;break;}}});k.ig.on(k,J04,function(){var h60,a;h60=2;for(;h60 !== 8;){switch(h60){case 5:l.assert(k.tR);a=f.rm.Qd.N;a.ap.Uq(k.tR,void 0,k.zg,k.si);a.dr();h60=8;break;case 2:var M04="report";M04+="NetworkF";M04+="ailing: ";g.Ah && f.sh.zl(M04 + k);h60=1;break;case 1:h60=k.m1?5:8;break;}}});k.ig.on(k,G04,function(){var i60;i60=2;for(;i60 !== 5;){switch(i60){case 2:var N04="NF";N04+="Err_MC_Stream";N04+="ingFailure";var z04="D";z04+="ow";z04+="nloadT";z04+="rack fatal ";z04+="error";var m04="Downl";m04+="o";m04+="ad";m04+="Track fatal";m04+=" error";g.Ah && f.sh.zl(m04);f.rm.Co(z04,void 0,N04,k.zg,0,k.si);i60=5;break;}}});k.on(X04,function(a){var j60;j60=2;for(;j60 !== 1;){switch(j60){case 2:var E04="t";E04+="r";E04+="ansportreport";f.rm.emit(E04,a);j60=1;break;case 4:f.rm.emit("",a);j60=4;break;j60=1;break;}}});k.$a();return k;break;}}};a.prototype.web=function(a){var k60,b;k60=2;for(;k60 !== 9;){switch(k60){case 3:a.$g=void 0;k60=9;break;case 2:a=this.rm.ib.$e[a];b=a.$g;b.sn || --this.uD;h.jo.yf.KJ(b);k60=3;break;}}};return a;break;case 2:a.prototype.keb=function(a,b){var Y50,c,d;Y50=2;for(;Y50 !== 8;){switch(Y50){case 2:var S04="creat";S04+="eDl";S04+="Tracks";S04+="Star";S04+="t";(c=this,d=this.rm.H);0 === this.uD && this.rm.bb.xj(S04);Y50=5;break;case 5:this.uD+=a.length;a=a.map(function(a){var Z50;Z50=2;for(;Z50 !== 1;){switch(Z50){case 2:return c.cGa(a,b.u,b.Cx(),c.rm.el,d);break;}}});h.jo.yf.Pe();return a;break;}}};a.prototype.xeb=function(){var a60,a,b;a60=2;for(;a60 !== 3;){switch(a60){case 2:(a=this,b=[]);this.rm.ib.$e.forEach(function(a){var b60;b60=2;for(;b60 !== 5;){switch(b60){case 2:c.Y(a.$g) || b.push(a.$g);a.$g=void 0;b60=5;break;}}});this.rm.bP && (b.push(this.rm.bP),this.rm.bP=void 0);a60=4;break;case 4:b.forEach(function(b){var c60;c60=2;for(;c60 !== 5;){switch(c60){case 2:b.sn || --a.uD;h.jo.yf.KJ(b);c60=5;break;}}});a60=3;break;}}};a.prototype.wfb=function(){var d60;d60=2;for(;d60 !== 1;){switch(d60){case 2:this.uD=0;d60=1;break;case 4:this.uD=3;d60=4;break;d60=1;break;}}};W50=4;break;}}})();b.Wwa=d;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Wua=void 0;c=a(17);h=a(9);d=(function(){function a(a){this.YD=a;this.state=new h.Kt(c.oa.oh);this.Gn={};}a.prototype.sd=function(){return this.state.value;};a.prototype.ue=function(a){this.state.set(a);};a.prototype.addListener=function(a){this.state.addListener(a);};a.prototype.paused=function(){this.state.value === c.oa.Uc && this.state.set(c.oa.uj);};a.prototype.Ky=function(){this.state.value === c.oa.uj && this.state.set(c.oa.Uc);};a.prototype.QTa=function(){return this.state.value === c.oa.oh;};a.prototype.SA=function(){return "function" === typeof this.YD.SA?this.YD.SA():this.state.value === c.oa.Uc;};a.prototype.hg=function(){return this.state.value === c.oa.cd || this.state.value === c.oa.nf;};a.prototype.Xg=function(){return this.state.value === c.oa.ck;};a.prototype.RTa=function(){return this.state.value === c.oa.Wv;};a.prototype.$d=function(){return this.YD.$d();};a.prototype.xn=function(){return "function" === typeof this.YD.xn?this.YD.xn():1;};a.prototype.OR=function(){return this.YD.OR();};a.prototype.CU=function(a,b){this.Gn[a]=b;};a.prototype.An=function(a){return ! !this.Gn[a.u] || a.Vh;};return a;})();b.Wua=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.CCa=void 0;c=a(0).__importDefault(a(3))["default"].Promise;d=(function(){function a(a,b,c){var d;this.ukb=a;this.fea=b;this.qeb=c;this.vda=(d={},d[0]=!1,d[1]=!1,d);this.reset();}a.prototype.Ww=function(){var a,b;a=this;b=this.ukb.filter(function(b){return !b.zTa(a.qeb());});0 === b.length && this.Oda?this.pgb():b.forEach(function(b){a.vda[b.I] || (b.once("requestAppended",function(){a.vda[b.I]=!1;a.Ww();}),a.vda[b.I]=!0);});};a.prototype.reset=function(){var a;a=this;this.Oda=!1;new c(function(b){a.pgb=b;}).then(function(){return a.fea();});};a.prototype.DGb=function(){this.Oda || (this.Oda=!0,this.Ww());};return a;})();b.CCa=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Gua=void 0;c=a(20);d=(function(){function a(a){this.console=a;this.nD=[];this.wz=[];c.ma && this.console.trace("Received pending adoption " + this.AB.length);}Object.defineProperties(a.prototype,{length:{get:function(){return this.nD.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{AB:{get:function(){return this.wz;},enumerable:!1,configurable:!0}});a.prototype.zGb=function(a){a=this.wz.indexOf(a);-1 !== a && (c.ma && this.console.trace("Marking request attached"),this.nD[a].wTa=!0,this.N3a(a));};a.prototype.AGb=function(a){a=this.wz.indexOf(a);-1 !== a && (c.ma && this.console.trace("Marking request completed"),this.nD[a].Ex=!0,this.N3a(a));};a.prototype.cPb=function(a){var b,c;b=this;c=[];this.wz.forEach(function(b,d){a(b) && c.unshift(d);});c.forEach(function(a){b.wz.splice(a,1);b.nD.splice(a,1);});};a.prototype.push=function(a){this.wz.push(a);this.nD.push({wTa:!1,Ex:!1});c.ma && this.console.trace("Pushing pending request, " + this.length + " total");};a.prototype.IA=function(){return 0 < this.length;};a.prototype.N3a=function(a){var b;b=this.nD[a];b.wTa && b.Ex && (b=this.wz[a],this.wz.splice(a,1),this.nD.splice(a,1),c.ma && this.console.trace("Removing request, " + this.length + " left"),0 === this.length && c.ma && this.console.trace("Removing last request, contentEndPts: " + b.Pb));};return a;})();b.Gua=d;},function(d,b,a){var c,h,l,g,f,k,q;Object.defineProperties(b,{__esModule:{value:!0}});b.jCa=void 0;d=a(0);c=d.__importDefault(a(25));h=c["default"].Ua;l=c["default"].OC;g=a(9);f=a(21);k=d.__importDefault(a(109));q=d.__importDefault(a(3));a=(function(){function a(a,b,c,d,f){this.av=a;this.$r=b;this.H=c;this.G=d;this.rf=f;}a.prototype.ZIb=function(a){a={type:"requestCreated",request:a};g.Ma(this.$r,a.type,a);};a.prototype.YIb=function(a){var b;b=a.Pa.Kb.W;a={type:"updateStreamingPts",mediaType:a.I,position:{va:b.id,offset:f.T.$b(this.av.iha - b.X)},completePlayerStreamingTimestamp:f.T.$b(this.av.Pr),trackIndex:a.stream.track.GD};g.Ma(this.$r,a.type,a);};a.prototype.eXa=function(a,b,c){var d,k;d=this.rf;k=this.av.Zf;k.m1a(a);1 === d && this.H.n6 && (void 0 === k.qna?k.o1a(q["default"].time.aa()):q["default"].time.aa() - k.qna > this.H.n6 && (a.U !== k.sUa && (q["default"].storage.set("vb",a.U),k.PRb(a.U)),k.o1a(q["default"].time.aa())));k.zS && k.zS === a || (this.av.Ay.ETb(b,k.zS,a),k.CRb(a),b=0,a.kb && a.kb.Pd && a.kb.Ka && (b=a.kb.Ka.Ca),k={va:this.av.Kb.W.id,offset:f.T.$b(c - this.av.Kb.W.X)},a={type:"streamSelected",nativetime:q["default"].time.aa(),mediaType:d,streamId:a.id,manifestIndex:a.N.sb,trackIndex:a.track.GD,streamIndex:a.Yf,movieTime:c,bandwidth:b,longtermBw:b,rebuffer:0,position:k},g.Ma(this.$r,a.type,a));};a.prototype.UIb=function(a,b,c){var d,f,k,m,q;d=b.N;f=d.wl;k=this.av.Zf;m=d.hEb(b);q=m.ana;m=m.iEb;c && b.Nc && !k.BS?(m=l.Vv,b.Yq=l.name[m],this.dXa(a,b.Nc,b.Yq,b.location,b.U),k.BS=b.Nc):!c && b.Nc && b.Nc !== k.BS && (m=m?void 0 === k.BS?l.Vv:f.pM === l.Faa?l.hcb:l.o8:l.gcb,b.Yq=l.name[m],this.dXa(a,b.Nc,b.Yq,b.location,b.U),k.BS=b.Nc);k.RK || (m={type:"logdata",target:"startplay",fields:{}},this.rf === h.AUDIO?m.fields.alocid=b.location:this.rf === h.VIDEO && (m.fields.locid=b.location),g.Ma(this.$r,m.type,m));c && b.location && !k.RK?(m=l.Vv,b.Yq=l.name[m],this.bXa(d.sb,a,b.location,b.Ina,b.Nc,b.YF,b.Yq,b.bv),k.RK=b.location):!c && b.location && b.location !== k.RK && (m=q?void 0 === k.RK?l.Vv:f.pM === l.Faa?l.F$a:l.o8:l.E$a,b.Yq=l.name[m],this.bXa(d.sb,a,b.location,b.Ina,b.Nc,b.YF,b.Yq,b.bv),b.bv=void 0,k.RK=b.location);this.H.Os || (b.oUa=b.location,b.qUa=b.Nc);};a.prototype.W4=function(a){a={type:"requestsPruned",requests:a};g.Ma(this.$r,a.type,a);};a.prototype.dXa=function(a,b,c,d,f){var l,m;l=this.rf === h.VIDEO?"video":"audio";m=k["default"].yf().get();a={type:"serverSwitch",segmentId:a,mediatype:l,server:b,reason:c,location:d,bitrate:f,confidence:m.Pd};m.Pd && (a.throughput=m.Ka.Ca);this.av.Zf.BS && (a.oldserver=b);g.Ma(this.$r,a.type,a);};a.prototype.bXa=function(a,b,c,d,f,k,l,m){g.Ma(this.$r,"locationSelected",{type:"locationSelected",manifestIndex:a,segmentId:b,mediatype:this.rf === h.VIDEO?"video":"audio",location:c,locationlv:d,serverid:f,servername:k,selreason:l,seldetail:m});};a.prototype.gea=function(a,b){b={type:"lastSegmentPts",segmentId:a.id,pts:Math.floor(b)};a.qB || g.Ma(this.$r,b.type,b);};a.prototype.zl=function(a){a={type:"managerdebugevent",message:"@" + q["default"].time.aa() + ", " + a};g.Ma(this.$r,a.type,a);};a.prototype.Awb=function(a){g.Ma(this.$r,"transportReport",a);};return a;})();b.jCa=a;},function(d,b,a){var c,h,l,g,f,k,q,v,r,u,B,n,y;Object.defineProperties(b,{__esModule:{value:!0}});b.ADa=void 0;c=a(0);h=c.__importStar(a(8));l=a(247);g=a(919);f=a(922);k=a(923);d=a(94);q=a(924);v=a(5);r=c.__importDefault(a(3));u=a(249);B=a(9);n=a(71);y=r["default"].Promise;a=(function(a){function b(b,c,d,f,k,h,l){var g;g=a.call(this,b) || this;g.H=c;g.G=d;g.dm=f;g.Vc=k;g.rf=h;g.v4a=!0;g.Pg=new u.ZV(g.G);g.pf=g.G.error.bind(g.G);g.yb=g.G.warn.bind(g.G);g.kk=g.G.trace.bind(g.G);g.aIa();g.$p=null === l || void 0 === l?void 0:l.fE(function(){return g.wPb();});return g;}c.__extends(b,a);Object.defineProperties(b.prototype,{console:{get:function(){return this.G;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{I:{get:function(){return this.rf;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Kb:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{qv:{get:function(){return 0 < this.yB;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Rsa:{get:function(){return !this.jI;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{yB:{get:function(){return this.ya.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cr:{get:function(){return this.ya.cr;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ENb:{get:function(){return this.Pg.count;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{b0:{get:function(){return this.ya.complete.wi;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pr:{get:function(){return this.ya.ZLa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{iha:{get:function(){return this.ya.YLa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Km:{get:function(){return void 0 === this.ya.Rc?0:this.ya.ee - this.ya.Rc;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{So:{get:function(){return {ba:this.ya.Yz,da:Math.max(this.ya.ZLa - this.ya.Rc,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{sJ:{get:function(){return this.ya.Znb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Yz:{get:function(){return this.ya.Yz;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fw:{get:function(){return this.ya.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{dy:{get:function(){return this.gfb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Kpa:{get:function(){return this.ya.BCb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{H2:{get:function(){return this.ya.length > this.ya.cr;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{kn:{get:function(){return this.ya.kn;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{tYa:{get:function(){return this.ya.length - this.gl;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$:{get:function(){return this.ya;},enumerable:!1,configurable:!0}});b.prototype.gg=function(){var a;this.ya.forEach(function(a){a.abort();a.dc();});this.aIa();this.Pg.c1();null === (a=this.$p) || void 0 === a?void 0:a.Tb();};b.prototype.reset=function(){this.gg();this.Pg.R_a();};b.prototype.close=function(){this.Pg.c1();};b.prototype.iRb=function(){this.HFa=!0;};b.prototype.Xka=function(){return {hasSentinel:void 0 !== this.Pg.count,queueCount:this.Pg.count,isComplete:this.Pg.Ex,itemCount:this.Pg.aMa,continuousEndPts:this.Pg.eo().reduce(function(a,b){return b && !b.done && (b=b.value,100 > Math.abs(b.Rja - a) || -1 === a)?b.Bwb:a;},-1),sentinelItemCount:this.Pg.eo().filter(function(a){return a && a.done;}).length,processedCount:this.Pg.ysb,rc:this.yB};};b.prototype.irb=function(a,b,c){var d,h;d=this.H;v.assert(!a.Aq);d.lub && 1 === this.I?h=new k.Zua(c,d,b.track,a,this.ya,this.G):c.N.wOa(this.rf)?(h=new f.Tua(c,d,b.track,a,this.ya,!1,this.G),d.a1 && 0 < h.MUb && (a=new q.jva(c,d,b.track,a,this.ya,!1,this.G),a.$a(this),a.Yu())):h=l.WV.create(c,d,b.track,a,this.ya,!1,this.G);h.$a(this);this.Dw(h);return h;};b.prototype.Tjb=function(a){var b;a.$a(this);a.qfa=!0;this.Dw(a);b=y.resolve();a.complete?(this.ada(a),this.dm.eXa(a.stream,a.Rc,a.Qb),b=this.u7(),this.hs(a)):(a.active && this.zE(a),a.Vqa && this.sA(a));return b;};b.prototype.Dw=function(a){var b,c;this.ya.jp(a);(null === (b=this.$p) || void 0 === b?void 0:b.state) === n.cl.complete && (null === (c=this.$p) || void 0 === c?void 0:c.Gl());this.ada(a);a.En && (this.jI=!1);};b.prototype.TR=function(){return this.Pg.nxb();};b.prototype.rLa=function(){this.gl === this.ya.length && this.HFa && this.Pg.c1();};b.prototype.u7=function(){var a,b,c,d,g;a=this;c=y.resolve();d=this.Vc;if(!d.uTa(this.rf) || this.gl === this.ya.length)return c;for(var f=this.H.SGb,k=0,l=[];this.gl < this.ya.length;){if(b=this.ya.get(this.gl)){if(this.ya.uPa && this.ya.uPa.Ra < b.Ra)break;if(!b.ws())break;l.push(b);++k;h.qa(this.Rc) || (this.Rc=b.Rc);}++this.gl;if(!h.Y(f) && k >= f)break;}if(l.length){void 0 !== this.Pg.count && (this.pf("Request Manager count"),this.Pg.R_a());if(this.v4a)c=y.all(l.map(function(b){return a.Pg.enqueue(b).then(function(){return a.B2(b);});}));else for(b=0;b < l.length;b++){try{g=l[b];d.Nzb(this.I).Xsb(g);this.B2(g);}catch(ea){return (this.gl-=l.length - b,y.reject(ea));}}this.rLa();}return c;};b.prototype.B2=function(a){this.GPa(a);};b.prototype.SP=function(a,b){var c,d,f;c=this;d=[];if(0 !== this.ya.cr){f=this.ya.mYa;this.ya.X3a.Msa(function(b){if(!h.Y(a) && b.N.sb !== a || b.En || f > b.Rc)return !0;b.w1 && (c.jI=!1);if(!c.Kca(b))return (c.yb("request abort failed:",b.toString()),!0);d.unshift(b);});this.PHa();d.length && "function" === typeof b && b(d);}};b.prototype.X5=function(){this.PHa();};b.prototype.wPb=function(){var a,b,d,f,k,h;return c.__generator(this,function(c){switch(c.label){case 0:c.label=1;case 1:if(!this.ya.length)return [3,3];a=this.ya.get(0);b=B.T.$b(null !== (h=null === (k=this.H.OU) || void 0 === k?void 0:k.da) && void 0 !== h?h:0);d=b.add(a.wi);return [4,n.al.LV(d)];case 2:c.di();if(1 >= this.ya.complete.length && !a.En)return [3,3];v.assert(a === this.ya.get(0));a.ze || this.Kca(a);f=this.ya.splice(0,1);0 < this.gl && this.gl--;this.dm.W4(f);return [3,1];case 3:return [2];}});};b.prototype.TT=function(a,b){var c,d,f,k,h,l;c=this;d=this.H;f=!1;k=0;h=this.ya.some(function(h){if(a < h.ee)return (f && c.ada(h),!0);++k;h.ze || (c.yb("pruning unappended request:",h && h.toString()),d.Ah && c.dm.zl("prune pts:" + a + " unappended request:" + (h && h.toString())),h.w1 && (c.jI=!1,f=!0),c.Kca(h,b) || c.pf("MediaRequest.abort error:",h.zg));});if(0 < k){l=this.ya.splice(0,k);this.gl-=Math.min(k,this.gl);this.dm.W4(l);}return h;};b.prototype.m2=function(a){var b,c,d;void 0 === a && (a={EQ:null,OL:null,Rc:null,Pj:0,Fi:0,$:[]});b=this.H;c=this.ya;h.qa(c.Rc) && (null === a.Rc || c.Rc < a.Rc) && (a.Rc=c.Rc);d=this.Pr;void 0 !== d && null === a.EQ && (a.EQ=d);d=c.ee;void 0 !== d && (null === a.OL || d > a.OL) && (a.OL=d);a.Pj+=c.Pj;a.Fi=b.Gsa?a.Fi + c.VZa:a.Fi + c.Yz;Array.prototype.unshift.apply(a.$,c.di.$);return a;};b.prototype.gs=function(a){if(this.ya.length && (a=this.ya.lPa(a)))return a;};b.prototype.dr=function(){var a,b;a=this;b=[];this.ya.forEach(function(c){var d;d=c.D7();1 === d?b.push(c):2 === d && a.Kb.N.Hg("swapUrl failure");});return b;};b.prototype.DL=function(a){a.RA && a.ws() && this.u7();this.sA(a);};b.prototype.Oj=function(a){var b,c;a.RA && !a.ze && this.u7();(null === (b=this.$p) || void 0 === b?void 0:b.state) === n.cl.complete && (null === (c=this.$p) || void 0 === c?void 0:c.Gl());this.hs(a);};b.prototype.xfa=function(a){var b,c,d;b=1 === this.rf?"v_":"a_";c=this.ya;d=c.cK(a);a=0 <= d?c.get(d):void 0;return (c=0 <= d && d + 1 < c.length?c.get(d + 1):void 0) && a?a.ee !== c.Rc?b + "rg":a.complete && c.complete?b + "uk":b + "fd":b + "rm";};b.prototype.gfb=function(){return this.ya.kn + this.ya.cr;};b.prototype.aIa=function(){var a,b,c;b=void 0 !== this.ya && 0 < this.ya.length;c=this.ya;this.ya=new g.Sua(this.G,this);this.gl=0;this.Pg.clear();this.Rc=null;null === (a=this.$p) || void 0 === a?void 0:a.Gl();this.HFa=this.jI=!1;b && (a=c.map(function(a){return a;}),this.dm.W4(a));};b.prototype.ada=function(a){this.jI?a.w1=!1:this.jI=a.w1=!0;};b.prototype.Kca=function(a,b){if(!a.abort())return !1;"function" === typeof b && b(a);return !0;};b.prototype.PHa=function(){var a,b,c,d;a=this;if(0 !== this.ya.length){c=[];d=0;this.ya.uNb(function(b,f){f < a.gl && ++d;c.push(b);});this.gl-=d;null === (b=this.$p) || void 0 === b?void 0:b.Gl();this.dm.W4(c);}};return b;})(d.Av);b.ADa=a;},function(d,b,a){var c,h,l,g,f,k,q,v,r,u;Object.defineProperties(b,{__esModule:{value:!0}});b.Pua=void 0;c=a(0);h=a(95);l=c.__importDefault(a(25));d=c.__importDefault(a(3));g=a(9);f=a(5);k=a(248);q=a(70);v=a(244);r=a(82);u=d["default"].Vm;a=(function(a){function b(b,c,d,f,k,h,g){var m,r;f=a.call(this,b,d,f,h,g) || this;k=q.Lh.prototype.toString.call(f) + (k?"(cache)":"");m={offset:d.offset,ba:d.Soa + 8,responseType:0};f.push(new v.pN(b,c,k + "(moof)",m,f,h,g));m={offset:d.offset + m.ba,ba:d.ba - m.ba,responseType:u.Yb && !u.Yb.gM.QC?0:1};if(f.I === l["default"].Ua.VIDEO && f.xa){if(0 < f.xa.start){r=f.nPa(f.xa.start);r && (m.offset=d.offset + r,m.ba=d.ba - r);}f.xa.end < f.tA && (r=f.nPa(f.xa.end)) && (m.ba-=d.ba - r);}f.push(new v.pN(b,c,k + "(mdat)",m,f,h,g));return f;}c.__extends(b,a);b.prototype.ws=function(){return !this.ze && ! !this.ya.length && this.ya.every(function(a){return a.ws();});};b.prototype.LD=function(a){var b,c,d,k,l,m,q,v;if(this.ze)return {status:r.Ji.Dv};if(!this.ws())return {status:r.Ji.ERROR};d=!1;l=this.ya[0].response;m=l.slice(0,l.byteLength - 8);q=new DataView(l);l=q.getUint32(m.byteLength);f.assert("mdat" === h.kz(q.getUint32(m.byteLength + 4)));v=this.xa && 0 < this.xa.start;q=this.xa && this.xa.end < this.tA;if(this.xa && (v || q)){v && (k=new h.Ov(this.G,this.stream,m),b=k.p_a(this.xa.start,this.S));q && !1 !== b && (k=new h.Ov(this.G,this.stream,b?g.$z(b.Sd):m),c=k.w_a(this.xa.end - this.xa.start,this.S));if(m=q?c:b)(d=a.appendBuffer(g.$z(m.Sd),g.qp(this)),b && (l-=b.Ts),c && (l-=c.Ts));k=this.uea();}else d=a.appendBuffer(m,g.qp(this));d && (d=a.appendBuffer(h.aL(l - 8),g.qp(this))) && (d=a.appendBuffer(this.ya[1].response,g.qp(this)));this.ze=d;this.JOb();return {status:d?r.Ji.Dv:r.Ji.ERROR,ij:k};};return b;})(k.aC);b.Pua=a;},function(d,b,a){var c,h,l,g,f,k,q;Object.defineProperties(b,{__esModule:{value:!0}});b.f6a=void 0;d=a(0);c=a(95);h=a(175);l=d.__importDefault(a(25));g=a(9);a(5);f=a(21);k=d.__importDefault(a(3));q=a(82);a=(function(){var l60;l60=2;function a(){var m60;m60=2;for(;m60 !== 1;){switch(m60){case 2:var h04="1SIYbZrN";h04+="JC";h04+="p";h04+="9";h04;m60=1;break;}}}for(;l60 !== 14;){switch(l60){case 4:a.prototype.XFa=function(a){var q60,b;q60=2;for(;q60 !== 4;){switch(q60){case 2:b=this.rd;a=this.Xdb(a);return {Nja:a.Nja,Gp:a.JSb && b.g3?b.g3 || 0:0};break;}}};l60=3;break;case 3:a.prototype.Bdb=function(a,b,c){function d(a){var s60,b,c;s60=2;for(;s60 !== 4;){switch(s60){case 2:a=Math.floor(Math.min(r,a) / m.xb);(b=m.xb * a,c=u - b);return {Jra:a,rq:b,b6b:c,QWa:0 < a && c < q / 1E3};break;}}}var r60,n,k,l,g,m,q,r,v,u;r60=2;for(;r60 !== 12;){switch(r60){case 14:n < (l.VHb || 1) && (g=!1);return {jSb:g,cGb:k};break;case 9:b && !c && (k=d(u),n=k.Jra,k=k.QWa);k || (n=v - f.T.Toa(a,q),n=new f.T(n - this.MPa,q),b=d(l.Ig?Infinity:Math.max(0,n.xb)),n=b.Jra,(b=b.QWa) && 0 < n && !l.Ig && --n);this.ei({start:0,end:n});r60=14;break;case 2:(l=this.rd,g=!0);k=!1;a=h.Lka(l,a);(m=this.wa,q=m.S,r=this.rq,v=b?b.fqa:this.QYa - 2 * m.xb,u=v - this.MPa);c=l.uwb || c;r60=9;break;}}};a.prototype.LD=function(a,b,c,d,f,k){var t60,h,m;t60=2;for(;t60 !== 7;){switch(t60){case 2:m=this.rd;t60=1;break;case 4:var w04="de";w04+="f";w04+="a";w04+="ul";w04+="t";this.xa && !this.En?(h=this.Deb(a,b,c,f,k),a=h.ja,h=h.ij):this.xa && this.En?(h=this.Eeb(a,b,d,f,k),a=h.ja,h=h.ij):a=this.I === l[w04].Ua.AUDIO && m.Us && c && this.$s && c.ee >= this.ee && this.Pb - this.$s < this.$s - this.Qb?!0:a.appendBuffer(this.response,g.qp(this));this.ze=!0;this.aU();t60=8;break;case 1:t60=this.ze?5:4;break;case 5:return {status:q.Ji.ERROR};break;case 8:return {status:a?q.Ji.Dv:q.Ji.ERROR,ij:h};break;}}};a.prototype.Deb=function(a,b,d,f,h){var u60,m,q,r,v,u;u60=2;for(;u60 !== 8;){switch(u60){case 4:var b04=" from";b04+=" ";b04+="[ ";var P04="AseFragmentMediaRequ";P04+="e";P04+="st: Fragment edit failed for ";var a04="media|";a04+="a";a04+="se";a04+="js";var U04="M";U04+="P";U04+="4";var j04="defa";j04+="u";j04+="l";j04+="t";0 >= this.duration && (u=!1,r=!0);u && (this.xa && (0 < this.xa.start || q.Gp)?(b=new c.Ov(new k[j04].Console(U04,a04),this.stream,this.response),(b=b.p_a(this.xa.start,this.sL,q.Gp))?(r=a.appendBuffer(g.$z(b.Sd),g.qp(this)),v=this.uea(q)):(this.G.error(P04 + this.toString() + b04 + this.uA + "-" + this.G1 + "]"),r=!0)):r=a.appendBuffer(this.response,g.qp(this)));return {ja:r,ij:v};break;case 2:var g79="def";g79+="au";g79+="l";g79+="t";var d04="d";d04+="e";d04+="fa";d04+="ul";d04+="t";(q={Gp:0},r=!1,u=!0);this.I === l[d04].Ua.AUDIO && d && (f?h && this.eR():this.aGa(d)?d.xa && this.xa && this.xa.start !== d.xa.end && this.ei({start:d.xa.end}):(q=this.XFa(b),d.ee === this.Rc && (q.Gp=0)));void 0 === (null === (m=this.xa) || void 0 === m?void 0:m.N6)?this.I === l[g79].Ua.AUDIO && !d && this.xa && (q.Gp=Math.min(this.xa.end - this.xa.start,Math.max(this.zfb(),q.Gp || 0))):q.Gp=this.xa.N6;u60=4;break;}}};a.prototype.Eeb=function(a,b,d,f,k){var v60,h,m,q,r;v60=2;for(;v60 !== 8;){switch(v60){case 4:var e79=" f";e79+="ro";e79+="m [ ";var y79="AseFragmentMediaRequ";y79+="est";y79+=":";y79+=" Fragment";y79+=" edit failed for ";m && 0 === this.duration && (m=!1);m?this.xa && this.xa.end < this.tA || q.Gp?(m=new c.Ov(this.G,this.stream,this.response),(m=m.w_a(this.xa && this.xa.end,this.S,q.Gp))?(a=a.appendBuffer(g.$z(m.Sd),g.qp(this)),r=this.uea(q)):(this.G.error(y79 + this.toString() + e79 + this.uA + "-" + this.G1 + "]"),a=!0)):a=a.appendBuffer(this.response,g.qp(this)):a=!0;return {ja:a,ij:r};break;case 2:var D79="de";D79+="fa";D79+="u";D79+="l";D79+="t";(h=this.rd,q={Gp:0});m=!0;this.I === l[D79].Ua.AUDIO && (f?k && (this.Iia(1),m=0 < this.xa.end):this.aGa(d)?d.xa && 0 !== d.xa.start?this.ei({start:0,end:d.xa.start}):m=!1:(q=this.XFa(b),h.Us || (b=this.Bdb(b,d,q.Nja),(m=b.jSb) && b.cGb && (q.Gp=0))));v60=4;break;}}};return a;break;case 2:a.prototype.aGa=function(a){var n60;n60=2;for(;n60 !== 1;){switch(n60){case 2:return a && a.u === this.u && a.Rja === this.Rja?!0:!1;break;}}};a.prototype.zfb=function(){var o60,a;o60=2;for(;o60 !== 5;){switch(o60){case 2:a=this.rd;return a.$i && !a.Lz && this.stream.Cd && (a.h3 || a.i3 && -1 !== a.i3.indexOf(this.stream.fa))?a.sTa || 2:0;break;}}};a.prototype.Xdb=function(a){var p60,b;p60=2;for(;p60 !== 5;){switch(p60){case 2:b=this.rd;return {Nja:!1,JSb:!(void 0 !== b.d7?b.d7:a && a.d7)};break;}}};l60=4;break;}}})();b.f6a=a;b["default"]=new a();},function(d,b,a){var c,h,l,g,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Sua=void 0;c=a(0);a(5);h=a(920);d=a(38);l=a(921);g=a(120);f=a(94);k=a(243);a=(function(a){function b(b,d){var f,k;k=this;f=[new l.VV(b),new l.VV(b),new l.VV(b)];k=a.call(this,f,function(a){return a.complete?k.empty || a.Ra <= k.$nb?0:1:a.active?1:2;}) || this;f=c.__read(f,3);k.le=f[0];k.pd=f[1];k.Er=f[2];k.aq=0;k.Lca=0;k.G=b;k.ve=d;return k;}c.__extends(b,a);Object.defineProperties(b.prototype,{ba:{get:function(){return this.le.ba + this.pd.ba + this.Er.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{X3a:{get:function(){return this.Er;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return this.pd;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return this.le;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{VZa:{get:function(){return this.aq;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Yz:{get:function(){return this.le.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Pj:{get:function(){return this.le.ba + this.pd.ba - this.aq;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{YVb:{get:function(){return this.Er.ba;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{first:{get:function(){return this.Nwb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{pi:{get:function(){return this.mlb();},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Lia:{get:function(){return !this.le.empty || this.Er.empty || this.pd.empty?this.first:this.pd.Ra < this.Er.Ra?this.pd.first:this.Er.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vUa:{get:function(){return this.Er.empty || this.pd.empty?this.pi:this.pd.jb < this.Er.jb?this.Er.pi:this.pd.pi;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{uPa:{get:function(){return this.Er.first;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{S:{get:function(){return this.first && this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Ra:{get:function(){return this.Lia && this.Lia.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jb:{get:function(){return this.vUa && this.vUa.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Rk:{get:function(){return this.first && this.first.Rk;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Znb:{get:function(){return this.le.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{BCb:{get:function(){return this.Pb - this.YLa || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{$nb:{get:function(){return this.le.empty?this.Ra:this.le.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{YLa:{get:function(){return this.le.empty?this.Qb:this.le.Pb;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ZLa:{get:function(){return this.le.empty?this.Rc:this.le.ee;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mYa:{get:function(){return this.pd.ee || this.le.ee;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{cr:{get:function(){return this.Er.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{kn:{get:function(){return this.pd.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{jha:{get:function(){return this.le.length;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{di:{get:function(){return this.le.concat(this.pd);},enumerable:!1,configurable:!0}});b.prototype.NH=function(a){var b;a.Fr?++this.Lca:this.aq+=a.df || 0;if(this.empty)this.rh=new k.eC(this,{});else if(a.Ra !== this.jb)if(a.Ra > this.rh.jb)this.rh.BU(this.rh.jb);else if(a.Ra < this.Ra || a.Ra === this.rh.jb){b=a.jb;this.swb(function(a,b){return a.Ra - b.Ra;},function(a){b=a.Ra === b?a.jb:b;});b === Math.max(this.jb,a.jb)?this.rh.Vga():this.rh.BU(b);}a.ssa(this);};b.prototype.pw=function(a){a.Fr?--this.Lca:this.aq-=a.df;this.empty?this.rh=void 0:a.Ra !== this.jb && a.jb <= this.rh.jb && a.Ra > this.rh.Ra && this.rh.BU(a.Ra);a.FLa();};b.prototype.push=function(b){this.NH(b);return a.prototype.push.call(this,b);};b.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b && this.pw(b);return b;};b.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b && this.pw(b);return b;};b.prototype.unshift=function(b){this.NH(b);return a.prototype.unshift.call(this,b);};b.prototype.jp=function(b){this.NH(b);a.prototype.jp.call(this,b);};b.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return !1;this.pw(b);return !0;};b.prototype.splice=function(b,d){for(var f=[],k=2;k < arguments.length;k++){f[k - 2]=arguments[k];}k=a.prototype.splice.apply(this,c.__spread([b,d],f));f.forEach(this.NH.bind(this));k.forEach(this.pw.bind(this));return k;};b.prototype.uNb=function(a){var b;b=this;this.reduce(function(c,d,f){d.Fr && (a && a(d,f,b),0 === c.length || c[0].end !== f?c.unshift({start:f,end:f + 1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end - a.start);});};b.prototype.cK=function(a){return this.Qvb(function(b){return b.cK(a);});};b.prototype.lPa=function(a){a=this.cK(a);return -1 !== a?this.get(a):void 0;};b.prototype.NQb=function(a){var c;for(var b=[];a < this.length;){c=this.get(a);c && b.push(c);a++;}return b;};b.prototype.ay=function(a){this.move(a);this.zE(a);};b.prototype.EL=function(a){this.aq+=a.df - a.Gm;this.AE(a);};b.prototype.Oj=function(a){for(this.aq+=a.df - a.Gm;this.pd.first && this.pd.first.complete && (this.le.empty?this.pd.first === this.Lia:this.pd.first.Ra === this.le.jb);){this.hSb();}this.hs(a);};b.prototype.yT=function(a,b,c){this.aq-=a.df;++this.Lca;this.D1(a,b,c);};return b;})(h.jwa);b.Sua=a;d.af(f.Av,a,!1);d.af(g.fC,a);d.af(g.bC,a);},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jwa=void 0;c=a(0);a(5);d=(function(){function a(a,b){this.Mc=a;this.YH=b;this.kw();}Object.defineProperties(a.prototype,{length:{get:function(){return this.Me;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.Me;},enumerable:!1,configurable:!0}});a.prototype.Nwb=function(){return this.dg && this.dg.get(0);};a.prototype.mlb=function(){return this.TH && this.TH.get(this.TH.length - 1);};a.prototype.get=function(a){0 > a && (a+=this.length);for(var b=0;b < this.Mc.length;++b){if(this.th[b + 1] > a)return this.Mc[b].get(a - this.th[b]);}};a.prototype.push=function(a){this.Mc[this.YH(a)].push(a);this.kw();return this.Me;};a.prototype.shift=function(){var a;if(this.dg){a=this.dg.shift();this.kw();return a;}};a.prototype.pop=function(){var a;if(this.TH){a=this.TH.pop();this.kw();return a;}};a.prototype.unshift=function(a){this.Mc[this.YH(a)].unshift(a);this.kw();return this.Me;};a.prototype.jp=function(a){var b;b=this.YH(a);this.Mc[b].jp(a);this.kw();};a.prototype.remove=function(a){var b;b=this.Mc.some(function(b){return b.remove(a);});b && this.kw();return b;};a.prototype.splice=function(a,b){var n,A,y,p;for(var d,k=[],h=2;h < arguments.length;h++){k[h - 2]=arguments[h];}for(var h=[],l,g=a + Math.max(0,b),m=0;m < this.Mc.length;++m){n=this.Mc[m];A=this.th[m];y=this.th[m + 1];if(a < y){p=a - A;A=Math.min(g - A,n.length);void 0 === l && 0 < p && A < n.length?Array.prototype.push.apply(h,n.splice.apply(n,c.__spread([p,A - p],k))):(Array.prototype.push.apply(h,n.splice(p,A - p)),void 0 === l && (l=0 < m && 0 === p?m - 1:m));a=y;if(a >= g)break;}}if(k.length && void 0 !== l){for(g=this.YH(k[0]);0 < l && g < l && this.Mc[l].empty;){--l;}for(;k.length && g === l;){this.Mc[l].push(k.shift());if(!k.length)break;g=this.YH(k[0]);}for(;k.length && ++l < this.Mc.length && this.Mc[l].empty;){for(;k.length && g === l;){this.Mc[l].push(k.shift());if(!k.length)break;g=this.YH(k[0]);}}k.length && (d=this.Mc[l]).splice.apply(d,c.__spread([0,0],k));}this.kw();return h;};a.prototype.find=function(a){var b,c;b=this;return this.Mc.some(function(d,f){c=d.find(b.Iz(a,f));return void 0 !== c;})?c:void 0;};a.prototype.findIndex=function(a){var c;for(var b=0;b < this.Mc.length;++b){c=this.Mc[b].findIndex(this.Iz(a,b));if(-1 !== c)return c + this.th[b];}return -1;};a.prototype.indexOf=function(a){var c;for(var b=0;b < this.Mc.length;++b){c=this.Mc[b].indexOf(a);if(-1 !== c)return c + this.th[b];}return -1;};a.prototype.map=function(a){var b,c;b=this;c=this.Mc.map(function(c,d){return c.map(b.Iz(a,d));});return Array.prototype.concat.apply([],c);};a.prototype.reduce=function(a,b){var c;c=this;return this.Mc.reduce(function(b,d,f){return d.reduce(c.Rib(a,f),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.Mc.forEach(function(c,d){c.forEach(b.Iz(a,d));});};a.prototype.y1=function(a){for(var b=this.Mc.length - 1;0 <= b;--b){this.Mc[b].y1(this.Iz(a,b));}};a.prototype.some=function(a){var b;b=this;return this.Mc.some(function(c,d){return c.some(b.Iz(a,d));});};a.prototype.Msa=function(a){for(var b=this.Mc.length - 1;0 <= b;--b){if(this.Mc[b].Msa(this.Iz(a,b)))return !0;}return !1;};a.prototype.every=function(a){var b;b=this;return this.Mc.every(function(c,d){return c.every(b.Iz(a,d));});};a.prototype.swb=function(a,b){var g,m;function c(b){return b.reduce(function(b,c,d,f){return void 0 === c?b:void 0 === b?d:0 > a(c,f[b])?d:b;},void 0);}for(var d=this,h=this.Mc.map(function(){return 0;}),l=this.Mc.filter(function(a){return a.empty;}).length;l < this.Mc.length;){g=h.map(function(a,b){return a < d.Mc[b].length?d.Mc[b].get(a):void 0;});m=c(g);b(g[m],this.th[m] + h[m],this);++h[m];h[m] === this.Mc[m].length && ++l;}};a.prototype.move=function(a){return this.remove(a)?(this.jp(a),!0):!1;};a.prototype.hSb=function(){var a;if(this.Mc[1].length){a=this.Mc[1].shift();this.Mc[0].push(a);this.kw();}};a.prototype.Qvb=function(a){for(var b=-1,c=0;c < this.Mc.length;++c){if((b=a(this.Mc[c]),-1 !== b)){b+=this.th[c];break;}}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.kw=function(){var b;this.Me=0;this.th=[0];this.TH=this.dg=void 0;for(var a=0;a < this.Mc.length;++a){b=this.Mc[a];this.Me+=b.length;this.th.push(this.th[this.th.length - 1] + b.length);!this.dg && b.length && (this.dg=b);b.length && (this.TH=b);}};a.prototype.Iz=function(a,b){var c,d;c=this;d=this.th[b];return function(b,f){return a(b,d + f,c);};};a.prototype.Rib=function(a,b){var c,d;c=this;d=this.th[b];return function(b,f,k){return a(b,f,d + k,c);};};return a;})();b.jwa=d;},function(d,b,a){var c,h,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.VV=void 0;c=a(0);h=a(5);d=a(38);l=a(243);a=a(120);g=(function(){function a(b,c){this.La=[];this.rh=void 0;this.zc=0;this.G=b;c && c.length && (Array.isArray(c)?(this.La=c.slice(),this.LO(0,this.La.length)):c instanceof a && (this.La=c.La.slice(),this.LO(0,this.La.length)));}Object.defineProperties(a.prototype,{length:{get:function(){return this.La.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{empty:{get:function(){return 0 === this.La.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{first:{get:function(){return this.La[0];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{pi:{get:function(){return this.La[this.La.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ra:{get:function(){return this.first && this.first.Ra;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jb:{get:function(){return this.pi && this.pi.jb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ba:{get:function(){return this.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{S:{get:function(){return this.first && this.first.S;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Rk:{get:function(){return this.first && this.first.Rk;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{$:{get:function(){return this.La;},enumerable:!1,configurable:!0}});a.prototype.get=function(a){0 > a && (a+=this.La.length);return this.La[a];};a.prototype.push=function(a){this.La.push(a);this.LO(this.La.length - 1);return this.length;};a.prototype.unshift=function(a){this.La.unshift(a);this.LO(0,1);return this.length;};a.prototype.pop=function(){if(0 !== this.La.length)return (this.tea(this.La.length - 1),this.La.pop());};a.prototype.shift=function(){if(0 !== this.La.length)return (this.tea(0),this.La.shift());};a.prototype.splice=function(a,b){for(var d,f=[],k=2;k < arguments.length;k++){f[k - 2]=arguments[k];}0 > a && (a+=this.La.length);0 > a && (a=0);a > this.La.length && (a=this.La.length);if(void 0 === b || 0 > b)b=0;b=Math.min(b,this.La.length - a);0 < b && this.tea(a,a + b);k=(d=this.La).splice.apply(d,c.__spread([a,b],f));0 < f.length && this.LO(a,a + arguments.length - 2);return k;};a.prototype.slice=function(b,c){void 0 === b && (b=0);void 0 === c && (c=this.La.length);0 > b && (b+=this.La.length);if(b >= this.La.length)return new a(this.G);c > this.La.length && (c=this.La.length);0 > c && (c+=this.La.length);return new a(this.G,this.La.slice(b,c));};a.prototype.jp=function(a){if(0 === this.La.length || a.Ra >= this.jb)this.push(a);else if(a.jb <= this.Ra)this.unshift(a);else {for(var b=0,c=this.La.length - 1,d;b < c - 1;){d=Math.floor((c + b) / 2);h.assert(d !== c && d !== b);a.Ra >= this.La[d].jb?b=d:c=d;}h.assert(b !== c);h.assert(this.La[b].jb <= a.Ra && this.La[c].Ra >= a.jb);this.splice(c,0,a);}};a.prototype.remove=function(a){a=this.La.indexOf(a);if(0 > a)return !1;this.splice(a,1);return !0;};a.prototype.concat=function(){for(var b=[],c=0;c < arguments.length;c++){b[c]=arguments[c];}b=b.map(function(a){return a.La;});return new a(this.G,Array.prototype.concat.apply(this.La,b));};a.prototype.forEach=function(a){var b;b=this;this.La.forEach(function(c,d){return a(c,d,b);});};a.prototype.some=function(a){var b;b=this;return this.La.some(function(c,d){return a(c,d,b);});};a.prototype.every=function(a){var b;b=this;return this.La.every(function(c,d){return a(c,d,b);});};a.prototype.map=function(a){var b;b=this;return this.La.map(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.La.reduce(function(b,d,f){return a(b,d,f,c);},b);};a.prototype.indexOf=function(a){return this.La.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.La.some(function(d,f){c=f;return a(d,f,b);})?this.La[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.La.some(function(d,f){c=f;return a(d,f,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.G,this.La.filter(function(a,d){return b(a,d,c);}));};a.prototype.y1=function(a){for(var b=this.La.length - 1;0 <= b;--b){a(this.La[b],b,this);}};a.prototype.Msa=function(a){for(var b=this.La.length - 1;0 <= b;--b){if(a(this.La[b],b,this))return !0;}return !1;};a.prototype.cK=function(a){if(this.empty || a < this.Rc || a >= this.ee)return -1;for(var b=0,c=this.La.length - 1,d;c > b;){d=Math.floor((c + b) / 2);if(a >= this.La[d].Rc && a < this.La[d].ee){c=d;break;}a < this.La[d].ee?c=d - 1:b=d + 1;}return c;};a.prototype.lPa=function(a){a=this.cK(a);return 0 <= a?this.La[a]:void 0;};a.prototype.d_=function(a){var b;b=this.La[a].jb;for(a+=1;a < this.La.length && b === this.La[a].Ra;++a){b=this.La[a].jb;}a < this.La.length?void 0 === this.rh?this.rh=new l.eC(this,{jb:b}):this.rh.BU(b):void 0 === this.rh?this.rh=new l.eC(this,{}):this.rh.Vga();};a.prototype.NH=function(a,b){for(var c=a;c < b;++c){this.zc+=this.La[c].ba;}void 0 === this.rh || 0 === a?this.d_(0):this.rh.jb === this.jb?this.d_(a - 1):this.La[a].Ra === this.rh.jb && this.d_(a);};a.prototype.pw=function(a,b){var c;if(0 === a)(this.rh=void 0,b < this.length && this.d_(b));else {c=this.rh;c.jb > this.La[a - 1].jb && (b < this.length?c.BU(this.La[a - 1].jb):c.Vga());}for(;a < b;++a){this.zc-=this.La[a].ba;}};a.prototype.LO=function(a,b){void 0 === b && (b=a + 1);this.NH(a,b);};a.prototype.tea=function(a,b){void 0 === b && (b=a + 1);this.pw(a,b);};return a;})();b.VV=g;d.af(a.fC,g);d.af(a.bC,g);},function(d,b,a){var c,h,l,g,f,k,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Tua=void 0;c=a(0);h=c.__importStar(a(8));a(5);d=a(38);l=c.__importDefault(a(3));g=c.__importDefault(a(109));f=a(70);k=a(82);q=a(173);v=l["default"].Vm;a=(function(a){function b(b,c,d,k,h,l,g){var m;m=this;m=["cache","edit"].filter(function(a,b){return [l,k.xa][b];});m=m.length?"(" + m.join(",") + ")":"";void 0 === k.responseType && (k.responseType=v.Yb && !v.Yb.gM.QC?0:1);m=a.call(this,b,d,m,k,h,c,g) || this;f.Lh.$a(m,b,k);m.dHa=k.VEb;m.eg.on(m,v.ie.q1b,m.Rgb);m.eg.on(m,v.ie.p1b,m.Qgb);return m;}c.__extends(b,a);b.prototype.$a=function(a){q.dC.prototype.$a.call(this,a);this.uc || !this.rd.k_ && this.wc || (this.uc=g["default"].yf());};b.prototype.Yu=function(){var a;a={start:this.offset,end:this.offset + this.ba - 1};void 0 !== this.Qb && 0 <= this.Qb && void 0 !== this.Pb && (this.HO=this.qHa(this.HO,!0),a={start:0,end:-1});return v.prototype.open.call(this,this.HO,a,this.GO,{},void 0,void 0,this.yFa);};b.prototype.D7=function(){var a,b,c;if(this.complete)return 0;a=this.K_a;b=a.N;if(!a.url)return (this.G.warn("updateurl, missing url for streamId:",a.Da,"mediaRequest:",this,"stream:",a),1);c=this.qHa(a.url,!1);return this.url === c || (b.G6(this,a.location,a.Nc),this.cV(c))?0:(this.G.warn("swapUrl failed: ",this.vE),2);};b.prototype.pP=function(){this.pd || (this.pd=!0,this.mp=this.track.mp(),this.zE(this),this.Gm=0,this.Hm=this.ud);};b.prototype.hea=function(){var a;a=this.ud;this.sA(this);this.Hm=a;};b.prototype.iea=function(){var a;a=this.ud;this.AE(this);this.Hm=a;this.Gm=this.df;};b.prototype.Rgb=function(){var a;a=this.NEb;this.Og=!0;this.uc && (this.uc.OF(a,{requestId:this.zo(),Ae:this.Zb,type:this.I}),this.uc.qra(a));};b.prototype.oP=function(){var a;a=this.ud;this.uc && this.Og && this.uc.QF(l["default"].time.aa(),this.Og,{requestId:this.zo(),Ae:this.Zb,type:this.I});this.Og=this.pd=!1;this.hs(this);this.Hm=a;this.Gm=this.df;this.dc();};b.prototype.Qgb=function(){this.uc && (this.uc.du(this.V6b,this.NEb,this.MEb,{requestId:this.zo(),Ae:this.Zb,type:this.I}),this.uc.QF(this.MEb,this.Og,{requestId:this.zo(),Ae:this.Zb,type:this.I}));this.Og=!1;};b.prototype.WFa=function(a,b,c,d){return void 0 === a || void 0 === b || void 0 === c?0:b < c?0:a < c?d:a - c;};Object.defineProperties(b.prototype,{MUb:{get:function(){return h.Y(this.Qb) || 0 > this.Qb || h.Y(this.Pb)?0:this.WFa(this.Qb,this.Pb - 1,this.dHa,this.rd.C4);},enumerable:!1,configurable:!0}});b.prototype.qHa=function(a,b){var c,d;if(h.Y(this.Qb) || 0 > this.Qb || h.Y(this.Pb))return a;c=[];d=this.WFa(this.Qb,this.Pb - 1,this.dHa,this.rd.C4);c.push("ptsRange/" + this.Qb + "-" + (this.Pb - 1));0 < d && b && c.push("timeDelay/" + d);a=a.split("?");b=a[0];for(var d="",f=0;f < c.length;f++){d+="/" + c[f];}return a[1]?b + (d + "?" + a[1]):b + d;};return b;})(k.cC);b.Tua=a;d.af(f.Lh,a,!1);},function(d,b,a){var c,h,l,g,f,k,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Zua=void 0;c=a(0);h=a(95);l=a(5);c.__importDefault(a(3));g=a(9);f=a(248);k=a(70);q=a(244);v=a(82);d=(function(a){function b(c,d,f,h,l,g){d=a.call(this,c,h,l,d,g) || this;d.Beb=f;d.aZ=b.nC.INIT;d.Z3b=h.offset;d.Qda=k.Lh.prototype.toString.call(d) + " multiple";d.bhb=h.ba;d.MI(c.url,h.offset,8,0);return d;}c.__extends(b,a);Object.defineProperties(b.prototype,{data:{get:function(){return this.Vp;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ba:{get:function(){return this.bhb;},enumerable:!1,configurable:!0}});b.prototype.Oj=function(a){var c,d;this.Vp=this.aZ === b.nC.INIT?a.response:g.$z(this.Vp,a.response);a.aU();switch(this.aZ){case b.nC.INIT:c=new DataView(this.Vp);d=c.getUint32(0);c=c.getUint32(4);h.kz(c);this.MI(a.url,a.offset + a.ba,d,0);f.aC.prototype.Oj.call(this,a);this.aZ=b.nC.$za;break;case b.nC.$za:c=new DataView(this.Vp);d=c.getUint32(this.VFa - 8);c=c.getUint32(this.VFa - 4);h.kz(c);this.MI(a.url,a.offset + a.ba,d - 8,0);this.aZ=b.nC.Vza;f.aC.prototype.Oj.call(this,a);break;case b.nC.Vza:f.aC.prototype.Oj.call(this,a);break;default:l.assert(!1);}};b.prototype.LD=function(a){if(this.ze)return {status:v.Ji.Dv};if(!this.ws())return {status:v.Ji.ERROR};this.ze=a.appendBuffer(this.Vp,g.qp(this));return {status:this.ze?v.Ji.Dv:v.Ji.ERROR};};b.prototype.MI=function(a,b,c,d){a=new q.pN(this.stream,this.Beb,this.Qda + " (" + this.ya.length + ")",{u:this.u,I:this.I,Da:this.Da,U:this.U,offset:b,ba:c,url:a,location:this.location,Zb:this.Zb,responseType:d},this,this.rd,this.G);this.push(a);this.VFa=this.ya.reduce(function(a,b){return a + b.ba;},0);};b.nC={INIT:0,$za:1,Vza:2,name:["INIT","MOOF","MDAT"]};return b;})(f.aC);b.Zua=d;},function(d,b,a){var c,h,l,g,f;Object.defineProperties(b,{__esModule:{value:!0}});b.jva=void 0;c=a(0);a(5);d=a(38);h=c.__importDefault(a(3));l=c.__importDefault(a(109));g=a(70);a=a(82);f=h["default"].Vm;a=(function(a){function b(b,c,d,f,k,h,l){f.responseType=0;d=a.call(this,b,d,"",f,k,c,l) || this;g.Lh.$a(d,b,f);d.qoa=c.qoa;d.roa=c.roa;d.Cja=0;return d;}c.__extends(b,a);b.prototype.$a=function(){this.uc || (this.uc=l["default"].yf());};b.prototype.Yu=function(){return f.prototype.open.call(this,this.HO,{start:this.offset,end:this.offset + Math.min(this.roa,Math.floor(this.qoa * this.ba)) - 1},this.GO,{},void 0,void 0,void 0);};b.prototype.abort=function(){return !0;};b.prototype.pP=function(){var a;a=this.ud || this.ce;this.pd || (this.pd=!0,this.Cja=a);};b.prototype.hea=function(){this.Cja=this.ud;};b.prototype.iea=function(){};b.prototype.oP=function(){var a;a=this.ud;this.uc && this.uc.du(this.df,this.Cja,a,{requestId:this.zo(),Ae:this.Zb,type:this.I,JG:!0});this.Og=this.pd=!1;this.dc();};b.prototype.CI=function(){this.eg && this.eg.clear();};return b;})(a.cC);b.jva=a;d.af(g.Lh,a,!1);},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.nEa=void 0;c=a(175);a(21);d=(function(){function a(a,b){this.Ig=a;this.console=b;this.jD=Infinity;this.PO=this.FZ=0;this.zIa=!1;}a.prototype.pPb=function(){this.zIa=!0;};a.prototype.Pvb=function(a,b,d,k,h){var f;if(this.Ig){f=a.$;if(f){if(1 === d)(d=f.sm(this.Ig * a.wa.da,void 0,!0),f=a.ej(d),f.ei({start:0,end:this.Ig - d * f.T0.Xo(a.wa)}),this.jD=this.Ig);else {void 0 !== k.X1a?(b=k.X1a,d=b * a.wa.da):(d=c.Lka(k,h) + k.Wkb * a.wa.da,d=b + d,b=Math.ceil(d / a.wa.da));d=f.sm(d,void 0,!0);for(h=k=0;h < d;++h){f=a.ej(h);k+=f.T0.Xo(a.wa);}k=b - k;f=a.ej(d);f.ei({end:k});this.jD=b;}f.sVa();return f;}}};a.prototype.CCb=function(a){this.PO+=a.M_a;this.console.warn("StallAtFrameCount, adding frames: " + a.M_a,"total frames: " + this.PO,"needed frames: " + this.jD);};a.prototype.CBb=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:","requested: " + this.FZ,"needed: " + this.jD);return this.FZ >= this.jD;};a.prototype.BBb=function(){return this.PO >= this.jD;};a.prototype.ECb=function(a,b){this.FZ+=this.xA(a,b);};a.prototype.Kub=function(a,b,c){a.M_a=this.xA(b,c);};a.prototype.xA=function(a,b){return a.T0.Xo(b.wa);};a.prototype.Ww=function(){if(!this.BBb())return !1;if(this.zIa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",this.PO + " >= " + this.jD);return !0;};return a;})();b.nEa=d;},function(d,b,a){var c,h,l,g,f,k,q,v,r,u,n;Object.defineProperties(b,{__esModule:{value:!0}});b.nY=void 0;d=a(0);c=d.__importStar(a(8));h=d.__importDefault(a(25));l=d.__importDefault(a(3));g=a(34);f=a(17);k=a(250);q=a(927);v=new l["default"].Console("ASEJS_STREAM_SELECTOR","media|asejs");r=[f.oa[f.oa.oh],f.oa[f.oa.cd],f.oa[f.oa.nf],f.oa[f.oa.Uc],f.oa[f.oa.uj],"checkBuffering"];u={first:a(928),random:a(929),optimized:a(178)["default"],roundrobin:a(933),selectaudio:a(420),selectaudioadaptive:a(934),"default":a(178)["default"],lowest:a(935),highest:a(936),throughputthreshold:a(937),replay:a(938)["default"],checkdefault:a(940),testscript:a(941)};n={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};a=(function(){var w60;w60=2;for(;w60 !== 14;){switch(w60){case 2:a.prototype.u6=function(a,b,d,m,q,r){var X99=a000;var z60,U,t,p,D,I,J,u,n,B,y,A,A60;z60=2;for(;z60 !== 48;){switch(z60){case 39:var l79="def";l79+="a";l79+="ul";l79+="t";var u79="de";u79+="f";u79+="ault";var O79="d";O79+="e";O79+="faul";O79+="t";var V79="pl";V79+="a";V79+="ying";a.state !== f.oa.Uc && a.state !== f.oa.uj?(b=k.y5(a.state),r=this.Ww(a.buffer,b,a.playbackRate,m,r),(U.wg=r.complete)?U.H_=r.reason:(U.wg=!1,U.SF=r.SF,U.XA=r.XA,U.zi=r.zi)):(U.wg=!0,U.H_=V79);a.gR && (U.ac=d.ac,r=a && a.Ag,b=m.$,U.Wh=b && void 0 !== r && !isNaN(r) && 0 <= r && r < b.length?b.pj(r):d.ac,U.uMb=m.Ka || 0,U.qJb=m.kb && m.kb.Ka && m.kb.Ka.Ca || 0,U.qga=d.uk - d.ad,U.QKa=d.Fi,U.dMb=null !== (B=null === (n=null === (u=l[O79].l6b) || void 0 === u?void 0:u.call(l[u79])) || void 0 === n?void 0:n[1 === a.I?1:0]) && void 0 !== B?B:-1,U.oB=a.state,U.kn=a && a.kn,U.Jta=y,U.yUb=l[l79].time.aa());return U;break;case 17:U=this.Kf[f.oa[a.state]].call(this,A,a,b,p,m,! !q);z60=16;break;case 8:z60=0 < J?7:13;break;case 19:this.Vda=this.Rda=void 0;z60=18;break;case 54:var p79="defa";p79+="u";p79+="l";p79+="t";this.Zf.d1a(h[p79].TW.oh);z60=17;break;case 49:var T79="St";T79+="r";T79+="eam sel";T79+="ector called with in";T79+="valid player state ";return (v.error(T79 + f.oa[a.state]),null);break;case 53:z60=A60 === f.oa.nf?54:52;break;case 6:z60=!(0 <= p)?14:13;break;case 14:(t=I[J - 1].U,p=g.Iw(b,function(a){var C60;C60=2;for(;C60 !== 1;){switch(C60){case 2:return a.U > t;break;}}}),p=0 < p?p - 1:0 === p?0:b.length - 1);z60=13;break;case 50:z60=49;break;case 29:z60=!U || null === U.Vd?28:44;break;case 31:I.$ && I.$.length || (m=!0,U.ex.push(I.Da));z60=30;break;case 15:q=d.uk - d.ad;z60=27;break;case 25:z60=A.M1a && q > A.bT?24:30;break;case 27:I=void 0;m=!1;z60=25;break;case 22:I=b[q];z60=21;break;case 35:z60=!m?34:30;break;case 34:X99.W24(6);var n41=X99.Y24(13,13);q=U.Vd - n41;z60=33;break;case 44:this.Zf.tsa(U.Vd);m=b[U.Vd];U.reason && (m.Yq=U.reason,m.xU=U.Gu,m.Ax=U.Ax,m.sl=U.sl,m.tl=U.tl);this.VXa && (U.Gs=this.VXa.Dzb({Am:m.N.Cs[m.I],iJ:d.uk - d.ad}));c.qa(p) && m.U < b[p].U && (this.Rda=d.ac);z60=39;break;case 16:z60=U.Vn && (U.ex=[],b.forEach(function(a,b){var D60;D60=2;for(;D60 !== 4;){switch(D60){case 2:a === U.Vn && (U.Vd=b);(!A.Ztb || a.$ && a.$.length) && !a.Usa || U.ex.push(a.Da);a.Usa=!1;D60=4;break;}}}),!U.ex.length)?15:29;break;case 36:z60=A60 === f.oa.cd?54:53;break;case 7:(D=I[J - 1].Da,p=g.Iw(b,function(a){var B60;B60=2;for(;B60 !== 1;){switch(B60){case 2:return a.Da === D;break;}}}));z60=6;break;case 33:z60=0 <= q?32:30;break;case 51:z60=A60 === f.oa.uj?17:50;break;case 52:z60=A60 === f.oa.Uc?17:51;break;case 3:c.qa(p) && p >= b.length && (this.Zf.tsa(void 0),p=void 0);(I=d.$,J=I.length);z60=8;break;case 2:var F79="de";F79+="f";F79+="au";F79+="lt";d=null === a || void 0 === a?void 0:a.buffer;(y=l[F79].time.aa(),A=this.H,p=this.Zf.AS);c.qa(p) && a.state === f.oa.oh && (this.Zf.tsa(void 0),p=void 0);z60=3;break;case 23:z60=q < b.length?22:35;break;case 24:X99.W24(7);var o41=X99.r24(12,14,1,75,7);q=U.Vd + o41;z60=23;break;case 28:return null;break;case 20:A60=a.state;z60=A60 === f.oa.oh?19:36;break;case 10:a.state !== f.oa.oh && void 0 === p && (a.state=f.oa.oh);z60=20;break;case 13:c.Y(p) && (p=this.Zf.AS);void 0 !== m && this.qqa(b,! !a.Eq,a.buffer,m);a.state === f.oa.oh && c.qa(p) && (a.state=f.oa.cd);z60=10;break;case 21:I.$ && I.$.length || (m=!0,U.ex.push(I.Da));z60=35;break;case 30:m || (U.ex=void 0);z60=29;break;case 18:var t79="de";t79+="fau";t79+="lt";this.Zf.d1a(h[t79].TW.oh);z60=17;break;case 32:I=b[q];z60=31;break;}}};a.prototype.Ww=function(a,b,c,d,f){var E60;E60=2;for(;E60 !== 1;){switch(E60){case 2:return this.Kf.checkBuffering.call(this,a,b,c,d,f,this.H);break;}}};a.prototype.ETb=function(a,b,d){var F60;F60=2;for(;F60 !== 1;){switch(F60){case 2:c.Y(b)?this.Rda=this.Vda=void 0:b.U < d.U && (this.Vda=a);F60=1;break;}}};w60=4;break;case 4:a.prototype.qqa=function(a,b,c,d){var G60,f,k;G60=2;for(;G60 !== 5;){switch(G60){case 2:this.y1(a,function(a){var H60;H60=2;for(;H60 !== 1;){switch(H60){case 2:a.xs && a.kb && a.kb.Pd?(f !== a.kb && (f=a.kb,b && a.kb && (a.kb.Eq=!0),k=Math.floor(d(a.kb,c,a.track.N.Cs[0])),k=0 === k?1:k),a.Ka=k):a.Ka=void 0;H60=1;break;}}});G60=5;break;}}};a.prototype.y1=function(a,b){var I60,c;I60=2;for(;I60 !== 3;){switch(I60){case 2:c=a.length - 1;I60=1;break;case 1:I60=0 <= c?5:3;break;case 7:I60=6 >= c?6:4;break;I60=0 <= c?5:3;break;case 4:--c;I60=1;break;case 6:b(a[c],c,a);I60=5;break;I60=4;break;case 5:b(a[c],c,a);I60=4;break;}}};Object.defineProperties(a.prototype,{L3:{get:function(){var J60;J60=2;for(;J60 !== 1;){switch(J60){case 2:return this.Rda;break;case 4:return this.Rda;break;J60=1;break;}}},enumerable:!1,configurable:!0}});w60=8;break;case 8:Object.defineProperties(a.prototype,{tna:{get:function(){var K60;K60=2;for(;K60 !== 1;){switch(K60){case 2:return this.Vda;break;case 4:return this.Vda;break;K60=1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{AS:{get:function(){var L60;L60=2;for(;L60 !== 1;){switch(L60){case 2:return this.Zf.AS;break;case 4:return this.Zf.AS;break;L60=1;break;}}},enumerable:!1,configurable:!0}});return a;break;}}function a(a,b,c,d){var x60,f;x60=2;for(;x60 !== 6;){switch(x60){case 2:var n79="1";n79+="SI";n79+="YbZrNJCp9";f=this;this.qM=a;this.H=b;this.Zf=c;n79;a=a || this.H.W6;this.Kf=r.reduce(function(b,c){var y60;y60=2;for(;y60 !== 5;){switch(y60){case 2:b[c]=((u[a] || u[n[c]])[c] || u[n[c]][c]).bind(f);return b;break;}}},{});x60=7;break;case 7:d && (this.VXa=new q.EBa(b));x60=6;break;}}}})();b.nY=a;},function(d,b,a){var h;function c(a){return a.Am;}Object.defineProperties(b,{__esModule:{value:!0}});b.EBa=void 0;new (a(0).__importDefault(a(3))["default"].Console)("ASEJS_PACERATE_SELECTOR","media|asejs");h={maxStreamBitrate:c,"static":function(a,b){return b.oTb;},"default":c};d=(function(){var M60;M60=2;for(;M60 !== 5;){switch(M60){case 2:a.prototype.Dzb=function(a){var O60,b,c;O60=2;for(;O60 !== 4;){switch(O60){case 2:(b={JQ:0,yMa:0,Bha:0},c=this.H.Lnb);a.iJ && a.iJ > c.eT && (a=this.algorithm(a,this.H),c.XT[0] && (b.JQ=c.XT[0] * a),c.XT[1] && (b.yMa=c.XT[1] * a),c.XT[2] && (b.Bha=c.XT[2] * a));return b;break;}}};return a;break;}}function a(a){var N60;N60=2;for(;N60 !== 4;){switch(N60){case 2:var s79="d";s79+="e";s79+="fa";s79+="u";s79+="lt";var v79="1SI";v79+="YbZ";v79+="rN";v79+="JCp";v79+="9";this.H=a;v79;this.algorithm=(h[this.H.LKb] || h[s79]).bind(this);N60=4;break;}}}})();b.EBa=d;},function(d,b,a){var h,l,g,f;function c(a,b,c,d){if(h.Y(d))a=l(c);else if(g(c[d]))a=d;else if((a=l(c,d),0 > a))return null;return new f(a);}h=a(8);b=a(37);l=b.zja;g=b.PK;f=b.oo;d.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var h;function c(a,b,c){a=c.map(function(a,b){return a.xs?b:null;}).filter(function(a){return null !== a;});return a.length?new h(a[Math.floor(Math.random() * a.length)]):null;}h=a(37).oo;d.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var c,h,l,g,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.s6=void 0;d=a(0);c=d.__importStar(a(8));h=a(34);d=d.__importDefault(a(37));l=a(419);g=d["default"].assert;f=d["default"].oo;b.s6=k;(function(){var P60;P60=2;function a(a,b,d,k){var Q60,m,q,r,v,u;function l(c){var R60,d;R60=2;for(;R60 !== 8;){switch(R60){case 5:return !1;break;case 2:d=c.Ka;R60=1;break;case 3:v=d;return !0;break;case 1:R60=!d || (c.U > q?a.LWb:1) * c.U * b.playbackRate > d?5:4;break;case 4:var Q79="buf";Q79+="f_lt";Q79+="_";Q79+="hi";Q79+="st";u=Q79;R60=3;break;}}}Q60=2;for(;Q60 !== 7;){switch(Q60){case 2:var I79="select_f";I79+="eas";I79+="ible_b";I79+="uf";I79+="fering";var R79="fallback";R79+="_lowes";R79+="t_acceptable_stream";var q79="Must have at le";q79+="as";q79+="t one selected stream";g(!c.Y(k),q79);(m=d[k],q=m.U,r=m);m.Ka && (m=h.Qg(d.slice(0,Math.min(k + (a.bkb?2:1),d.length)).reverse(),l),void 0 === m?(m=d[0],u=R79):u=I79,v=null === m || void 0 === m?void 0:m.Ka);d=new f();d.Vn=m;r !== m && (d.reason=u,d.Gu=v);return d;break;}}}for(;P60 !== 5;){switch(P60){case 2:var Z79="1SI";Z79+="YbZrNJ";Z79+="C";Z79+="p9";b.s6=k=function(b,c,d,f,k,h){var S60;S60=2;for(;S60 !== 1;){switch(S60){case 2:var o79="play";o79+="in";o79+="g";return o79 === b.oga?l.ov.call(this,b,c,d,f,k,h):a.call(this,b,c,d,f);break;}}};Z79;P60=5;break;}}})();},function(d,b,a){var c;a(8);c=a(37).console;d.exports=function(a,b,d,f,k,g,v,r,u,n,A,y,p,J,D){var f99=a000;var T60,h,l,m,q,B,I,t,ea;T60=2;for(;T60 !== 38;){switch(T60){case 34:f99.L24(3);a=f99.Y24(d,v);T60=33;break;case 30:T60=k < d && ea < r?29:28;break;case 17:f99.L24(6);p*=f99.Y24(h,1E3);T60=16;break;case 21:T60=!D && (a=v - d,a < J)?35:34;break;case 43:t=a;T60=42;break;case 27:q=m[r];B=l[r];T60=25;break;case 23:T60=A < t?22:21;break;case 2:var C79="1SIYbZ";C79+="rNJ";C79+="Cp9";C79;h=a.S;b=Math.min(a.length,b);(l=a.Zd,m=a.sizes,I=f - d);f=Infinity;(t=0,ea=0);T60=8;break;case 22:(d=k,A+=m[ea],++ea,a=l[ea],k+=a);T60=23;break;case 40:return {result:!1,MS:Math.min(a,f) / (h / 1E3),uu:!0};break;case 25:T60=A < q?24:41;break;case 31:A-=q;T60=30;break;case 28:++r;T60=44;break;case 16:f99.W24(6);I*=f99.Y24(h,1E3);T60=15;break;case 15:T60=r < b?27:39;break;case 33:f99.L24(8);d+=f99.r24(y,g,0,q);v+=B;T60=31;break;case 24:t=Math.max(q,n);T60=23;break;case 39:return {result:!0,MS:f / (h / 1E3),uu:!0};break;case 44:T60=r >= u && a > I?39:43;break;case 8:a=a.Zd[0];f99.W24(9);k=f99.r24(1E3,h,a,k);f99.L24(10);a=f99.r24(y,0,g,8);f99.L24(11);y=f99.Y24(8,y,0);T60=13;break;case 29:(A+=m[ea],++ea,k+=l[ea]);T60=30;break;case 10:0 === v && (d=0);f99.L24(6);d*=f99.r24(h,1E3);f99.L24(6);v*=f99.Y24(h,1E3);f99.L24(6);J*=f99.r24(h,1E3);T60=17;break;case 35:return {result:!1,MS:a / (h / 1E3),uu:!1};break;case 42:f=Math.min(a,f);T60=15;break;case 41:T60=(a=Math.max(v - d,0),a < p && a < t)?40:33;break;case 13:var i79=" >=";i79+=" frag";i79+="mentsL";i79+="ength: ";var x79="Strea";x79+="m";x79+="in";x79+="g";x79+="Index: ";f99.W24(6);g=f99.r24(h,1E3);r >= b && c.error(x79 + r + i79 + b);d+=a;T60=10;break;}}};},function(d,b,a){var c,h,l,g,f,k,q,v,r,u,n;Object.defineProperties(b,{__esModule:{value:!0}});b.zDb=b.E0a=void 0;c=a(0);h=c.__importDefault(a(83));l=c.__importStar(a(8));g=a(34);f=a(394);k=c.__importDefault(a(3));d=c.__importDefault(a(108));a=c.__importDefault(a(37));q=a["default"].gIb;v=a["default"].emb;r=a["default"].W_;u=a["default"].oo;n=d["default"].Esa;a=(function(){function b(a,b,c){var W60;W60=2;for(;W60 !== 5;){switch(W60){case 2:a=v(c.jj,a * c.zoa);return q(a,b);break;}}}function m(c,f,k){var a70,h,g,m,q,r,v;a70=2;for(;a70 !== 13;){switch(a70){case 2:(h=! !c.pL && ! !c.MVa && k.every(function(a){var b70;b70=2;for(;b70 !== 1;){switch(b70){case 2:return a.tb && 110 >= a.tb;break;case 4:return a.tb || 425 <= a.tb;break;b70=1;break;}}}),g=null,m=k.length - 1);a70=1;break;case 5:(q=k[m],g=a(q,c),r=b(q.U * f.playbackRate,g.Gu,c),v=d(g.Gu,c),v=B(q,0,h,r,v,c),q=v.p1,v=v.reason);g.Ax=r;a70=3;break;case 1:a70=0 <= m && (h?k[m].tb >= c.pL:k[m].U >= c.Su)?5:7;break;case 9:g.reason=v;a70=8;break;case 8:m--;a70=1;break;case 7:var f79="fallback_no_acceptabl";f79+="e";f79+="_s";f79+="tream";l.ab(g) && (g=a(k[0],c));l.ab(g) && (g=a(k[0],c),g.reason=f79);return g;break;case 3:a70=q?7:9;break;}}}var U60;function B(a,b,c,d,f,k){var c70;c70=2;for(;c70 !== 5;){switch(c70){case 2:var c79="no_";c79+="valid_B";c79+="itrate";var k79="no";k79+="_valid_";k79+="VM";k79+="A";k79+="F";var A79="no_v";A79+="alid";A79+="_DelayT";A79+="a";A79+="rget";a=c?a.tb >= k.pL && a.tb <= k.MVa:a.U >= k.Su && a.U <= k.Sx;return (d=d < f && a)?{p1:d}:{p1:d,reason:a?A79:c?k79:c79};break;}}}function p(a,d,f){var d70,k,h;d70=2;for(;d70 !== 4;){switch(d70){case 7:return k;break;d70=4;break;case 5:return k;break;case 2:(k=new u(),h=Math.max(a.Su,a.u4,d.s3?a.Joa:-Infinity));k.Vn=g.Qg(f.filter(function(b){var e70;e70=2;for(;e70 !== 1;){switch(e70){case 4:return b.U > a.Sx;break;e70=1;break;case 2:return b.U <= a.Sx;break;}}}).reverse(),function(f){var f70,l,m,g;f70=2;for(;f70 !== 13;){switch(f70){case 2:l={Ka:f.Ka,mk:f.kb && f.kb.mk,qj:f.kb && f.kb.qj};f70=1;break;case 1:f70=f.U > h?5:14;break;case 8:var H79="hist_";H79+="bu";H79+="f";H79+="ftim";H79+="e";b(f,g,a) <= m?(k.Gu=g,l && (k.sl=l.mk?l.mk:0,k.tl=l.mk && l.qj),k.reason=H79,l=!0):l=!1;f70=7;break;case 7:return l;break;case 9:m=c(a,f);f70=8;break;case 5:f=f.U * d.playbackRate;g=l.Ka;f70=3;break;case 6:l=!1;f70=7;break;case 3:f70=g?9:6;break;case 14:var Y79="no_historical_l";Y79+="te_min";Y79+="bitrate";var r79="hist_tput_";r79+="lt_min";r79+="b";r79+="itrat";r79+="e";var K79="lt_hist_l";K79+="t";K79+="e_minbitrate";(g=l.Ka,f.U * d.playbackRate <= g?(k.Gu=g,l && (k.sl=l.mk?l.mk:0,k.tl=l.mk?l.qj:void 0),k.reason=K79,l=!0):g?(k.Gu=g,l && (k.sl=l.mk?l.mk:0,k.tl=l.mk?l.qj:void 0),k.reason=r79,l=!1):(k.reason=Y79,l=!0));f70=7;break;}}}) || f[0];d70=5;break;}}}U60=2;function c(a,b){var X60,c,d;X60=2;for(;X60 !== 13;){switch(X60){case 1:(c=a.a3,d=g.Iw(c,function(a){var Y60;Y60=2;for(;Y60 !== 1;){switch(Y60){case 4:return b >= a.r;break;Y60=1;break;case 2:return b <= a.r;break;}}}));X60=5;break;case 2:X60=a.a3?1:14;break;case 9:return c[c.length - 1].d;break;case 5:X60=0 === d?4:3;break;case 3:X60=-1 === d?9:8;break;case 4:return c[0].d;break;case 8:a000.L24(3);a=c[a000.r24(1,d)];c=c[d];X60=6;break;case 6:return Math.floor(a.d + (c.d - a.d) * (b - a.r) / (c.r - a.r));break;case 14:return a.Lq;break;}}}for(;U60 !== 5;){switch(U60){case 2:var W79="1SI";W79+="YbZ";W79+="rN";W79+="JCp9";W79;return {cib:function(a,b,c){var i70;i70=2;for(;i70 !== 1;){switch(i70){case 2:var L79="his";L79+="toric";L79+="a";L79+="l";return L79 === a.vma?t(a,b,c):a.UP?m(a,b,c):p(a,b,c);break;}}},Cfb:B};break;}}function d(a,b){var Z60,c;Z60=2;for(;Z60 !== 9;){switch(Z60){case 5:c=b.mM;Z60=4;break;case 4:return (c=b.F0a[c]) && 2 === c.length?1E3 * (c[0] + c[1] * Math.log(1 + a)):b.Lq;break;case 1:var B79="l";B79+="o";B79+="g";Z60=0 === b.mM.lastIndexOf(B79,0)?5:3;break;case 2:a000.W24(12);var q41=a000.Y24(11,38,6,14,99981);a=r(a,0,q41) / 1E3;Z60=1;break;case 3:var J79="si";J79+="g";J79+="m";J79+="oid";return 0 === b.mM.lastIndexOf(J79,0)?(c=b.mM,(c=b.F0a[c]) && 2 === c.length?1E3 * (c[0] + c[1] * n(a)):b.Lq):b.Lq;break;}}}function a(a,b){var V60,c,d;V60=2;for(;V60 !== 12;){switch(V60){case 6:(d=f.IEa.Gzb(a),l.vc(d)?(a.ti=d,d=!0):d=!1);V60=14;break;case 2:c=new u();c.Vn=a;a=c.Vn.kb || ({});c.tl=a.mk && a.qj;V60=3;break;case 3:var M79="d";M79+="ef";M79+="a";M79+="ul";M79+="t";c.sl=a.mk?a.mk:0;a=h[M79](c.tl,{});V60=7;break;case 7:V60=(d=l.qa(b.t6) && 0 <= b.t6 && 100 >= b.t6 && !l.Y(a) && !l.ab(a))?6:14;break;case 14:var m79="hist_t";m79+="hr";m79+="oughpu";m79+="t";var G79="hist_td";G79+="i";G79+="g";G79+="est";d?(b=a.ti(b.t6 / 100) || c.Vn.Ka,c.Gu=b,c.reason=G79):c.Vn.Ka && (b=c.Vn.Ka,c.Gu=b,c.reason=m79);return c;break;}}}function t(a,b,c){var g70,d;g70=2;for(;g70 !== 7;){switch(g70){case 8:return a;break;case 4:var z79="h";z79+="ist";z79+="_";z79+="bitrat";z79+="e";a=new u();a.Vn=g.Qg(c.slice().reverse(),function(a){var h70;h70=2;for(;h70 !== 1;){switch(h70){case 2:return a.U <= d;break;}}}) || c[0];a.reason=z79;g70=8;break;case 5:return a.UP?m(a,b,c):p(a,b,c);break;case 1:var N79="n";N79+="u";N79+="m";N79+="ber";g70=N79 !== typeof d?5:4;break;case 2:var E79="v";E79+="b";var X79="de";X79+="f";X79+="aul";X79+="t";d=k[X79].storage.get(E79);g70=1;break;}}}})();d=a.Cfb;b.E0a=a.cib;b.zDb=d;},function(d,b,a){var h,l,g,f;function c(a,b,c){var d,k;d=this.Tda;b=b.buffer.ac;k="forward" === a.$Pb;if(h.Y(d))return (d=k?l(c):l(c,c.length),this.Uda=b,this.Tda=d,new f(d));g(c[d]) || (d=l(c,d),this.Uda=b,this.Tda=d);if(0 > d)return null;if(b > this.Uda + a.IUb){a=c.map(function(a,b){return a.xs?b:null;}).filter(function(a){return null !== a;});if(!a.length)return null;k?d=(a.indexOf(d) + 1) % a.length:(d=a.indexOf(d) - 1,0 > d && (d=a.length - 1));this.Tda=a[d];this.Uda=b;return new f(a[d]);}return new f(d);}h=a(8);b=a(37);l=b.zja;g=b.PK;f=b.oo;d.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){(function(){var j70,l,g,f,k,q,v,r,u,n,A;j70=2;function h(a,b,c,d){var m70,v,n,B,y,A,p,h,I,J,g,m;m70=2;for(;m70 !== 33;){switch(m70){case 7:(v=c[d],n=v.U,B=m.indexOf(d),y=v.Ka,A=a.Zkb);m70=6;break;case 12:var w79=" k";w79+="bps";w79+=", try to downswitch";var h79=" ";h79+="kbps";h79+=" < ";var S79="throughp";S79+="ut ";S79+="f";S79+="or au";S79+="dio ";(k && f.log(S79 + y + h79 + A.UNa + "*" + n + w79),--B);m70=11;break;case 23:var P79="m";P79+="s";var a79=", b";a79+="uffer";a79+=" le";a79+="vel ";a79+="= ";var U79=", ";U79+="lastUpswi";U79+="tc";U79+="hPts = ";var j79="  Upswit";j79+="c";j79+="h not allowed. lastDownswitchPts = ";k && f.log(j79 + J + U79 + I + a79 + p + P79);m70=22;break;case 26:m70=++B < m.length?25:22;break;case 18:B--;m70=11;break;case 6:m70=0 > B?14:13;break;case 25:m70=(n=m[B],p=c[n],r(p) && y > A.Z3a * p.U * b.playbackRate)?24:26;break;case 10:(n=m[B],p=c[n]);m70=20;break;case 19:g=n;m70=22;break;case 2:var b79="Must have at";b79+=" least one se";b79+="le";b79+="cted stream";q(!l.Y(d),b79);h=c[d].yg;m70=5;break;case 4:return new u(d);break;case 11:m70=0 <= B?10:22;break;case 5:m70=!(a && a.OM && 0 <= a.OM.indexOf(h))?4:3;break;case 13:m70=B && y < A.UNa * n * b.playbackRate?12:17;break;case 17:var y49=" k";y49+="b";y49+="p";y49+="s";var g49=" kb";g49+="ps";g49+=" >";g49+=" ";var d79="t";d79+="hroughpu";d79+="t for audio";d79+=" ";m70=B < m.length - 1 && y > A.Z3a * n * b.playbackRate && (k && f.log(d79 + y + g49 + A.Z3a + "*" + n + y49),n=b.buffer,p=n.uk - n.ad,v.$ && v.$.length)?16:22;break;case 27:var V49=",";V49+=" st";V49+="reamingP";V49+="ts = ";var D49=", lastUpsw";D49+="it";D49+="chPts = ";var e49="  Up";e49+="switch allow";e49+="ed. lastDownsw";e49+="itchPts = ";k && f.log(e49 + J + D49 + I + V49 + n.ac);m70=26;break;case 24:g=n;m70=22;break;case 22:var v49="kbps,";v49+=" s";v49+="trea";v49+="ming";v49+="Pts :";var n49=", aud";n49+="i";n49+="o throug";n49+="hp";n49+="ut:";var t49=" k";t49+="bps,";t49+=" p";t49+="rof";t49+="ile :";var F49="selectAudio";F49+="Stream: selected stre";F49+="am :";var T49=" ";T49+="kb";T49+="ps";var p49=" kb";p49+="ps";p49+=",";p49+=" to ";var l49="s";l49+="witching audi";l49+="o from ";var u49="d";u49+="o";u49+="w";u49+="n";var O49="u";O49+="p";y=c[g];g !== d && k && f.log((g > d?O49:u49) + l49 + v.U + p49 + y.U + T49);k && f.log(F49 + y.U + t49 + h + n49 + y.Ka + v49 + b.buffer.ac);return new u(g);break;case 15:m70=b.SA && p > A.Lx && (void 0 === J || Number(I) > J || n.ac - J > A.U3)?27:23;break;case 16:(I=this.tna,J=this.L3);m70=15;break;case 8:m70=m && 1 < m.length?7:22;break;case 3:g=d;a.J2a.some(function(d){var n70,f,k,l,g,q,r;n70=2;for(;n70 !== 9;){switch(n70){case 1:n70=k?5:3;break;case 4:m=c.filter(function(a){var o70,b;o70=2;for(;o70 !== 5;){switch(o70){case 2:b=a.U;return b >= g && b <= q && 0 <= f.indexOf(a.yg) && b * l / 8 < r;break;}}}).map(function(a){var p70;p70=2;for(;p70 !== 1;){switch(p70){case 4:return a.Yf;break;p70=1;break;case 2:return a.Yf;break;}}});n70=3;break;case 12:return k;break;n70=9;break;case 2:(f=d.profiles,k=f && 0 <= f.indexOf(h));n70=1;break;case 5:(l=(d=d.GL) && d.z4 || a.z4,g=d && d.F7b || -Infinity,q=d && d.cL || Infinity,r=b.buffer.lq);n70=4;break;case 6:n70=k?0:6;break;n70=k?5:3;break;case 3:return k;break;}}});m70=8;break;case 14:g=0;m70=22;break;case 20:m70=r(p) && (0 == B || p.U * b.playbackRate * A.UNa < y)?19:18;break;}}}for(;j70 !== 4;){switch(j70){case 2:var R49="1SI";R49+="YbZrNJC";R49+="p9";(l=a(8),g=a(37),f=g.console,k=g.debug,q=g.assert,v=a(83),r=g.PK,u=g.oo,n=a(420),A=a(17).oa);d.exports={STARTING:function(a,c,d,h){var q70,l,g;q70=2;for(;q70 !== 6;){switch(q70){case 3:var Q49=" kb";Q49+="ps, p";Q49+="rofile ";Q49+=":";var s49="select";s49+="Audi";s49+="oStreamStarting";s49+=": selected stream :";a=n[A[A.oh]](l,c,d,h);d=d[a.Vd];k && f.log(s49 + d.U + Q49 + d.yg);return a;break;case 5:q70=(g=a && a.OM && 0 <= a.OM.indexOf(g)?b(g,a.J2a):b(g,a.Xkb))?4:3;break;case 2:l=a;g=d[h || 0].yg;q70=5;break;case 4:var q49="selec";q49+="tAudioStreamSt";q49+="arting: overriding ";q49+="config with ";(l={minInitAudioBitrate:a.dT,minHCInitAudioBitrate:a.cT,maxInitAudioBitrate:a.QS,minRequiredAudioBuffer:a.z4},k && f.log(q49 + JSON.stringify(g)),v(g,l));q70=3;break;}}},BUFFERING:h,REBUFFERING:h,PLAYING:h,PAUSED:h};R49;j70=4;break;}}function b(a,b){var k70,c;k70=2;for(;k70 !== 4;){switch(k70){case 7:return c;break;k70=4;break;case 2:c=void 0;b.some(function(b){var l70,d;l70=2;for(;l70 !== 4;){switch(l70){case 2:d=b.profiles;(d=d && 0 <= d.indexOf(a)) && (c=b.override);return d;break;}}});k70=5;break;case 5:return c;break;}}}})();},function(d,b,a){var h;function c(){return new h(0);}a(8);h=a(37).oo;d.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var h;function c(a,b,c){return new h(c.length - 1);}a(8);h=a(37).oo;d.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){(function(){function b(a,b,c,d){var s70,k;s70=2;for(;s70 !== 12;){switch(s70){case 9:k=c[d];s70=8;break;case 2:var o49="play";o49+="er";o49+=" missing fragmentIndex";var I49="Must have at least one";I49+=" selected str";I49+="eam";g(!h.Y(d),I49);g(h.qa(b.Ag),o49);b=f(d);s70=4;break;case 3:s70=-1 < d?9:14;break;case 4:a000.L24(3);var s41=a000.Y24(13,14);d=c.length - s41;s70=3;break;case 14:b.Vd=0;return b;break;case 8:s70=k.kb && k.kb.Ka && k.U < k.kb.Ka.Ca - a.FUb?7:6;break;case 7:return (b.Vd=d,b);break;case 6:--d;s70=3;break;}}}var r70,g,f,l,h;r70=2;for(;r70 !== 7;){switch(r70){case 8:var Z49="1";Z49+="SIYbZrNJC";Z49+="p9";Z49;r70=7;break;case 4:var C49="def";C49+="a";C49+="u";C49+="lt";a(3);(g=l.assert,f=l.oo,l=a(178)[C49]);d.exports={STARTING:l.STARTING,BUFFERING:l.BUFFERING,REBUFFERING:l.REBUFFERING,PLAYING:b,PAUSED:b};r70=8;break;case 2:h=a(8);a(25);l=a(37);r70=4;break;}}})();},function(d,b,a){Object.defineProperties(b,{__esModule:{value:!0}});d=a(939);b["default"]={PLAYING:d.ov,PAUSED:d.ov};},function(d,b,a){var c,h,l,g,f,k,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.ov=void 0;d=a(0);c=d.__importStar(a(8));h=d.__importDefault(a(37));l=d.__importDefault(a(178));g=a(70);f=d.__importDefault(a(3));k=h["default"].assert;q=h["default"].oo;b.ov=v;(function(){var t70;t70=2;for(;t70 !== 5;){switch(t70){case 2:var c49="1S";c49+="IY";c49+="bZrN";c49+="JCp9";b.ov=v=function(a,b,d,h,m,v){var u70,r,u,n,B,y,Q,p,I,t,ua,A,F,P,aa,ca,ea,Z,ta;u70=2;for(;u70 !== 68;){switch(u70){case 62:return n;break;case 77:u70=u[y].tq > B?75:76;break;case 43:ta.push(ca.Mk);ta.push(ca.g5);u70=41;break;case 19:n.Vd=u[B].eQb;u70=18;break;case 48:aa+=P.get(Q).duration;u70=47;break;case 63:n.gKa=m;u70=62;break;case 10:B=y;u70=20;break;case 64:A++;u70=35;break;case 21:A=0;u70=35;break;case 2:var i49="pla";i49+="yer ";i49+="missing fragmentIndex";var x49="Must have at least one s";x49+="elec";x49+="ted ";x49+="stream";k(!c.Y(h),x49);k(c.qa(b.Ag),i49);(u=a.FTb,n=new q(h),B=null !== (r=b.Ag) && void 0 !== r?r:-1);r=u[0].tq;y=u[u.length - 1].tq;u70=8;break;case 36:Q=b.Ag;u70=54;break;case 20:u70=void 0 !== B?19:61;break;case 6:a000.W24(3);y=a000.r24(r,B);0 > y && (y=0);y >= u.length && (y=u.length - 1);u70=12;break;case 8:u70=B < r || B > y?7:6;break;case 74:--y;u70=73;break;case 32:u70=ea.kb && ea.kb.tdigest?31:40;break;case 37:u70=void 0 !== P?36:46;break;case 49:u70=Q < P.length?48:46;break;case 60:r=void 0;u70=59;break;case 18:n.Vn=d[n.Vd];u70=17;break;case 61:var f49="d";f49+="efa";f49+="u";f49+="l";f49+="t";return l[f49].PLAYING.call(this,a,b,d,h,m,v);break;case 24:u=b.buffer.lq - u.ba;B=d[h];r=d[h];u70=21;break;case 16:m=[];v=b.buffer;v=v.uk - v.ad;u70=25;break;case 69:y--;u70=73;break;case 53:ua=P.get(Q);F.push({d:ua.duration,B_:ua.ba});u70=51;break;case 51:Q++;u70=54;break;case 50:Q=b.Ag;u70=49;break;case 76:y++;u70=57;break;case 70:u70=u[y].tq < B?75:69;break;case 7:var A49="d";A49+="e";A49+="fau";A49+="l";A49+="t";return l[A49].PLAYING.call(this,a,b,d,h,m,v);break;case 57:u70=y < u.length?56:75;break;case 17:u70=a.uub?16:62;break;case 55:r=y;u70=75;break;case 25:u=g.Lh.MMa(b.buffer.$);u70=24;break;case 59:u70=A < B?58:74;break;case 12:A=u[y].tq;u70=11;break;case 40:ca=void 0;ea.kb && ea.kb.tputTrace && (ca=ea.kb.tputTrace);(F=[],P=ea.$,aa=0);u70=37;break;case 58:y+=1;u70=57;break;case 35:u70=A < d.length?34:63;break;case 31:ca=ea.kb.tdigest;ta.push(ca.min);ta.push(ca.f5);ta.push(ca.Lk);ta.push(ca.kj);u70=43;break;case 72:u70=u[y].tq === B?71:70;break;case 46:var k49="def";k49+="au";k49+="lt";P=void 0;b.uQ && (P=f[k49].time.aa() - b.uQ);m.push({Ag:b.Ag,y9b:P,t7b:aa,s4b:Z,v9b:ta,x9b:ca,qga:v,$5b:u,Q4b:F,W6b:B.U,X6b:null !== (p=B.tb) && void 0 !== p?p:0,c5b:ea.U,d5b:null !== (I=ea.tb) && void 0 !== I?I:0,X8b:r.U,Y8b:null !== (t=r.tb) && void 0 !== t?t:0,QA:y});u70=64;break;case 11:u70=A === B?10:60;break;case 54:u70=Q < Math.min(Q + a.blb,P.length)?53:50;break;case 47:Q++;u70=49;break;case 56:u70=u[y].tq === B?55:77;break;case 75:B=r;u70=20;break;case 73:u70=0 <= y?72:75;break;case 71:r=y;u70=75;break;case 34:(ea=d[A],y=A <= h?!0:!1,Z=void 0,ta=[]);ea.kb && ea.kb.throughput && (Z=ea.kb.throughput.Ca);u70=32;break;case 41:ta.push(ca.max);u70=40;break;}}};c49;t70=5;break;}}})();},function(d,b,a){(function(){var v70,b;v70=2;for(;v70 !== 8;){switch(v70){case 2:a(8);a(25);a(37);v70=4;break;case 4:var W49="1S";W49+="I";W49+="YbZr";W49+="NJ";W49+="Cp9";b=a(17).bc;d.exports={checkBuffering:function(a,c,d,f,k,g){function h(b){var x70;x70=2;for(;x70 !== 5;){switch(x70){case 2:b=f.$.r1(a.ad + b,void 0,!0);return (y - a.Pj) / (y + (b.offset + b.ba) - p);break;}}}var w70,p,J,q,l,m,n,y;w70=2;for(;w70 !== 39;){switch(w70){case 25:p=f.$.Fh(k);w70=24;break;case 43:--g;w70=32;break;case 9:w70=c <= g.Una && (0 < c || !g.lja)?8:7;break;case 7:q=g.jj * (m?g.Uqa:1);g.oub && f.kb && f.kb.ci && f.kb.ci.Ca > g.Pna && (q+=g.mfa + f.kb.ci.Ca * g.Ppa);k && (q+=k.Vr * g.nfa);q=n?Math.min(n,q):q;w70=12;break;case 44:J=m.offset;w70=43;break;case 11:return {complete:!1,SF:q};break;case 42:var H49="n";H49+="ore";H49+="buff";return {complete:!0,reason:H49};break;case 17:w70=!f.$ || !f.$.length?16:15;break;case 23:w70=c > m * g.o1?22:21;break;case 34:(J=f.$.Fh(g),q=8 * p * d / c - a.ad);w70=33;break;case 4:w70=l >= n?3:9;break;case 21:q=f.$.Zd(k);g=Math.min(k + Math.floor(g.ZT / q),f.$.length - 1);w70=34;break;case 16:return (c < m && (q=Math.min(n,Math.max(g.ZT * (m / c - 1),q))),{complete:!1,SF:q,zi:0});break;case 29:w70=0 < J?28:44;break;case 2:(l=a.uk - a.ad,m=c === b.nf);c=f.Ka || 0;(q=0,n=g.cua && !m?g.bB:g.ooa,n=Math.min(g.Tx,n));w70=4;break;case 8:return {complete:!1,XA:!0};break;case 31:m=f.$.get(g);a000.L24(13);var u41=a000.r24(15,19,4);J=u41 * J * d / c - m.X - q;w70=29;break;case 3:var K49="ma";K49+="x";K49+="size";return {complete:!0,reason:K49};break;case 28:return (q=Math.min(n,l + J),{complete:!1,SF:q,zi:h(q)});break;case 33:--g;w70=32;break;case 26:var r49="outofran";r49+="g";r49+="e";return {complete:!0,reason:r49};break;case 32:w70=g > k?31:42;break;case 10:y=0;a.$.forEach(function(b){var y70;y70=2;for(;y70 !== 1;){switch(y70){case 2:y+=b.X + b.duration > a.ad?b.ba:0;y70=1;break;}}});d=Math.max(d,1);m=d * f.U;w70=17;break;case 41:0 < c && c < m && (q=Math.min(n,Math.max(g.ZT * (m / c - 1),q)));return {complete:!1,SF:q,zi:h(q)};break;case 12:w70=!c?11:10;break;case 15:k=f.$.sm(a.ac);w70=27;break;case 27:w70=-1 === k?26:25;break;case 22:var Y49="h";Y49+="i";Y49+="g";Y49+="h";Y49+="tp";return {complete:!0,reason:Y49};break;case 24:w70=l >= q?23:41;break;}}}};W49;v70=8;break;}}})();},function(d,b,a){var h,g,m,f,k,q;function c(a,b,c){k=c;q=c.map(function(a,b){return b;});if(null === f)return (a=g(c),f=c[a].U,new m(a));if(!c.length)return null;a=q.filter(function(a){return c[a].U == f;})[0];return void 0 === a?(h.log("Defaulting to first stream due to unvalid bitrate requested: " + f),new m(q[0])):new m(a);}b=a(37);a=a(3)["default"];h=b.console;g=b.zja;m=b.oo;f=null;k=null;q=null;a.Ymb && (a.Ymb.Ay={$a:function(){q=k=f=null;},u6:function(a){f=a;},q6b:function(){return {all:k,t4a:q};}});d.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(d,b,a){var c,h,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.bBa=b.xya=b.e9a=void 0;c=a(0);h=a(20);g=c.__importDefault(a(3));m=a(9);d=(function(){return function(a,b,c){var d;c=m.Ku(g["default"],c,"[" + a + "]");this.jWa=1 === a?b.B4:b.v4;d=g["default"].ql()[a];this.dL=1 === a?b.VGb:b.IGb;this.dL=Math.min(b.PGb * d,this.dL);h.ma && c.trace("This pipeline's buffer size ",d,this.dL);this.nL=(1 === a?b.qL:b.lL) || b.nL;this.RS=(1 === a?b.UGb:b.HGb) || b.RS;this.tfa=b.tfa;};})();b.e9a=d;a=(function(a){function b(b,c,d,f){c=a.call(this,c,d,f) || this;c.sT=b;return c;}c.__extends(b,a);b.prototype.HQa=function(a,b,c){var d,f;d=a.$;a=a.ej(b);a.nT=b + 1;if(!a.xa)for(++b;b < d.length && b < c.Tf.index && (a.duration < this.nL || 0 !== b % this.sT);++b){f=d.get(b);if(a.duration + f.duration > this.RS)break;if(a.ba + f.ba > this.dL)break;a.rfa(f);a.nT=b + 1;h.ma && c.kk("getFragmentForHudsonRequest: extended fragment startPts:",a.X,"to duration:",a.duration,"size:",a.ba,"index: ",b,"min request size in ms:",this.nL);}a.VEb=c.Kb.ICb + (g["default"].time.aa() - c.Kb.OCb);h.ma && c.kk("getFragmentForHudsonRequest( " + b + ") returning: " + JSON.stringify(a));return a;};return b;})(d);b.xya=a;d=(function(a){function b(b,c,d){return a.call(this,b,c,d) || this;}c.__extends(b,a);b.prototype.HQa=function(a,b,c,d){var f,k,g,l,m;g=a.$;l=b === c.We.index;m=b === c.Tf.index;!m || l && c.We.xa?l?(l=a.FQa(c.We),l.GU(c.We.$s),m && (c.We.xa || c.Tf.xa) && l.ei({start:null === (f=l.xa) || void 0 === f?void 0:f.start,end:null === (k=c.Tf.xa) || void 0 === k?void 0:k.end})):l=a.ej(b):(l=a.FQa(c.Tf),l.GU(c.Tf.$s));m && (l.sVa(),l.LRb(c.Kb.W));l.nT=b + 1;if(!d && (this.tfa || !l.xa))for(++b;b < g.length && b < c.Tf.index && (l.ba < this.jWa || l.duration < this.nL) && (1 === l.stream.Dh.length || this.Emb(a,b));++b){d=g.get(b);if(l.duration + d.duration > this.RS)break;if(l.ba + d.ba > this.dL)break;l.rfa(d);l.nT=b + 1;h.ma && c.kk("getFragmentForRequest: extended fragment startPts:",l.X,"to duration:",l.duration,"size:",l.ba,"min request size:",this.jWa,"max request size:",this.dL,"min request duration:",this.nL,"max request duration:",this.RS,"edit:",l.xa);}h.ma && c.kk("getFragmentForRequest( " + b + ") returning: " + JSON.stringify(l) + ", stream: " + JSON.stringify(l.stream));return l;};b.prototype.Emb=function(a,b){return !a.Dh.some(function(a){return b === a.Ag;});};return b;})(d);b.bBa=d;},function(d,b,a){var c,h,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iCa=void 0;c=a(0);h=a(9);l=a(944);g=a(5);d=(function(){function a(a){var b,c,d,f,k,h,l;b=this;c=a.config;d=a.N;f=a.Ze;k=a.W;h=a.yh;l=a.lm;a=a.splice;this.jTa=this.BQ=!1;this.pLa=function(){b.BQ || b.jJa() && b.UWa();};this.config=c;this.Ze=f;this.N=d;this.W=k;this.yh=h;this.lm=l;this.splice=a;}a.prototype.$a=function(a){if(this.BQ)throw Error("Cannot call init() after cleanup");if(this.jTa)throw Error("Cannot call init() twice");this.jTa=!0;this.vXa=a;this.N.MA.addListener("onHeaderFragments",this.pLa);this.jJa() && this.UWa();};a.prototype.dc=function(){this.BQ || (this.BQ=!0,this.vXa=void 0,this.N.MA.removeListener("onHeaderFragments",this.pLa));};a.prototype.UWa=function(){var a,b,c;if(!this.BQ){b=this.MIb();c=!1;this.W && !this.W.xL && (c=this.epa());null === (a=this.vXa) || void 0 === a?void 0:a.call(this,b,c);this.dc();}};a.prototype.jJa=function(){return this.Ze.every(function(a){return a.track.se;});};a.prototype.MIb=function(){var a,b;a=c.__read(l.VWa(this.config,this.Ze,this.yh,this.lm,this.splice),2);b=a[0];return a[1] || void 0 === this.Ze.Va(1) && b;};a.prototype.epa=function(){var a,b;g.assert(this.W);g.assert(!this.W.xL);a=this.Ze.RT;b=l.XWa(this.config,a,this.W.Uk);if(void 0 === b || void 0 === a.lm)return !1;a=this.lm && !this.lm.equal(h.T.yx)?a.lm:h.T.yx;this.W.normalize(b,a);return !0;};return a;})();b.iCa=d;},function(d,b,a){var l,g;function c(a,b,c,d,h){var f,k;c=null !== (f=b.We) && void 0 !== f?f:b.track.wn(a,c.da,void 0,h);a=null !== (k=b.Tf) && void 0 !== k?k:b.track.yE(a,null === d || void 0 === d?void 0:d.da,b.Ig);return [!b.Bn(),c,a];}function h(a,b){var t,S;for(var c=[],d=0,f=a[d],k=b.Tf.index,h=b.track.Nl,l=0,g=Math.floor(b.We.Ra),m=Math.floor(b.We.jb) > f[0],n=m,p=b.We.index;p <= k;++p){t=!1;if(f){S=h.get(p);m && (Math.floor(S.Ra) >= f[1]?(m=!1,f=++d >= a.length?void 0:a[d]):n?n=!1:(t=Math.floor(S.Ra),c.push({T5:l,Ra:g,jb:t}),g=t,t=!0));!m && f && Math.floor(S.jb) > f[0] && (m=!0,t=Math.floor(S.Ra),c.push({T5:l,Ra:g,jb:t}),g=t,t=!0);}t && ++l;}c.push({T5:l,Ra:g,jb:Math.floor(b.Tf.jb)});return c;}Object.defineProperties(b,{__esModule:{value:!0}});b.BGb=b.CGb=b.XWa=b.VWa=void 0;l=a(0);g=a(9);b.VWa=function(a,b,d,h,m){var f,k,q,r;f=b.Va(0);b=b.Va(1);k=l.__read(b?c(a,b,d,h,m):[!1],3);q=k[0];r=k[1];k=k[2];h=l.__read(f?c(a,f,q && void 0 !== (null === r || void 0 === r?void 0:r.X)?g.T.$b(r.X):d,void 0 !== (null === k || void 0 === k?void 0:k.sa)?g.T.$b(null === k || void 0 === k?void 0:k.sa):h,m):[!1],3);a=h[0];d=h[1];h=h[2];a && (null === f || void 0 === f?void 0:f.FK(d,h));q && (null === b || void 0 === b?void 0:b.FK(r,k));return [a,q];};b.XWa=function(a,b,c){return b.track.wn(a,c.da,void 0,!0).yh;};b.CGb=function(a,b){var c;c=a.W;if(!c.kx || 0 === c.kx.length)return [];a=c.kx.map(function(a){return [c.tc + a[0],c.tc + a[1]];});return h(a,b.RT);};b.BGb=h;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.hCa=void 0;c=a(5);d=(function(){function a(a){var b;b=this;void 0 === a && (a=[]);this.Ze=a;a.forEach(function(a){return b.Xta(a);});}Object.defineProperties(a.prototype,{length:{get:function(){return this.Ze.length;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{RT:{get:function(){var a;return null !== (a=this.iua) && void 0 !== a?a:this.Ofa;},enumerable:!1,configurable:!0}});a.prototype.Va=function(a){return 1 === a?this.iua:this.Ofa;};a.prototype.every=function(a){return this.Ze.every(a);};a.prototype.some=function(a){return this.Ze.some(a);};a.prototype.forEach=function(a){this.Ze.forEach(a);};a.prototype.reduce=function(a,b){return this.Ze.reduce(a,b);};a.prototype.filter=function(b){return new a(this.Ze.filter(b));};a.prototype.replace=function(a,b){var d;d=this.Ze.indexOf(a);c.assert(-1 < d);c.assert(a.I === b.I);this.Ze[d]=b;this.Xta(b);};a.prototype.Z0a=function(a,b){(a=this.Va(a))?this.replace(a,b):this.add(b);};a.prototype.add=function(a){this.Ze.push(a);this.Xta(a);};a.prototype.clear=function(){this.Ze=[];this.Ofa=this.iua=void 0;};a.prototype.Xta=function(a){1 === a.I?this.iua=a:this.Ofa=a;};return a;})();b.hCa=d;},function(d,b,a){var c,h,g,m,f,k,q,v,r;Object.defineProperties(b,{__esModule:{value:!0}});b.oAa=void 0;c=a(0);d=c.__importDefault(a(108));h=c.__importDefault(a(3));g=a(251);m=a(252);f=d["default"].W_;k=d["default"].Bnb;q=d["default"].ROa;v=d["default"].Sub;r=d["default"].oQb;new h["default"].Console("ASEJS_PREDICTOR","media|asejs");a=(function(a){function b(b,c){var A70,d;A70=2;for(;A70 !== 12;){switch(A70){case 9:var L49="1SIYbZrNJC";L49+="p";L49+="9";d.olb=f(b.Jr.gamma || 1,.1,10);d.filter=b.Jr.filter;d.MSb=! !b.Jr.simpleScaling;b.Jr.niqrfilter && b.Jr.niqrcurve && (d.OWa=b.Jr.niqrfilter,d.GIb=k(b.Jr.niqrcurve,1,0,4));L49;A70=13;break;case 2:d=a.call(this,b,c) || this;d.ly=function(a,b){var B70;B70=2;for(;B70 !== 1;){switch(B70){case 2:return m.ly(d.config,a,b);break;case 4:return m.ly(d.config,a,b);break;B70=1;break;}}};d.NT=function(a,b,c){var C70,f,k,h,g,l,m;C70=2;for(;C70 !== 13;){switch(C70){case 2:c=null !== c && void 0 !== c?c:d.cL;C70=5;break;case 5:m=null !== (k=null === (f=a.Ka) || void 0 === f?void 0:f.Ca) && void 0 !== k?k:0;f=null !== (g=null === (h=a[d.filter]) || void 0 === h?void 0:h.Ca) && void 0 !== g?g:m;h=Math.pow(Math.max(1 - f / d.ulb,0),d.olb);g=b.uk - b.ad;C70=8;break;case 6:void 0 !== a && (l=v(d.GIb,a),b=Math.min(b * l,1));a000.W24(14);return d.INa(a000.Y24(m,b,1),c);break;case 8:d.MSb?(b=q(d.YMa,g,1),g=q(d.XMa,g,1),b=b * h + g * (1 - h)):b=q(r(d.YMa,d.XMa,h),g,1);a=d.OWa && (null === (l=a[d.OWa]) || void 0 === l?void 0:l.qT);C70=6;break;}}};Array.isArray(b.Jr.curves) && (d.YMa=k(b.Jr.curves[0],0,0,1),d.XMa=k(b.Jr.curves[1],0,0,1));d.ulb=f(b.Jr.threshold || 6E3,1,1E5);A70=9;break;case 13:return d;break;}}}var z70;z70=2;for(;z70 !== 5;){switch(z70){case 2:c.__extends(b,a);return b;break;case 3:c.__extends(b,a);return b;break;z70=5;break;}}})(g.MG);b.oAa=a;},function(d,b,a){var c,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.hEa=void 0;c=a(0);d=c.__importDefault(a(3));h=a(251);g=a(252);new d["default"].Console("ASEJS_PREDICTOR","media|asejs");a=(function(a){var D70;D70=2;for(;D70 !== 3;){switch(D70){case 2:c.__extends(b,a);b.zSb=function(a,b){var H70,c,d;H70=2;for(;H70 !== 4;){switch(H70){case 5:return d;break;case 2:d=! !a.Eq;b.dta && (null === (c=a.Ka) || void 0 === c?void 0:c.Ca) < b.FQ && (d=!0);H70=5;break;}}};b.prototype.sxb=function(a,b){var I70,c,d;I70=2;for(;I70 !== 3;){switch(I70){case 2:(c=this.config,d=b?c.rha:c.Yfa);b=b?c.sha:c.$fa;I70=5;break;case 5:Array.isArray(b) && (d=g.QOa(b,a.uk - a.ad,c.Zfa));return d;break;}}};return b;break;}}function b(c,d){var E70,f;E70=2;for(;E70 !== 9;){switch(E70){case 2:var B49="1SIYbZ";B49+="rNJ";B49+="Cp9";f=a.call(this,c,d) || this;f.ly=function(a,b){var F70;F70=2;for(;F70 !== 1;){switch(F70){case 2:return g.ly(f.config,a,b);break;}}};f.NT=function(a,c,d){var G70,k;G70=2;for(;G70 !== 3;){switch(G70){case 2:d=null !== d && void 0 !== d?d:f.cL;k=b.zSb(a,f.config);a=a.Ka?a.Ka.Ca * (100 - f.sxb(c,k)) / 100 | 0:0;return f.INa(a,d);break;}}};B49;return f;break;}}}})(h.MG);b.hEa=a;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.tza=void 0;d=(function(){function a(a,b,d,g,f,k,q,v){this.Kb=a;this.HKa=b;this.config=d;this.console=g;this.I=f;this.bb=k;this.Pa=q;this.Fb=v;this.Pp=this.ih=!1;}a.prototype.qJ=function(a,b){!this.Kb.W.dt || this.Fb.vI || this.Fb.yZ && !this.config.vfa || (a-=this.Kb.Hd,this.ih && !this.Pp && a + this.config.JUb >= b && 0 === this.Pa.dy && 0 === this.Pa.cr && 0 === this.Pa.ENb && (b=this.Fb.Qd.N.sb,a=this.Fb.lK(),b + 1 < a || (this.HKa[this.I].C2a || this.bb.rgb(this.I),this.Pp=!0,this.HKa[this.I].U4())));};return a;})();b.tza=d;},function(d,b,a){var c,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.rza=void 0;c=a(0);h=a(20);d=a(423);g=a(422);a=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.Xsb=function(b){a.prototype.E3.call(this,{value:b});};b.prototype.zTa=function(){return !0;};b.prototype.Osa=function(){};b.prototype.E3=function(b){a.prototype.E3.call(this,b);b.done && (b=this.HI.r0,h.ma && this.G.trace("Requests drained",{t4b:b && b.W.id}),(b=b && b.Va(this.rf)) && b instanceof g.lX && b.qJ(this.Lf.Cka() || 0));};return b;})(d.j8);b.rza=a;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Eva=void 0;c=a(177);h=a(20);d=(function(){function a(a,b,c){this.G=a;this.Ndb=b;this.rf=c;this.SY=0;this.mZ=!1;h.ma && a.trace("BranchRequestIterator [" + this.rf + "]: created");}Object.defineProperties(a.prototype,{Arb:{get:function(){return this.SY;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{r0:{get:function(){return this.eGa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vl:{get:function(){return this.mZ;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Drb:{get:function(){return this.gk?this.gk.Ex?"Complete":this.gk.Cqa?"WaitingForBranch":"WaitingForRequest":"Uninitialized";},enumerable:!1,configurable:!0}});a.prototype.next=function(){var a,b;a=this;b=this.gk;return b?b.next().then(function(c){if(a.gk !== b)return {done:!0};c.done || a.SY++;return c;}):c.gC.nla();};a.prototype.QPb=function(){this.h2a();this.fOb();};a.prototype.h2a=function(){var a;if(this.gk){a=this.gk;a && a.Ug();a && h.ma && this.G.trace("BranchRequestIterator [" + this.rf + "]: Disposing iterator that was on branch ",this.r0 && this.r0.W.id);this.mZ=!1;this.gk=void 0;}};a.prototype.fOb=function(){var a,b,d,g;a=this;if(!this.mZ){b=this.G;d=this.Ndb;g=this.rf;this.SY=0;this.eGa=void 0;this.gk=c.wu(c.map(d.CRa(),function(c){var d;a.eGa=c;a.SY=0;h.ma && b.trace("BranchRequestIterator [" + a.rf + "]: new branch " + c.W.id);d=c.TR(g);if(d)return {value:d};h.ma && b.error("BranchRequestIterator [" + a.rf + "]: skipping branch " + c.W.id);return {value:[]};},b),b);this.mZ=!0;}};return a;})();b.Eva=d;},function(d,b,a){var c,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.cDa=void 0;c=a(0);h=a(952);g=a(953);d=(function(){function a(a,b,c,d,l,m,n,A){this.I=a;this.lb=c;this.events=l;this.qV=[];this.qV=[new h.tEa(a,b,c,d,l,m,n,"stream")];1 === this.I && this.qV.push(new g.$Da(a,b,c,d,l,m,n,A));}a.prototype.reset=function(){this.qV.forEach(function(a){return a.reset();});};a.prototype.close=function(){this.qV.forEach(function(a){return a.close();});};a.prototype.Sg=function(a){return c.__read(this.qV,1)[0].Sg(a);};return a;})();b.cDa=d;},function(d,b,a){var c,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.tEa=void 0;c=a(0);h=a(5);g=a(20);d=(function(a){function b(){return null !== a && a.apply(this,arguments) || this;}c.__extends(b,a);b.prototype.Mq=function(a){var b,c;b=a.stream;c=a.Qj;a=a.wi;h.assert(void 0 !== c);this.SIa(b,c,a) && g.ma && this.trace("stream " + b.id + ", " + b.U + "kbit/s @ " + c.da + "ms");};b.prototype.mOa=function(a,b){var c,d,f;d=a.zG;f=this.lb.Qq(b);h.assert(void 0 !== f);g.ma && this.trace("emitStreamPresentingEvent @ " + a.timestamp.da + "ms for " + (null === d || void 0 === d?void 0:d.id) + ", " + ((null === d || void 0 === d?void 0:d.U) + "kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:this.I,playerTimestamp:b,position:f,trackIndex:null === (c=null === d || void 0 === d?void 0:d.track) || void 0 === c?void 0:c.GD,streamIndex:null === d || void 0 === d?void 0:d.Yf});};return b;})(a(424).Cba);b.tEa=d;},function(d,b,a){var c,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.$Da=void 0;c=a(0);h=a(20);g=a(5);d=(function(a){function b(b,c,d,f,h,g,l,m){b=a.call(this,b,c,d,f,h,g,l,"segment") || this;b.uv=m;return b;}c.__extends(b,a);b.prototype.Mq=function(a){var b,c,d;c=a.Qj;a=a.wi;g.assert(void 0 !== c);d=null === (b=this.lb.Qq(c)) || void 0 === b?void 0:b.va;g.assert(void 0 !== d);this.SIa(d,c,a) && h.ma && this.trace("segment " + d + " @ " + c.da + "ms");};b.prototype.mOa=function(a,b){var c,d;c=a.zG;d=this.lb.Qq(b);g.assert(void 0 !== d);h.ma && this.trace("emitSegmentPresentingEvent @ " + a.timestamp.da + "ms for segment " + c);a={type:"segmentPresenting",playerTimestamp:b,position:d};this.uv && (a.metrics=this.uv.Kka(c));this.events.emit(a.type,a);};return b;})(a(424).Cba);b.$Da=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.VDa=void 0;d=(function(){function a(a,b,d,g,f,k,q,v,r,u){var c;c=this;this.id=a;this.N=b;this.X=d;this.YQ=f;this.yk=k;this.dt=q;this.kx=v;this.Cl=r;this.od=u;this.JE=function(a){var b,d;return (null === (d=null === (b=c.yk) || void 0 === b?void 0:b[a]) || void 0 === d?void 0:d.vVb) || c.od;};this.sa=g || Infinity;}Object.defineProperties(a.prototype,{fa:{get:function(){return this.N.fa;},enumerable:!1,configurable:!0}});a.prototype.rQa=function(){var a,b,d;a=this;d=Object.keys(this.yk || ({})).filter(function(b){var c,d;return !(null === (d=null === (c=a.yk) || void 0 === c?void 0:c[b]) || void 0 === d || !d.weight);});return d.length?null !== (b=d.map(this.JE).reduce(function(a,b){return a === b?b:void 0;})) && void 0 !== b?b:this.od:this.od;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.Cl + " viewableId: " + this.N.fa + " pts: " + this.X + "-" + this.sa + " defaultKey: " + this.YQ + " dests: " + JSON.stringify(this.yk) + " terminal: " + ! !this.dt;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.N.fa,"startPts:":this.X,endPts:this.sa,defaultKey:this.YQ,"dests:":this.yk,terminal:! !this.dt,playlistSegmentId:this.Cl};};return a;})();b.VDa=d;},function(d,b,a){var c,h,g,m,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.Iua=void 0;d=a(0);c=d.__importStar(a(8));h=a(179);g=d.__importDefault(a(956));m=a(396);f=d.__importDefault(a(25));k=d.__importDefault(a(3));a=(function(){var J70;J70=2;function a(a,b,c,d,l,q,n,p,D){var K70,M70,v,u,L70,r;K70=2;for(;K70 !== 32;){switch(K70){case 2:this.G=b;this.uc=d;K70=5;break;case 35:K70=34;break;case 21:this.nI=new m.sya(n,l,this.G);K70=23;break;case 5:this.Mb=p;this.sD=D;K70=3;break;case 15:try{M70=2;for(;M70 !== 4;){switch(M70){case 2:var M49="def";M49+="aul";M49+="t";var J49="d";J49+="e";J49+="f";J49+="aul";J49+="t";(v=k[J49].ql(),u=new g[M49](a,this.G,{bufferSize:v},l));this.uc.njb(u);this.SHa=u;M70=4;break;}}}catch(Y){var G49="Hindsigh";G49+="t: Error when c";G49+="reat";G49+="ing ";G49+="QoEEvaluator: ";a000.W24(1);a.bb.Dm(a000.r24(Y,G49));}K70=27;break;case 7:this.kk=this.G.trace.bind(this.G);this.H=l;K70=14;break;case 16:K70=this.sD.sq?15:27;break;case 25:var m49="b";m49+="a";m49+="se";m49+="l";m49+="ine";L70=l.QBb;K70=L70 === m49?24:22;break;case 27:this.Lda=!1;K70=26;break;case 17:c && c.Pd >= d && c.Ka && r && this.xfb(c,b,r);K70=16;break;case 10:var N49="defa";N49+="u";N49+="l";N49+="t";var z49="def";z49+="au";z49+="lt";b=this.FGa(c);void 0 !== b && void 0 !== b.Lk && void 0 !== b.kj && void 0 !== b.Mk && (r=(b.Mk - b.Lk) / b.kj);d=l.lT?f[z49].bf.oC:f[N49].bf.pC;K70=17;break;case 26:K70=n && 1 < n.length && l.Pia?25:33;break;case 14:this.gHa=0 === Math.floor(1E6 * Math.random()) % l.kga;this.rs=this.P2=this.LSa=this.e0=this.Eq=void 0;this.fta=this.I1a=this.J1a=this.eta=this.XXa=this.YXa=0;this.zZ=h.GE(l,q);K70=10;break;case 24:this.nI=new m.fX(n,l,this.G);K70=23;break;case 3:var X49="1";X49+="SIYbZrNJ";X49+="Cp9";X49;this.Za=a;this.yb=this.G.warn.bind(this.G);K70=7;break;case 22:var E49="L";E49+="R";K70=L70 === E49?21:35;break;case 33:l.S7 && (this.JZ=this.IZ=!1);K70=32;break;case 23:this.Lda=this.nI.t3();K70=33;break;case 34:this.nI=new m.fX(n,l,this.G);K70=23;break;}}}for(;J70 !== 27;){switch(J70){case 7:a.prototype.ejb=function(a,b,c,d,f,k){var U70,h;U70=2;for(;U70 !== 5;){switch(U70){case 2:h=this.H;h.S7 && this.khb(b) || !c || !d || !(c=k?Math.min(c,d,k):Math.min(c,d)) || (this.uc.get(),d=this.Za.Ba,a=d.ku(d.pc,a),b.track.mp() && a > h.jga && c === f?(h.set?(h.set({pipelineEnabled:!0}),h.set({maxParallelConnections:1}),h.set({maxActiveRequestsPerSession:2}),h.set({maxPendingBufferLen:500})):(h.wp=!0,h.eL=1,h.Nu=2,h.aB=500),b.track.S5({type:b.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:h.eN,minRequestSize:h.oL}),this.eta++,h.S7 && (this.IZ=!0)):h.wp && !b.mp() && (a < h.iga || c !== f) && (h.set?(h.set({pipelineEnabled:!0}),h.set({maxParallelConnections:3}),h.set({maxActiveRequestsPerSession:3}),h.set({maxPendingBufferLen:12E3})):(h.wp=!0,h.eL=3,h.Nu=3,h.aB=12E3),b.track.S5({type:b.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:h.eN,minRequestSize:h.oL}),this.fta++,h.S7 && (this.JZ=!0)));U70=5;break;}}};a.prototype.hjb=function(a,b){var V70,c,d,f;V70=2;for(;V70 !== 7;){switch(V70){case 1:V70=this.gHa?5:7;break;case 3:V70=void 0 === d || c > d?9:8;break;case 9:(this.Zl.Kw[f]=a,this.Zl.Ly[f]=b);V70=8;break;case 5:var h49="def";h49+="a";h49+="u";h49+="l";h49+="t";var S49="de";S49+="f";S49+="au";S49+="lt";void 0 === this.Zl && (this.Zl={startTime:k[S49].time.aa(),Kw:[],Ly:[],sna:void 0,kna:void 0});(c=Math.floor((k[h49].time.aa() - this.Zl.startTime) / c.RD),d=this.Zl.kna,f=this.Zl.sna?c - this.Zl.sna - 1:c);V70=3;break;case 2:c=this.H;V70=1;break;case 8:this.Zl.kna=c;V70=7;break;}}};a.prototype.IJb=function(){var W70,a,X70;W70=2;for(;W70 !== 4;){switch(W70){case 9:a=this.Za;W70=9;break;W70=1;break;case 2:a=this.Za;W70=1;break;case 5:try{X70=2;for(;X70 !== 1;){switch(X70){case 2:(this.uc.UOb(),this.SHa.dc());X70=1;break;}}}catch(r){var w49="H";w49+="indsigh";w49+="t:";w49+=" Error during clean up";w49+=": ";a000.W24(1);a.bb.Dm(a000.r24(r,w49));}W70=4;break;case 1:W70=this.sD.sq?5:4;break;case 8:W70=this.sD.sq?3:0;break;W70=this.sD.sq?5:4;break;}}};a.prototype.VJb=function(a){var Y70;Y70=2;for(;Y70 !== 1;){switch(Y70){case 2:var j49="d";j49+="e";j49+="fa";j49+="u";j49+="lt";this.H.TJ && a === f[j49].Ua.VIDEO && (this.fta=this.eta=this.I1a=this.J1a=this.XXa=this.YXa=0);Y70=1;break;}}};a.prototype.TJb=function(a,b){var Z70;Z70=2;for(;Z70 !== 1;){switch(Z70){case 2:var U49="d";U49+="efaul";U49+="t";a === f[U49].Ua.VIDEO && (this.xXb=b);Z70=1;break;}}};J70=11;break;case 11:a.prototype.knb=function(a){var a80,b,c,d,k,h;a80=2;for(;a80 !== 8;){switch(a80){case 1:var a49="n";a49+="o";a49+="n";a49+="e";a80=a49 !== b.NB && !0 !== this.Eq && a.state <= b.noa?5:8;break;case 2:b=this.H;a80=1;break;case 5:var d49="d";d49+="ef";d49+="a";d49+="u";d49+="lt";var b49="d";b49+="ef";b49+="au";b49+="lt";var P49="i";P49+="q";P49+="r";c=this.uc.get();P49 === b.NB && (d=this.FGa(c),void 0 !== d && void 0 !== d.Lk && void 0 !== d.kj && void 0 !== d.Mk && (k=(d.Mk - d.Lk) / d.kj));h=b.lT?f[b49].bf.oC:f[d49].bf.pC;c && c.Pd >= h && this.Mda(b.NB,c,d,k) && (this.Eq=!0,this.e0=a.state);a80=8;break;}}};a.prototype.Ejb=function(a){var b80;b80=2;for(;b80 !== 1;){switch(b80){case 4:a.Eq=this.Eq;b80=2;break;b80=1;break;case 2:a.Eq=this.Eq;b80=1;break;}}};a.prototype.Cvb=function(a){var c80,b,d,h,g,l,m,q,v;c80=2;for(;c80 !== 15;){switch(c80){case 2:var y19="s";y19+="tart";y19+="play";var g19="logd";g19+="a";g19+="ta";(b={},d=this.H,h=this.Za,g={type:g19,target:y19,fields:{}});g.fields=b;Object.keys(a).forEach(function(c){var d80;d80=2;for(;d80 !== 1;){switch(d80){case 2:b[c]=a[c];d80=1;break;case 4:b[c]=a[c];d80=9;break;d80=1;break;}}});l=this.uc.get();c80=3;break;case 3:l && l.Ka && (l=l.Ka.Ca);b.actualbw=l;b.isConserv=this.Eq;b.ccs=this.e0;b.isLowEnd=this.FDb;b.histdiscbw=this.rs;m=this.P2;c80=12;break;case 20:b.histtd=l;c80=19;break;case 12:c80=m?11:19;break;case 11:(q=function(a){var e80;e80=2;for(;e80 !== 1;){switch(e80){case 2:return c.qa(a)?Number(a).toFixed(2):-1;break;}}},l=[q(m.min || void 0),q(m.f5 || void 0),q(m.Lk || void 0),q(m.kj || void 0),q(m.Mk || void 0),q(m.g5 || void 0),q(m.max || void 0)],v=[],m=c.isArray(m.Uh) && m.Uh.reduce(function(a,b){var f80,c;f80=2;for(;f80 !== 3;){switch(f80){case 4:return a;break;case 2:c=q(b.Bf || void 0);b=q(b.n || void 0);-1 < c && -1 < b && a.push({mean:c,n:b});f80=4;break;case 14:return a;break;f80=3;break;}}},v));b.histtdc=m;c80=20;break;case 19:var V19="d";V19+="e";V19+="f";V19+="ault";var D19="defa";D19+="u";D19+="lt";var e19="de";e19+="fa";e19+="ul";e19+="t";b.histage=this.LSa;d.Pia && this.nI && (b.ishighstable=this.Lda,b.avg_avtp=this.nI.mKa,b.avg_ne=Number(this.nI.nKa).toFixed(4));h.Ib && (d=k[e19].ql(),b.maxAudioBufferAllowedBytes=d[f[D19].Ua.AUDIO],b.maxVideoBufferAllowedBytes=d[f[V19].Ua.VIDEO]);h.emit(g.type,g);c80=15;break;}}};a.prototype.Dvb=function(a){var g80,b,c,d,k,h,g,l;g80=2;for(;g80 !== 6;){switch(g80){case 3:var O19="n";O19+="o";O19+="n";O19+="e";d.Pd && (h=d.Ka?d.Ka.Ca:0,g=d.ci?d.ci.Ca:0,l=d.ss?d.ss.Ca:0);a.location={responseTime:g,httpResponseTime:l,bandwidth:h,confidence:d.Pd,name:this.xXb};this.gHa && (a.bt={startTime:this.Zl.startTime,audioMs:this.Zl.Kw,videoMs:this.Zl.Ly},this.Zl.Kw=[],this.Zl.Ly=[],this.Zl.sna=this.Zl.kna);O19 !== c.NB && (a.isConserv=this.Eq,a.ccs=this.e0);g80=6;break;case 2:var l19="d";l19+="efa";l19+="ult";var u19="de";u19+="f";u19+="a";u19+="u";u19+="lt";(b=this,c=this.H,d=this.uc.get(),k=[]);[f[u19].Ua.VIDEO,f[l19].Ua.AUDIO].forEach(function(a){var h80,h;h80=2;for(;h80 !== 4;){switch(h80){case 1:var p19="d";p19+="e";p19+="fau";p19+="l";p19+="t";h=b.Za.KRa(a);void 0 !== h && (a === f[p19].Ua.VIDEO && (c.TJ && (h.parallelDownloadMs=b.YXa,h.parallelDownloadBytes=b.XXa,h.singleDownloadMs=b.J1a,h.singleDownloadBytes=b.I1a,h.switchFromParallelToSingle=b.eta,h.switchFromSingleToParallel=b.fta),d && d.Pd && d.Ka && (h.asetput=d.Ka,h.aseiqr=d.us,h.tdigest=d.qj && d.qj.sx() || void 0),d && d.avtp && (h.avtp=d.avtp.Ca)),k.push(h));h80=4;break;case 9:h80=b.Mb(a)?2:8;break;h80=b.Mb(a)?1:4;break;case 2:h80=b.Mb(a)?1:4;break;}}});a.stat=k;(h=0,g=0,l=0);g80=3;break;}}};J70=18;break;case 18:a.prototype.khb=function(a){var i80,b;i80=2;for(;i80 !== 6;){switch(i80){case 1:i80=this.IZ && a.mp()?5:4;break;case 2:b=this.H;i80=1;break;case 4:this.IZ && (this.IZ=!1);i80=3;break;case 3:i80=this.JZ && b.wp && !a.mp()?9:8;break;case 9:return !0;break;case 5:return !0;break;case 8:this.JZ && (this.JZ=!1);return !1;break;}}};a.prototype.FGa=function(a){var j80,k80;j80=2;for(;j80 !== 4;){switch(j80){case 2:var T19="td";T19+="ig";T19+="es";T19+="t";k80=this.H.Xla;j80=k80 === T19?1:3;break;case 14:return a;break;j80=4;break;case 1:a=a.qj;j80=5;break;case 5:return a;break;case 3:j80=9;break;case 9:a=a.us && a.us.p5;j80=5;break;}}};a.prototype.xfb=function(a,b,c){var l80,d;l80=2;for(;l80 !== 3;){switch(l80){case 2:d=this.H;this.Mda(d.NB,a,b,c)?this.Eq=!0:this.Eq=!1;l80=5;break;case 5:this.e0=0;this.Mda(d.Qna,a,b,c) && (this.FDb=!0);l80=3;break;}}};return a;break;case 2:Object.defineProperties(a.prototype,{t3:{get:function(){var N70;N70=2;for(;N70 !== 1;){switch(N70){case 4:return this.Lda;break;N70=1;break;case 2:return this.Lda;break;}}},enumerable:!1,configurable:!0}});J70=1;break;case 1:Object.defineProperties(a.prototype,{Jqa:{get:function(){var O70;O70=2;for(;O70 !== 1;){switch(O70){case 2:return this.SHa;break;}}},enumerable:!1,configurable:!0}});a.prototype.e1a=function(a,b,d){var P70;P70=2;for(;P70 !== 4;){switch(P70){case 2:this.rs=a;c.Y(b) || (this.LSa=b);c.Y(d) || (this.P2=d);P70=4;break;}}};a.prototype.Tta=function(a){var Q70;Q70=2;for(;Q70 !== 5;){switch(Q70){case 2:this.H=a;this.zZ.Tta(a);Q70=5;break;}}};a.prototype.Mda=function(a,b,d,f){var R70,k;R70=2;for(;R70 !== 7;){switch(R70){case 2:k=this.H;R70=1;break;case 1:var F19="i";F19+="q";F19+="r";R70=a === F19?5:9;break;case 5:R70=void 0 !== f?4:3;break;case 3:return !1;break;case 8:return b.Ka?b.Ka.Ca < k.FQ:!0;break;case 9:var t19="a";t19+="v";t19+="g";R70=a === t19?8:3;break;case 4:return ! !(b.Ka && d && c.qa(f) && b.Ka.Ca < k.FQ && f > k.i$);break;}}};a.prototype.GE=function(a){var S70;S70=2;for(;S70 !== 1;){switch(S70){case 2:return 1 === a?this.zZ.NT:this.zZ.ly;break;}}};a.prototype.uM=function(a){var T70;T70=2;for(;T70 !== 1;){switch(T70){case 2:this.zZ.uM(a);T70=1;break;}}};J70=7;break;}}})();b.Iua=a;},function(d,b,a){var h,g,m;function c(a,b,c,d){this.Za=a;this.G=b;this.pf=this.G.error.bind(this.G);this.yb=this.G.warn.bind(this.G);this.kk=this.G.trace.bind(this.G);this.fg=this.G.log.bind(this.G);this.xdb=new g();this.H=d;this.xZ=[];this.RZ=void 0;a=d.O2;h.call(this,a.numB * a.bSizeMs,a.bSizeMs);this.Gda=!0;}a(25);b=a(3)["default"];h=a(142);a(426);g=a(957);new b.Console("ASEJS_QOE_EVAL","media|asejs");m=a(122).gDa || a(122);c.prototype=Object.create(h.prototype);c.prototype.add=function(a,b,c){this.RZ || (this.RZ=b);h.prototype.add.call(this,a,b,c);};c.prototype.Gxb=function(){var a;if(0 !== this.xZ.length){a=[];this.xZ.forEach(function(b){b && b.$I && a.push(b.sx());});return a;}};c.prototype.dc=function(){this.xZ=[];};c.prototype.EAb=function(){var a,b,c;a=this.get(this.H.O2.fillS);if(0 === a[0] || null === a[0]){a.some(function(a,d){if(a)return (b=a,c=d,!0);});if(b)for(var d=0;d < c;d++){a[d]=b;}}a={trace:a,timestamp:this.RZ,Nw:this.dd};this.Gda=!1;h.prototype.reset.call(this);this.Gda=!0;this.RZ=void 0;return a;};c.prototype.gja=function(a){var b,c,d,f,h,g;if(a && !a.$I){c=a.ds.MTa;c && (a.Tqa=this.xfa(a),a.R5=!1);if((b=this.EAb()) && b.trace && b.trace.length){d=a.Ci.pB;f=b.timestamp;if(f > d){h=b.Nw;g=b.trace[0];d=Math.ceil(1 * (f - d) / h);b.timestamp=f - d * h;for(f=0;f < d;f++){b.trace.splice(0,0,g);}}b.trace.length && b.trace.pop();}a.Dy=b;b.trace && 0 === b.trace.length || void 0 === b.timestamp || (b=this.jmb(a),a.FXa=b,c && b && (a.R5=b.QA),a.$I=!0,this.xZ.push(a));}};c.prototype.jmb=function(a){var h,g,l,n;function b(a){var d;for(var b,c=0;c < a.length;c++){d=a[c].reduce(function(a,b){return b.tb?a + 1:a;},0);if(void 0 === b)b=d;else if(d !== b)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(d > b?d - b:b - d) * Math.LOG2E) + "]");}}for(var c=this.H.N2,d={QA:!1,l3:!1,W0:0},f=0;f < c.length;f++){h=c[f];g=this.xdb.create(h);if(g){l=m.now();n={};try{b(a.xv);n=g(a);}catch(I){n.h1=I;}n.Vjb=m.now() - l;d[h]=n;d.QA=d.QA || n.QA;d.l3=d.l3 || n.l3;d.h1=d.h1 || n.h1;}}return d;};c.prototype.xfa=function(a){var b;a=a.ds;b="";1E3 > a.Lp && (b+=a.Y4a);1E3 > a.cu && (b=b + ("" !== b?",":"") + a.GJa);1E3 <= a.Lp && 1E3 <= a.cu && (b="media");return b;};d.exports=c;},function(d,b,a){var g;function c(){}function h(a,b,c){return function(d){d.wU=b;d.compare=c;return a(d);};}g=a(958);c.prototype.constructor=c;c.prototype.create=function(a){var b;switch(a){case "htwbr":break;case "htwbr-dlvmaf":b=h(g.WR,!1,g.ULa);break;case "htwbr-segvmaf":b=h(g.WR,!0,g.ULa);break;case "hvmafgr":b=h(g.WR,!1,g.fha);break;case "hvmafgr-dlvmaf":b=h(g.WR,!1,g.fha);break;case "hvmafgr-segvmaf":b=h(g.WR,!0,g.fha);break;case "hvmafdp":b=h(g.dp,!1);break;case "hvmafdp-dlvmaf":b=h(g.dp,!1);break;case "hvmafdp-segvmaf":b=h(g.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return b;};d.exports=c;},function(d,b,a){var n,A,y,p,J,D,t,S,O,Y,E;function c(a){var b,c,d;c=a.Dy;b=a.Ci;d=a.ds.sa - b.X;c.timestamp > b.pB && Y.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + c.timestamp + " and " + b.pB);a=[];for(var f,k=c.timestamp,h=0;h < c.trace.length;h++){k >= b.pB && (a.push(c.trace[h]),f=c.trace[h]);k+=c.Nw;d-=c.Nw;}for(;0 < d;){a.push(f);d-=c.Nw;}b=c.Nw;c=a.length;if(0 === c)c=[];else {for(b=[b / 1E3];2 * b.length <= c;){b=b.concat(b);}b.length < c && (b=b.concat(b.slice(0,c - b.length)));c=b;}return new D(a,c,!1);}function h(a,b,c){b=a.xv[b][c];return b.ba + a.Ci.jQ * b.duration * 1 / 8;}function g(a){var r;for(var b=a.Ci,c=b.Kl,d=a.ds,f=d.ou,k,g,l,q=[],d=f=Math.min(d.cF,f);d >= c;d--){E.update("backward step loop");g=l=a.xv[0][d].X - a.Ci.X;d < f && (n(void 0 !== q[d + 1],"expect solution[(fragIndex + 1)] !== undefined"),g=Math.min(q[d + 1].startTime,g));k=h(a,0,d);r=u(k,g,a.Dy,b.pB);if(0 > r)throw Error("Infeasible: reason throughput at min bitrate");k={startTime:r,endTime:g,u0:g,otb:l,nM:k,Vd:0};k.KPa=d;q[d]=k;}b=0;for(d=c;d <= f;d++){b+=q[d].nM;q[d].xia=b;}if(!m(a,q,c,f))throw Error("Infeasible: reason buffer capacity at min bitrate");return {QA:!0,bpa:0 == q.length,Hp:q};}function m(a,b,c,d){var f,k,h,g,l,m,q,r,v,n;for(;c <= d;c++){E.update("checkBuffer");f=a;k=b;h=c;E.update("check buffer vacancy");g=f.Ci;l=f.xv[g.mS];m=f.GKa;q=!0;r=f.Wvb(Math.floor(k[h].startTime) + g.X);v=g.VB + k[h].xia;n=0;f=0;if(r.index < g.Kl){for(var u=0,y=g.yy;y < r.index;y++){u+=l[y].ba;}n+=u;u=0;for(y=g.yy;y < r.index;y++){u+=l[y].duration;}f+=u;}else (n+=g.VB,f+=g.Lp);u=0;for(y=g.Kl;y < r.index;y++){u+=k[y].nM;}n+=u;u=0;for(y=g.Kl;y < r.index;y++){u+=l[k[y].KPa].duration;}f+=u;r=v - n;g=l[h].X + l[h].duration - g.X - f;if(g >= m.Tx || r >= m.L4a)q=!1;k[h].QKa=r;k[h].qga=g;if(!q)return !1;}return !0;}function f(a){a=a.Ci.$;for(var b=[],c,d=0;d < a.length;d++){E.update("get prebuffered chunks loop");c=a[d];n(void 0 !== c.tb,"expect frag.vmaf !== undefined");c=new y(c.ba,c.duration / 1E3,c.tb);b.push(c);}return b;}function k(a){for(var b=a.xv,c=a.Ci,d=a.ds,f=d.ou,k=a.md,h=[],g,f=Math.min(d.cF,f),l=0;l < b.length;l++){for(var d=[],m=c.Kl;m <= f;m++){E.update("get chunk map from play segment");g=b[l][m];g=new y(g.ba,g.duration / 1E3,a.wU && void 0 !== g.tb?g.tb:k[l].tb);d.push(g);}h.push(d);}return new p(h,!1);}function q(a,b){n(a.vK() >= b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,d=0,f,k,h=0;h < b.length;h++){E.update("calculate twvmaf");n(b[h].QSa === h,"expect stream_choices[idx].i_epoch === idx");k=a.Ej[b[h].U2][h];f=k.IF;k=k.Hl;c+=f * k;d+=k;}return {ONa:c / d,NNa:1E3 * d};}function v(a,b,c){n(a.vK() >= b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var d=0,f=0,k=c.Ci.jQ,h,g=0,l=0,m=0;m < b.length;m++){E.update("calculate Bytes");n(b[m].QSa === m,"expect stream_choices[idx].i_epoch === idx");h=a.Ej[b[m].U2][m];d+=h.ba;f+=k * h.Hl * 1E3 / 8;g+=h.Hl * c.md[b[m].U2].U;l+=h.Hl;}return {MNa:d,KNa:f,LNa:0 < l?1 * g / l:0};}function r(a,b,c){b=Math.min(a.length - 1,b);b=Math.max(0,b);return a[b] * c * 1 / 8;}function u(a,b,c,d){var f,k,h,g,l;f=c.trace;k=1 * c.Nw;l=b + d - c.timestamp;g=Math.floor(1 * l / k);b=0 + (l - g * k) / k * r(f,g,k);if(b >= a)h=l - 1 * a / b * (l - g * k);else for(l=g;b < a;){E.update("find download start time");--l;if(0 > l)return -1;g=r(f,l,k);if(b + g >= a){a=1 * (a - b) / g * k;h=(l + 1) * k - a;break;}b+=g;}return h + c.timestamp - d;}n=a(5).assert;A=a(959);y=a(427).q7a;p=a(427).r7a;J=a(960).F8a;D=a(428).Ocb;t=a(253).Hva;S=a(246).tX;O=a(83)["default"];Y=new (a(3)["default"].Console)("ASEJS_QOE_EVAL","media|asejs");E=a(122).gDa || a(122);d.exports={WR:function(a){var b,c,d,f,k,l,q,r,v,y,B,p,J,I,D,t,O,U,F,L,N,V,X,fa,ha,ja,ga,la;Y.debug("greedy DEBUG false");E.lsa("greedy-" + (a.wU?"segvmaf":"dlvmaf") + ": ");try{a.bF=[];k=a.xv;l=a.Ci;q=a.ds;r=q.ou;v=a.md;r=Math.min(q.cF,r);for(O=l.Kl;O <= r;O++){U=new A();a.bF[O]=U;k[0][O].uga=k[0][O].ba;for(t=1;t < k.length;t++){k[t][O].uga=k[t][O].ba;}t=0;y=k[t][O];y.YA=Infinity;y.Yf=t;for(t=1;t < k.length;t++){y=k[t][O];y.Yf=t;B=U.o3()?k[0][O]:U.qLb();p=8 * y.uga / y.duration;J=8 * B.uga / B.duration;a.wU && void 0 !== y.tb?(I=y.tb,D=B.tb):(I=v[t].tb,D=v[B.Yf].tb);y.Bs=p - J;y.YA=(I - D) / y.Bs;isFinite(y.YA) && (0 < y.YA || t == k.length - 1) && 0 < y.Bs && U.enqueue(y);}}for(O=l.Kl;O <= r;O++){f=[];d=[];c=[];for(var da=a.bF[O].eo(),k=0;k < da.length;k++){y=da[k];f.push(y.Bs.toFixed(2));a.wU && void 0 !== y.tb?d.push(y.tb):d.push(v[y.Yf].tb);c.push(y.YA.toFixed(4));}}b=g(a);if(b.bpa)return b;F=a.Ci;L=a.ds;N=L.ou;N=Math.min(L.cF,N);c=[];for(var R=F.Kl;R <= N;R++){a.bF[R].o3() || c.push(a.bF[R].IJ());}n(void 0 !== a.compare,"playSegment.compare required for greedy");for(var T=new S(c,a.compare);0 < T.length;){E.update("upgrade frags");V=T.pop();a:{N=F=void 0;R=a;c=b;d=V;fa=R.Ci;ha=R.ds;ja=Math.min(ha.cF,ha.ou);ga=JSON.parse(JSON.stringify(c.Hp));n(d && ga[d.index].Vd < d.Yf,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");N=d.index;F=ga[N];F.Vd=d.Yf;F.nM=h(R,F.Vd,N);F.startTime=u(F.nM,F.u0,R.Dy,fa.pB);ga[N]=F;if(0 > F.startTime)X=!1;else {for(N=d.index - 1;N >= fa.Kl;N--){F=ga[N];la=ga[N + 1].startTime;if(F.u0 <= la)break;F.u0=la;F.startTime=u(F.nM,F.u0,R.Dy,fa.pB);ga[N]=F;if(0 > F.startTime){X=!1;break a;}}for(var ma=d.index + 1;ma <= ja;ma++){ga[ma].xia=ga[ma].nM + (ma > R.Ci.Kl?ga[ma - 1].xia:0);}for(var oa=d.index + 1;oa <= ja;oa++){if(ga[oa].startTime > ga[d.index].otb){ja=oa - 1;break;}}m(R,ga,d,Math.min(N + 1,d.index))?(c.Hp=ga,X=!0):X=!1;}}X && (a.bF[V.index].o3() || T.push(a.bF[V.index].IJ()));}}finally{delete a.bF;}for(ja=ha=fa=X=V=T=0;ja < b.Hp.length;ja++){if(ga=b.Hp[ja])(la=a.xv[ga.Vd][ga.KPa],T+=(la.tb?la.tb:a.md[ga.Vd].tb) * la.duration,V+=la.duration,X+=la.ba,fa+=a.Ci.jQ * la.duration * 1 / 8,ha+=la.duration * a.md[ga.Vd].U);}b.ONa=0 < V?1 * T / V:0;b.NNa=V;b.MNa=X;b.KNa=fa;b.LNa=0 < V?1 * ha / V:0;b.Rx=E.fRa();Y.debug("Max heap used: " + Math.round(b.Rx / 1024 / 1024) + " MB");return b;},fha:function(a,b){if(a.YA < b.YA)return 1;if(a.YA > b.YA)return -1;if(a.Bs > b.Bs)return 1;if(a.Bs < b.Bs)return -1;if(a.index > b.index)return 1;if(a.index < b.index)return -1;throw Error("Invalid frag comparison");},ULa:function(a,b){if(a.Bs > b.Bs)return 1;if(a.Bs < b.Bs)return -1;if(a.index > b.index)return 1;if(a.index < b.index)return -1;throw Error("Invalid frag comparison");},dp:function(a){var b,d,h,l,m,r;E.lsa("dp-" + (a.wU?"segvmaf":"dlvmaf") + ": ");b=g(a);if(!1 === b.QA || !0 === b.bpa)return b;d=k(a);h=new J(d);l=f(a);l={g3a:c(a),eKa:a.Ci.jQ,kWa:0,QVa:240,PVa:8 * a.GKa.L4a / 1E3,LKa:.5,tKa:new t(l),IOa:0,v6b:void 0,kSa:void 0,BZa:void 0,oJa:!0};h=h.CB(l);l=q(d,h);d=v(d,h,a);m=[];r=a.Ci.Kl;h.forEach(function(a){m[r]={Vd:a.U2};r++;});O(l,b);O(d,b);b.Hp=m;b.Rx=E.fRa();Y.debug("Max heap used: " + Math.round(b.Rx / 1024 / 1024) + " MB");return b;}};},function(d){var c;function b(b){this.Mf=a(b);this.dg=this.Me=0;if(c(b)){for(var d=b.length,h=0;h < d;++h){this[h]=b[h];}this.Me=d;}}function a(a){if("number" !== typeof a)if(c(a))a=a.length;else return 16;a=Math.min(Math.max(16,a),1073741824);a=(a >>> 0) - 1;a|=a >> 1;a|=a >> 2;a|=a >> 4;a|=a >> 8;return (a | a >> 16) + 1;}b.prototype.eo=function(){for(var a=this.Me,b=Array(a),c=this.dg,d=this.Mf,k=0;k < a;++k){b[k]=this[c + k & d - 1];}return b;};b.prototype.push=function(a){var b,c,d,h;b=arguments.length;c=this.Me;if(1 < b){d=this.Mf;if(c + b > d){for(var k=0;k < b;++k){this.JY(c + 1);h=this.dg + c & this.Mf - 1;this[h]=arguments[k];c++;this.Me=c;}return c;}h=this.dg;for(k=0;k < b;++k){this[h + c & d - 1]=arguments[k];h++;}this.Me=c + b;return c + b;}if(0 === b)return c;this.JY(c + 1);k=this.dg + c & this.Mf - 1;this[k]=a;this.Me=c + 1;return c + 1;};b.prototype.pop=function(){var a,b,c;a=this.Me;if(0 !== a){b=this.dg + a - 1 & this.Mf - 1;c=this[b];this[b]=void 0;this.Me=a - 1;return c;}};b.prototype.shift=function(){var a,b,c;a=this.Me;if(0 !== a){b=this.dg;c=this[b];this[b]=void 0;this.dg=b + 1 & this.Mf - 1;this.Me=a - 1;return c;}};b.prototype.unshift=function(a){var b,c,d,h;b=this.Me;c=arguments.length;if(1 < c){d=this.Mf;if(b + c > d){for(var k=c - 1;0 <= k;k--){this.JY(b + 1);d=this.Mf;h=(this.dg - 1 & d - 1 ^ d) - d;this[h]=arguments[k];b++;this.Me=b;this.dg=h;}return b;}h=this.dg;for(k=c - 1;0 <= k;k--){h=(h - 1 & d - 1 ^ d) - d;this[h]=arguments[k];}this.dg=h;this.Me=b + c;return b + c;}if(0 === c)return b;this.JY(b + 1);d=this.Mf;k=(this.dg - 1 & d - 1 ^ d) - d;this[k]=a;this.Me=b + 1;this.dg=k;return b + 1;};b.prototype.qLb=function(){var a;a=this.Me;if(0 !== a)return this[this.dg + a - 1 & this.Mf - 1];};b.prototype.get=function(a){var b;if(a === (a | 0)){b=this.Me;0 > a && (a+=b);if(!(0 > a || a >= b))return this[this.dg + a & this.Mf - 1];}};b.prototype.o3=function(){return 0 === this.Me;};b.prototype.clear=function(){for(var a=this.Me,b=this.dg,c=this.Mf,d=0;d < a;++d){this[b + d & c - 1]=void 0;}this.dg=this.Me=0;};b.prototype.toString=function(){return this.eo().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.IJ=b.prototype.shift;b.prototype.toJSON=b.prototype.eo;Object.defineProperty(b.prototype,"length",{get:function(){return this.Me;},set:function(){throw new RangeError("");}});b.prototype.JY=function(b){this.Mf < b && this.Whb(a(1.5 * this.Mf + 16));};b.prototype.Whb=function(a){var b,c;b=this.Mf;this.Mf=a;a=this.dg;c=this.Me;if(a + c > b)for((a=a + c & b - 1,c=0);c < a;++c){this[c + b]=this[c + 0];this[c + 0]=void 0;}};c=Array.isArray;d.exports=b;},function(d,b,a){var n,A,y,p;function c(a,b,c){this.xKa=this.feb(a,b,c);}function h(){}function g(){}function m(){}function f(a){this.unb=a;}function k(){}function q(){}function v(){}function r(){this.sia={};}function u(a){return Array.apply(0,Array(a)).map(function(a,b){return b + 1;});}n=a(5).assert;b=a(253).Hva;A=a(428).Pcb;y=a(253).Q6a;new (a(3)["default"].Console)("ASEJS_QOE_EVAL","media|asejs");p=a(122).gDa || a(122);c.prototype.constructor=c;c.prototype.feb=function(a,b,c){n(a < b,"expect min_buffer_sec < max_buffer_sec but got " + a + " and " + b);n(0 < c,"expect buffer_step_sec > 0. but got " + c);for(var d=[];a < b;a+=c){d.push(a);}d[d.length - 1] < b && d.push(b);return d;};c.prototype.DA=function(a){return this.lfb(a,this.xKa);};c.prototype.lfb=function(a,b){a=this.Usb(a,b);if(0 === a)throw new h();if(a === b.length)throw new g();return a;};c.prototype.Usb=function(a,b){n(0 < b.length,"expect bins.length > 0 but got " + b.length);if(a < b[0])return 0;if(a >= b[b.length - 1])return b.length;for(var c=1;c < b.length;c++){if(b[c - 1] <= a && a < b[c])return c;}n(!1,"expect not coming here in digitize()");};c.prototype.w2=function(){return u(this.xKa.length - 1);};h.prototype=Error();g.prototype=Error();m.prototype=Error();f.prototype.constructor=f;f.prototype.VERSION="0.5";f.prototype.L7a=-20;f.prototype.K7a=20;f.prototype.J7a=void 0;f.prototype.E7a=new b(void 0);f.prototype.G7a=0;f.prototype.F7a=1;f.prototype.N7a=!1;f.prototype.I7a=!0;f.prototype.H7a=!0;f.prototype.M7a=void 0;f.prototype.C7a=!0;f.prototype.D7a=0;f.prototype.CB=function(a){n(void 0 !== a.g3a,"expect recipe.time_varying_bandwidth !== undefined");return this.Xhb(this.unb,a.g3a,void 0 !== a.kWa?a.kWa:this.L7a,void 0 !== a.QVa?a.QVa:this.K7a,void 0 !== a.PVa?a.PVa:this.J7a,void 0 !== a.tKa?a.tKa:this.E7a,void 0 !== a.IOa?a.IOa:this.G7a,void 0 !== a.LKa?a.LKa:this.F7a,void 0 !== a.TSb?a.TSb:this.N7a,void 0 !== a.fBb?a.fBb:this.I7a,void 0 !== a.kSa?a.kSa:this.H7a,void 0 !== a.BZa?a.BZa:this.M7a,void 0 !== a.oJa?a.oJa:this.C7a,void 0 !== a.eKa?a.eKa:this.D7a);};f.prototype.Xhb=function(a,b,d,f,l,u,B,I,t,ea,Z,F,ca,Ca){var D,E,O,Y,U,S,da,L,V,X,fa,ha,ga,ja,la,ma,oa,pa,wa,va;function J(a){return a[S];}p.lsa("dp: ");n(d <= u.Jg,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");n(u.Jg <= f,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");n(d <= B,"expect min_buffer_sec <= end_buffer_sec");n(B <= f,"expect end_buffer_sec <= max_buffer_sec");void 0 !== l && n(u.Xk <= l,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + u.Xk + " and " + l);D=new c(d,f,I);I=new r();E=0;O=u;I.put([0,D.DA(u.Jg)],[E,O,void 0,void 0,b,void 0,void 0,void 0]);Y=O=0;b=a.ZAb();n(a.vK() == b.length,"expect chunk_map.get_n_epoch() == durations_sec.length");S=-1;for(da in b){for(var S=S + 1,sa=!0,Ua=a.Ej.map(J),ta=D.w2(),Na=0;Na < ta.length;Na++){L=ta[Na];if(I.ena([S,L])){U=I.get([S,L]);for(var N=U[0],R=U[1],T=U[4],ia=0;ia < Ua.length;ia++){b=Ua[ia];p.update("epoch-ibuf-chunk loop");u=void 0 !== F?F(b.IF):b.IF;V=T.nq();try{U=this.Neb(R,b,V,Ca);X=U[0];fa=U[1];ha=U[2];ga=U[3];ja=U[4];la=U[5];}catch(Za){if(Za instanceof A)continue;else if(Za instanceof h){O+=1;continue;}else throw Za;}ma=E=!1;try{oa=D.DA(ga.Jg);ea && D.DA(X);Z && D.DA(fa);if(void 0 !== l)if(Z){if(ha.Xk > l)throw new m();}else if(ga.Xk > l)throw new m();}catch(Za){if(Za instanceof h)(oa=void 0,O+=1);else if(Za instanceof g)(ca?E=!0:Y+=1,oa=void 0);else if(Za instanceof m)(ca?ma=E=!0:Y+=1,oa=void 0);else throw Za;}try{if(E && ma){n(void 0 !== l,"expect max_buffer_kb !== undefined");wa=Z?ha.Xk - l:ga.Xk - l;n(0 <= wa,"pause dlnd kb cannot be -ve but is " + wa);try{pa=ga.SLb(wa);}catch(Za){if(Za instanceof y)throw new h();throw Za;}V.oYa(pa);ja+=pa;n(ga.Jg < f,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");oa=D.DA(ga.Jg);}else if(E && !ma){pa=Z?ha.Jg - f + 1E-8:ga.Jg - f + 1E-8;n(0 <= pa,"pause dlnd kb cannot be -ve but is " + pa);try{ga.JYa(pa);}catch(Za){if(Za instanceof y)throw new h();throw Za;}V.oYa(pa);ja+=pa;n(d <= ga.Jg,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");n(ga.Jg < f,"cur_buffer_queue.total_remain_sec < max_buffer_sec");oa=D.DA(ga.Jg);}else pa=0;}catch(Za){if(Za instanceof h)(oa=void 0,O+=1,pa=void 0);else if(Za instanceof A)continue;else throw Za;}E=I.ena([S + 1,oa])?I.get([S + 1,oa])[0]:-Infinity;this.Kib(ga,oa,b,u,L,S + 1,E,I,N,ia,V,ja,la,pa) && (sa=!1);}}}if(sa){--S;break;}}try{va=this.wGa(S + 1,D.DA(B),I,t,D);}catch(Za){if(Za instanceof k)try{va=this.wGa(S + 1,D.DA(B),I,!t,D);}catch(Ee){if(Ee instanceof k){if(O > Y)throw new q();throw new v();}throw Ee;}else throw Za;}L=va;for(d=[];-1 < S;S--){U=I.get([S + 1,L]);E=U[0];O=U[1];f=U[3];l=U[5];B=U[6];t=U[7];U=U[2];b=a.Ej[U][S];ea=b.ux();u=b.IF;d.unshift({QSa:S,U2:U,info:{x4b:ea,IF:u,mga:O.Jg,lga:O.Xk,gOa:l,Ka:B,Opa:t}});L=f;}return d;};f.prototype.wGa=function(a,b,c,d,f){var h,g;h=!1;g=f.w2()[0];for(f=f.w2()[f.w2().length - 1];;){if(b < g || b > f){h=!0;break;}if(c.ena([a,b]))break;else b=d?b - 1:b + 1;}if(h)throw new k();return b;};f.prototype.Kib=function(a,b,c,d,f,k,h,g,l,m,q,r,v,n){c=l + d * c.Hl;return void 0 !== b && c > h?(g.put([k,b],[c,a,m,f,q,r,v,n]),!0):!1;};f.prototype.Neb=function(a,b,c,d){var f,k,g;d=(b.ux() + d) * b.Hl;c=c.wtb(d);d/=c;f=a.Jg - c;k=a.Jg + b.Hl;g=a.nq();g.add(b,void 0);a=a.nq();a.add(b,void 0);try{a.JYa(c);}catch(da){if(da instanceof y)throw new h();throw da;}return [f,k,g,a,c,d];};k.prototype=Error();q.prototype=new k();v.prototype=new k();r.prototype={Kta:function(a){return a.join(",");},put:function(a,b){this.sia[this.Kta(a)]=b;},get:function(a){return this.sia[this.Kta(a)];},ena:function(a){return (this.Kta(a) in this.sia);}};d.exports={F8a:f,WYb:c,vYb:h,wYb:g};},function(d,b,a){var c,h,g,m,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.UDa=void 0;d=a(0);c=d.__importStar(a(8));h=a(17);g=a(17);m=d.__importDefault(a(3));f=a(226);k=a(425);a=(function(){var m80;m80=2;function a(a,b,c,d){var n80;n80=2;for(;n80 !== 9;){switch(n80){case 2:var n19="1SIY";n19+="bZrNJ";n19+="Cp9";this.Qa=a;this.G=b;this.Mb=c;this.sh=d;n19;n80=9;break;}}}for(;m80 !== 13;){switch(m80){case 8:a.prototype.wda=function(){var z80,a,b;z80=2;for(;z80 !== 4;){switch(z80){case 2:z80=this.xz?1:4;break;case 1:(a=this.xz.Wh,b=this.xz.sb);this.Qa.Bg(b) && (this.xz=void 0,this.Lm(a,b));z80=4;break;}}};a.prototype.Uj=function(a){var A80,c,d;A80=2;function b(a,d){var B80;B80=2;for(;B80 !== 5;){switch(B80){case 2:var v19="skip: unexpected behaviour - a non";v19+="-presenting branch doesn't have a pr";v19+="evious branch";a !== c.Qa.Ba.yi && (a.Ef?b(a.Ef,d):c.G.error(v19));(a=a.gd(d)) && a.Uj();B80=5;break;}}}for(;A80 !== 7;){switch(A80){case 2:c=this;null === (d=this.cHa) || void 0 === d?void 0:d.cancel();this.Qa.Ssa();this.Qa.Ba.yi.Uj(a);g.je.forEach(function(a){var C80,d;C80=2;for(;C80 !== 9;){switch(C80){case 2:C80=c.Mb(a)?1:9;break;case 1:var Q19="skip: not resuming";Q19+=" bufferManager, audio tra";Q19+="ck switch in progress";var s19="de";s19+="fa";s19+="ul";s19+="t";d=c.Qa.ib.$e[a];c.Qa.sq && (d.Ksa=m[s19].time.aa());d.iN?d.yb(Q19):c.Qa.bg[a].resume();b(c.Qa.Ba.pc,a);C80=9;break;}}});A80=9;break;case 9:this.cHa=a=new f.HH(this.Qa.hG());return a.wpa(function(){var D80;D80=2;for(;D80 !== 5;){switch(D80){case 2:c.Qa.R.ue(h.oa.Uc);c.Qa.NP();D80=5;break;}}}).Z_a;break;}}};a.prototype.Sg=function(a){var E80,b,c,d;E80=2;for(;E80 !== 7;){switch(E80){case 2:c=this.Qa.Ba.yi;d=0 < Object.keys(c.W && c.W.yk || ({})).length && !c.Gj?c.ee - this.Qa.H.Tu:c.ee;E80=5;break;case 5:E80=a < (null !== (b=c.Rc) && void 0 !== b?b:c.mTa) || a >= d?4:3;break;case 4:return !1;break;case 3:b=this.Qa.gs(a,0,!0);a=this.Qa.gs(a,1,!0);return void 0 !== b && void 0 !== a && b.complete && a.complete;break;}}};return a;break;case 4:a.prototype.Dfb=function(a){var u80;u80=2;for(;u80 !== 1;){switch(u80){case 2:return ! !this.Qa.Bg(a).aQ;break;}}};a.prototype.TP=function(a){var v80,b;v80=2;for(;v80 !== 4;){switch(v80){case 5:a.aQ || (a.aQ=!0,g.je.forEach(function(a){var w80;w80=2;for(;w80 !== 1;){switch(w80){case 2:b.Qa.bg[a].resume();w80=1;break;}}}),this.Qa.EP());v80=4;break;case 2:b=this;a=this.Qa.Bg(a);v80=5;break;}}};a.prototype.uhb=function(a,b){var x80,c,d,f;x80=2;for(;x80 !== 8;){switch(x80){case 3:(this.Qa.Mg.AB.forEach(function(a){var y80;y80=2;for(;y80 !== 1;){switch(y80){case 2:c.Qa.FD(a,!1);y80=1;break;}}}),this.Qa.Mg=void 0);x80=9;break;case 9:this.Qa.bR.WHa(f,a.Kb.N);x80=8;break;case 2:(c=this,f=a.I);a.cG(b);a.HPb();x80=4;break;case 4:x80=(null === (d=this.Qa.Mg) || void 0 === d?0:d.IA())?3:9;break;}}};m80=8;break;case 2:a.prototype.Lm=function(a,b){var o80,d,f,l,m,q,r,v;o80=2;for(;o80 !== 50;){switch(o80){case 21:o80=!this.Qa.b_(l.N.sb + 1)?35:31;break;case 18:var q19="seekDe";q19+="lay";q19+="ed";this.xz={sb:b,Wh:a};this.Qa.emit(q19);o80=16;break;case 12:o80=b != m.N.sb?11:26;break;case 52:var R19="s";R19+="e";R19+="ekDe";R19+="lay";R19+="ed";(this.xz={sb:b,Wh:a},this.Qa.emit(R19));o80=50;break;case 44:g.je.forEach(function(a){var q80;q80=2;for(;q80 !== 1;){switch(q80){case 2:d.Qa.au[a].Gl(!0);q80=1;break;}}});o80=43;break;case 53:this.Qa.EP();o80=43;break;case 26:m=this.Qa.Ba.pc.uR(l.sa || Infinity,l.N);o80=25;break;case 23:o80=a > m?22:31;break;case 7:o80=(l=this.Qa.Bg(b))?6:51;break;case 28:o80=(m=this.Qa.Qd.N.sb === b && !this.Dfb(b) && a === l.X)?44:39;break;case 2:var x19=" ";x19+="p";x19+="layerState";x19+=": ";var C19=" med";C19+="ia.curr";C19+="entPts: ";var Z19=" cu";Z19+="rrent ma";Z19+="nifest: ";var o19=" manif";o19+="e";o19+="stInd";o19+="e";o19+="x: ";var I19="see";I19+="k";I19+=": ";d=this;null === (f=this.cHa) || void 0 === f?void 0:f.cancel();(l=this.Qa.H,m=this.Qa.R.$d());f=a;l.Ah && this.sh.zl(I19 + a + o19 + b + Z19 + this.Qa.Qd.N.sb + C19 + m + x19 + this.Qa.R.sd());c.Y(b) && (b=this.Qa.Qd.N.sb);this.Qa.Ba.S_a();o80=7;break;case 54:g.je.forEach(function(a){var r80,b;r80=2;for(;r80 !== 5;){switch(r80){case 2:b=v.gd(a);d.Mb(a) && d.uhb(b,r[a]);r80=5;break;}}});o80=53;break;case 27:return;break;case 11:b < m.N.sb && l.N.Qe.replace && (l.N.Qe.replace=!1);q=this.Qa.Ba.pc;g.je.forEach(function(a){var p80;p80=2;for(;p80 !== 1;){switch(p80){case 2:(a=q.gd(a)) && d.Qa.fIa(a);p80=1;break;}}});o80=19;break;case 14:this.Qa.R.ue(h.oa.ck);m=this.Qa.Qd;o80=12;break;case 35:var i19="se";i19+="e";i19+="kDel";i19+="ayed";this.xz={sb:l.N.sb + 1,Wh:a};this.Qa.emit(i19);o80=33;break;case 6:!l.N.Qe.US && 0 < b && (f=this.Qa.$w(b,a));o80=14;break;case 51:var A19="se";A19+="ekFai";A19+="le";A19+="d";var f19="s";f19+="eek, no m";f19+="an";f19+="ifest at manif";f19+="estIndex:";(this.G.warn(f19,b),this.Qa.emit(A19));o80=50;break;case 41:var c19="s";c19+="eekF";c19+="a";c19+="il";c19+="ed";var k19="after seeking";k19+=",";k19+=" p";k19+="layerState no longer STARTING: ";this.G.warn(k19 + this.Qa.R.sd());this.Qa.emit(c19);o80=50;break;case 16:return;break;case 31:this.Qa.R.ue(h.oa.oh);this.Qa.Ssa();this.Qa.Ba.lUb(a,b);o80=28;break;case 42:var K19="s";K19+="e";K19+="e";K19+="k";var H19="p";H19+="t";H19+="sch";H19+="a";H19+="nged";return (this.Qa.emit(H19,f),this.Qa.emit(K19),this.TP(b),a=m && this.Qa.ib.dw()?100:0,this.Qa.OZ(1,a),this.Qa.Xi(),f);break;case 32:(a=m,f=a + this.Qa.Ba.Hd);o80=31;break;case 33:return;break;case 25:o80=m.length?24:52;break;case 43:o80=this.Qa.R.QTa()?42:41;break;case 39:this.Qa.wea();r=this.Qa.Ba.pc.P_(a).TL;l.dpa();v=this.Qa.Ba.pc;o80=54;break;case 22:o80=l.N.Qe.Sf?21:32;break;case 15:o80=this.qn(k.z8.Zja(b),!1,!0)?27:26;break;case 24:m=this.Qa.iq?this.Qa.Ql?Math.min(m[0].X,m[1].X):m[0].X:m[1].X;o80=23;break;case 19:o80=!this.Qa.$Fa(b)?18:15;break;}}};a.prototype.seek=function(a,b){var s80,d;s80=2;for(;s80 !== 9;){switch(s80){case 2:d=a;c.Y(b) && (b=this.Qa.Qd.N.sb);this.Qa.Ba.S_a();s80=4;break;case 4:this.Qa.Bg(b).N.Qe.US || this.Qa.vI || (d=this.Qa.Uo(b,a));return this.Lm(d,b);break;}}};a.prototype.qn=function(a,b,c){var t80,d,f;t80=2;for(;t80 !== 9;){switch(t80){case 4:var Y19="s";Y19+="e";Y19+="e";Y19+="k";var r19="ptsch";r19+="ange";r19+="d";f?(this.Qa.R.ue(h.oa.ck),(a=this.Qa.Ba.yi.children[a]) && this.Qa.emit(r19,null !== (d=a.Rc) && void 0 !== d?d:a.mTa),this.Qa.R.ue(h.oa.oh),this.Qa.emit(Y19),a && this.TP(a.N.sb),this.Qa.OZ(1),this.Qa.Xi(),this.Qa.ib.dw()):c || (d=this.Qa.Ba.iAb(a),this.Lm(d));return f;break;case 6:t80=b?6:9;break;t80=b?5:4;break;case 1:t80=b?5:4;break;case 5:return f;break;case 2:f=this.Qa.Ba.qn(a,b);t80=1;break;}}};m80=4;break;}}})();b.UDa=a;},function(d,b,a){var c,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Xwa=void 0;d=a(0);c=d.__importStar(a(8));h=a(17);g=d.__importDefault(a(3));a=(function(){function a(a,b,c){var G80;G80=2;for(;G80 !== 9;){switch(G80){case 2:var W19="1SIY";W19+="bZrN";W19+="JCp9";this.Ia=a;this.G=b;this.Mb=c;W19;this.RFa=this.aD=void 0;G80=9;break;}}}var F80;F80=2;for(;F80 !== 18;){switch(F80){case 11:a.prototype.jfb=function(a){var b90;b90=2;for(;b90 !== 1;){switch(b90){case 2:return this.Ia.Ba.Lb.reduce(function(b,c){var c90;c90=2;for(;c90 !== 1;){switch(c90){case 2:return b + c.$zb(a);break;}}},0);break;}}};a.prototype.fnb=function(a){var d90,b,d,f;d90=2;for(;d90 !== 4;){switch(d90){case 2:(b=this,d=this.Ia.Ba,f=!0);c.oe(a.W.yk,function(c,k){var e90,h;e90=2;for(;e90 !== 7;){switch(e90){case 8:var B19="i";B19+="n";B19+=" ";B19+="de";B19+="sts:";var L19="i";L19+="nva";L19+="lid ";L19+="segment";L19+=":";a.yb(L19,k,B19,a.W.yk);e90=7;break;case 2:e90=(c=d.wf(k))?1:8;break;case 1:k=c.N;c=k.Dg[0];h=k.Dg[1];c && h && c.stream.se && h.stream.se || (f=!1);b.Ia.R.An(k) || (f=!1);e90=7;break;}}});return f;break;}}};a.prototype.Aib=function(){var f90,a,b,c;f90=2;for(;f90 !== 5;){switch(f90){case 2:(a=this.Ia.H,b=this.Ia.Ba,c=b.pc);this.Ia.R.hg() || b.ku(c,1) < a.bT || c.N.Ita();f90=5;break;}}};return a;break;case 2:a.prototype.KY=function(){var H80;H80=2;for(;H80 !== 1;){switch(H80){case 2:this.aD && (clearTimeout(this.aD),this.aD=void 0);H80=1;break;}}};a.prototype.nGa=function(){var I80,a,b,c,d;I80=2;for(;I80 !== 6;){switch(I80){case 2:I80=!this.Ia.Lj.Hea && !this.Ia.am()?1:6;break;case 1:var J19="firs";J19+="tDriveStrea";J19+="ming";void 0 === this.Ia.yeb && (this.Ia.yeb=!0,this.Ia.bb.xj(J19));(a=this.Ia.Ba,b=a.pc.gd(0),c=a.pc.gd(1),d=!c || c.ih);I80=4;break;case 4:(!b || b.ih) && d && this.Ia.vI && a.Qnb(c?c.Pb:b.Pb);c=!c || c.Pp;b && !b.Pp || !c || this.Ia.vI || (this.Ia.Ib.Ye && this.Ia.Ib.Ye.Ko(!0,this.Ia.el.sessionId),this.Ia.bb.fXa());this.kGa(a.pc);this.Aib();I80=6;break;}}};a.prototype.oIa=function(){var J80;J80=2;for(;J80 !== 1;){switch(J80){case 2:return this.Ia.am() || this.Ia.R.RTa() || this.Ia.R.Xg()?!0:!1;break;}}};a.prototype.NY=function(a){var K80;K80=2;for(;K80 !== 1;){switch(K80){case 2:return this.oIa() || this.Ia.ib.$e[a.I].iN || this.Ia.Zv.Kz?!1:!0;break;}}};a.prototype.Xi=function(){var L80,a,b;L80=2;for(;L80 !== 5;){switch(L80){case 2:(a=this,b=this.Ia.H);!this.Ia.GHa || this.Ia.GZ || this.Ia.TZ || (this.Ia.GZ=setTimeout(function(){var M80;M80=2;for(;M80 !== 4;){switch(M80){case 2:clearTimeout(a.Ia.GZ);a.Ia.GZ=void 0;a.nGa();M80=4;break;}}},b.Wpa),b.TJ && this.Ia.Ql && (this.aD || (this.aD=setTimeout(function(){var N80,b;N80=2;for(;N80 !== 3;){switch(N80){case 2:clearTimeout(a.aD);a.aD=void 0;b=a.Ia.Ba.pc.gd(1);b && a.BFa(b);N80=3;break;}}},b.fjb))));L80=5;break;}}};F80=9;break;case 9:a.prototype.BFa=function(a,b){var O80,c,d,f,k;O80=2;for(;O80 !== 3;){switch(O80){case 2:(c=a.I,d=this.Ia.ib.Ru[c].XE,f=a.Zf.zS);O80=1;break;case 1:O80=d && f?5:3;break;case 5:k=this.Ia.ib.$e[c].$g;k && (this.Ia.R.hg() || this.Ia.Kf.ejb(c,k,d.U,f.U,a.TBb.U,b));O80=3;break;}}};a.prototype.kGa=function(a,b){var P80,c,d,f,k,h;P80=2;for(;P80 !== 7;){switch(P80){case 4:P80=(this.Ia.Ql && this.lGa(a,d,f),this.Ia.iq && this.lGa(a,f,d),k=!f || f.ih,h=!d || d.ih,!h || !k)?3:9;break;case 2:(c=a.W,d=a.gd(1),f=a.gd(0),k=!f || f.ih,h=!d || d.ih);c.xL || this.Ia.Ba.epa(a,c,a.N.Qe.Sf && 0 === a.N.sb);P80=5;break;case 9:var M19="Still in buffe";M19+="ring stat";M19+="e while pipe";M19+="line's";M19+=" are done";this.Ia.R.hg() && (this.G.warn(M19),this.Ia.ib.dw());b || c.dt || a.N.Qe.Sf || !this.fnb(a) || ((b=this.Ia.R.hg()) && this.Ia.H.aia && (this.Ia.Eea(),b=!1),a.C1 || this.Ia.Ba.XBb(a,b),a.eJ(),a.gnb() && (b=Object.keys(a.children),this.Ia.H.U0 && 1 === b.length && !a.children[b[0]].active && this.Ia.Ba.fVa(a,b[0]),this.Ceb(a,c)));P80=7;break;case 5:P80=!h || !k?4:9;break;case 3:return;break;}}};a.prototype.Ceb=function(a,b){var Q80,l,m,d,f,k,n,p,h;Q80=2;for(;Q80 !== 25;){switch(Q80){case 10:var G19="No subbranch";G19+=" candidate";G19+="s to d";G19+="rive";this.G.warn(G19);Q80=20;break;case 3:Q80=!d?9:15;break;case 6:Q80=1 < m.length?14:11;break;case 14:d=m.reduce(function(a,b){var T80;T80=2;for(;T80 !== 4;){switch(T80){case 2:b.Km=b.Kb.Km;b.eWa=Math.min(b.Km[0],b.Km[1]);return [a[0] + b.weight,a[1] + b.eWa];break;}}},[0,0]);Q80=13;break;case 9:(l=[],m=[]);c.oe(a.children,function(a,c){var R80;R80=2;for(;R80 !== 5;){switch(R80){case 2:c=b.yk[c].weight;0 !== c && (c={weight:c,Kb:a},a.Mga(!0,!0) || m.push(c),l.push(c));R80=5;break;}}});Q80=7;break;case 12:0 !== n && 0 !== p?(c.oe(m,function(a){var U80;U80=2;for(;U80 !== 4;){switch(U80){case 2:a.PXb=a.weight / n;a.Xlb=a.eWa / p;a.u4a=a.Xlb - a.PXb;U80=4;break;}}}),m.sort(function(a,b){var V80;V80=2;for(;V80 !== 1;){switch(V80){case 2:return a.u4a - b.u4a;break;case 4:return a.u4a % b.u4a;break;V80=1;break;}}})):m.sort(function(a,b){var W80;W80=2;for(;W80 !== 4;){switch(W80){case 2:a=Math.min.apply(null,a.Kb.Km);b=Math.min.apply(null,b.Kb.Km);a000.W24(3);return a000.r24(b,a);break;}}});Q80=11;break;case 2:k=this.Ia.H;Q80=1;break;case 7:0 === m.length?m=l:2 < m.length && (m.sort(function(a,b){var S80;S80=2;for(;S80 !== 1;){switch(S80){case 2:return b.weight - a.weight;break;}}}),m.length=2);Q80=6;break;case 13:(n=d[0],p=d[1]);Q80=12;break;case 4:Math.min(h[0] - a.bda[0],h[1] - a.bda[1]) >= k.tnb?a.XH=void 0:(d=a.XH,f=b.yk[d.W.id].weight);Q80=3;break;case 11:Q80=0 === m.length?10:19;break;case 1:Q80=this.Ia.Ib.cma && a.XH && a.bda?5:3;break;case 16:a.bda=d.Km;Q80=15;break;case 5:h=a.XH.Km;Q80=4;break;case 20:return;break;case 19:d=m[0].Kb;f=m[0].weight;a.XH=d;Q80=16;break;case 15:var m19="d";m19+="e";m19+="f";m19+="ault";d.Ld || (d.Ld={b3:g[m19].time.aa(),yB:0});d.Ld.weight=f;this.kGa(d,!0);Q80=25;break;}}};a.prototype.lGa=function(a,b,d){var X80,f,k,h,l,m,q;X80=2;for(;X80 !== 8;){switch(X80){case 1:X80=!b.ih?5:8;break;case 2:(f=this.Ia.H,k=b.I);X80=1;break;case 5:(h=this.Ia.ib.$e[k],l=this.Ia.ib.zy[k],m=this.Ia.ib.Ru[k]);X80=4;break;case 4:X80=h.$g && (void 0 === b.zF || (b.cG(b.zF,b.sLb),void 0 === b.zF))?3:8;break;case 3:var X19="Still in buffering ";X19+="state while pipeline d";X19+="oes not have vacancy";var N19="defa";N19+="u";N19+="lt";var z19="drivePipeline, delaying au";z19+="dio until video actualStartPts ";z19+="determined";q=this.Ia.Qd;c.Y(q.qF) || (f.Us && 0 === k && c.Y(this.Ia.ib.$e[1].fm)?b.yb(z19):(c.Y(b.yl) && (b.yl=b.We?b.We.index:b.vja(b.ac)),b.Tf && b.yl > b.Tf.index?a.N.Qe.Sf && c.Y(q.sa) && c.Y(a.Pb) || (b.ih || this.Ia.fIa(b),a=this.Ia.Qd.N.sb,a < this.Ia.lK() - 1 && this.Ia.b_(a + 1)):this.NY(b) && (f.qub && !this.Ia.R.hg() && 0 >= b.fF?b.jWb(f.mHb):this.aeb(b,d)?(b.SEb=g[N19].time.aa(),d=this.Ia.ib.jla(b),f=d.Yf,c.Y(f) || (f=b.track.md[f],this.$db(b,f) || ((k=f.d2())?(b.LEb=f.U,b.lGb(f,k,this.Ia.R.hg(),h.$g,d.Gs),this.vWb(f,m,l),a.Ld && ++a.Ld.yB):f.AG()))):this.Ia.R.hg() && (b.kk(X19),this.Ia.ib.dw()))));X80=8;break;}}};a.prototype.vWb=function(a,b,d){var Y80;Y80=2;for(;Y80 !== 4;){switch(Y80){case 2:b.N3=a.Nc;c.qa(d.vq) || (d.sWb(a.Yq,a.Ax || -1,a.U,a.xU),c.Y(a.xU) || this.Ia.Kf.e1a(a.xU,a.sl,a.tl));a.url && (b.una=a.url);Y80=4;break;}}};a.prototype.$db=function(a,b){var Z80,c;Z80=2;for(;Z80 !== 5;){switch(Z80){case 2:c=this.Ia.ib.Ru[a.I];return this.Ia.GHa && b.Nc && c.N3 && b.Nc !== c.N3 && (0 < a.Pa.dy || 0 < a.Pa.cr)?!0:!1;break;}}};a.prototype.aeb=function(a,b){var a90,d,f,k,l,m,n,y,p,J,D;a90=2;for(;a90 !== 32;){switch(a90){case 19:a90=this.Ia.Ib.Zma?18:17;break;case 21:a90=(l=this.Ia.R.hg())?35:33;break;case 15:a90=void 0 === p || p < f.JGb?27:26;break;case 3:return !1;break;case 20:a90=b && (D=this.Ia.Ba.WD(l,b.I),J=a.ac - J,this.Mb(b.I) && !b.ih && J >= f.poa && p > f.jj)?19:26;break;case 18:return !1;break;case 34:return !1;break;case 13:a90=n === h.oa.Uc && y > f.xVa && !d.Qe.Sf && !D && !d.TS || y && m > Math.max(y * f.loa / 100,f.Koa)?12:11;break;case 23:a90=!c.Y(f.Nu) && p >= f.Nu || a.sJ + m >= Math.max(f.Tx,this.Ia.Ib.xy + f.npa * l.N.MGb[k])?22:21;break;case 24:p=this.Ia.Ba.iVb();a90=23;break;case 8:a90=m >= f.aB?7:6;break;case 9:m=a.Pa.Kpa;a90=8;break;case 4:a90=(null === (d=a.Ig) || void 0 === d?0:d.CBb())?3:9;break;case 27:return !1;break;case 2:var S19="f";S19+="l";S19+="oo";S19+="red to ";S19+="0";var E19="negative schedule";E19+="dB";E19+="uffer";E19+="Level:";(f=this.Ia.H,k=a.I,l=a.R3,m=this.Ia.R.$d(),n=this.Ia.R.sd(),y=this.Ia.Ba.ku(l,k),p=a.ac + l.Hd - m);0 > p && (a.yb(E19,p,S19),p=0);J=b?b.ac:0;a90=4;break;case 17:var h19="de";h19+="faul";h19+="t";p=void 0;b && (p=b.I,J=g[h19].ql()[p],p=f.NWb?this.Ia.Ba.hVa(l,p).Fi / J:D / J);a90=15;break;case 25:return !1;break;case 26:a90=this.jfb(k) >= f.fL?25:24;break;case 22:return !1;break;case 12:return !1;break;case 11:n=this.Ia.Ba.WD(l,k);D=0;a90=20;break;case 35:a90=(m=1,a.nga < f.Ux && (m=f.Ux),a.Pa.dy >= m)?34:33;break;case 33:return f.Z0 && a.Pa.dy >= f.koa || 0 < f.Ds && !l && n + (b?D:0) > f.Ds || void 0 !== this.RFa && y > this.RFa || 1 === k && d.Qe.Sf && y > f.ioa && (b=this.Ia.Ib.mb.get(),b.Pd && b.Ka && b.Ka.Ca * a.sJ > f.hoa)?!1:!0;break;case 7:return !1;break;case 6:d=this.Ia.Qd.N;D=this.Ia.R.An(d);a90=13;break;}}};F80=11;break;}}})();b.Xwa=a;},function(d,b,a){var c,h,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Bza=void 0;c=a(170);h=a(17);g=a(17);m=a(9);d=(function(){var g90;g90=2;for(;g90 !== 6;){switch(g90){case 2:a.prototype.play=function(){var i90,a;i90=2;for(;i90 !== 5;){switch(i90){case 2:var U19="p";U19+="l";U19+="a";U19+="y";var w19="play called after";w19+=" p";w19+="ipelines already shu";w19+="td";w19+="own";a=this;this.am()?this.G.warn(w19):(this.Fb.R.ue(h.oa.Uc),this.Fb.jib(),this.Fb.ib.$e.forEach(function(b){var j90;j90=2;for(;j90 !== 1;){switch(j90){case 2:var j19="play: not resuming bufferMan";j19+="ager, audio ";j19+="track switch";j19+=" in progres";j19+="s";a.Mb(b.I) && (b.iN?b.yb(j19):(a.Fb.bg[b.I].resume(),a.Fb.au[b.I].resume()));j90=1;break;}}}),this.Fb.NP(),this.Fb.emit(U19));i90=5;break;}}};a.prototype.stop=function(){var k90,a,b,c,d;k90=2;for(;k90 !== 6;){switch(k90){case 9:var a19="s";a19+="t";a19+="op";g.je.forEach(function(a){var l90;l90=2;for(;l90 !== 5;){switch(l90){case 2:l90=(a=d.gd(a))?1:5;break;case 3:l90=(a=d.gd(a))?0:7;break;l90=(a=d.gd(a))?1:5;break;case 1:a.ih=!1;l90=5;break;}}});g.je.forEach(function(b){var m90;m90=2;for(;m90 !== 1;){switch(m90){case 2:(b=a.Fb.bg[b]) && b.pause();m90=1;break;}}});this.Fb.emit(a19);k90=6;break;case 2:(a=this,b=this.Fb.R.RTa(),c=this.Fb.R.Xg());this.Fb.R.ue(h.oa.Wv);this.Fb.KY();b || c || this.Fb.Ba.yi.IB(!1,this.Fb.R);d=this.Fb.Ba.pc;k90=9;break;}}};a.prototype.suspend=function(){var n90;n90=2;for(;n90 !== 1;){switch(n90){case 4:this.Hea=~5;n90=2;break;n90=1;break;case 2:this.Hea=!0;n90=1;break;}}};a.prototype.resume=function(){var o90;o90=2;for(;o90 !== 5;){switch(o90){case 2:this.Hea=!1;this.Fb.uf.Xi();o90=5;break;}}};g90=3;break;case 3:a.prototype.close=function(){var q90,a;q90=2;for(;q90 !== 6;){switch(q90){case 2:var P19="cl";P19+="os";P19+="e";a=this.Fb.H;this.DHa=!0;this.stop();this.Fb.emit(P19);q90=3;break;case 3:var d19="en";d19+="dp";d19+="la";d19+="y";var b19="lo";b19+="gd";b19+="at";b19+="a";a.DOa && (a=c.Bv.yf().kb()) && (a={type:b19,target:d19,fields:{bridgestat:a}},m.Ma(this.Fb,a.type,a));this.Fb.Ib.Ye && this.Fb.Ib.Ye.Ko(!0,this.Fb.el.sessionId,!0);this.Fb.bb.fXa();this.Fb.u_a();q90=6;break;}}};a.prototype.flush=function(){var r90,d,f,g,l,n,s90,a,b,c;r90=2;for(;r90 !== 16;){switch(r90){case 4:f && f.avtp && f.avtp.Ca && (d.avtp=f.avtp.Ca,d.dltm=f.avtp.N0,g.avtp=d.avtp);f && f.cdnavtp && (d.cdnavtp=f.cdnavtp,d.activecdnavtp=f.activecdnavtp);c.flush();r90=8;break;case 6:for(var p in l){var e59="n";e59+="e";var y59="n";y59+="e";var g59="n";g59+="e";l.hasOwnProperty(p) && (d[g59 + p]=Number(l[p]).toFixed(6),g[y59 + p]=1 * d[e59 + p]);}r90=14;break;case 5:(d={},f=c.get(),g={});r90=4;break;case 8:(l=c.EQa(),n=c.IIa);r90=7;break;case 7:r90=l?6:14;break;case 14:n && n.length && (d.activeRequests=JSON.stringify(n));this.Fb.Qd.N.wOa(1) && (d.enableHudson=!0);d.aseApiVersion=this.Fb.KD;r90=11;break;case 20:var p59="e";p59+="n";p59+="dp";p59+="la";p59+="y";var l59="lo";l59+="gd";l59+="a";l59+="t";l59+="a";var u59="throughp";u59+="ut-s";u59+="w";var O59="thro";O59+="ughpu";O59+="t-sw";var V59="t";V59+="hr";V59+="o";V59+="ughput-sw";var D59="t";D59+="hro";D59+="ug";D59+="hput-";D59+="sw";b.lR && (f && f[D59] && f[V59].Ca && this.Fb.$q.vjb({avtp:f[O59].Ca,variance:f[u59].hi}),this.Fb.$q.ojb(g,null === (a=f.avtp) || void 0 === a?void 0:a.N0),a=this.Fb.$q.Xxb(),b=this.Fb.$q.mAb(),a && (a.n=b,a={type:l59,target:p59,fields:{ibef:a}},m.Ma(this.Fb,a.type,a),this.Fb.$q.save()));r90=19;break;case 18:r90=this.sD.sq?17:16;break;case 19:this.Fb.bb.uHa();r90=18;break;case 17:try{s90=2;for(;s90 !== 1;){switch(s90){case 2:this.Fb.f1(h.oa.Wv);s90=1;break;}}}catch(J){var T59="Hindsight: Er";T59+="ror evaluating QoE ";T59+="at st";T59+="opping: ";a000.L24(1);this.Fb.bb.Dm(a000.Y24(J,T59));}r90=16;break;case 11:var t59="en";t59+="dpla";t59+="y";var F59="l";F59+="og";F59+="da";F59+="ta";b.BOa && (c=c.j2(),c.bytesRequestedPacingVideo && (d.bytesRequestedPacingVideo=c.bytesRequestedPacingVideo,d.bytestotalVideo=c.bytestotalVideo),c.bytesRequestedPacingAudio && (d.bytesRequestedPacingAudio=c.bytesRequestedPacingAudio,d.bytestotalAudio=c.bytestotalAudio));Object.keys(d).length && (d={type:F59,target:t59,fields:d},m.Ma(this.Fb,d.type,d));r90=20;break;case 1:r90=c?5:19;break;case 2:(b=this.Fb.H,c=this.Fb.Ib.mb);r90=1;break;}}};a.prototype.am=function(){var t90;t90=2;for(;t90 !== 1;){switch(t90){case 2:return this.DHa || this.Fb.Ba.fj;break;}}};return a;break;}}function a(a,b,c,d){var h90;h90=2;for(;h90 !== 8;){switch(h90){case 2:this.Fb=a;this.G=b;this.Mb=c;h90=4;break;case 4:var n59="1SIY";n59+="bZrNJ";n59+="Cp9";this.sD=d;this.DHa=this.Hea=!1;n59;h90=8;break;}}}})();b.Bza=d;},function(d,b,a){var c,h,g,m,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.cBa=void 0;d=a(0);c=d.__importStar(a(8));h=a(141);g=d.__importDefault(a(25))["default"].Ua;m=d.__importDefault(a(3));f=a(9);k=a(5);a=(function(){var u90;u90=2;function a(a,b){var v90;v90=2;for(;v90 !== 4;){switch(v90){case 2:var v59="1S";v59+="IYbZrNJ";v59+="Cp9";this.Sa=a;this.G=b;v59;v90=4;break;}}}for(;u90 !== 38;){switch(u90){case 8:a.prototype.Lgb=function(a,b,c,d,h,k){var C90;C90=2;for(;C90 !== 4;){switch(C90){case 2:var Q59="n";Q59+="o";Q59+="t";Q59+="ifyStreamingError: ";var s59="e";s59+="rr";s59+="o";s59+="r";a={type:s59,error:a,errormsg:b,networkErrorCode:c,httpCode:d,nativeCode:h,manifestIndex:k};this.G.error(Q59 + JSON.stringify(a));f.Ma(this.Sa,a.type,a);C90=4;break;}}};a.prototype.vZ=function(a,b){var D90;D90=2;for(;D90 !== 5;){switch(D90){case 2:var q59="segmen";q59+="tSta";q59+="rting";b={type:q59,segmentId:a.id,contentOffset:b,maxBitrates:{audio:a.N.Cs[0],video:a.N.Cs[1]}};a.qB || f.Ma(this.Sa,b.type,b);D90=5;break;}}};a.prototype.Fgb=function(a){var E90,b;E90=2;for(;E90 !== 5;){switch(E90){case 2:var R59="seg";R59+="me";R59+="nt";R59+="Aborted";b={type:R59,segmentId:a.id};a.qB || f.Ma(this.Sa,b.type,b);E90=5;break;}}};a.prototype.kfb=function(a,b){var F90,d,f;F90=2;for(;F90 !== 12;){switch(F90){case 2:var x59="r";x59+="e";x59+="s";x59+="e";x59+="t";var C59="s";C59+="k";C59+="i";C59+="p";var Z59="l";Z59+="on";Z59+="g";var o59="lo";o59+="n";o59+="g";var I59="sea";I59+="ml";I59+="es";I59+="s";(d={segment:a,srcsegment:b.P6,srcoffset:b.DM,seamlessRequested:b.Sk,atRequest:{},discard:{}},f=b.Ld[a]);f?d.atRequest={weight:f.weight,abuflmsec:f.kq.cu,vbuflmsec:f.kq.Lp,abuflbytes:f.kq.h_,vbuflbytes:f.kq.VB}:(f=this.Sa.Ba.BRa(b.P6,a),void 0 !== f && (d.atRequest.weight=f));c.oe(b.Ld,function(b,c){var G90;G90=2;for(;G90 !== 1;){switch(G90){case 2:c != a && (d.discard[c]={weight:b.weight,abuflmsec:b.kq.cu,vbuflmsec:b.kq.Lp,abuflbytes:b.kq.h_,vbuflbytes:b.kq.VB});G90=1;break;}}});f=b.Sk?b.YR?I59:o59:b.FWa?Z59:b.Uj?C59:x59;d.transitionType=f;F90=9;break;case 9:var f59="d";f59+="e";f59+="fau";f59+="l";f59+="t";var i59="s";i59+="e";i59+="amless";b.osb || (d.delayToTransition=b.GJ);f=i59 === f?0:m[f59].time.aa() - b.startTime;d.durationOfTransition=f;d.atTransition=b.C3a;d.srcsegmentduration=this.Sa.Ba.hAb(b.P6);return d;break;}}};a.prototype.Igb=function(a,b,c){var H90;H90=2;for(;H90 !== 4;){switch(H90){case 2:var A59="segmen";A59+="tPresenti";A59+="ng";c=c?this.kfb(a.id,c):void 0;a={type:A59,segmentId:a.id,contentOffset:b,metrics:c,playlistSegment:a.qB,manifestIndex:a.N.sb};f.Ma(this.Sa,a.type,a);H90=4;break;}}};u90=12;break;case 23:a.prototype.mgb=function(a,b){var V90,c;V90=2;for(;V90 !== 5;){switch(V90){case 2:c=this;setTimeout(function(){var W90,d;W90=2;for(;W90 !== 5;){switch(W90){case 2:var k59="audioTra";k59+="ckSwitchCo";k59+="mple";k59+="te";d={type:k59,trackId:a,trackIndex:b};f.Ma(c.Sa,d.type,d);W90=5;break;}}},0);V90=5;break;}}};a.prototype.qgb=function(a){var X90,b;X90=2;for(;X90 !== 4;){switch(X90){case 2:var H59="de";H59+="f";H59+="au";H59+="l";H59+="t";var c59="b";c59+="uff";c59+="er";c59+="ingSt";c59+="arted";b={type:c59,time:m[H59].time.aa(),percentage:a || 0};f.Ma(this.Sa,b.type,b);this.Sda=a || 0;X90=4;break;}}};a.prototype.ogb=function(){var Y90,a,b,c,d,h;Y90=2;for(;Y90 !== 5;){switch(Y90){case 2:var r59="b";r59+="uf";r59+="f";r59+="ering";var K59="def";K59+="aul";K59+="t";(a=this.Sa.H,b=m[K59].time.aa(),c=this.Sa.Ba.pc,d=this.Sa.Ql?1:0,h=c.Va(d),c=c.dj(d),a=Math.min(Math.max(Math.round(100 * (h.XA?(b - this.Sa.Uca) / a.ky:h.zi?h.zi:c / a.jj)),this.Sda),99));a != this.Sda && (b={type:r59,time:b,percentage:a},f.Ma(this.Sa,b.type,b),this.Sda=a);Y90=5;break;}}};u90=35;break;case 2:a.prototype.xj=function(a){var w90;w90=2;for(;w90 !== 5;){switch(w90){case 2:var W59="de";W59+="f";W59+="ault";var Y59="sta";Y59+="rtE";Y59+="ve";Y59+="n";Y59+="t";a={type:Y59,event:a,time:m[W59].time.aa()};f.Ma(this.Sa,a.type,a);w90=5;break;}}};a.prototype.Cgb=function(){var x90,a;x90=2;for(;x90 !== 5;){switch(x90){case 2:var L59="openCom";L59+="pl";L59+="ete";a={type:L59};f.Ma(this.Sa,a.type,a);x90=5;break;}}};a.prototype.Dgb=function(a,b,c,d,h){var y90;y90=2;for(;y90 !== 1;){switch(y90){case 2:var B59="ptsSta";B59+="r";B59+="t";B59+="s";this.Sa.H.Ysb || (a={type:B59,manifestIndex:a,mediaType:b,movieId:d,streamId:c,ptsStarts:h.d2a()},f.Ma(this.Sa,a.type,a));y90=1;break;}}};u90=4;break;case 35:a.prototype.fea=function(){var Z90,a,b,c,d,h;Z90=2;for(;Z90 !== 9;){switch(Z90){case 4:this.Sa.Kf.Cvb({initSelReason:d.Dq,initSelectionPredictedDelay:d.Ax,buffCompleteReason:d.Mr,hashindsight:this.Sa.sq,hasasereport:! !this.Sa.Vq,bcVBufferLevelMs:a.vBufferLevelMs,bcABufferLevelMs:a.aBufferLevelMs});f.Ma(this.Sa,a.type,a);Z90=9;break;case 2:var M59="d";M59+="e";M59+="f";M59+="au";M59+="lt";var J59="bu";J59+="fferingC";J59+="o";J59+="mplete";(a=this.Sa.Ba.pc,b=a.Va(0),c=a.Va(1));this.vHa();(d=this.Sa.Ql?this.Sa.ib.zy[g.VIDEO]:this.Sa.ib.zy[g.AUDIO],h=d.wQ,a={type:J59,time:m[M59].time.aa(),actualStartPts:h,aBufferLevelMs:a.dj(0),vBufferLevelMs:a.dj(1),selector:c?c.qM:b.qM,initBitrate:d.vq,skipbackBufferSizeBytes:this.Sa.Ib.GB});Z90=4;break;}}};a.prototype.vHa=function(){var a01,b,c,d,a,h,k,g;a01=2;for(;a01 !== 7;){switch(a01){case 5:(b=this.Sa.Ba.pc,c=b.dj(0),d=b.dj(1));a01=4;break;case 2:a=this.Sa.H;a01=1;break;case 1:a01=!this.Sa.am()?5:7;break;case 4:var G59="updateB";G59+="u";G59+="ff";G59+="erLevel";this.Sa.Kf.hjb(c,d);(h=this.Sa.Ib.mb.get(),h=h.Pd?h.Ka.Ca:0,k=this.Sa.Ba,g=k.WD(b,0),b=k.WD(b,1),c={type:G59,abuflbytes:g,vbuflbytes:b,totalabuflmsecs:c,totalvbuflmsecs:d,currentBandwidth:h});d > a.fWa && this.Sa.Ib.Ye && this.Sa.Ib.Ye.Ko(!0,this.Sa.el.sessionId);f.Ma(this.Sa,c.type,c);a01=7;break;}}};a.prototype.Pfb=function(a){var b01,b,d,f;b01=2;for(;b01 !== 7;){switch(b01){case 2:b01=!c.Y(a)?1:7;break;case 5:b01=!c.Y(this.xI)?4:8;break;case 4:var E59=", osA";E59+="ll";E59+="o";E59+="catorDelta";E59+=": ";var X59=", ";X59+="jsHeap";X59+="D";X59+="elta: ";var N59=", f";N59+="ast";N59+="Ma";N59+="llocDelta:";N59+=" ";var z59="d";z59+="e";z59+="f";z59+="ault";var m59="me";m59+="mor";m59+="yUs";m59+="age at time: ";(b=a.cPa - this.xI.cPa,d=a.ISa - this.xI.ISa,f=a.LXa - this.xI.LXa);(4194304 < b || 4194304 < f) && this.G.warn(m59 + m[z59].time.aa() + N59 + b + X59 + d + E59 + f);b01=9;break;case 9:var w59=",";w59+=" ";w59+="systemDe";w59+="lta: ";var h59="d";h59+="ef";h59+="ault";var S59="m";S59+="emoryUsag";S59+="e at time:";S59+=" ";c.qa(a.eV) && c.qa(this.xI.eV) && (b=a.eV - this.xI.eV,4194304 < b && this.G.warn(S59 + m[h59].time.aa(),w59 + b));b01=8;break;case 8:this.xI=a;b01=7;break;case 1:c.qa(a.eV);b01=5;break;}}};a.prototype.Ngb=function(){var c01,a;c01=2;for(;c01 !== 3;){switch(c01){case 2:var a59="d";a59+="e";a59+="f";a59+="a";a59+="ult";var U59="st";U59+="r";U59+="eamin";U59+="gsta";U59+="t";var j59="de";j59+="f";j59+="ault";this.Sa.H.QFb && m[j59].memory.Jyb(this.Pfb.bind(this));a={type:U59,time:m[a59].time.aa(),playbackTime:this.Sa.R.$d()};this.Sa.Kf.Dvb(a);f.Ma(this.Sa,a.type,a);c01=3;break;}}};a.prototype.uHa=function(){var d01,a;d01=2;for(;d01 !== 4;){switch(d01){case 1:var P59="a";P59+="se";P59+="r";P59+="e";P59+="port";a={type:P59};this.Sa.Vq.Bvb(a) && f.Ma(this.Sa,a.type,a);d01=4;break;case 2:d01=this.Sa.Vq?1:4;break;case 9:d01=this.Sa.Vq?8:3;break;d01=this.Sa.Vq?1:4;break;}}};a.prototype.lgb=function(){var e01,a;e01=2;for(;e01 !== 5;){switch(e01){case 2:var b59="aserep";b59+="ortenab";b59+="l";b59+="ed";a={type:b59};f.Ma(this.Sa,a.type,a);e01=5;break;}}};u90=29;break;case 4:a.prototype.ugb=function(a,b){var z90;z90=2;for(;z90 !== 5;){switch(z90){case 2:var d59="header";d59+="Ca";d59+="c";d59+="h";d59+="eHit";a={type:d59,movieId:a,streamId:b};f.Ma(this.Sa,a.type,a);z90=5;break;}}};a.prototype.tgb=function(a,b,c,d,h){var A90,k;A90=2;for(;A90 !== 3;){switch(A90){case 2:var g29="header";g29+="CacheData";g29+="Hit";k=this.Sa.SGa;this.Sa.SGa=void 0;a={type:g29,movieId:a,audio:b,audioFromMediaCache:d,video:c,videoFromMediaCache:h,actualStartPts:k && k.fm,headerCount:k && k.LA,stats:k && k.gc};A90=4;break;case 4:f.Ma(this.Sa,a.type,a);A90=3;break;}}};a.prototype.Bgb=function(a,b,c,d){var B90;B90=2;for(;B90 !== 5;){switch(B90){case 2:var y29="m";y29+="axPo";y29+="si";y29+="ti";y29+="on";a={type:y29,index:a,endPts:b,maxPts:c,maxSeekPts:d};f.Ma(this.Sa,a.type,a);B90=5;break;}}};u90=8;break;case 40:a.prototype.zl=function(a){var l01;l01=2;for(;l01 !== 5;){switch(l01){case 2:var V29=",";V29+=" ";var D29="d";D29+="efau";D29+="l";D29+="t";var e29="ma";e29+="nagerde";e29+="bugevent";a={type:e29,message:"@" + m[D29].time.aa() + V29 + a};f.Ma(this.Sa,a.type,a);l01=5;break;}}};return a;break;case 16:a.prototype.Jgb=function(a,b,c,d){var P90,k;P90=2;for(;P90 !== 3;){switch(P90){case 2:var O29="stream";O29+="P";O29+="res";O29+="enting";k=a.I;h.Tl.ip(k);a={type:O29,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:k,manifestIndex:d,trackIndex:a.track.GD,streamIndex:a.Yf};f.Ma(this.Sa,a.type,a);P90=3;break;}}};a.prototype.Ogb=function(a){var Q90;Q90=2;for(;Q90 !== 5;){switch(Q90){case 2:var u29="v";u29+="i";u29+="de";u29+="oLooped";a={type:u29,offset:a};f.Ma(this.Sa,a.type,a);Q90=5;break;}}};a.prototype.Mgb=function(a,b,c,d,k){var R90;R90=2;for(;R90 !== 4;){switch(R90){case 1:h.Tl.ip(a);f.Ma(this.Sa,b.type,b);R90=4;break;case 2:var l29="update";l29+="Stream";l29+="ing";l29+="Pt";l29+="s";b={type:l29,mediaType:a,manifestIndex:b,trackIndex:c,movieTime:Math.floor(d),segmentId:k};R90=1;break;}}};a.prototype.sgb=function(a){var S90;S90=2;for(;S90 !== 5;){switch(S90){case 2:var T29="defa";T29+="u";T29+="lt";var p29="first";p29+="Re";p29+="que";p29+="stAp";p29+="pended";a={type:p29,manifestIndex:a.Pa.Kb.N.sb,mediatype:a.I,time:m[T29].time.aa()};f.Ma(this.Sa,a.type,a);S90=5;break;}}};a.prototype.wgb=function(a,b){var T90;T90=2;for(;T90 !== 5;){switch(T90){case 2:var F29="initial";F29+="Aud";F29+="ioTrack";a={type:F29,trackId:b,trackIndex:a};f.Ma(this.Sa,a.type,a);T90=5;break;}}};a.prototype.ngb=function(a,b){var U90;U90=2;for(;U90 !== 3;){switch(U90){case 2:var t29="au";t29+="dioTrackS";t29+="witchStar";t29+="ted";a=a.Qx;b=b.Qx;b={type:t29,oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:b.language,newNumChannels:b.channels,sourceBufferReset:void 0};f.Ma(this.Sa,b.type,b);U90=3;break;}}};u90=23;break;case 29:a.prototype.vgb=function(a){var K99=a000;var f01,b,c,d,h,g,l,m,q,n,v,p,t,E,da,sa,ea,Z,F,ca,L,Q;f01=2;for(;f01 !== 6;){switch(f01){case 2:f01=a?1:6;break;case 7:f.Ma(this.Sa,b.type,b);f01=6;break;case 1:var n29="h";n29+="in";n29+="dsight";n29+="re";n29+="port";(b={type:n29},c=this.Sa.H.N2);for(d in c){var q29="h";q29+="vm";q29+="a";q29+="fdp";var Q29="hv";Q29+="m";Q29+="af";Q29+="g";Q29+="r";var s29="h";s29+="vmaft";s29+="b";var v29="h";v29+="t";v29+="w";v29+="br";h=c[d];g=0;l=0;m=0;q=0;n=0;v=0;p=void 0;t=void 0;E=!1;da=-1;sa=-1;ea=-1;Z=-1;F=-1;ca=-1;for(L in a){t=a[L];void 0 === t.nd && (p=(p=t.sols) && p[h]) && (E=!0,m+=p.dlvdur,g+=p.dltwbr * p.dlvdur,l+=p.dlvmaf * p.dlvdur);v+=t.pbdur;q+=t.pbtwbr * t.pbdur;n+=t.pbvmaf * t.pbdur;p=t.rr;t=t.ra;}0 < v && (da=1 * q / v,Z=1 * n / v);E && (0 < m && (sa=1 * g / m,F=1 * l / m),0 < m + v && (ea=1 * (g + q) / (m + v),ca=1 * (l + n) / (m + v)));switch(h){case v29:b.htwbr=ea;b.hptwbr=sa;b.pbtwbr=da;p && (b.rr=p,b.ra=t);break;case s29:b.hvmaftb=ca;b.hpvmaftb=F;b.pbvmaftb=Z;p && (b.rrvmaftb=p,b.ravmaftb=t);break;case Q29:b.hvmafgr=ca;b.hpvmafgr=F;b.pbvmafgr=Z;p && (b.rrvmafgr=p,b.ravmafgr=t);break;case q29:(b.hvmafdp=ca,b.hpvmafdp=F,b.pbvmafdp=Z,p && (b.rrvmafdp=p,b.ravmafdp=t));}}f01=4;break;case 3:b.report=a;f01=9;break;case 4:f01=this.Sa.jR || this.Sa.mv?3:9;break;case 9:f01=this.Sa.mv?8:7;break;case 8:for(var P in a){if((c=a[P],void 0 !== c.Q1a))for(h in c.Q1a){if((p=c.Q1a[h],void 0 !== p.a7)){var Z29=" ";Z29+="a";Z29+="n";Z29+="d";Z29+=" ";var o29="expect sol.";o29+="strmsel.length === sol.fragsel.length but go";o29+="t ";var I29="expect r";I29+="eport.fragme";I29+="ntsPrebuffered";I29+=" !== undefined";var R29="expec";R29+="t";R29+=" report.fragments";R29+="Preb";R29+="uffered !== undefined";(d=void 0 !== c.NPa) || (console.error(R29),k.assert(d,I29));d=[];for(var aa in c.NPa){g=c.NPa[aa];d.push({ba:g.ba,Hl:g.duration / 1E3,IF:g.tb});}d=p.a7.length === p.OPa.length;g=o29 + p.a7.length + Z29 + p.OPa.length;d || (console.error(g),k.assert(d,g));d=[];g=0;for(Q in p.a7){m=p.a7[Q];l=p.OPa[Q];K99.W24(1);g=m=K99.r24(m,g);d.push({Z8b:m,z9b:p.gOa[Q],w5b:p.Ka[Q],mga:p.mga[Q],lga:p.lga[Q],KKa:p.KKa[Q],R4b:{ba:l.ba,Hl:l.duration / 1E3,IF:l.tb?l.tb:p.md[m].tb,e9b:l.Yf,S4b:l.wj},TZa:0,F8b:0,Opa:p.Opa[Q]});}p=[];d=0;for(var ua in c.Dy.trace){g=c.Dy.trace[ua];K99.W24(1);d=g=K99.Y24(g,d);p.push(g);}}}}f01=7;break;}}};a.prototype.rgb=function(a){var g01;g01=2;for(;g01 !== 5;){switch(g01){case 2:var C29="endOf";C29+="St";C29+="ream";a={type:C29,mediaType:a};f.Ma(this.Sa,a.type,a);g01=5;break;}}};a.prototype.Dm=function(a){var h01;h01=2;for(;h01 !== 1;){switch(h01){case 2:var i29="ase";i29+="exce";i29+="ption";var x29="as";x29+="e";x29+="exceptio";x29+="n";this.Sa.emit(x29,{type:i29,msg:a});h01=1;break;}}};a.prototype.VIb=function(a,b,c,d){var i01;i01=2;for(;i01 !== 5;){switch(i01){case 1:var f29="ma";f29+="xvideobitr";f29+="atechanged";this.Sa.emit(f29,a);i01=5;break;case 2:var k29="de";k29+="f";k29+="a";k29+="ul";k29+="t";var A29="maxvideo";A29+="b";A29+="itr";A29+="atech";A29+="anged";a={type:A29,time:m[k29].time.aa(),spts:d,maxvb_old:a,maxvb:b,reason:c};i01=1;break;}}};a.prototype.fXa=function(){var j01,a;j01=2;for(;j01 !== 3;){switch(j01){case 2:j01=!this.tib && this.Sa.H.cXa?1:3;break;case 1:var H29="defa";H29+="ul";H29+="t";var c29="stre";c29+="ame";c29+="rend";this.tib=!0;a={type:c29,time:m[H29].time.aa()};f.Ma(this.Sa,a.type,a);j01=3;break;}}};a.prototype.bJb=function(a){var k01;k01=2;for(;k01 !== 5;){switch(k01){case 2:var K29="stream";K29+="Sel";K29+="ectionAugmentData";a={type:K29,augmentData:a,fragmentIndex:a[0].Ag};f.Ma(this.Sa,a.type,a);k01=5;break;}}};u90=40;break;case 12:a.prototype.Ggb=function(a,b){var I90;I90=2;for(;I90 !== 5;){switch(I90){case 2:var r29="se";r29+="gmentAppend";r29+="ed";b={type:r29,segmentId:a.id,metrics:b};a.qB || f.Ma(this.Sa,b.type,b);I90=5;break;}}};a.prototype.Hgb=function(a,b,c){var J90;J90=2;for(;J90 !== 5;){switch(J90){case 2:var Y29="s";Y29+="egmentCom";Y29+="plete";a={type:Y29,mediaType:a,manifestIndex:b,segmentId:c.id};f.Ma(this.Sa,a.type,a);J90=5;break;}}};a.prototype.gea=function(a,b){var K90;K90=2;for(;K90 !== 5;){switch(K90){case 2:var W29="la";W29+="st";W29+="Se";W29+="gmentPts";b={type:W29,segmentId:a.id,pts:Math.floor(b)};a.qB || f.Ma(this.Sa,b.type,b);K90=5;break;}}};a.prototype.zgb=function(a,b,c,d,h){var L90;L90=2;for(;L90 !== 5;){switch(L90){case 2:var L29="manifestR";L29+="an";L29+="ge";a={type:L29,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(d),maxPts:Math.floor(h)};f.Ma(this.Sa,a.type,a);L90=5;break;}}};a.prototype.wHa=function(a){var M90;M90=2;for(;M90 !== 5;){switch(M90){case 2:var B29="ma";B29+="x";B29+="Bitrates";a={type:B29,audio:a[0],video:a[1]};M90=1;break;case 1:f.Ma(this.Sa,a.type,a);M90=5;break;}}};a.prototype.Agb=function(a,b){var N90,c;N90=2;for(;N90 !== 3;){switch(N90){case 2:var M29="noti";M29+="fyManifestSelected";M29+=": ";var J29="mani";J29+="fe";J29+="stS";J29+="elected";c=this.Sa.H;a={type:J29,index:a,replace:b.N.Qe.replace,ptsStarts:b.TL,streamingOffset:b.X + b.Lu};c.Ah && (b=M29 + JSON.stringify(a),c.Ah && this.zl(b));f.Ma(this.Sa,a.type,a);N90=3;break;}}};a.prototype.ygb=function(a,b,c,d,h){var O90;O90=2;for(;O90 !== 4;){switch(O90){case 2:var G29="manife";G29+="stPr";G29+="e";G29+="se";G29+="nting";a={type:G29,index:a.sb,pts:Math.floor(b),movieId:a.u,replace:a.Qe.replace,contentOffset:c};null != d && null != h && (a.previousMovieId=d,a.previousIndex=h);f.Ma(this.Sa,a.type,a);O90=4;break;}}};u90=16;break;}}})();b.cBa=a;},function(d,b,a){var c,h,g,m,f,k,q,n,r,u,p,A,y,I,J,D,t,S,O,Y,E,da,sa,ea,Z,F;Object.defineProperties(b,{__esModule:{value:!0}});b.pya=void 0;c=a(0);d=a(16);h=c.__importStar(a(8));g=a(5);m=a(232);f=a(247);k=a(407);q=a(94);a(398);n=a(412);r=a(121);u=c.__importDefault(a(25));p=a(245);A=a(966);y=c.__importDefault(a(110));I=a(17);J=c.__importDefault(a(3));D=a(179);t=a(418);S=a(417);O=a(93);Y=J["default"].Promise;E=new J["default"].Console("HEADERCACHE","media|asejs");a=new J["default"].Console("MEDIACACHE","media|asejs");da=J["default"].TG;sa=E.trace.bind(E);a.trace.bind(a);ea=E.warn.bind(E);Z=E.error.bind(E);F=E.info.bind(E);a=(function(a){function b(b,c,d,f){var n01;n01=2;for(;n01 !== 25;){switch(n01){case 2:b=a.call(this) || this;b.kk=sa;b.pf=Z;b.yb=ea;b.V3b=F;b.cP=Object.create(null);n01=8;break;case 8:b.cn=c;b.Le=Object.create(null);n01=6;break;case 10:b.eI=[];b.yD={};n01=19;break;case 13:b.mP=c.XQ;b.Cr=[];b.VY=!1;n01=10;break;case 6:b.jz=0;b.zj=[];n01=13;break;case 19:var w29="1SIYbZ";w29+="rNJCp";w29+="9";var S29="c";S29+="at";S29+="c";S29+="h";var X29="d";X29+="ef";X29+="a";X29+="u";X29+="lt";var N29="d";N29+="e";N29+="f";N29+="ault";var z29="d";z29+="efa";z29+="ult";var m29="d";m29+="e";m29+="fault";b.Rea=(b.cn.UB || b.cn.dua) && 0 < (b.cn.hA || (J[m29].options || ({})).iL || 0);b.Xp=b.cn.voa;b.qf=void 0;b.Rea && (b.cn.hA || (c=(J[z29].options || ({})).iL || 0,b.cn.set?b.cn.set({hA:c}):b.cn.hA=(J[N29].options || ({})).iL || 0),b.qf=new A.vAa(b.cn,J[X29],b),b.qf.$a(b,f).then(function(){var o01;o01=2;for(;o01 !== 1;){switch(o01){case 2:var E29="M";E29+="ed";E29+="ia ";E29+="cache initialized";sa(E29);o01=1;break;}}})[S29](function(a){var p01;p01=2;for(;p01 !== 1;){switch(p01){case 4:Z("",a);p01=3;break;p01=1;break;case 2:var h29="Medi";h29+="a c";h29+="ac";h29+="he did not initialize";Z(h29,a);p01=1;break;}}}));b.el=d;w29;n01=26;break;case 26:return b;break;}}}var m01;m01=2;for(;m01 !== 48;){switch(m01){case 8:b.prototype.MMb=function(a,b){var w01,c,d,f,k;w01=2;for(;w01 !== 15;){switch(w01){case 17:return Y.reject();break;case 13:w01=!this.Xp || !c.Dd?12:20;break;case 20:return Y.resolve();break;case 7:var U29="); ignoring prepa";U29+="re for m";U29+="ovieId: ";var j29="PTS passed to HeaderCache.prepareP i";j29+="s not un";j29+="defined or a posi";j29+="tive";j29+=" number (";return (Z(j29 + f + U29 + c),Y.reject());break;case 8:w01=!h.Y(f) && (!h.qa(f) || 0 > f)?7:6;break;case 19:w01=!b.Dd || !this.qf || this.Xp?18:16;break;case 6:c=this.Le[c];w01=14;break;case 4:this.psa(k.XQ);w01=3;break;case 2:var a29="A conf";a29+="ig mu";a29+="st be pass";a29+="ed to prepareP";(c=b.u,d=b.Ud,f=b.jd);g.assert(b.config,a29);k=b.config;w01=4;break;case 10:for(var l in c.headers){a=c.headers[l];!h.Y(a.url) && null !== a.url && (void 0 === c.data || void 0 === c.data[l] || c.data[l].length < k.gia)?this.CZ(a,f):(h.Y(a.url) || null === a.url) && void 0 !== c.data && void 0 !== c.data[l] && 0 < c.data[l].length && delete c.headers[l];}w01=20;break;case 14:w01=!h.Y(c) && (2 <= c.LA || !k.mR)?13:19;break;case 18:w01=d > k.Kla || this.jz + 1 > this.mP && d > this.zj[0].Ud?17:16;break;case 9:return Y.reject();break;case 11:void 0 === c.data && (c.gc.KT=void 0);w01=10;break;case 12:w01=(c.Ud=d,this.zj.sort(this.G5),!h.Y(f))?11:20;break;case 3:w01=k.kHb?9:8;break;case 16:return this.Phb(a,b);break;}}};b.prototype.flush=function(){var x01,a;x01=2;for(;x01 !== 7;){switch(x01){case 2:this.wPa();for(var b in this.cP){a=this.cP[b];a.abort();}x01=4;break;case 4:var d29="mana";d29+="ge";d29+="rde";d29+="buge";d29+="vent";var b29=", headerCac";b29+="he";b29+=" flush: ";var P29="d";P29+="efau";P29+="l";P29+="t";this.Le=Object.create(null);this.jz=0;this.zj=[];this.cn.Ah && (a="@" + J[P29].time.aa() + b29,this.emit(d29,{message:a}));x01=7;break;}}};b.prototype.list=function(){var y01;y01=2;for(;y01 !== 1;){switch(y01){case 2:return this.zj;break;}}};m01=14;break;case 21:b.prototype.LY=function(a){var f11,b;f11=2;for(;f11 !== 9;){switch(f11){case 2:this.wc(a) && delete this.cP[a.Da];this.wc(a) || delete a.response;a.dc();f11=4;break;case 4:var g89="sav";g89+="etodi";g89+="sk";b=this.Le[a.u] || a.Ik;b && 0 === b.J2 && 0 === b.DJ && (this.dib(b,a.ud),b.Dd && this.qf && (b.gc.hHb || (this.Xp?this.qf.nQb(b):this.qf.rM(g89,{o0a:b.gc.Jp}))));f11=9;break;}}};b.prototype.Qhb=function(a,b,c,d){var g11,f;g11=2;for(;g11 !== 12;){switch(g11){case 6:g11=a.dS?14:13;break;case 2:f=this.gda(a,d);f.J_a=b;f.Ik=c;f.cB=a.cB;g11=3;break;case 9:return Y.reject();break;case 14:f.dS=a.dS;g11=12;break;case 3:g11=!f.Yu()?9:8;break;case 8:c.J2++;this.cP[f.Da]=f;g11=6;break;case 13:return new Y(function(a){var h11;h11=2;for(;h11 !== 1;){switch(h11){case 2:f.dS=a;h11=1;break;}}});break;}}};m01=34;break;case 17:b.prototype.zT=function(a){var L01;L01=2;for(;L01 !== 5;){switch(L01){case 2:var y89="_on";y89+="E";y89+="rro";y89+="r: ";ea(y89,a.toString());this.LY(a);L01=5;break;}}};b.prototype.sKb=function(a){var M01,b;M01=2;for(;M01 !== 9;){switch(M01){case 3:this.Rhb(a,function(){var N01;N01=2;for(;N01 !== 1;){switch(N01){case 2:h.Y(a) || (h.Y(a.Ik) || a.Ik.J2--,b.LY(a));N01=1;break;}}});M01=9;break;case 2:b=this;a.LUb=a.ud;this.sdb(a);h.Y(a.dS) || a.dS(a.LUb);M01=3;break;}}};b.prototype.tKb=function(a){var O01,b,c,d,f;O01=2;for(;O01 !== 8;){switch(O01){case 2:(b=this,c=a.u,d=this.Le[c] || a.Ik);O01=1;break;case 5:var l89="ma";l89+="nagerdeb";l89+="ugevent";var u89=", remain";u89+="in";u89+="g: ";var O89=",";O89+=" ";O89+="pt";O89+="s";O89+=": ";var V89=", s";V89+="tre";V89+="a";V89+="mId: ";var D89=", ";D89+="hea";D89+="derCache data";D89+="Complete";D89+=": movieId: ";var e89="de";e89+="faul";e89+="t";O01=(this.cn.Ah && (c="@" + J[e89].time.aa() + D89 + c + V89 + a.Da + O89 + a.X + u89 + (d.DJ - 1),this.emit(l89,{message:c})),a.Dd && 0 === a.responseType && this.qf && !this.Xp)?4:9;break;case 1:O01=d?5:8;break;case 9:(--d.DJ,b.LY(a));O01=8;break;case 4:var p89="d";p89+="efau";p89+="lt";f=J[p89].time.now();this.qf.kQb(a,d,function(c){var P01;P01=2;for(;P01 !== 4;){switch(P01){case 2:var T89="def";T89+="a";T89+="ult";c || h.Y(d) || (c=J[T89].time.aa() - f,h.Y(d.gc) && (d.gc={}),h.Y(d.gc.Jp) && (d.gc.Jp=0),d.gc.Jp+=c);--d.DJ;b.LY(a);P01=4;break;}}});O01=8;break;}}};m01=27;break;case 38:b.prototype.EFa=function(a,b){var B11,d,f,c,k;B11=2;for(;B11 !== 7;){switch(B11){case 5:(d=this.Le[a],f=b.headers);d && f && Object.keys(f).forEach(function(a){var C11;C11=2;for(;C11 !== 1;){switch(C11){case 2:c.rdb(f[a],d);C11=1;break;case 4:c.rdb(f[a],d);C11=8;break;C11=1;break;}}});B11=3;break;case 3:B11=b.data?9:7;break;case 2:c=this;B11=1;break;case 1:B11=b?5:7;break;case 9:k=b.data;Object.keys(k).forEach(function(a){var D11,c,b;D11=2;for(;D11 !== 9;){switch(D11){case 1:h.Y(d.data) && (d.data={});h.Y(d.data[a]) && (d.data[a]=[]);c=d.data;b.forEach(function(b){var E11;E11=2;for(;E11 !== 1;){switch(E11){case 2:c[a].push(b);E11=1;break;}}});D11=9;break;case 2:b=k[a];D11=1;break;}}});B11=7;break;}}};b.prototype.G5=function(a,b){var F11;F11=2;for(;F11 !== 1;){switch(F11){case 4:return b.Ud % a.Ud;break;F11=1;break;case 2:return b.Ud - a.Ud;break;}}};b.prototype.oZa=function(a){var G11,b,c,d;G11=2;for(;G11 !== 11;){switch(G11){case 1:G11=a && a.data?5:11;break;case 5:for(c in a.data){d=a.data[c];0 < d.length && (b[d[0].I]={Da:c,Aq:a.headers[c],data:d});}b.fm=a.fm;b.LA=a.LA;b.gc=a.gc;b.vq=a.vq;b.Dq=a.Dq;G11=6;break;case 6:b.rs=a.rs;b.sl=a.sl;b.tl=a.tl;return b;break;case 2:b={};G11=1;break;}}};b.prototype.eLa=function(a,b,c,d,f,h){var H11;H11=2;for(;H11 !== 8;){switch(H11){case 2:H11=b.location.YM(a,c)?1:9;break;case 1:a=D.GE(f,h);H11=5;break;case 5:H11=(b=b.stream[d?1:0].u6(b.R,c,void 0,d?a.NT:a.ly))?4:3;break;case 4:return (c=c[b.Vd],c.Dq=b.reason,c.rs=b.Gu,c.UBb=b.sl,c.P2=b.tl,c);break;case 3:var F89="selectStream r";F89+="et";F89+="urned nu";F89+="ll";ea(F89);H11=8;break;case 9:var t89="updateS";t89+="treamSelection returne";t89+="d null list";ea(t89);H11=8;break;}}};m01=53;break;case 43:b.prototype.Hhb=function(a){var t11;t11=2;for(;t11 !== 5;){switch(t11){case 2:var n89="cacheEv";n89+="i";n89+="c";n89+="t";a={type:n89,movieId:a};this.emit(a.type,a);t11=5;break;}}};b.prototype.Rhb=function(a,b){var u11,c;u11=2;for(;u11 !== 3;){switch(u11){case 2:c=a.rd;h.Y(a.J_a) || this.CZ(a,a.J_a);!this.qf || !a.Dd || this.Xp || h.Y(a.cB) || a.cB[a.Da] && a.cB[a.Da].header?b():this.qf.lQb(a,b);c.E7 || 0 !== Object.keys(this.cP).length || this.hGa();u11=3;break;}}};b.prototype.dib=function(a,b){var v11;v11=2;for(;v11 !== 4;){switch(v11){case 2:var v89="pre";v89+="buffsta";v89+="ts";a.gc.oqa=b;a={type:v89,movieId:a.u,stats:{prebuffstarted:a.gc.KT,prebuffcomplete:a.gc.oqa}};this.emit(a.type,a);v11=4;break;}}};b.prototype.Mfb=function(a,b){var w11,c;w11=2;for(;w11 !== 5;){switch(w11){case 2:var s89="Me";s89+="di";s89+="a cache is";s89+=" ";s89+="not enabled";c=this;return this.qf?this.qf.AFb(a,b).then(function(b){var x11;x11=2;for(;x11 !== 5;){switch(x11){case 2:x11=b && b.Ik?1:5;break;case 1:return (c.Le[a]=b.Ik,++c.jz,c.IY(),c.zj.push(b.Ik),c.zj.sort(c.G5),c.EFa(a,b),c.cache[a]);break;}}}):Y.reject(s89);break;}}};b.prototype.Lfb=function(a,b){var y11,c,d,f;y11=2;for(;y11 !== 8;){switch(y11){case 1:y11=this.qf?5:9;break;case 2:c=this;y11=1;break;case 5:(d=void 0,f=!1);this.qf.HTa(this.Le[a])?(d=Y.resolve(this.Le[a]),f=!0):d=this.qf.EFb(a);y11=3;break;case 3:return d.then(function(d){var z11;z11=2;for(;z11 !== 1;){switch(z11){case 2:return !h.Y(d) && c.qf?c.qf.zFb(a,b,d).then(function(b){var A11;A11=2;for(;A11 !== 5;){switch(A11){case 2:b && (f || (c.Le[a]=d,++c.jz,c.IY(),c.zj.push(d),c.zj.sort(c.G5)),c.EFa(a,b));return c.Le[a];break;}}}):Y.resolve(void 0);break;}}});break;case 9:var Q89="Media cache ";Q89+="is not";Q89+=" e";Q89+="n";Q89+="abled";return Y.reject(Q89);break;}}};m01=38;break;case 14:b.prototype.psa=function(a){var z01;z01=2;for(;z01 !== 1;){switch(z01){case 2:this.mP !== a && (this.mP=a,this.IY());z01=1;break;}}};b.prototype.KS=function(a,b){var A01;A01=2;for(;A01 !== 4;){switch(A01){case 5:return b;break;case 2:A01=(a=this.Le[a])?1:4;break;case 9:A01=(a=this.Le[a])?8:1;break;A01=(a=this.Le[a])?1:4;break;case 1:A01=(b=a.headers[b])?5:4;break;case 7:return b;break;A01=4;break;}}};b.prototype.aGb=function(a,b){var B01,c,d;B01=2;for(;B01 !== 5;){switch(B01){case 1:return d || !this.qf?Y.resolve(d):(this.Xp?this.Mfb(a,b):this.Lfb(a,b)).then(function(a){var C01;C01=2;for(;C01 !== 1;){switch(C01){case 2:return c.oZa(a);break;}}});break;case 2:(c=this,d=this.SUa(a));B01=1;break;}}};b.prototype.SUa=function(a){var D01;D01=2;for(;D01 !== 1;){switch(D01){case 4:return this.oZa(this.Le[a]);break;D01=1;break;case 2:return this.oZa(this.Le[a]);break;}}};m01=10;break;case 31:b.prototype.rdb=function(a,b){var n11;n11=2;for(;n11 !== 1;){switch(n11){case 2:this.DFa(a,b);n11=1;break;}}};b.prototype.DFa=function(a,b){var o11,c;o11=2;for(;o11 !== 4;){switch(o11){case 2:c=a.Da;o11=1;break;case 1:o11=(b=this.Le[a.u] || b)?5:4;break;case 5:(b.bJa || b.Dd && !this.Xp || (b.bJa=!0,++this.jz),b.headers || (b.headers={}),b.headers[c]=a,this.cn.mR && (b.LA || (b.LA=0),++b.LA),this.IY());o11=4;break;}}};b.prototype.IY=function(){var p11,b,c,d;p11=2;function a(a){var q11;q11=2;for(;q11 !== 5;){switch(q11){case 2:a.abort();d+=a.df;q11=5;break;}}}for(;p11 !== 12;){switch(p11){case 2:d=0;p11=1;break;case 1:p11=!(this.jz <= this.mP)?5:12;break;case 4:p11=(c=this.zj.shift())?3:5;break;case 3:b=c.u;p11=9;break;case 5:p11=this.jz > this.mP?4:13;break;case 9:p11=c.data?8:7;break;case 8:for(var f in c.data){c.data[f].forEach(a);delete c.data[f];}p11=7;break;case 7:delete this.Le[b];--this.jz;p11=14;break;case 14:this.Hhb(b);p11=5;break;case 13:this.Ihb(d);p11=12;break;}}};m01=28;break;case 2:c.__extends(b,a);Object.defineProperties(b.prototype,{cache:{get:function(){var q01;q01=2;for(;q01 !== 1;){switch(q01){case 2:return this.Le;break;}}},enumerable:!1,configurable:!0}});b.prototype.Y5=function(){var r01;r01=2;for(;r01 !== 1;){switch(r01){case 2:return this.Cr.map(function(a){var s01;s01=2;for(;s01 !== 1;){switch(s01){case 2:return a.Y5();break;case 4:return a.Y5();break;s01=1;break;}}});break;}}};b.prototype.Jsb=function(){var t01;t01=2;for(;t01 !== 5;){switch(t01){case 2:this.flush();this.hGa();t01=5;break;case 3:this.flush();this.hGa();t01=4;break;t01=5;break;}}};b.prototype.C7=function(a){var u01;u01=2;for(;u01 !== 5;){switch(u01){case 2:this.el=a;this.Cr.forEach(function(){});u01=5;break;}}};b.prototype.Ko=function(a,b,c){var v01,d,f;v01=2;for(;v01 !== 9;){switch(v01){case 2:(d=this.yD,f=a);v01=1;break;case 7:(d=this.yD,f=a);v01=7;break;v01=1;break;case 1:v01=(d[b]=a)?5:4;break;case 5:for(var h in d){d.hasOwnProperty(h) && !1 === d[h] && (f=!1);}v01=4;break;case 4:c && delete d[b];f?(this.VY=!1,this.Qfb()):this.VY=!0;v01=9;break;}}};m01=8;break;case 10:b.prototype.aF=function(){var E01;E01=2;for(;E01 !== 1;){switch(E01){case 2:var q89="Media c";q89+="ache is not e";q89+="nabled";return this.qf?this.qf.pzb():Y.reject(q89);break;}}};b.prototype.wPa=function(){function b(a,b){var H01;H01=2;for(;H01 !== 1;){switch(H01){case 2:a && a.data && a.data[b].forEach(function(a){var I01;I01=2;for(;I01 !== 5;){switch(I01){case 2:a.abort();I01=1;break;case 3:a.abort();I01=3;break;I01=1;break;case 1:c+=a.df;I01=5;break;}}});H01=1;break;}}}var F01,c,d,f;F01=2;for(;F01 !== 4;){switch(F01){case 2:c=0;for(d in this.Le){f=this.Le[d];if(f.data){for(var h in f.data){var I89="i";I89+="n e";I89+="ntry:";var R89="miss";R89+="ing headerEntry for";R89+=" ";R89+="stream";R89+="Id:";f.headers[h] || Z(R89,h,I89,f);b(f,h);f.data[h].forEach(a);delete f.data[h];}delete f.data;}}this.Khb(c);F01=4;break;}}function a(a){var G01;G01=2;for(;G01 !== 1;){switch(G01){case 2:a.FLa();G01=1;break;}}}};b.prototype.ay=function(a){var J01,b;J01=2;for(;J01 !== 5;){switch(J01){case 2:b=this.Le[a.u];b && (this.wc(a)?h.Y(b.gc.GSa) && !h.Y(a.ce) && (b.gc.GSa=a.ce):h.Y(b.gc.KT) && !h.Y(a.ce) && (b.gc.KT=a.ce));J01=5;break;}}};b.prototype.Oj=function(a){var K01;K01=2;for(;K01 !== 1;){switch(K01){case 2:this.wc(a)?this.sKb(a):this.tKb(a);K01=1;break;}}};m01=17;break;case 28:b.prototype.Ihb=function(a){var r11;r11=2;for(;r11 !== 1;){switch(r11){case 2:var o89="disca";o89+="r";o89+="dedByte";o89+="s";0 !== a && (a={type:o89,bytes:a},this.emit(a.type,a));r11=1;break;}}};b.prototype.Khb=function(a){var s11;s11=2;for(;s11 !== 1;){switch(s11){case 2:var Z89="flush";Z89+="edBy";Z89+="tes";0 !== a && (a={type:Z89,bytes:a},this.emit(a.type,a));s11=1;break;}}};m01=43;break;case 27:b.prototype.dGa=function(){var Q01;Q01=2;for(;Q01 !== 1;){switch(Q01){case 2:0 === this.Cr.length && (this.Cr=[r.jo.yf.Ur(0,void 0,!1,!1,this.el,this.cn),r.jo.yf.Ur(1,void 0,!1,!1,this.el,this.cn)],this.Cr.forEach(function(a){var R01;R01=2;for(;R01 !== 1;){switch(R01){case 2:return a.$a();break;case 4:return a.$a();break;R01=1;break;}}}),da.Pe());Q01=1;break;}}};b.prototype.hGa=function(){var S01,a;S01=2;for(;S01 !== 4;){switch(S01){case 2:a=this.Cr;this.Cr=[];a.forEach(function(a){var T01;T01=2;for(;T01 !== 1;){switch(T01){case 2:r.jo.yf.KJ(a);T01=1;break;}}});S01=4;break;}}};b.prototype.Qfb=function(){var U01,a;U01=2;for(;U01 !== 5;){switch(U01){case 2:a=this;!this.VY && 0 < this.eI.length && (this.eI.forEach(function(b){var V01;V01=2;for(;V01 !== 1;){switch(V01){case 2:a.CZ(b.OBb,b.jd);V01=1;break;}}}),this.eI=[]);U01=5;break;}}};b.prototype.Phb=function(a,b){var W01,A,J,D,c,d,f,k,l,m,q,r,v,y,B;W01=2;for(;W01 !== 13;){switch(W01){case 9:A=this.Le[d];A || (A={Ud:f,u:d,headers:Object.create(null),LA:0,J2:0,DJ:0,data:void 0,Dd:l,gc:{},F0:void 0,bJa:void 0},!A.Dd || this.Xp?this.Le[d]=A:A.gc.Jp=0,this.zj.push(A),this.zj.sort(this.G5));J=[];W01=6;break;case 3:return Y.reject();break;case 4:W01=!B?3:9;break;case 2:var C89="A config must be passed to";C89+=" _requestH";C89+="eader";(c=this,d=b.u,f=b.Ud,k=b.jd,l=b.Dd,m=b.dzb(),q=m.pa,r=m.Sf,m=m.ND);g.assert(b.config,C89);(v=b.config,v=new n.I8(E).JFa(q,v),y={stream:[new t.nY(v.Rfa,v,new S.mY()),new t.nY(v.W6,v,new S.mY())],location:new p.mX(q,a.mb,a.Uf,v,void 0),R:{state:I.oa.oh,s3:!0,$T:0,playbackRate:1,buffer:{lq:void 0,X:0,ad:0,ac:0,uk:0,Pj:0,$:[],Fi:void 0,Sja:void 0}}},B=this.yAb(a,y,q,m,r,v,b.D_));W01=4;break;case 6:v.NBb && (D=2292 + 12 * Math.ceil(q.duration / 2E3));return (l && this.qf?this.Xp?this.qf.DFb(d,A):this.qf.bGb(d):Y.resolve(void 0)).then(function(a){var X01;X01=2;for(;X01 !== 5;){switch(X01){case 2:B.forEach(function(b){var Y01,d;Y01=2;for(;Y01 !== 5;){switch(Y01){case 2:var i89="d";i89+="ef";i89+="a";i89+="u";i89+="lt";var x89="d";x89+="ef";x89+="aul";x89+="t";d=D?D:v.K2;v.mR && A.headers[b.Da] || (h.Y(A.vq) && b.I === u[x89].Ua.VIDEO && (A.vq=b.U,A.Dq=b.Dq,A.rs=b.rs,A.sl=b.UBb,A.tl=b.P2),r && b.I === u[i89].Ua.VIDEO && v.n1?d=v.n1:v.E4a && b.Zs && (d=b.Zs.offset + b.Zs.size),b={stream:b,url:b.url,offset:0,ba:d,Dd:l},l && (A.gc.hHb=!h.Y(a) && 0 < Object.keys(a).length,b.cB=a),b=c.Qhb(b,k,A,v),J.push(b));Y01=5;break;}}});return Y.all(J);break;}}}).then(function(a){var Z01;Z01=2;for(;Z01 !== 1;){switch(Z01){case 2:return new Y(function(b){var a11;a11=2;for(;a11 !== 1;){switch(a11){case 2:c.qf && l && !c.Xp?c.qf.mQb(A,function(){var b11;b11=2;for(;b11 !== 1;){switch(b11){case 2:b(a);b11=1;break;}}}):b(a);a11=1;break;}}});break;}}}).then(function(a){var c11;c11=2;for(;c11 !== 3;){switch(c11){case 2:a=Math.max.apply(Math,a);A.gc.Jja=A.gc.GSa;c11=5;break;case 5:A.gc.wna=a;return {firstheadersent:A.gc.Jja,lastheadercomplete:A.gc.wna};break;}}});break;}}};b.prototype.gda=function(a,b){var d11,c;d11=2;for(;d11 !== 8;){switch(d11){case 3:b.Ye=this;return b;break;case 2:c=a.stream.I;2 > this.Cr.length && this.dGa();b=new k.h8(a.stream,b,this.Cr[c],a,this,!0,E);b.Dd=a.Dd;d11=3;break;}}};b.prototype.heb=function(a,b){var e11,c;e11=2;for(;e11 !== 8;){switch(e11){case 2:c=a.stream.I;2 > this.Cr.length && this.dGa();b=f.WV.create(a.stream,b,this.Cr[c].track,a,this,!0,E);b.Dd=a.Dd;e11=3;break;case 3:b.Ye=this;return b;break;}}};m01=21;break;case 53:b.prototype.LRa=function(a,b,c,d,f,h,k){var I11,q,g,l,m,r;I11=2;for(;I11 !== 10;){switch(I11){case 2:void 0 === k && (k=[]);I11=1;break;case 5:I11=g?4:11;break;case 4:q=new O.ZC(E);q.Jl(k);I11=9;break;case 9:k=O.dE(f,q);I11=8;break;case 1:var f89="defa";f89+="ul";f89+="t";(g=b.I === u[f89].Ua.VIDEO,l=[],m=[]);I11=5;break;case 8:k.pl(b.md,I.bc.cd).forEach(function(a){var J11;J11=2;for(;J11 !== 1;){switch(J11){case 2:(a.Iu?m:l).push(a);J11=1;break;}}});b=[];d && 0 !== l.length && (r=this.eLa(a,c,l,g,f,h)) && b.push(r);I11=13;break;case 11:k=O.cE(f);I11=8;break;case 13:r || (r=this.eLa(a,c,m,g,f,h)) && b.push(r);return b;break;}}};b.prototype.yAb=function(a,b,c,d,f,k,g){var K11,l,q,r,n,v;K11=2;for(;K11 !== 18;){switch(K11){case 2:l=this;void 0 === g && (g=[]);q=new m.YV(Number(c.movieId),{sb:0,pa:c,Cl:void 0,soa:{q3:! !f,Tma:!1},Vh:!1,Ee:I.je,config:k,Mla:void 0,DR:void 0,mb:a.mb,Uf:a.Uf,yL:void 0,dja:void 0,RF:void 0,HB:{da:0,ba:0}});K11=4;break;case 4:var k89="d";k89+="e";k89+="fa";k89+="ul";k89+="t";var A89="de";A89+="f";A89+="au";A89+="l";A89+="t";q.Tb();r=q.Cs[0];a=J[A89].ql();b.R.buffer.lq=a[u[k89].Ua.VIDEO];K11=7;break;case 11:var c89="Unable to find audio nor ";c89+="video tracks in manife";c89+="s";c89+="t:";ea(c89,d);K11=18;break;case 12:K11=h.Y(n) && h.Y(v)?11:10;break;case 10:K11=h.Y(v) && d?20:19;break;case 7:q.getTracks(1).some(function(a){var L11;L11=2;for(;L11 !== 3;){switch(L11){case 8:L11=a.Qx.stereo?4:8;break;L11=a.Qx.stereo?1:5;break;case 2:L11=a.Qx.stereo?1:5;break;case 1:return !1;break;case 7:return -0;break;L11=5;break;case 5:n=l.LRa(q.fa,a,b,f,k,r,g);return !0;break;}}});q.getTracks(0).some(function(a){var M11;M11=2;for(;M11 !== 1;){switch(M11){case 2:return a.Ya === d?(v=l.LRa(q.fa,a,b,f,k,r),!0):!1;break;}}});K11=12;break;case 20:var H89="Un";H89+="able to";H89+=" find requested audio track i";H89+="n m";H89+="anifest:";ea(H89,d);K11=18;break;case 19:return [].concat(n || []).concat(v || []);break;}}};b.prototype.Asa=function(a,b){var N11;N11=2;for(;N11 !== 1;){switch(N11){case 2:var r89="d";r89+="ef";r89+="ault";var K89="d";K89+="e";K89+="fa";K89+="ul";K89+="t";return a === u[K89].Ua.VIDEO && b.RJ || a === u[r89].Ua.AUDIO;break;}}};m01=50;break;case 34:b.prototype.Wfb=function(a,b,c){var i11,f,d;i11=2;for(;i11 !== 8;){switch(i11){case 3:f=c && c.length < a.gia?c.length:a.gia;return function(a){var U99=a000;var k11;k11=2;for(;k11 !== 1;){switch(k11){case 4:U99.L24(15);return U99.Y24(f,a);break;k11=1;break;case 2:U99.L24(16);return U99.r24(a,f);break;}}};break;case 5:i11=0 < d?4:3;break;case 2:d=a.A0;b.Dd && this.qf && (a.WS?d=a.WS:a.FVa && 0 < a.FVa && (d=2E3 * a.FVa));i11=5;break;case 4:return function(a,b){var j11;j11=2;for(;j11 !== 1;){switch(j11){case 2:a000.W24(16);return a000.Y24(b,d);break;}}};break;}}};b.prototype.CZ=function(a,b){var l11,c,d,f,k,g,q,n,v,r,l,m;l11=2;for(;l11 !== 51;){switch(l11){case 41:++n;l11=43;break;case 2:(c=a.u,d=a.Da,f=a.stream,k=a.rd);l11=1;break;case 54:q=void 0;l11=53;break;case 1:l11=this.VY?5:9;break;case 17:l11=!h.Y(q)?16:24;break;case 7:var Y89="def";Y89+="a";Y89+="ul";Y89+="t";l11=a.I === u[Y89].Ua.AUDIO?6:11;break;case 9:g=this.Le[c] || a.Ik;l11=8;break;case 14:g.F0=a;l11=13;break;case 19:var W89="no proper";W89+=" fragment f";W89+="ound to";W89+=" re";W89+="quest data at pts";Z(W89,b);l11=51;break;case 53:++m;l11=31;break;case 30:l11=(void 0 === q && (q=a.stream.ej(m)),void 0 !== q)?29:53;break;case 18:q=a.stream.ej(m);l11=17;break;case 43:l11=n < l.length && (q.ba < v || q.duration < k)?42:40;break;case 39:var L89="un";L89+="def";L89+="i";L89+="n";L89+="ed";q.Dd && (q.responseType=0);a.Dd && this.qf && a.cB && a.cB[d] && L89 !== typeof q.X && a.cB[d][q.X] || (n=this.heb(q,a.rd),n.Dd && (n.Ik=a.Ik),n.Yu(),++g.DJ,b.push(n));++r;l11=36;break;case 52:g.F0 && !h.Y(g.fm) && (a=g.F0,delete g.F0,this.CZ(a,g.fm));l11=51;break;case 5:this.eI.push({OBb:a,jd:b});l11=4;break;case 36:f+=q.duration;l11=54;break;case 25:var z89="ma";z89+="nagerdebugeven";z89+="t";var m89=", s";m89+="ta";m89+="rtPts: ";var G89=", ";G89+="pt";G89+="s:";G89+=" ";var M89=",";M89+=" s";M89+="treamId: ";var J89=",";J89+=" headerCac";J89+="he re";J89+="ques";J89+="tData: movieId: ";var B89="de";B89+="f";B89+="au";B89+="lt";k.Ah && (b="@" + J[B89].time.aa() + J89 + c + M89 + d + G89 + b + m89 + q.X,this.emit(z89,{message:b}));l11=24;break;case 3:this.eI.shift();l11=4;break;case 29:q.Dd=a.Dd;l11=28;break;case 44:a000.W24(1);n=a000.Y24(1,m);l11=43;break;case 35:c=this.Wfb(k,a,l);r=f=0;n=q && q.I;l11=32;break;case 24:void 0 === g.data && (g.data={});void 0 === g.data[d] && (g.data[d]=[]);b=g.data[d];l11=35;break;case 28:l11=!h.Y(l) && !q.xa?44:40;break;case 32:var X89="de";X89+="f";X89+="au";X89+="lt";var N89="de";N89+="fa";N89+="u";N89+="l";N89+="t";(v=n === u[N89].Ua.VIDEO?k.B4:k.v4,k=n === u[X89].Ua.VIDEO?k.SHb:k.LHb);l11=31;break;case 27:r=q.s1(b);l11=26;break;case 20:l11=-1 === m || void 0 === m?19:18;break;case 31:l11=m < (l && l.length || 0) && !c(r,f)?30:52;break;case 16:q.Dd=a.Dd;l11=15;break;case 26:var E89="def";E89+="a";E89+="u";E89+="l";E89+="t";r && (q.I === u[E89].Ua.AUDIO && !k.q4 && r.jd < (k.$i && !k.Lz && f.Cd?Math.floor(f.Cd.da):0) && (++r.Sn,r.jd+=q.wa.da),0 < r.Sn && q.ei({start:r.Sn}));l11=25;break;case 15:l11=this.Asa(a.I,k)?27:25;break;case 11:var S89="d";S89+="ef";S89+="a";S89+="ult";a.I === u[S89].Ua.AUDIO && k.$i && !k.Lz && f.Cd && (b=Math.max(f.$ && f.$.pj(0) || 0,b + f.Cd.da));(l=a.stream.$,m=l && l.sm(b));l11=20;break;case 4:l11=this.eI.length > k.Jla?3:51;break;case 40:h.Y(g.fm) && (g.fm=q.X);l11=39;break;case 13:return;break;case 12:b=g.fm;l11=11;break;case 6:l11=void 0 === g.fm?14:12;break;case 42:(q.rfa(l.get(n)),q.nT=n + 1,m=n);l11=41;break;case 8:l11=g?7:51;break;}}};b.prototype.sdb=function(a){var m11;m11=2;for(;m11 !== 1;){switch(m11){case 2:this.DFa(a,a.Ik);m11=1;break;}}};m01=31;break;case 50:b.prototype.wc=function(a){var O11;O11=2;for(;O11 !== 1;){switch(O11){case 2:return ! !a.wc;break;}}};return b;break;}}})(q.Av);b.pya=a;y["default"](d.EventEmitter.prototype,a.prototype);},function(d,b,a){var c,h,g,m,f,k,q,n;Object.defineProperties(b,{__esModule:{value:!0}});b.vAa=void 0;c=a(0);h=a(16);g=c.__importStar(a(967));m=c.__importStar(a(8));a(5);f=a(247);k=a(9);d=a(38);q=c.__importStar(a(978));n=q.Wza;a=(function(){var P11;P11=2;for(;P11 !== 27;){switch(P11){case 2:a.prototype.$a=function(a,b){var R11,c;R11=2;for(;R11 !== 4;){switch(R11){case 2:var j89="c";j89+="a";j89+="t";j89+="c";j89+="h";var w89="Media ca";w89+="che is disa";w89+="bled";c=this;this.Rea?this.Bo=new Promise(function(d,f){var S11;S11=2;for(;S11 !== 1;){switch(S11){case 2:(void 0 !== b && null !== b?b.EK:function(a){var T11;T11=2;for(;T11 !== 1;){switch(T11){case 2:return g.EK(c.dn,c.H,a);break;}}})(function(b){var U11,h;U11=2;for(;U11 !== 4;){switch(U11){case 2:var h89="Medi";h89+="a cache did n";h89+="ot initialize";c.Ui=b;h=b.ym;(b=b.SE)?f(b):h?(c.eSb(a),d()):f(Error(h89));U11=4;break;}}});S11=1;break;}}}):(this.Bo=Promise.reject(w89),this.Bo[j89](function(){}));return this.Bo;break;}}};a.prototype.EFb=function(a){var V11,b,c,d;V11=2;for(;V11 !== 5;){switch(V11){case 2:(b=this,c=[n.pX,a].join("."),d=this.dn.time.aa());return this.Bo.then(function(){var W11;W11=2;for(;W11 !== 1;){switch(W11){case 2:return new Promise(function(f){var X11;X11=2;for(;X11 !== 1;){switch(X11){case 2:b.Ui.JF(n.Yk,c,function(c){var Y11,h;Y11=2;for(;Y11 !== 3;){switch(Y11){case 5:h=c[0];b.Ui.read(n.Yk,h,function(c,d){var Z11,k,a21,g;Z11=2;for(;Z11 !== 13;){switch(Z11){case 2:var a89=" ";a89+="fa";a89+="i";a89+="le";a89+="d";var U89="Reading movie e";U89+="nt";U89+="ry ";c && b.G.warn(U89 + h + a89,c);Z11=5;break;case 5:Z11=!m.Y(d)?4:8;break;case 3:try{a21=2;for(;a21 !== 1;){switch(a21){case 2:k=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(d)));a21=1;break;}}}catch(E){}Z11=8;break;case 14:b.HTa(g)?f(g):(b.Zhb(a),f());Z11=13;break;case 8:m.Y(k) || (g=q.Mka(k));m.Y(g) || m.ab(g) || (g.gc=g.gc || ({}),g.headers=g.headers || ({}));Z11=14;break;case 4:Z11=d instanceof ArrayBuffer?3:9;break;case 9:k={priority:d.priority,movieId:d.movieId,saveToDisk:d.saveToDisk,firstSelectedStreamBitrate:d.firstSelectedStreamBitrate,initSelectionReason:d.initSelectionReason,histDiscountedThroughputValue:d.histDiscountedThroughput,histTdigest:d.histTdigest,histAge:d.histAge,headerCount:d.headerCount,dataRequestCount:d.dataRequestCount,headerRequestCount:d.headerRequestCount,stats:d.stats};Z11=8;break;}}});Y11=3;break;case 2:Y11=!c || 0 >= c.length?1:5;break;case 1:var P89="mediacach";P89+="e";P89+="l";P89+="ookup";(f(),b.rM(P89,{Z3:b.dn.time.aa() - d,t0:!1}));Y11=3;break;}}});X11=1;break;}}});break;}}});break;}}};a.prototype.zFb=function(a,b,c){var b21,d,f;b21=2;for(;b21 !== 9;){switch(b21){case 7:d=this;b21=8;break;b21=1;break;case 5:var b89="Media cache is not";b89+=" e";b89+="n";b89+="abled";return Promise.reject(b89);break;case 1:b21=!this.Bo?5:4;break;case 4:f=this.dn.time.aa();return this.Bo.then(function(){var c21;c21=2;for(;c21 !== 1;){switch(c21){case 2:return new Promise(function(h){var d21;d21=2;for(;d21 !== 1;){switch(d21){case 2:d.Ui.JF(n.Yk,a,function(k){var e21;e21=2;for(;e21 !== 5;){switch(e21){case 2:k=k.reduce(function(a,b){var f21,c;f21=2;for(;f21 !== 9;){switch(f21){case 14:return a;break;f21=4;break;case 2:c=b.substr(0,b.lastIndexOf("."));f21=1;break;case 1:var d89="drmHe";d89+="ader.";d89+="__em";d89+="bed_";d89+="_";f21=-1 !== c.indexOf(d89)?5:4;break;case 6:var g69="dr";g69+="mHea";g69+="de";g69+="r.__em";g69+="bed__";f21=!2 != c.indexOf("")?9:9;break;f21=-1 !== c.indexOf(g69)?5:4;break;case 5:return a;break;case 4:a[c]?a[c].push(b):a[c]=[b];return a;break;}}},{});d.ANb(k,b).then(function(b){var g21,k,g;g21=2;for(;g21 !== 8;){switch(g21){case 1:return h();break;case 2:g21=void 0 === c || void 0 === b?1:5;break;case 3:var y69="mediacach";y69+="el";y69+="ookup";d.rM(y69,{Z3:k,t0:g});h(b);g21=8;break;case 5:var e69="No ";e69+="content dat";e69+="a found";e69+=" for ";(k=d.dn.time.aa() - f,g=!1);m.Y(b) || m.Y(b.data) || !m.zf(b.data)?d.G.trace(e69 + a,c):g=!0;g21=3;break;}}},function(){var h21;h21=2;for(;h21 !== 1;){switch(h21){case 2:h();h21=1;break;case 4:h();h21=8;break;h21=1;break;}}});e21=5;break;}}});d21=1;break;}}});break;}}});break;case 2:d=this;b21=1;break;case 6:b21=-this.Bo?6:9;break;b21=!this.Bo?5:4;break;case 14:return Promise.reject("");break;b21=4;break;}}};P11=4;break;case 4:a.prototype.AFb=function(a,b){var i21,c,d;i21=2;for(;i21 !== 5;){switch(i21){case 2:(c=this,d=this.dn.time.aa());return this.Bo.then(function(){var j21;j21=2;for(;j21 !== 1;){switch(j21){case 4:return c.YGa(a);break;j21=1;break;case 2:return c.YGa(a);break;}}}).then(function(f){var k21;k21=2;for(;k21 !== 5;){switch(k21){case 2:k21=f?1:4;break;case 1:return c.zhb(a.toString(),b,d);break;case 9:k21=f?6:1;break;k21=f?1:4;break;case 4:var D69="mediac";D69+="ache";D69+="loo";D69+="k";D69+="up";c.rM(D69,{Z3:c.dn.time.aa() - d,t0:!1});k21=5;break;}}});break;}}};a.prototype.mQb=function(a,b){var l21,c;l21=2;for(;l21 !== 5;){switch(l21){case 2:c=q.Nka(a);this.Ui.save(n.Yk,[n.pX,a.u].join("."),c,n.Xy,function(){var m21;m21=2;for(;m21 !== 1;){switch(m21){case 4:b();m21=3;break;m21=1;break;case 2:b();m21=1;break;}}});l21=5;break;}}};a.prototype.lQb=function(a,b){var n21,h,l,c,d,f,g;n21=2;for(;n21 !== 14;){switch(n21){case 6:this.Ui.n0a(n.Yk,g,function(d){var p21;p21=2;for(;p21 !== 5;){switch(p21){case 2:d || (d=c.dn.time.aa() - f,a.Ik && (m.Y(a.Ik.gc.Jp) && (a.Ik.gc.Jp=0),a.Ik.gc.Jp+=d));b();p21=5;break;}}});n21=14;break;case 4:n21=a.stream.se && !m.Y(a.stream.$)?3:6;break;case 3:(h={timescale:a.stream.$.S,startTicks:a.stream.$.Tk,offset:a.stream.$.Fh(0)},l=a.stream.$.yM);g[d + "." + n.Oxa]={Ep:h,Td:n.Xy};g[d + "." + n.c9a]={Ep:l.sizes.buffer,Td:n.Xy};n21=7;break;case 7:g[d + "." + n.b9a]={Ep:l.Zd.buffer,Td:n.Xy};n21=6;break;case 2:(c=this,d=[a.u,a.Da,n.n9a].join("."),f=this.dn.time.aa(),h=q.NQa(a),g={});g[d + "." + n.O$]={Ep:h,Td:n.Xy};g[d + "." + n.N9a]={Ep:k.$z(a.Dh.map(function(a){var o21;o21=2;for(;o21 !== 1;){switch(o21){case 2:return a.data;break;}}})),Td:n.Xy};n21=4;break;}}};a.prototype.kQb=function(a,b,c){var q21,g,h,k,d,f;q21=2;for(;q21 !== 14;){switch(q21){case 3:g={};g[k + "." + n.O$]={Ep:a,Td:n.Xy};m.Y(f) || (g[k + "." + n.X$a]={Ep:f,Td:n.Xy});q21=7;break;case 5:(h=this.dn.time.aa(),k=[a.u,a.Da,a.Qb].join("."));a=q.Hka(a);q21=3;break;case 1:q21=f instanceof ArrayBuffer?5:6;break;case 2:(d=this,f=a.response);q21=1;break;case 6:var V69="Unable to save fragment because r";V69+="esponse is not an";V69+=" ArrayBuff";V69+="er";c(Error(V69));q21=14;break;case 7:this.Ui.n0a(n.Yk,g,function(a){var r21;r21=2;for(;r21 !== 5;){switch(r21){case 2:var O69="Faile";O69+="d to save f";O69+="ragme";O69+="nt";a?d.G.warn(O69,a):(a=d.dn.time.aa() - h,m.Y(b.gc.Jp) && (b.gc.Jp=0),b.gc.Jp+=a);c();r21=5;break;}}});q21=14;break;}}};P11=7;break;case 16:a.prototype.eSb=function(a){var H31,b;H31=2;for(;H31 !== 4;){switch(H31){case 2:var p69="medi";p69+="acach";p69+="e-err";p69+="o";p69+="r";var u69="med";u69+="iacac";u69+="he";b=new h.sg();b.on(this.Ui,u69,function(b){var I31;I31=2;for(;I31 !== 4;){switch(I31){case 9:I31=b.keys && b.items?2:4;break;I31=b.keys || b.items?1:5;break;case 2:I31=b.keys || b.items?1:5;break;case 1:b.keys || b.items.map(function(a){var J31;J31=2;for(;J31 !== 1;){switch(J31){case 2:return a.key;break;}}});I31=5;break;case 5:var l69="m";l69+="e";l69+="dia";l69+="ca";l69+="che";a.emit(l69,b);I31=4;break;}}});b.on(this.Ui,p69,function(b){var K31;K31=2;for(;K31 !== 5;){switch(K31){case 2:var F69="me";F69+="d";F69+="iaca";F69+="che";var T69="er";T69+="r";T69+="o";T69+="r";b.type=T69;a.emit(F69,b);K31=5;break;}}});H31=4;break;}}};return a;break;case 7:a.prototype.nQb=function(a){var s21,b,d,h,k,g,l,r,u,v,p,t,u21,ea,Z,da,sa,v21,F,ca,L,P,w21,x21,y21,z21,A21,B21;s21=2;for(;s21 !== 10;){switch(s21){case 2:(g=this,l=this.dn.time.aa(),r={},u=q.Nka(a));s21=1;break;case 1:r.movieEntry=u;s21=5;break;case 4:v={};Object.keys(a.headers).forEach(function(b){var t21,c;t21=2;for(;t21 !== 5;){switch(t21){case 2:c=q.JQa(a.headers[b]);v[b]=c;t21=5;break;}}});s21=9;break;case 5:s21=a.headers?4:8;break;case 7:(u={},p=a.data,t=Object.keys(a.data));try{u21=2;for(;u21 !== 7;){switch(u21){case 4:u21=Z?3:8;break;case 1:u21=!sa.done?5:7;break;case 5:(ea=sa.value,Z=p[ea],t={});u21=4;break;case 8:sa=da.next();u21=1;break;case 2:(da=c.__values(t),sa=da.next());u21=1;break;case 3:try{v21=2;for(;v21 !== 7;){switch(v21){case 2:(F=(h=void 0,c.__values(Z)),ca=F.next());v21=1;break;case 1:v21=!ca.done?5:7;break;case 5:L=ca.value;v21=4;break;case 4:v21=L instanceof f.WV && L.response instanceof ArrayBuffer && !m.Y(L.Qb)?3:8;break;case 9:t[L.Qb]={mediaType:P.mediaType,streamId:P.streamId,movieId:P.movieId,bitrate:P.bitrate,location:P.location,serverId:P.serverId,saveToDisk:P.saveToDisk,offset:P.offset,bytes:P.bytes,timescale:P.timescale,startTicks:P.startTicks,durationTicks:P.durationTicks,response:L.response};v21=8;break;case 3:P=q.Hka(L);v21=9;break;case 8:ca=F.next();v21=1;break;}}}catch(aa){h={error:aa};}finally{w21=2;for(;w21 !== 1;){switch(w21){case 2:try{x21=2;for(;x21 !== 1;){switch(x21){case 2:var t69="re";t69+="t";t69+="ur";t69+="n";ca && !ca.done && (k=F[t69]) && k.call(F);x21=1;break;}}}finally{y21=2;for(;y21 !== 5;){switch(y21){case 1:throw h.error;y21=5;break;case 9:throw h.error;y21=6;break;y21=5;break;case 3:y21=h?7:7;break;y21=h?1:5;break;case 2:y21=h?1:5;break;}}}w21=1;break;}}}u21=9;break;case 9:u[ea]=t;u21=8;break;}}}catch(aa){b={error:aa};}finally{z21=2;for(;z21 !== 1;){switch(z21){case 2:try{A21=2;for(;A21 !== 1;){switch(A21){case 2:var n69="r";n69+="etu";n69+="r";n69+="n";sa && !sa.done && (d=da[n69]) && d.call(da);A21=1;break;}}}finally{B21=2;for(;B21 !== 5;){switch(B21){case 3:B21=b?7:0;break;B21=b?1:5;break;case 1:throw b.error;B21=5;break;case 2:B21=b?1:5;break;}}}z21=1;break;}}}s21=14;break;case 9:r.headers=v;s21=8;break;case 8:s21=a && a.data?7:13;break;case 14:r.data=u;s21=13;break;case 13:b={lifespan:259200};this.Vfb && (b.convertToBinaryData=!0);this.Ui.save(n.Yk,a.u,r,b,function(a){var C21;C21=2;for(;C21 !== 1;){switch(C21){case 2:var v69="sav";v69+="etodis";v69+="k";a || g.rM(v69,{o0a:g.dn.time.aa() - l});C21=1;break;}}});s21=10;break;}}};a.prototype.HTa=function(a){var D21;D21=2;for(;D21 !== 1;){switch(D21){case 2:return !(m.Y(a) || m.ab(a) || m.Y(a.gc) || m.ab(a.gc) || m.Y(a.u) || m.ab(a.u) || m.Y(a.Ud) || m.ab(a.Ud));break;}}};a.prototype.bGb=function(a){var E21,b,c;E21=2;for(;E21 !== 5;){switch(E21){case 2:(b=this,c=m.Y(a)?"":a.toString());return new Promise(function(a){var F21,G21;F21=2;for(;F21 !== 4;){switch(F21){case 1:a();F21=4;break;case 9:F21=m.Y(b.Ui)?8:6;break;F21=m.Y(b.Ui)?1:5;break;case 5:try{G21=2;for(;G21 !== 1;){switch(G21){case 2:b.Ui.JF(n.Yk,"",function(b){var H21;H21=2;for(;H21 !== 5;){switch(H21){case 2:b=b.filter(function(a){var I21;I21=2;for(;I21 !== 5;){switch(I21){case 2:var s69="mo";s69+="v";s69+="ieE";s69+="ntry";a=a.split(".");return c && (c === a[0] || s69 === a[0] && c === a[1]);break;}}}).reduce(function(a,b){var J21,c;J21=2;for(;J21 !== 4;){switch(J21){case 5:return a;break;case 2:var Q69="mo";Q69+="v";Q69+="ie";Q69+="Entry";c=b.split(".");Q69 !== c[0] && (b=c[1],c=c[2],m.Y(a[b]) && (a[b]={}),m.Y(a[b][c]) && (a[b][c]=!0));J21=5;break;case 7:return a;break;J21=4;break;}}},{});a(b);H21=5;break;}}});G21=1;break;}}}catch(I){a();}F21=4;break;case 8:a();F21=8;break;F21=4;break;case 2:F21=m.Y(b.Ui)?1:5;break;}}});break;}}};P11=13;break;case 19:a.prototype.zhb=function(a,b,d){var l31,f;l31=2;for(;l31 !== 5;){switch(l31){case 2:f=this;return new Promise(function(h,k){var m31,g;m31=2;for(;m31 !== 5;){switch(m31){case 2:f.Ui.read(n.Yk,a,function(l,r){var n31,n,u,v,y,p,B,s31,D,R,t31,Ua,Va,ka,Qa,u31,v31,w31,L,N,x31,y31,z31,I,o31,S,J,t,U,F,p31,q31,r31,A;n31=2;for(;n31 !== 4;){switch(n31){case 2:n31=1;break;case 18:try{s31=2;for(;s31 !== 9;){switch(s31){case 5:(D=N.value,R=Object.keys(n[D]));try{t31=2;for(;t31 !== 7;){switch(t31){case 1:t31=!Qa.done?5:7;break;case 5:(Ua=n[D][Qa.value],Va=q.bka(Ua,Ua));t31=4;break;case 2:(ka=(p=void 0,c.__values(R)),Qa=ka.next());t31=1;break;case 9:r.push(Va);t31=8;break;case 4:t31=q.Lma(Va)?3:9;break;case 3:var q69="Missing or invalid media ";q69+="data part";q69+="s for stream ";return (S=q69 + Va.Da,k(S));break;case 8:Qa=ka.next();t31=1;break;}}}catch(Na){p={error:Na};}finally{u31=2;for(;u31 !== 1;){switch(u31){case 2:try{v31=2;for(;v31 !== 1;){switch(v31){case 2:var R69="r";R69+="e";R69+="tu";R69+="r";R69+="n";Qa && !Qa.done && (B=ka[R69]) && B.call(ka);v31=1;break;}}}finally{w31=2;for(;w31 !== 5;){switch(w31){case 2:w31=p?1:5;break;case 1:throw p.error;w31=5;break;case 9:throw p.error;w31=6;break;w31=5;break;}}}u31=1;break;}}}s31=3;break;case 1:s31=!N.done?5:9;break;case 2:(L=c.__values(u),N=L.next());s31=1;break;case 3:N=L.next();s31=1;break;case 12:N=L.next();s31=9;break;s31=1;break;}}}catch(Na){v={error:Na};}finally{x31=2;for(;x31 !== 1;){switch(x31){case 2:try{y31=2;for(;y31 !== 1;){switch(y31){case 2:var I69="r";I69+="e";I69+="turn";N && !N.done && (y=L[I69]) && y.call(L);y31=1;break;}}}finally{z31=2;for(;z31 !== 5;){switch(z31){case 2:z31=v?1:5;break;case 3:z31=v?2:6;break;z31=v?1:5;break;case 1:throw v.error;z31=5;break;}}}x31=1;break;}}}n31=17;break;case 16:void 0 !== g && (g.Ik=l);n31=15;break;case 5:k(l);n31=4;break;case 14:r=[];n31=13;break;case 17:g=q.Oka(f.H,f.G,f.ve,r,b);n31=16;break;case 1:n31=l?5:3;break;case 10:n31=A.data?20:17;break;case 12:I=Object.keys(A.headers);n31=11;break;case 11:try{o31=2;for(;o31 !== 12;){switch(o31){case 7:o31=q.Mma(F)?6:14;break;case 13:t=J.next();o31=1;break;case 14:r.push(F);o31=13;break;case 3:var o69="Header fragments was an ";o69+="array buffer,";o69+=" is invalid";o69+=" typ";o69+="e ";S=o69 + U.streamId;o31=9;break;case 4:o31=U.fragments instanceof ArrayBuffer?3:8;break;case 2:(J=c.__values(I),t=J.next());o31=1;break;case 5:(D=t.value,U=A.headers[D]);o31=4;break;case 1:o31=!t.done?5:12;break;case 8:F=q.cka(U,U,U.fragments);o31=7;break;case 6:var Z69="Missing ";Z69+="or invalid header data parts";Z69+=" for stream ";return (S=Z69 + F.Da,k(S));break;case 9:return k(S);break;}}}catch(Na){n={error:Na};}finally{p31=2;for(;p31 !== 1;){switch(p31){case 2:try{q31=2;for(;q31 !== 1;){switch(q31){case 2:var C69="re";C69+="t";C69+="u";C69+="r";C69+="n";t && !t.done && (u=J[C69]) && u.call(J);q31=1;break;}}}finally{r31=2;for(;r31 !== 5;){switch(r31){case 1:throw n.error;r31=5;break;case 2:r31=n?1:5;break;}}}p31=1;break;}}}n31=10;break;case 15:var x69="mediacachel";x69+="o";x69+="okup";f.rM(x69,{Z3:f.dn.time.aa() - d,t0:!0});h(g);n31=4;break;case 6:l=q.Mka(A.movieEntry);n31=14;break;case 3:n31=m.Y(r)?9:8;break;case 7:n31=A.movieEntry?6:15;break;case 9:h();n31=4;break;case 20:n=A.data;u=Object.keys(n);n31=18;break;case 13:n31=A.headers?12:10;break;case 8:A=r[a];n31=7;break;}}});m31=5;break;}}});break;}}};a.prototype.YGa=function(a){var A31,b;A31=2;for(;A31 !== 5;){switch(A31){case 2:var i69="Media";i69+=" c";i69+="ache is not enabled";b=this;return this.Bo?this.Bo.then(function(){var B31;B31=2;for(;B31 !== 1;){switch(B31){case 2:return new Promise(function(c){var C31;C31=2;for(;C31 !== 1;){switch(C31){case 2:b.Ui.JF(n.Yk,a.toString(),function(b){var D31;D31=2;for(;D31 !== 1;){switch(D31){case 2:b && 0 !== b.length?1 === b.length && b[0] === a.toString()?c(!0):c(!1):c(!1);D31=1;break;}}});C31=1;break;}}});break;}}}):Promise.reject(i69);break;}}};a.prototype.Zhb=function(a){function b(a){var F31;F31=2;for(;F31 !== 1;){switch(F31){case 2:var f69="de";f69+="let";f69+="e";d.Ui[f69](n.Yk,a);F31=1;break;}}}var E31,d,f;E31=2;function c(a){var G31;G31=2;for(;G31 !== 1;){switch(G31){case 4:a.map(b);G31=5;break;G31=1;break;case 2:a.map(b);G31=1;break;}}}for(;E31 !== 4;){switch(E31){case 2:(d=this,f=a.toString());this.Ui.JF(n.Yk,[n.pX,a].join("."),c);this.Ui.JF(n.Yk,f,c);E31=4;break;}}};P11=16;break;case 13:a.prototype.DFb=function(a,b){var K21,c;K21=2;for(;K21 !== 5;){switch(K21){case 2:c=this;return b && b.headers && b.headers && 0 < Object.keys(b.headers).length && b.data?new Promise(function(a){var L21,c,d;L21=2;for(;L21 !== 8;){switch(L21){case 5:L21=b.data?4:9;break;case 2:c={};b.headers && Object.keys(b.headers).forEach(function(a){var M21;M21=2;for(;M21 !== 5;){switch(M21){case 2:c[a] || (c[a]={});c[a].header=!0;M21=5;break;}}});L21=5;break;case 4:d=b.data;L21=3;break;case 3:Object.keys(d).forEach(function(a){var N21;N21=2;for(;N21 !== 5;){switch(N21){case 2:c[a] || (c[a]={});d[a].forEach(function(b){var O21;O21=2;for(;O21 !== 1;){switch(O21){case 2:m.Y(b.Qb) || (c[a][b.Qb]=!0);O21=1;break;}}});N21=5;break;}}});L21=9;break;case 9:return a(c);break;}}}):this.YGa(a).then(function(b){var P21;P21=2;for(;P21 !== 5;){switch(P21){case 1:return new Promise(function(b){var Q21;Q21=2;for(;Q21 !== 1;){switch(Q21){case 2:c.Ui.read(n.Yk,a,function(c,d){var R21,f,h;R21=2;for(;R21 !== 5;){switch(R21){case 2:R21=c?1:4;break;case 9:(f=d[a],h={});f.headers && Object.keys(f.headers).forEach(function(a){var S21;S21=2;for(;S21 !== 5;){switch(S21){case 2:h[a] || (h[a]={});h[a].header=!0;S21=5;break;}}});f.data && Object.keys(f.data).forEach(function(a){var T21;T21=2;for(;T21 !== 5;){switch(T21){case 2:h[a] || (h[a]={});Object.keys(f.data[a]).forEach(function(b){var U21;U21=2;for(;U21 !== 1;){switch(U21){case 4:h[a][b]=+9;U21=4;break;U21=1;break;case 2:h[a][b]=!0;U21=1;break;}}});T21=5;break;}}});b(h);R21=5;break;case 4:R21=m.Y(d)?3:9;break;case 1:b();R21=5;break;case 3:b(void 0);R21=5;break;}}});Q21=1;break;}}});break;case 2:P21=b?1:5;break;}}});break;}}};a.prototype.pzb=function(){var V21,a;V21=2;for(;V21 !== 5;){switch(V21){case 2:var A69="Me";A69+="dia";A69+=" cac";A69+="he is ";A69+="not enabled";a=this;return this.Bo?this.Bo.then(function(){var W21;W21=2;for(;W21 !== 1;){switch(W21){case 2:return new Promise(function(b){var X21;X21=2;for(;X21 !== 1;){switch(X21){case 2:a.Ui.JF(n.Yk,n.pX,function(a){var Y21,c;Y21=2;for(;Y21 !== 9;){switch(Y21){case 2:Y21=!a || 0 >= a.length?1:5;break;case 5:c=[];a.forEach(function(a){var Z21;Z21=2;for(;Z21 !== 1;){switch(Z21){case 2:a && a.length && (a=a.split(".")) && 1 < a.length && c.push(a[1]);Z21=1;break;}}});b(c);Y21=9;break;case 1:b([]);Y21=9;break;}}});X21=1;break;}}});break;}}}):Promise.reject(A69);break;}}};a.prototype.rM=function(a,b){var a31,c;a31=2;for(;a31 !== 9;){switch(a31){case 2:var K69="me";K69+="d";K69+="iacac";K69+="he";var H69="media";H69+="cach";H69+="elookup";var c69="save";c69+="to";c69+="dis";c69+="k";var k69="media";k69+="ca";k69+="ch";k69+="e";k69+="stats";c={type:k69,operation:a};c69 === a && (c.saveTime=b.o0a);H69 === a && (c.lookupTime=b.Z3,c.dataFound=b.t0);c.oneObject=this.Xp;this.Heb && this.emit(K69,c);a31=9;break;}}};a.prototype.ANb=function(a,b){var b31,c,d;b31=2;for(;b31 !== 5;){switch(b31){case 2:(c=this,d=Object.keys(a).map(function(b){var c31;c31=2;for(;c31 !== 1;){switch(c31){case 2:return c.xqb(a[b]);break;}}}));return Promise.all(d).then(function(a){var d31;d31=2;for(;d31 !== 5;){switch(d31){case 2:a.sort(function(a,b){var e31;e31=2;for(;e31 !== 1;){switch(e31){case 2:return a.wc === b.wc?0:a.wc?-1:1;break;}}});return q.Oka(c.H,c.G,c.ve,a,b);break;}}});break;}}};a.prototype.xqb=function(a){var f31,b,c,d,f;f31=2;for(;f31 !== 5;){switch(f31){case 2:(b=this,f={});return new Promise(function(h,k){var g31,g;g31=2;for(;g31 !== 5;){switch(g31){case 2:b.Ui.P5(n.Yk,a,function(a,b){var h31,i31,l;h31=2;for(;h31 !== 1;){switch(h31){case 2:try{i31=2;for(;i31 !== 19;){switch(i31){case 4:i31=q.BTa(d)?3:20;break;case 11:i31=q.Lma(g)?10:12;break;case 14:i31=q.Mma(g)?13:12;break;case 7:g=q.cka(d,f,c);i31=6;break;case 6:i31=g.wc?14:11;break;case 12:h(g);i31=19;break;case 8:return k(l);break;case 2:i31=a || void 0 === b?1:5;break;case 9:var r69="Head";r69+="er fragments was an array";r69+=" buf";r69+="fer, is invalid type ";l=r69 + g.Da;i31=8;break;case 1:return k(a);break;case 13:var Y69="M";Y69+="issing or invalid header data par";Y69+="ts for stream ";return (l=Y69 + g.Da,k(l));break;case 5:Object.keys(b).map(function(a){var j31,h,k31,k;j31=2;for(;j31 !== 3;){switch(j31){case 1:j31=h === n.O$?5:4;break;case 2:h=a.substr(a.lastIndexOf(".") + 1);j31=1;break;case 7:j31=h !== n.O$?8:6;break;j31=h === n.O$?5:4;break;case 4:h === n.Oxa?c=b[a]:f[h]=b[a];j31=3;break;case 5:try{k31=2;for(;k31 !== 5;){switch(k31){case 2:k=new Uint8Array(b[a]);d=JSON.parse(String.fromCharCode.apply(null,k));k31=5;break;}}}catch(ea){d=b[a];}j31=3;break;}}});i31=4;break;case 3:i31=c instanceof ArrayBuffer?9:7;break;case 20:g=q.bka(d,{response:f.response});i31=6;break;case 10:var W69="Miss";W69+="ing or invalid media ";W69+="data parts for stream ";return (l=W69 + g.Da,k(l));break;}}}catch(E){k(E);}h31=1;break;}}});g31=5;break;}}});break;}}};P11=19;break;}}function a(a,b,c){var Q11;Q11=2;for(;Q11 !== 12;){switch(Q11){case 4:this.Xp=a.voa?a.voa:!1;this.Vfb=a.SVa?a.SVa:!1;this.H=a;Q11=8;break;case 1:this.Rea=(a.UB || a.dua) && 0 < (a.hA || (b.options || ({})).iL || 0);this.Heb=a.jub?a.jub:!1;Q11=4;break;case 2:var B69="media";B69+="|asej";B69+="s";var L69="MEDIA";L69+="CACH";L69+="E";this.G=new b.Console(L69,B69);Q11=1;break;case 8:this.dn=b;Q11=7;break;case 7:var M69="c";M69+="a";M69+="t";M69+="c";M69+="h";var J69="Medi";J69+="a cache has not bee";J69+="n";J69+=" initiaized";this.ve=c;this.Bo=Promise.reject(J69);this.Bo[M69](function(){});Q11=13;break;case 13:var G69="1";G69+="SIYbZ";G69+="r";G69+="NJ";G69+="Cp9";G69;Q11=12;break;}}}})();b.vAa=a;d.af(h.EventEmitter,a);},function(d,b,a){var c,h,g,m,f;c=a(8);g=[];f=!1;d.exports={EK:function(b,d,l){var k;if(f)c.vc(l) && (h.ym || h.SE?setTimeout(function(){l(h);},0):g.push(l));else {f=!0;k=a(123);k.lS(b);m=new k.Console("MEDIACACHE","media|asejs");h=new (a(431))(d,function(a){a && m.warn("Failed to initialize MediaCache",a);c.vc(l) && setTimeout(function(){l(h);},0);g.map(function(a){setTimeout(function(){a(h);},0);});});}return h;},Y5b:function(b,d){h=new (a(431))(b,function(a,b){a && m.warn("Failed to initialize MediaCache",a);c.vc(d) && setTimeout(function(){d(b);},0);});}};},function(d,b,a){var h,g,m,f,k;function c(a){this.fk=a;this.context=a.context;this.YWa="NULLCONTEXT" === a.context?!0:!1;}h=a(8);g=a(123);m=new g.Console("DISKCACHE","media|asejs");f={context:"NULLCONTEXT",read:function(a,b,c,d,f){f("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,d){d("MediaCache is not supported");},append:function(a,b,c,d){d("MediaCache is not supported");},query:function(a,b,c){c([]);}};c.prototype.DD=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length - 1];a=a.slice(1,a.length - 1);a.push(function(a){c(null,a);});try{if(this.YWa)throw Error("Media Cache not supported");b.apply(this.fk,a);}catch(u){c(u);}};c.prototype.query=function(a,b,c,d){try{if(this.YWa)throw Error("Media Cache not supported");this.fk.query(a,b,function(a){c(null,a);},d);}catch(B){c(B);}};c.prototype.read=function(a,b,c,d,f){this.DD(this.fk.read,a,b,c,d,f);};c.prototype.remove=function(a,b,c){this.DD(this.fk.remove,a,b,c);};c.prototype.create=function(a,b,c,d){this.DD(this.fk.create,a,b,c,d);};c.prototype.append=function(a,b,c,d){this.DD(this.fk.append,a,b,c,d);};c.prototype.info=function(a){this.DD(this.fk.info,a);};c.prototype.mt=function(a){this.DD(this.fk.mt,a);};c.prototype.flush=function(a){this.DD(this.fk.flush,a);};c.prototype.clear=function(){this.fk.clear();};d.exports={Aqb:function(a){var b,d,l,q,n;b=a.u5b || "NRDMEDIADISKCACHE";k=a.hA || 0;0 !== k || h.Y(g.options) || h.Y(g.options.iL) || (k=g.options.iL);a=k;try{q=g.storage.NJ;if(!q || !h.zf(q))throw (m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(l=q[b])(m.warn("Disk store exists, returning"),d=new c(l));else {if(h.Y(g.storage) || !h.vc(g.storage.k0) || g.options && 0 === g.options.iL)throw (m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");m.warn("Disk store context doesn't exist, creating with size " + a);n=g.storage.k0({context:b,size:a,encrypted:!0,signed:!0});if(!n || !n.valid)throw "Failed to create disk store context";d=new c(n);}}catch(y){m.warn("Exception creating disk store context - returning NullContext (noops)",y);d=new c(f);}return d;},hyb:function(){return k;},KZb:c};},function(d,b,a){var k,q,n,r,u,p,A,y,I;function c(){}function h(b,d,f,l,r){var n;n=k.vc(l)?l:c;this.uz=b;this.Mf=f.lq;this.ww=0;this.Meb=f.Vub || "NONE";this.fw=k.Y(r) || k.ab(r)?0:r;this.Xd={};this.xr=f.B7b || q.storage.sH;this.Tt=d;this.UI=u.create(this.Tt,f.Frb * this.fw,this.uz);this.on=this.addEventListener=I.addEventListener;this.removeEventListener=I.removeEventListener;this.emit=this.Ma=I.Ma;this.NGa=m(this,h.ie.REPLACE);this.rfb=m(this,h.ie.tFa);this.wD;this.wD=f.A4a?a(974):a(975);this.Tt.query(this.xr,this.up(""),(function(a,b){var c;if(a)n(a);else {c=this.UI.Bka();a=Object.keys(b).filter(function(a){return a !== c && p.JK(a);}).map(this.Gta.bind(this));this.P5(a,(function(a,c){Object.keys(c).map((function(a){var d,f;d=c[a];this.Xd[p.l1(a)]=d;if(d.xra && 1 < Object.keys(d.xra).length){f=0;Object.keys(d.xra).forEach((function(a){b[this.up(a)] && k.qa(b[this.up(a)].size) && (f+=b[this.up(a)].size);}).bind(this));a=p.l1(a);this.Xd[a].size=f;}else (a=p.l1(a),b[this.up(a)] && (this.Xd[a].size=b[this.up(a)].size));}).bind(this));g(this.Tt,this.xr,this.uz,(function(a,b){this.ww=b;a?n(a):n(null,this);}).bind(this));}).bind(this));}}).bind(this));}function g(a,b,d,f){var h;h=k.vc(f)?f:c;a.query(b,d,function(a,b){a?h(a):(a=Object.keys(b).reduce(function(a,c){return a + (b[c].size || 0);},0),h(null,a));});}function m(a,b){return function(c,d,f,l,m){return function(r,n){var u;if(r)(d || a.Ma(h.ie.ERROR,{itemKey:c,error:r}),f(r));else {u={Dj:0,duration:0,items:[],time:q.time.now()};Object.keys(n.Io).map(function(b){var c;c=n.Io[b];b={key:a.Gta(c.TA),Gh:b};c.ja?(u.Dj+=c.Dj,b.D3=c.Dj,k.qa(c.duration) && (u.duration+=c.duration)):b.error=c.error;u.items.push(b);});r=k.vc(l)?l():0;0 < m && (u.CJ=m - r);g(a.Tt,a.xr,a.uz,function(c,h){c?f(c):(a.ww=h,u.Ck=a.Mf - h,d || a.Ma(b,y.kQa(u)),f(null,u));});}};};}function f(a,b){return 0 < b && a >= b?!0:!1;}k=a(8);q=a(123);n=a(254);b=a(83);r=new q.Console("MEDIACACHE","media|asejs");u=a(970);p=a(432);A=a(124);y=a(255);I=a(433).EventEmitter;b({ie:{tFa:"writeitem",REPLACE:"replaceitem",p$:"journalupdate",ERROR:"mediacache-error"}},h);h.prototype.getName=function(){return this.uz;};h.prototype.Gta=function(a){return a.slice(this.uz.length + 1);};h.prototype.tka=function(){return Object.keys(this.Xd).filter((function(a){a=p.Vja(this.Xd[a]);return void 0 === a || 0 >= a.eMa();}).bind(this));};h.prototype.Bzb=function(){return Object.keys(this.Xd).reduce((function(a,b){var c;c=this.Xd[b];return c && c.creationTime < a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}).bind(this),{resourceKey:null,creationTime:q.time.now()}).K8b;};h.prototype.vyb=function(){var a;switch(this.Meb){case "FIFO":a=this.Bzb();}return a;};h.prototype.tsb=function(a){var b;b=k.vc(a)?a:c;this.UQa((function(c){var d,f,h;d=this.Xd;f=Object.keys(d).reduce(function(a,b){b=d[b];b.resourceIndex && Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((c=c.filter(function(a){return !p.JK(a) && 0 > f.indexOf(a);})) && 0 < c.length){h=this;c=q.Promise.all(c.map(function(a){return new q.Promise(function(b,c){h["delete"](a,function(a){a?c(a):b();});});})).then(function(){b(void 0,{Yqa:!0});},function(a){b(a,{Yqa:!1});});y.dv(c);}else a(void 0,{Yqa:!1});}).bind(this));};h.prototype.UNb=function(a,b,d){var f,h;f=k.vc(b)?b:c;b=this.up(a);h=q.time.now();this.Tt.read(this.xr,b,0,-1,(function(b,c){var g;if(b)f(b);else if(c && c.ja && c.value){k.vc(d) || (d=this.wD.KR(A.Rp.kC),p.JK(a)?d=this.wD.KR(A.Rp.OBJECT):(b=this.Xd[a],!k.Y(b) && k.qa(b.resourceIndex[a])?(b=b.resourceIndex[a],k.Y(b) && (b=A.Rp.kC),d=this.wD.KR(b)):r.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{g=d(c.value);}catch(sa){return f(n.EH.Mp(sa.message));}c={duration:q.time.now() - h};this.Xd[a] && k.qa(this.Xd[a].size) && (c.Qw=k.qa(this.Xd[a].size)?this.Xd[a].size:0);f(null,g,c);}else f(n.EH.Mp(c.error));}).bind(this));};h.prototype.read=function(a,b,c){this.UNb(a,b,c);};h.prototype.P5=function(a,b,d){var f,h,g;f=k.vc(b)?b:c;if("[object Array]" !== Object.prototype.toString.call(a))f(n.EH.Mp("item keys must be an array"));else {h={};g=[];a=q.Promise.all(a.map((function(a){return new q.Promise((function(b,c){var f;d && !k.Y(d[a]) && (f=this.wD.KR(d[a]));this.read(a,function(d,f,k){d?(f={},f[a]=d,c(f)):(h[a]=f,g.push({duration:k.duration,Qw:k.Qw}),b());},f);}).bind(this));}).bind(this))).then(function(){var a;a={};0 < g.length && (a=g.reduce(function(a,b){k.qa(b.duration) && (a.duration+=b.duration);k.qa(b.Qw) && (a.Qw+=b.Qw);return a;},{duration:0,Qw:0}));f(null,h,a);},function(a){f(a);});y.dv(a);}};h.prototype.write=function(a,b,d,h,g){var l,m,q;d=k.vc(d)?d:c;l=this.up(a);m="function" === typeof g?g():0;q=A.rla(b);q=this.wD.ela(q)(b);q.byteLength + this.ww >= this.Mf?d(n.NG):f(q.byteLength + m,this.fw)?d(n.xY):this.UI.save(this.xr,l,b,this.rfb(a,h,d,g,this.fw),q.byteLength);};h.prototype.replace=function(a,b,d,h,g){var l,m,q,u;l=k.vc(d)?d:c;m=this.up(a);q=0;"function" === typeof g && (q=g());d=A.rla(b);u=this.wD.ela(d)(b);d=(this.Xd[a] || ({})).size || 0;0 >= d && this.Xd[a]?this.qRa([a],(function(c){r.trace("Replacing key",a,"which exists:",! !this.Xd[a],this.Xd[a]?this.Xd[a]:void 0,"and has size",c,"with",b,"with size",u.byteLength,"plus _used",this.ww,"vs capacity",this.Mf);u.byteLength - c + this.ww >= this.Mf?l(n.NG):f(u.byteLength - c + q,this.fw)?l(n.xY):this.UI.replace(this.xr,m,b,this.NGa(a,h,l,g,this.fw),u.byteLength);}).bind(this)):(r.trace("Replacing key",a,"which exists:",! !this.Xd[a],this.Xd[a]?this.Xd[a]:void 0,"and has size",d,"with",b,"with size",u.byteLength,"plus _used",this.ww,"vs capacity",this.Mf),u.byteLength - d + this.ww >= this.Mf?l(n.NG):f(u.byteLength - d + q,this.fw)?l(n.xY):this.UI.replace(this.xr,m,b,this.NGa(a,h,l,g,this.fw),u.byteLength));};h.prototype.iPb=function(a,b,d,f){var g;g=k.vc(b)?b:c;"[object Object]" !== Object.prototype.toString.call(a)?g(n.wY.Mp("items must be a map of keys to objects")):(b=q.Promise.all(Object.keys(a).map((function(b){return new q.Promise((function(c){this.replace(b,a[b],function(a,d){a?c({error:a,Ep:b}):c(d);},!0,f);}).bind(this));}).bind(this))).then((function(a){var b,c,l,m;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error || (a.Dj+=c.Dj,k.qa(c.duration) && (a.duration+=c.duration),!k.Y(c.Ck) && c.Ck < b && (b=c.Ck),c.items.map(function(b){a.items.push({key:b.key,Gh:b.Gh,D3:b.D3,UFb:b.UFb,duration:b.duration});}),b < Number.MAX_VALUE && (a.Ck=b));return a;},{Dj:0,items:[],time:q.time.now(),duration:0});0 < this.fw && (c.CJ=this.fw - f());l=a.filter(function(a){return !k.Y(a.error);});m=y.jSa(l);d || (m?m.forEach((function(a){this.Ma(h.ie.ERROR,a);}).bind(this)):this.Ma(h.ie.REPLACE,y.kQa(c)));g(m,c);}catch(Z){g(Z);}}).bind(this),(function(a){d || this.Ma(h.ie.ERROR,a);g(a);}).bind(this)),y.dv(b));};h.prototype["delete"]=function(a,b){var d;d=k.vc(b)?b:c;this.Tt.remove(this.xr,this.up(a),(function(a,b){a?d(a):b && b.ja?g(this.Tt,this.xr,this.up(""),(function(a,b){a?d(a):(this.ww=b,d());}).bind(this)):d(n.O7a.Mp(b.error));}).bind(this));};h.prototype.UQa=function(a){this.query("",function(b,c){b?(r.error("Failed to get keys",b),a([])):a(c);});};h.prototype.query=function(a,b){var d,f;d=k.vc(b)?b:c;f=this.UI.Bka();this.Tt.query(this.xr,this.up(a),(function(a,b){a?d(a):d(null,Object.keys(b).filter(function(a){return a !== f;}).map(this.Gta.bind(this)));}).bind(this));};h.prototype.up=function(a){return this.uz + "." + a;};h.prototype.clear=function(a){var b;b=k.vc(a)?a:c;this.UQa((function(a){var c;c=q.Promise.all(a.map((function(a){return new q.Promise((function(b){a && this["delete"](a,function(){b();});}).bind(this));}).bind(this))).then(function(){b(a);},(function(a){this.Ma(h.ie.ERROR,a);b([],a);}).bind(this));y.dv(c);}).bind(this));};h.prototype.qRa=function(a,b){var d,f;d=k.vc(b)?b:c;f=(a || []).map((function(a){return this.up(a);}).bind(this));this.Tt.query(this.xr,this.uz,(function(b,c){b?(r.error("failed to get persisted size for keyset ",a,b),d(0)):(b=Object.keys(c).filter(function(a){return 0 <= f.indexOf(a);}).reduce(function(a,b){return a + (c[b].size || 0);},0),d(b));}).bind(this));};h.prototype.Exb=function(a){return this.UI.dQa(a);};h.prototype.constructor=h;d.exports=h;},function(d,b,a){var h,g,m,f,k,q,n,r;function c(a,b,d){var t,Y;function l(a,b,c,d){a.info.call(a,(function(a,f){var h;if(a)d(a);else {try{h=f.values[this.context].entries[b][c].size;}catch(Ca){h=-1;}-1 < h?d(null,h):this.mt(function(a,b){a?d(a):(b[c] && (h=b[c].size),d(null,h));});}}).bind(a));}function u(a,b,d,f,h,m,q){var r;m?m.Io || (m.Io={}):m={Io:{}};t(f);r=g.time.now();f=new n(function(c,f){a.create(g.storage.sH,b,d,function(a,b){a?f(a):c(b);});}).then(function(d){d.ja?l(a,g.storage.sH,b,function(a,f){a?q(a):(Y(f),t(f),m.Io[c.RV.p$]={ja:!0,time:h,Dj:f,TA:b,GZa:d,duration:g.time.now() - r},m.Ck=d.Ck,q(null,m));}):(m.Io[c.RV.p$]={ja:!1,TA:b,error:d.error},q(null,m));},function(a){q(a);});k.dv(f);}function v(a,b,c,d,f,h){d.jp(c.time,c);for(var k=c.time - 864E5,g=d.$u();g && !isNaN(g.time) && g.time < k;){g=d.IJ();t(0 - (g.ba || 0));g=d.$u();}d=d.eo().map(function(a){return a.time + ";" + a.ba;});u(a,b,Array.prototype.join.call(d,"|"),c.ba,c.time,f,h);}function p(a,b,d,f,h,k,r,n,u){var p;p=g.time.now();a.create(d,f,h,function(h,y){var A;if(h)q.error("Failed to replace item",f,h);else if(y.ja){A=y.Ck;l(a,d,f,function(d,h){var l,m;if(d)u(d);else {d={time:n,ba:h || 0};l={Ck:A,Io:{}};m=g.time.now() - p;l.Io[c.RV.REPLACE]={ja:!0,time:n,Dj:h,TA:f,GZa:y,duration:m};k?v(a,b,d,r,l,u):(t(h),u(null,l));}});}else u(m.wY.Mp(y.error || "Failed to create item"));});}function A(a,b,d,f,h,k,r,n,u){var p;p=g.time.now();a.append(d,f,h,function(h,y){var A;if(h)(q.error("Failed to save item " + f,h),u(h));else if(y.ja){A=y.Ck;l(a,d,f,function(d,h){var l,m;if(d)u(d);else {d={time:n,ba:h || 0};l={Ck:A,Io:{}};m=g.time.now() - p;l.Io[c.RV.$bb]={ja:!0,time:n,Dj:h,TA:f,GZa:y,duration:m};k?v(a,b,d,r,l,u):(t(h),u(null,l));}});}else u(m.wY.Mp(y.error || "Failed to save item"));});}function B(a,b){a && h.vc(a.remove) && a.fk.valid && a.remove(g.storage.sH,b.rI,function(c,d){if(c)q.error("Failed to delete old journal key",c);else try{d && (h.Y(d.error) || d.error.some(function(a){return "NFErr_FileNotFound" === a.L5b;})) && v(a,b.rI,{time:0,ba:0},b.BP,0,function(){});}catch(Z){}});}if(!a.fk.valid)return r;this.gGa=h.Y(b) || h.ab(b)?0:b;this.nda=a;this.Pda=this.NO=0;this.BP=new f();this.hhb=d || "default";this.rI=this.hhb + ".NRDCACHEJOURNALKEY";t=(function(a){isNaN(a) || (this.NO+=a);return this.NO;}).bind(this);Y=(function(a){isNaN(a) || (this.Pda+=a);return this.Pda;}).bind(this);this.Bka=function(){return this.rI;};this.save=function(a,b,c,d){var f;f=g.time.now();A(this.nda,this.rI,a,b,c,0 <= this.gGa,this.BP,f,d);};this.replace=function(a,b,c,d){var f;f=g.time.now();p(this.nda,this.rI,a,b,c,0 <= this.gGa,this.BP,f,d);};this.dQa=function(a){var b,f;b=this.NO;a-=864E5;for(var c=this.BP.eo(),d=0;d < c.length;d++){f=c[d];f.time < a && !isNaN(f.ba) && (b-=f.ba);}return b;};(function(a){var b;b=a.nda;a.NO=0;b.read(g.storage.sH,a.rI,0,-1,function(c,d){var f,h,k,m;f=[];h=0;k=!0;if(c)q.error("Failed to compile records",c);else if(d.ja){c=String.fromCharCode.apply(null,new Uint8Array(d.value));c=String.prototype.split.call(c,"|");d=c.reduce(function(a,b){return a + (b.length + 40);},0);t(d);f=c.map(function(a){a=a.split(";");return {time:Number(a[0]),ba:Number(a[1])};});try{if(!isNaN(f.reduce(function(a,b){return a + b.ba;},0)))for(var k=!1,l=g.time.now() - 864E5;h < f.length;h++){m=f[h];m.time < l || (a.BP.jp(m.time,m),t(m.ba));}}catch(aa){}}k && B(b,a);});})(this);}h=a(8);g=a(123);m=a(254);f=a(971);b=a(83);k=a(255);q=new g.Console("DISKWRITEMANAGER","media|asejs");n=g.Promise;b({RV:{$bb:"saveitem",REPLACE:"replaceitem",p$:"journalupdate"}},c);r={save:function(a,b,c,d){d(m.Xza);},replace:function(a,b,c,d){d(m.Xza);},Bka:function(){return "";},dQa:function(){return 0;}};c.prototype.constructor=c;d.exports={create:function(a,b,d){return new c(a,b,d);},c1b:r};},function(d){function b(a){if(!(this instanceof b))return new b(a);if("undefined" === typeof a)this.$l=function(a,b){return a <= b;};else {if("function" !== typeof a)throw Error("heap comparator must be a function");this.$l=a;}this.Ao=[];}function a(b,d){var h,f,k,g,l,r,n;h=b.Ao;f=b.$l;k=2 * d + 1;g=2 * d + 2;l=h[d];r=h[k];n=h[g];r && f(r.Ud,l.Ud) && (!n || f(r.Ud,n.Ud))?(c(h,d,k),a(b,k)):n && f(n.Ud,l.Ud) && (c(h,d,g),a(b,g));}function c(a,b,c){var d;d=a[b];a[b]=a[c];a[c]=d;}b.prototype.clear=function(){this.Ao=[];};b.prototype.jp=function(a,b){this.Ao.push({Ud:a,value:b});a=this.Ao;b=this.$l;for(var d=a.length - 1,f=0 === d?null:Math.floor((d - 1) / 2);null !== f && b(a[d].Ud,a[f].Ud);){c(a,d,f);d=f;f=0 === d?null:Math.floor((d - 1) / 2);}};b.prototype.remove=function(){var b;if(0 !== this.Ao.length){b=this.Ao[0];c(this.Ao,0,this.Ao.length - 1);this.Ao.pop();a(this,0);return b.value;}};b.prototype.$u=function(){if(0 !== this.Ao.length)return this.Ao[0].value;};b.prototype.enqueue=b.prototype.jp;b.prototype.IJ=b.prototype.remove;b.prototype.o3=function(){return 0 === this.Ao.length;};b.prototype.eo=function(){return this.Ao.map(function(a){return a.value;});};d.exports=b;},function(d){function b(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return (this.Wc={},this.Wc[a]=[b],!0);c=this.Wc[a];return void 0 === c?(this.Wc[a]=[b],!0):0 > c.indexOf(b)?(c.push(b),!0):!1;}function a(a,b){a=this.Wc?this.Wc[a]:void 0;if(!a)return !1;a.forEach(function(a){a(b);});return !0;}d.exports={addEventListener:b,on:b,removeEventListener:function(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return !1;c=this.Wc[a];if(void 0 === c)return !1;b=c.indexOf(b);if(0 > b)return !1;if(1 === c.length)return (delete this.Wc[a],!0);c.splice(b,1);return !0;},Ma:a,emit:a,removeAllListeners:function(a){this.Wc && (void 0 === a?delete this.Wc:delete this.Wc[a]);return this;}};},function(d){function b(a,b,d,g){a.trace(":",d,":",g);b(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,g,m){g=m?g.bind(m):g;m=!1;if(a){this.console && (g=b.bind(null,this.console,g,d));if("function" === typeof a.addEventListener)m=a.addEventListener(d,g);else if("function" === typeof a.addListener)m=a.addListener(d,g);else throw Error("Emitter does not have a function to add listeners for '" + d + "'");this.listeners.push([a,d,g]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function" === typeof b.removeEventListener?b.removeEventListener(c,a):"function" === typeof b.removeListener && b.removeListener(c,a);});this.listeners=[];this.console && this.console.trace("removed",a,"listener(s)");};d.exports=a;},function(d,b,a){var c,h,g,m;c=a(8);h=a(124);g={};g[h.Rp.kC]=function(a){return a;};g[h.Rp.fY]=function(a){a=a || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};g[h.Rp.OBJECT]=function(a){var b;b=a || new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c < b.byteLength;c++){a+=String.fromCharCode(b[c]);}return JSON.parse(a);};m={};m[h.Rp.kC]=function(a){return a;};m[h.Rp.fY]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0,f=a.length;d < f;d++){c[d]=a.charCodeAt(d);}return b;};m[h.Rp.OBJECT]=function(a){return c.Y(a) || c.ab(a)?a:m[h.Rp.fY](JSON.stringify(a));};d.exports={KR:function(a){return g[a] || g[h.Rp.kC];},ela:function(a){return m[a] || m[h.Rp.kC];}};},function(d,b,a){function c(a){return a;}function h(){return c;}a(8);d.exports={KR:h,ela:h};},function(d,b,a){var g;function c(a,b){return a.length > b.length?1:b.length > a.length?-1:0;}function h(a,b){var c,d,f;c=[];if(g.zf(b)){d={};f={};f[a]=d;c.push(f);c=Object.keys(b).reduce(function(c,f){var k,l,m;k=b[f];m={};g.m3(k)?(l=a + ".__embed__." + f,m[l]=k,c.push(m)):g.zf(k)?(l=a + ".__sub__." + f,k=h(l,k),d[f]=k[0][l],c=c.concat(k.slice(1))):d[f]=k;return c;},c);}else (f={},f[a]=b,c.push(f));return c;}g=a(124);d.exports={btb:h,XCb:function(a){var b,y;b=Object.keys(a).map(function(a){return a.split(".");});b.sort(c);for(var d=b[0],h=d.length,d=a[d.join(".")],g=1;g < b.length;g++){for(var l=!1,m=!1,n=d,p=h;p < b[g].length;p++){y=b[g][p];switch(y){case "__metadata__":break;case "__sub__":m=!0;break;case "__embed__":l=!0;break;default:m?(n=n[y],m=!1):l && (n[y]=a[b[g].join(".")],l=!1);}}}return d;},DDb:function(a){return a && (0 <= a.indexOf("__sub__") || 0 <= a.indexOf("__embed__"));}};},function(d,b,a){var m,f;function c(a,b,d){Object.keys(a).forEach(function(f){var h,k;if(m.zf(a[f]))if(a[f].m3){h=a[f];k=d + h.offset;a[f]=b.slice(k,k + h.byteLength);}else a[f]=c(a[f],b,d);});return a;}function h(a,b,c){Object.keys(a).forEach(function(d){var f;if(m.m3(a[d])){f=a[d];b.push(f);a[d]={m3:!0,offset:c.Qha,byteLength:f.byteLength};c.Qha+=f.byteLength;}else m.zf(a[d]) && h(a[d],b,c);});return a;}function g(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a + b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a + b.byteLength;},0);return c.buffer;}m=a(124);f=a(83);d.exports={Eob:function(a){var b,c,d;b=f(a,{});a=[];b=h(b,a,{Qha:0});b=JSON.stringify(b);c=new ArrayBuffer(b.length + 4);d=new DataView(c);d.setUint32(0,b.length);for(var k=4,l=0,m=b.length;l < m;l++){d.setUint8(k,b.charCodeAt(l));k++;}a=[c].concat(a);return g.apply(null,a);},Dob:function(a){var b;b=new DataView(a,0,4).getInt32(0);for(var d=new Uint8Array(a,4,b),f="",h=0;h < d.byteLength;h++){f+=String.fromCharCode(d[h]);}b=4 + b;f=JSON.parse(f);return c(f,a,b);}};},function(d,b,a){var h,g,m,f,k;function c(a){return {mediaType:a.I,streamId:a.Da,movieId:a.u,bitrate:a.U,location:a.location,serverId:a.Zb,saveToDisk:!0,offset:a.offset,bytes:a.ba,timescale:a.S,frameDuration:a.stream.wa && a.stream.wa.xb,encrypted:a.zk,initSegments:1 < a.Dh.length?a.Dh.map(function(a){return {fi:a.Ag,s:a.data.byteLength,e:! !a.zk};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Lma=b.Mma=b.BTa=b.Nka=b.JQa=b.NQa=b.Hka=b.Oka=b.Mka=b.bka=b.cka=b.Wza=void 0;h=a(0).__importStar(a(8));g=a(979);m=a(408);f=a(9);k=a(21);b.Wza={pX:"movieEntry",n9a:"header",O$:"metadata",N9a:"headerData",P_b:"headerMetadata",c9a:"sizes",b9a:"durations",Oxa:"fragments",X$a:"response",Yk:"billboard",Xy:{lifespan:259200}};b.cka=function(a,b,c){var d,f;d=b.headerData;c && b.sizes instanceof ArrayBuffer && b.durations instanceof ArrayBuffer && (f={Tk:c.startTicks,offset:c.offset,S:c.timescale,sizes:new Uint32Array(b.sizes),Zd:new Uint32Array(b.durations)});return {wc:!0,I:a.mediaType,u:a.movieId,Da:a.streamId,U:a.bitrate,location:a.location,Zb:a.serverId,ba:a.bytes,offset:a.offset,Lla:d,Z2:a.initSegments,zk:a.encrypted,S:a.timescale,wa:a.frameDuration,Dd:a.saveToDisk,$:f};};b.bka=function(a,b){var c,d,f;b=b.response;c=a.startTicks;d=a.durationTicks;void 0 !== c && void 0 !== d && (f=c + d);return {wc:!1,I:a.mediaType,u:a.movieId,Da:a.streamId,U:a.bitrate,location:a.location,Zb:a.serverId,ba:a.bytes,offset:a.offset,response:b,S:a.timescale,Ra:a.startTicks,rq:d,Dd:a.saveToDisk,jb:f};};b.Mka=function(a){return {Ud:a.priority,u:a.movieId,headers:{},LA:0,DJ:0,J2:0,Dd:a.saveToDisk,gc:a.stats,vq:a.firstSelectedStreamBitrate,Dq:a.initSelectionReason,rs:a.histDiscountedThroughputValue,tl:a.histTdigest,sl:a.histAge,fm:void 0};};b.Oka=function(a,b,c,d,f){var l,q;l={headers:{},data:{}};d.forEach(function(d){var h,q,u;h=d.I;h=f && f.ls(h,d.Da);q=[];if(d.wc)if(!Array.isArray(d.Z2) || 2 > d.Z2.length)q.push({Ag:0,data:d.Lla});else for(var r=0,n=0;n < d.Z2.length;++n){u=d.Z2[n];q.push({Ag:u.fi,data:d.Lla.slice(r,r + u.s),zk:u.e});r+=u.s;}h?(d.$ && h.Z4(q,d.S,d.wa?new k.T(d.wa,d.S):void 0,d.$),d.wc && h && h.se?(void 0 === l.headers && (l.headers={}),l.headers[d.Da]=new m.XV(h,{ba:d.ba,offset:d.offset,Dh:q,zk:d.zk},b)):d.response instanceof ArrayBuffer && void 0 !== h.$ && void 0 !== d.Ra && void 0 !== d.S && void 0 !== d.jb && (q=h.$.r1(new k.T(d.Ra,d.S).da),void 0 !== q && (h=new g.Qua(h,{S:d.S,Ra:d.Ra,jb:d.jb,index:q.index,offset:d.offset,ba:d.ba},d.response,c,a,b),void 0 === l.data && (l.data={}),l.data[d.Da] || (l.data[d.Da]=[]),l.data[d.Da].push(h)))):b.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + d.Da + " movieId: " + d.u);});if(!h.Y(l.data)){q=l.data;Object.keys(q).forEach(function(a){q[a].sort(function(a,b){return a.Ra - b.Ra;});});}return l;};b.Hka=function(a){return {mediaType:a.I,streamId:a.Da,movieId:a.u,bitrate:a.U,location:a.location,serverId:a.Zb,saveToDisk:!0,offset:a.offset,bytes:a.ba,timescale:a.S,startTicks:a.Ra,durationTicks:a.rq};};b.NQa=c;b.JQa=function(a){var b,d,h,k;b=c(a);a.stream.se && a.stream && a.stream.$ && (d={timescale:a.stream.$.S,startTicks:a.stream.$.Tk,offset:a.stream.$.Fh(0)},k=a.stream.$.yM,h=k.sizes.buffer,k=k.Zd.buffer);return {mediaType:b.mediaType,streamId:b.streamId,movieId:b.movieId,bitrate:b.bitrate,location:b.location,serverId:b.serverId,saveToDisk:!0,offset:b.offset,bytes:b.bytes,timescale:b.timescale,frameDuration:b.frameDuration,headerData:f.$z(a.Dh.map(function(a){return a.data;})),initSegments:b.initSegments,encrypted:a.zk,fragments:d,sizes:h,durations:k};};b.Nka=function(a){return {priority:a.Ud,movieId:a.u,saveToDisk:a.Dd,firstSelectedStreamBitrate:a.vq,initSelectionReason:a.Dq,histDiscountedThroughputValue:a.rs,histTdigest:a.tl,histAge:a.sl};};b.BTa=function(a){return !h.has(a,"startTicks");};b.Mma=function(a){return !a.Lla || !a.S || !a.$ || void 0 === a.$.Tk || void 0 === a.$.offset || void 0 === a.$.Zd || !a.$.Zd.length || void 0 === a.$.sizes || !a.$.sizes.length;};b.Lma=function(a){return void 0 === a.ba || void 0 === a.offset || void 0 === a.S || void 0 === a.Ra || void 0 === a.rq;};},function(d,b,a){var c,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Qua=void 0;c=a(0);h=a(9);d=a(38);g=a(70);a=(function(a){function b(b,c,d,f,h,l){f=a.call(this,b,c,f,h,l) || this;c.ba=d.byteLength;g.Lh.$a(f,b,c);f.II=d;f.Sdb=c.ba;return f;}c.__extends(b,a);Object.defineProperties(b.prototype,{wc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{mp:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ud:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{si:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{zg:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{response:{get:function(){return this.II;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{HFb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Fr:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{vE:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Vqa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{df:{get:function(){return this.Sdb;},enumerable:!1,configurable:!0}});b.prototype.ws=function(){return !0;};b.prototype.LD=function(a){this.ze=a.appendBuffer(this.response,h.qp(this));return {ja:this.ze};};b.prototype.Dk=function(){return -1;};b.prototype.abort=function(){return !0;};b.prototype.dc=function(){};b.prototype.cV=function(){return !1;};return b;})(a(173).dC);b.Qua=a;d.af(g.Lh,a);},function(d,b,a){var c,h,g,m,f,k,q,n,r;Object.defineProperties(b,{__esModule:{value:!0}});b.cEa=void 0;c=a(0);d=a(16);h=c.__importDefault(a(3));g=a(17);m=a(256);f=a(9);k=a(5);q=a(1027);n=a(440);r=new h["default"].Console("ASEJS","media|asejs");r.trace.bind(r);d=(function(b){function d(c,d,f,h){var M31,k;M31=2;for(;M31 !== 11;){switch(M31){case 6:var N69="1SI";N69+="Yb";N69+="ZrN";N69+="JCp";N69+="9";var z69="D";z69+="EBU";z69+="G";z69+=":";var m69="nf-";m69+="ase sh";m69+="im";m69+=" version:";k.console.trace(m69,c,z69,!1);k.Ga=m.FE();N69;return k;break;case 3:k.By=h;k.tM={};c=a(434);k.console=r;M31=6;break;case 2:k=b.call(this) || this;k.config=c;k.Rw=d;k.Ko=f;M31=3;break;}}}var L31;L31=2;for(;L31 !== 17;){switch(L31){case 2:c.__extends(d,b);Object.defineProperties(d.prototype,{mb:{get:function(){var N31;N31=2;for(;N31 !== 1;){switch(N31){case 4:return this.Ga.mb;break;N31=1;break;case 2:return this.Ga.mb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mn:{get:function(){var O31;O31=2;for(;O31 !== 1;){switch(O31){case 2:return this.Ga.Mn;break;case 4:return this.Ga.Mn;break;O31=1;break;}}},enumerable:!1,configurable:!0}});L31=4;break;case 4:Object.defineProperties(d.prototype,{Uf:{get:function(){var P31;P31=2;for(;P31 !== 1;){switch(P31){case 2:return this.Ga.Uf;break;}}},enumerable:!1,configurable:!0}});d.prototype.$a=function(a,b,c,d,f){var Q31;Q31=2;for(;Q31 !== 5;){switch(Q31){case 2:this.Ga.ksa({audio:a,video:b},{da:d,ba:f});this.Ga.open(this.config,this.By);Q31=5;break;}}};d.prototype.FU=function(a,b,c){var R31;R31=2;for(;R31 !== 1;){switch(R31){case 2:this.Ga.ksa({total:a},{da:b,ba:c});R31=1;break;}}};d.prototype.s5=function(){};d.prototype.rn=function(a,b,c,f,h,l,m,r,n,u){var S31,v,p;S31=2;for(;S31 !== 19;){switch(S31){case 2:var X69="crea";X69+="ti";X69+="ng sess";X69+="ion";this.console.trace(X69);this.Ga.mb.reset();v=Number(a.movieId);n=this.ula(v,h.ea);S31=3;break;case 7:var E69="endPt";E69+="s is not su";E69+="pported";p=u[0];n=p.cb.Ja[p.cb.hf].tc;p=[this.GRa(v,p.cb,c,n)];u[1] && p.push(this.GRa(v,u[1].cb,c,n));k.assert(void 0 === f.sa,E69);this.Q3=new q.dEa(this.console,this,a,u,b,p,f,h,l,m,r);r.hq || r.pF || this.Rw();S31=20;break;case 3:this.tM[n]={Lmb:function(){},ea:h.ea,equals:function(a){var T31;T31=2;for(;T31 !== 1;){switch(T31){case 2:return a.fa === v && (h.ea === a.ea || !a.ea || !h.ea);break;}}},HV:Promise.resolve({pa:a,Vh:! !f.Vh,Ee:g.s4(! !f.z_,! !f.cN),config:r}),fa:v};r.lA && this.Ga.bG(this.tM[n],{xF:h.xF,ea:h.ea,gx:h.gx});u=this.erb(v,a,r,h,u || d.isb,f);S31=7;break;case 20:return this.Q3;break;}}};L31=6;break;case 6:d.prototype.GRa=function(a,b,c,d){var U31;U31=2;for(;U31 !== 1;){switch(U31){case 2:var S69="invalid start position ";S69+="relativ";S69+="e to playgraph";return b.Ja[b.hf].tc === d?(a=n.rMa(b,a,f.T.$b(c)),k.assert(a,S69),a):{va:b.hf,offset:f.T.nb};break;}}};d.prototype.erb=function(a,b,c,d,f,h){var V31,u,g,l,m,q,r;V31=2;for(;V31 !== 7;){switch(V31){case 3:u=l.OKb;V31=9;break;case 2:var a69="v";a69+="i";a69+="de";a69+="o";var U69="a";U69+="u";U69+="d";U69+="i";U69+="o";var j69="a";j69+="ud";j69+="i";j69+="o";var w69="v";w69+="i";w69+="d";w69+="e";w69+="o";var h69="Generated pla";h69+="yg";h69+="rap";h69+="h from choicemap.";(g=this,l=b.choiceMap);l?(a=n.rJ(l),this.console.trace(h69)):a=n.NU(a,f,h.z_ || h.cN?h.cN?[w69]:[j69]:[U69,a69]);(m=Object.create(c,{vOa:{value:d.gx}}),q=this.zu.bind(this,d.ea),r=[this.Ga.WI(a,100,m,{zu:q})]);V31=4;break;case 9:Object.keys(u).forEach(function(a,b){var W31;W31=2;for(;W31 !== 9;){switch(W31){case 2:var d69="Currently ";d69+="parallel graph can on";d69+="ly be m";d69+="edia";d69+=" type [audio]";var b69="a";b69+="u";b69+="di";b69+="o";var P69="Currently onl";P69+="y";P69+=" one par";P69+="allel graph is supported";a000.W24(17);k.assert(a000.Y24(0,b),P69);b=u[a];k.assert(b.Ee && 1 === b.Ee.length && b69 === b.Ee[0],d69);W31=4;break;case 4:a=n.rJ(l,u[a].hf,u[a].Ja,u[a].Ee);r.push(g.Ga.WI(a,100,m,{zu:q}));W31=9;break;}}});V31=8;break;case 8:return r;break;case 4:V31=l && l.OKb?3:8;break;}}};L31=13;break;case 13:d.prototype.Gnb=function(){var X31;X31=2;for(;X31 !== 1;){switch(X31){case 4:this.mb.EU(1);X31=2;break;X31=1;break;case 2:this.mb.EU(null);X31=1;break;}}};d.prototype.zu=function(a,b){var Y31;Y31=2;for(;Y31 !== 1;){switch(Y31){case 2:return this.tM[this.ula(b,a)];break;}}};d.prototype.$Ob=function(a){var Z31;Z31=2;for(;Z31 !== 14;){switch(Z31){case 2:this.Gnb();this.Ga.Ss(a.Xa);a.lb && this.Ga.bU(a.lb);a.jg && this.Ga.Ss(a.jg);Z31=3;break;case 3:a.Nk && this.Ga.bU(a.Nk);a === this.Q3 && delete this.Q3;a=this.ula(a.fa,a.ea);Z31=7;break;case 7:this.Ga.v_a(this.tM[a]);delete this.tM[a];Z31=14;break;}}};d.prototype.Tb=function(){var a41;a41=2;for(;a41 !== 9;){switch(a41){case 2:var e99="Attempted to ";e99+="destruct ShimManager with se";e99+="ssion config active";var y99="Attempted to destruc";y99+="t";y99+=" Shim";y99+="Manager with player";y99+="s present in ASE";var g99="Attempted";g99+=" ";g99+="to destruct ShimManager with";g99+=" playgraphs";g99+=" present in ASE";k.assert(0 === this.Ga.VYa.length,g99);k.assert(0 === this.Ga.eMb.length,y99);k.assert(0 === Object.keys(this.tM).length,e99);a41=4;break;case 4:var D99="At";D99+="tempt to destru";D99+="ct ShimManager with latest session still de";D99+="fined";k.assert(void 0 === this.Q3,D99);this.Ga.close();a41=9;break;}}};L31=20;break;case 20:var V99="s";V99+="0";d.prototype.ula=function(a,b){var b41;b41=2;for(;b41 !== 1;){switch(b41){case 2:a000.W24(4);return a000.r24(b,a,"-");break;}}};d.isb=V99;return d;break;}}})(d.EventEmitter);b.cEa=d;},function(d,b,a){var c,h,g,m,f,k,q,n,r,u,p,A,y,I,t,D,U,S,O,Y,E,da,sa,ea,F,L,ca;Object.defineProperties(b,{__esModule:{value:!0}});b.Fua=void 0;c=a(0);h=a(16);g=a(982);m=a(232);f=a(983);k=a(227);q=a(17);a(385);n=a(985);r=a(989);u=a(438);p=a(1011);A=a(430);y=a(34);I=a(5);t=a(413);D=a(1012);U=a(1013);S=a(1014);O=a(125);Y=a(258);E=a(1015);da=a(71);sa=a(257);ea=a(9);F=c.__importDefault(a(3));L=a(439);ca=a(1026);d=(function(){function a(a){this.G=a;this.events=new h.EventEmitter();this.Yd=g.st.CLOSED;this.Hz=[];this.KU=[];this.uP=[];this.Br=[];this.QFa={};this.NZ={};this.yib=new O.XC({Zu:this,source:"engine",eF:10});}Object.defineProperties(a.prototype,{ny:{get:function(){I.assert(this.nw);return this.nw;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{state:{get:function(){return this.Yd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{eMb:{get:function(){return this.uP;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{VYa:{get:function(){return this.Br.map(function(a){return a.cb;});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{mb:{get:function(){this.sG();return this.Yw.mb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Mn:{get:function(){this.sG();return this.Yw.Mn;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Uf:{get:function(){this.sG();return this.Yw.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hga:{get:function(){return this.QFa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{HB:{get:function(){return this.NZ;},enumerable:!1,configurable:!0}});a.prototype.open=function(a,b,c,d){var h;h=this;if(this.Yd === g.st.OPEN)return !1;this.er=new da.xO(new sa.jY({vl:!0,currentTime:function(){return ea.T.$b(F["default"].time.aa());},speed:1}),this.G,"Engine Scheduler");this.LGa=new f.bya(this.G,a);this.tD=new p.BDa(this.C3.bind(this),a,this.er);this.Yw=k.PG.oRa(a,b);this.Yd=g.st.OPEN;a=Object.create(a,{Xjb:{value:a.pF || a.hq}});this.nw=L.PR(a);c && this.nw.IRb(c);d && this.nw.rsa(d);this.TYa=new ca.PCa({km:function(){h.Yd !== g.st.CLOSED && h.tD.km("playgraphOpportunity");}});return !0;};a.prototype.WI=function(b,c,d,f,k){var g,l,m;g=this;void 0 === k && (k=!0);this.sG();l=Object.create(d,{OU:{value:this.HB}});if(k){m=this.ny.znb(b,l);if(m)return (m.n4a(c),m);}b=new r.ava(b,c,l,a.BIb++,this.mb,this.rra.bind(this,f,d.DXb),function(a,b){var c,d;d=f.zu(a);a=null === (c=y.Qg(g.Hz,function(a){return a.pha.equals(d);})) || void 0 === c?void 0:c.N;return null === a || void 0 === a?void 0:a.wn(l,b);},function(a){return g.tD.km(a);},k?this.ny.ynb.bind(this.ny):function(){},this.Jka.bind(this),this.h2.bind(this));b.gm(new D.zxa(this.mb));b.gm(new E.DDa(this.mb,this.tD));b.gm(new U.pEa(b));b.gm(new S.HEa(b.iy));b.gm(new Y.WC(this.yib));b.gm(new Y.WC(this.tD.Dn));b.gm(new Y.WC(this.LGa.Xj));this.TYa.WI(b);c=new h.sg();c.on(b.events,"requestsPruned",this.APb.bind(this));c.on(b.events,"weightUpdated",this.Epa.bind(this));this.Br.push({cb:b,ig:c,dra:0});this.Epa();return b;};a.prototype.Ss=function(a){this.TYa.Ss(a);this.Br=this.Br.filter(function(b){return b.cb === a?(b.ig.clear(),!1):!0;});a.Tb();this.Epa();};a.prototype.Djb=function(a,b){var d,f,h;this.sG();h=b.Ee;a=new n.$ua(a,void 0 === h?[0,1]:h,c.__assign({OU:null !== (f=null !== (d=b.OU) && void 0 !== d?d:this.NZ) && void 0 !== f?f:{}},b));this.uP.push(a);return a;};a.prototype.bU=function(a){this.sG();this.uP=this.uP.filter(function(b){return b !== a;});a.Tb();};a.prototype.ksa=function(a,b){this.QFa=a;this.NZ=b;};a.prototype.bG=function(a,b){var d,f;f=null === (d=y.Qg(this.Hz,function(b){return b.pha.equals(a);})) || void 0 === d?void 0:d.N;f?f.bG(c.__assign(c.__assign({},b),{Dm:this.gpa.bind(this)})):this.KU.push({V4a:a,G1a:b});};a.prototype.v_a=function(a){this.KU=this.KU.filter(function(b){return !b.V4a.equals(a);});};a.prototype.close=function(){this.Yd !== g.st.CLOSED && (this.QOb(),I.assert(0 === this.Hz.length,"Unexpected viewable lease after Playgraph destruction."),this.POb(),this.KU=[],delete this.Yw,this.Yd=g.st.CLOSED,this.er.Tb());};a.prototype.gpa=function(){};a.prototype.rra=function(a,b,d){var f,h,k;f=this;h=a.zu(d);I.assert(h,"ase.requestViewable(): Viewable config not found.");k=y.Qg(this.Hz,function(a){return a.pha.equals(h);});k?k.KV.then(function(a){return c.__awaiter(f,void 0,void 0,function(){var b,d;return c.__generator(this,function(c){switch(c.label){case 0:return (d=(b=a).DWb,[4,h.HV]);case 1:return (d.apply(b,[c.di()]),[2]);}});});}):(k={pha:h,KV:(function(){return c.__awaiter(f,void 0,void 0,function(){var a,b;return c.__generator(this,function(c){switch(c.label){case 0:return [4,h.HV];case 1:return (a=c.di(),b=this.TMa(d,h,a),k.N=b,[2,b]);}});});})(),N:void 0,YEb:new t.qza(function(a){f.er.n0(da.al.hN(ea.T.$b(b)),function(){a() && (k.KV.then(function(a){a.Tb();}),f.Hz=f.Hz.filter(function(a){return a !== k;}));});})},this.Hz.push(k));return {KV:k.KV,UK:k.YEb.zw()};};a.prototype.TMa=function(a,b,d){var h,k,g,l,r,n;function f(a){h.events.emit("logdata",a);}h=this;this.sG();g=d.pa;l=d.Vh;r=d.Ee;r=void 0 === r?q.je:r;d=d.config;n=[new A.faa(0),new A.faa(1)];g={pa:g,config:d,Vh:l,Ee:r,DR:void 0,mb:this.Yw.mb,Uf:this.Yw.Uf,dja:{NK:function(){return !1;},zq:function(){return h.tD.km("networkFailureReset");},Hg:this.Hg.bind(this,a),Cn:this.Cn.bind(this,a),Em:f},Mla:{Em:f,UR:void 0,zA:function(a){return n[a];},n3:function(){return !0;},Ye:void 0,bd:void 0,Bg:void 0,NA:void 0},RF:{Dw:this.Dw.bind(this),LF:this.LF.bind(this)},HB:this.NZ,sb:0,Cl:void 0,soa:{q3:!1,Tma:!1},yL:function(){}};a=new m.YV(a,g);d.lA && (g=(null === (k=y.Qg(this.KU,function(a){return a.V4a.equals(b);})) || void 0 === k?void 0:k.G1a) || ({}),this.v_a(b),a.bG(c.__assign(c.__assign({},g),{Dm:this.gpa.bind(this)})));return a;};a.prototype.C3=function(){var a;I.assert(this.state === g.st.OPEN);a=this.qK();return this.LGa.zXa(a);};a.prototype.qK=function(){var a,b;a=this.Br.map(function(a){return a.cb.qK().map(function(b){a.cb.vSa || 1 === a.dra || (b.aBb=a.dra);return b;});});b=this.Hz.reduce(function(a,b){return b.N?c.__spread(a,b.N.qK()):a;},[]);return y.wu(c.__spread(a,b));};a.prototype.sG=function(){if(this.Yd === g.st.CLOSED)throw Error("Engine CLOSED");};a.prototype.QOb=function(){var a,b,h;try{for(var d=c.__values(this.Br),f=d.next();!f.done;f=d.next()){h=f.value;h.ig.clear();this.Ss(h.cb);}}catch(Ja){a={error:Ja};}finally{try{f && !f.done && (b=d["return"]) && b.call(d);}finally{if(a)throw a.error;}}};a.prototype.POb=function(){var a,b;try{for(var d=c.__values(this.uP),f=d.next();!f.done;f=d.next()){this.bU(f.value);}}catch(Ma){a={error:Ma};}finally{try{f && !f.done && (b=d["return"]) && b.call(d);}finally{if(a)throw a.error;}}};a.prototype.Hg=function(a,b,c,d,f,h){this.tRa(a).forEach(function(k){return k.Hg(b,a,c,d,f,h);});};a.prototype.Cn=function(a){return this.tRa(a).some(function(a){return a.Cn();});};a.prototype.tRa=function(a){return this.Br.filter(function(b){b=b.cb.cb;return "" + a === "" + b.Ja[b.hf].fa;}).map(function(a){return a.cb;});};a.prototype.h2=function(){return this.Br.reduce(function(a,b){b=b.cb.h2();a[1]+=b[1];a[0]+=b[0];a.total+=b.total;return a;},c.__assign({},u.fia));};a.prototype.Jka=function(){var a;return (a={},a[1]=this.hga.video || Infinity,a[0]=this.hga.audio || Infinity,a.total=this.hga.total || Infinity,a);};a.prototype.Dw=function(a){this.tD.Dw(a);};a.prototype.LF=function(a){this.tD.LF(a);};a.prototype.Epa=function(){var a;a=this.VYa.reduce(function(a,b){return Math.max(b.weight,0) + a;},0);this.Br.forEach(function(b){b.dra=0 >= b.cb.weight?0:b.cb.weight / a;});};a.prototype.APb=function(){};a.BIb=0;c.__decorate([O.Rb({Kc:"open"})],a.prototype,"open",null);c.__decorate([O.Rb({Kc:"addPlaygraph",context:function(a){var b,c;return {playgraphCount:null !== (c=null === (b=a.oXa.Br) || void 0 === b?void 0:b.length) && void 0 !== c?c:0};}})],a.prototype,"WI",null);c.__decorate([O.Rb({Kc:"removePlaygraph",context:function(a){return {playgraphCount:a.oXa.Br.length};}})],a.prototype,"Ss",null);c.__decorate([O.Rb({Kc:"close"})],a.prototype,"close",null);c.__decorate([O.Rb({Kc:"notifyAseException",Gr:!0})],a.prototype,"gpa",null);c.__decorate([O.Rb({Kc:"createViewable"})],a.prototype,"TMa",null);c.__decorate([O.Rb({Kc:"issueRequestOpportunity",mm:!0,"return":!0})],a.prototype,"C3",null);c.__decorate([O.Rb({Kc:"reportStreamingFailure",Gr:!0})],a.prototype,"Hg",null);return a;})();b.Fua=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.st=void 0;d=b.st || (b.st={});d[d.CLOSED=0]="CLOSED";d[d.OPEN=1]="OPEN";},function(d,b,a){var h,g,m,f,k,q,n;function c(a,b){return a.filter(function(a){return a.groupId === b.groupId;}).reduce(g.gWa(function(a){return a.ey.da;}),b).ey;}Object.defineProperties(b,{__esModule:{value:!0}});b.bya=void 0;h=a(0);g=a(34);m=a(17);f=a(9);k=a(125);q=a(984);n=a(48);d=(function(){function a(a,b){this.G=a;this.config=b;this.tUa=0;this.Xj=new k.XC({eF:10,Zu:this,source:"GraphStreamingProcess"});}a.prototype.zXa=function(a){var b,d,f,k,l,r,u,t,E,da,sa,ea;f=!1;k=[];if(0 < a.length){l=this.XSb(a);r=l.some(function(a){return 1 === q.r2a(a) && m.Dx(a.xg);});u=l.slice();try{for(var v=h.__values(l),p=v.next();!p.done;p=v.next()){t=p.value;if(t.Ju){E=t.WTa();da=E.reason;da && ("globalAudioMemoryLimit" === da || "globalVideoMemoryLimit" === da) && g.KJa(u,t);if(E.result){sa=c(u,t);if(this.onb(t,r,sa)){ea=t.aUa();this.Nna(k,t,ea.reason);ea.op && (this.tUa=n.platform.time.aa());if(f=ea.op)break;}else if((this.Nna(k,t,"concurrencyCheck"),this.config.fLb))break;}else this.Nna(k,t,E.reason);}}}catch(Z){b={error:Z};}finally{try{p && !p.done && (d=v["return"]) && d.call(v);}finally{if(b)throw b.error;}}}this.Xj.Aw({streamableCount:a.length,streamableReasons:k,lastSuccessfulIssueRequestMs:this.tUa});return f;};a.prototype.XSb=function(a){var b;b=this;return h.__spread(a).sort(g.VLa(function(a){return -q.cLa(b.config,a);}));};a.prototype.Nna=function(a,b,c){this.Xj.enabled && a.push(this.xAb(c,b));};a.prototype.xAb=function(a,b){return {mediaType:b.I,reason:a,bufferingState:b.xg,currentPlayerMs:b.ne.da,pathCompletePlayerMs:b.ey.da,streamingPlayerMs:b.$n.da};};a.prototype.onb=function(a,b,c){return this.config.vQ && (b || m.Dx(a.xg))?this.pnb(a,c):this.qnb(a,c);};a.prototype.wLa=function(a){return a.$n.ZE(a.ey);};a.prototype.qnb=function(a,b){var c;if(this.config.ckb && this.wLa(a))return !0;c=a.ey.Fa(a.ne).da;c=Math.max(this.config.Loa,Math.min(c * this.config.Vsa,this.config.NVa));b=a.ne.greaterThan(b)?a.ne:b;return a.$n.Fa(b).da <= c;};a.prototype.pnb=function(a,b){var c,d;if(void 0 === this.config.vQ)return !0;c=f.T.$b(this.config.vQ);d=a.ne.add(c);return a.$n.ZE(d)?!0:this.wLa(a) && b.rl(d) && a.$n.Fa(b).lessThan(c);};h.__decorate([k.Rb({Kc:"onRequestOpportunity",mm:!0})],a.prototype,"zXa",null);return a;})();b.bya=d;},function(d,b){function a(a){return a.$n.Fa(a.ne).da;}function c(a){var b;return (null !== (b=a.aBb) && void 0 !== b?b:1) * a.Pn.reduce(function(a,b){var c;c=b.gma;return a * (b.Sk + (void 0 === c?0:c));},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.r2a=b.cLa=b.Amb=void 0;b.Amb=a;b.cLa=function(b,d){b=Math.log(2) / b.aOb;return c(d) * Math.exp(-b * a(d));};b.r2a=c;},function(d,b,a){var c,h,g,m,f,k,q,n,r;Object.defineProperties(b,{__esModule:{value:!0}});b.$ua=void 0;c=a(0);h=a(16);g=a(9);m=a(5);f=c.__importDefault(a(3));k=a(71);q=a(34);n=a(986);d=a(435);r=a(988);a=(function(a){function b(b,c,d){var l;l=a.call(this) || this;l.R=b;l.Ee=c;l.yz=d;l.dR=[];l.uda=new h.sg();l.G=new f["default"].Console("ASEJS","media|asejs");l.uda.on(l.R,"underflow",function(){return l.Kk();});l.ZH=new r.DCa(b);l.uda.on(l.ZH,"clockReset",function(){return l.X4();});l.oD=new k.xO(l.ZH,l.G,"player");l.lua=new g.kY();return l;}c.__extends(b,a);Object.defineProperties(b.prototype,{uv:{get:function(){var a;return null === (a=this.Rg) || void 0 === a?void 0:a.uv;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{iy:{get:function(){return this.oD;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Lb:{get:function(){var a,b;return null !== (b=null === (a=this.Rg) || void 0 === a?void 0:a.BE()) && void 0 !== b?b:[];},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Xa:{get:function(){var a;return null === (a=this.Rg) || void 0 === a?void 0:a.Xa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ta:{get:function(){return this.ZH;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{MB:{get:function(){var a;return !(null === (a=this.Rg) || void 0 === a || !a.MB);},enumerable:!1,configurable:!0}});b.prototype.CU=function(a){-1 === this.dR.indexOf(a) && this.dR.push(a);this.Rg && this.Rg.uT(a);this.events.emit("drmReady",{viewableId:a});};b.prototype.msa=function(a){a=this.dR.indexOf(a);-1 !== a && this.dR.splice(a,1);};b.prototype.An=function(a){var b;return -1 !== this.dR.indexOf(a) || !(null === (b=q.Qg(this.Lb,function(b){return b.N.fa === a;})) || void 0 === b || !b.N.Vh);};b.prototype.reset=function(){var b;this.lua=new g.kY();a.prototype.reset.call(this);this.pD=void 0;null === (b=this.Rg) || void 0 === b?void 0:b.reset();};b.prototype.jU=function(b){var c;a.prototype.jU.call(this,b);null === (c=this.Rg) || void 0 === c?void 0:c.jU(b);};b.prototype.XD=function(){var a;null === (a=this.Rg) || void 0 === a?void 0:a.XD();};b.prototype.pause=function(b){this.IM(b);a.prototype.pause.call(this,null !== b && void 0 !== b?b:this.Ee);};b.prototype.resume=function(b){var c;null === (c=this.Rg) || void 0 === c?void 0:c.resume(b);a.prototype.resume.call(this,null !== b && void 0 !== b?b:this.Ee);};b.prototype.Tb=function(){this.Yt=this.I2()?this.yn():void 0;this.Rg && this.nia(this.Rg.Xa);this.ZH.Tb();this.oD.Tb();this.uda.clear();a.prototype.Tb.call(this);};b.prototype.iK=function(){var b,c;if(null === (b=this.Rg) || void 0 === b?0:b.YMb){b=this.R.ad;if(this.ta.vl){if(this.pD){if(this.pD.greaterThan(b))return (b=this.pD.Fa(b),this.lua.push(b.da),this.pD);if(this.Lb.length){c=this.Rg.XEb;if(c && c.lessThan(b))return (this.events.emit("logdata",{type:"logdata",target:"endplay",fd:{clockdrift:{type:"count"}}}),this.pD);}}this.pD=b;}return b;}return a.prototype.iK.call(this);};b.prototype.xn=function(){var b;b=this.R.playbackRate;void 0 === b && (b=a.prototype.xn.call(this));return b;};b.prototype.I2=function(){return ! !this.Yt || 0 < this.Lb.length;};b.prototype.yn=function(){if(this.Yt)return this.Yt;m.assert(0 < this.Lb.length,"Could not find presenting branch. Player has no branches.");return this.yi;};b.prototype.nia=function(a){var b;m.assert(a === this.Xa);null === (b=this.Rg) || void 0 === b?void 0:b.Tb();this.Rg=void 0;};b.prototype.x_=function(b,c){this.Yt=void 0;if(c=a.prototype.x_.call(this,b,c))(this.Rg=new n.ova(b,this,this.G,b.config,this.yz,this.events,this.Ee,this.oD,this.tz),this.IM(this.IL));return c;};b.prototype.Yia=function(){var c;for(var a=[],b=0;b < arguments.length;b++){a[b]=arguments[b];}c=this.Rg;m.assert(c);a.forEach(function(a){return c.Jub(a);});};b.prototype.Sg=function(a){var b;if(!this.Rg)return !1;b=this.Q1(a);return b?b.W.cs.Fa(g.T.$b(this.yz.Tu)).lessThan(a) || !b.vha(a)?!1:this.Rg.Sg(a):!1;};b.prototype.Kk=function(){var a,b,c;b=this.ne;m.assert(this.Xa);c=this.Qq(b);m.assert(c);null === (a=this.Rg) || void 0 === a?void 0:a.Kk();a=this.Q1(b);null === a || void 0 === a?void 0:a.N.Kk();this.Xa.Kk(c);};b.prototype.X4=function(){this.pD=void 0;};b.prototype.eka=function(){var a;return null === (a=this.Rg) || void 0 === a?void 0:a.eka();};b.prototype.IM=function(a){var b;null === (b=this.Rg) || void 0 === b?void 0:b.IM(a);};b.prototype.Ata=function(b){m.assert(this.Xa && this.Rg);return a.prototype.Ata.call(this,b);};return b;})(d.qba);b.$ua=a;},function(d,b,a){var c,h,g,m,f,k,q,n,r,u,p;Object.defineProperties(b,{__esModule:{value:!0}});b.ova=void 0;c=a(0);h=a(16);g=a(423);m=c.__importDefault(a(3));f=a(249);a(17);k=a(174);q=a(9);n=a(34);r=a(71);u=a(5);p=a(987);d=(function(){function a(a,b,c,d,k,g,l,m,r){var n;n=this;this.Xa=a;this.R=b;this.G=c;this.H=d;this.yz=k;this.cg=g;this.Ee=l;this.iy=m;this.tz=r;this.DY=!1;this.xGa=new q.gEa();this.Ldb=new h.sg();this.Ri=new f.ZV(this.G);this.uv=new p.WEa(this.G,a);this.arb(this.uv);this.Yl && (this.ohb=this.dka(this.Szb()),this.Ufb=q.Kt.d5a(this.Yl.map(function(a){return a.Mq;}),function(a){return a.every(function(a){return a;});},function(a){return n.tz.set(a);}));this.$p=m.fE(function(){return n.Qlb();});}a.prototype.Qlb=function(){var a,b,d,f,h,k,g;return c.__generator(this,function(l){switch(l.label){case 0:if(!this.Ri.aMa)return [3,2];a=c.__read(this.Ri.uta(),1);b=a[0];d=null !== (g=null === (k=this.yz.OU) || void 0 === k?void 0:k.da) && void 0 !== g?g:0;f=b.WEb || b.wi;h=f.add(q.T.$b(d + 1E3));return [4,r.al.LV(h)];case 1:return (l.di(),this.Ri.remove(b),b.gg(),[3,0]);case 2:return [2];}});};Object.defineProperties(a.prototype,{YMb:{get:function(){var a;return !(null === (a=this.ohb) || void 0 === a || !a.Mq.value);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{MB:{get:function(){var a;return !(null === (a=this.Yl[0]) || void 0 === a || !a.MB);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{XEb:{get:function(){return this.DY?q.T.max.apply(q.T,c.__spread(this.Yl.map(function(a){var b;return null === (b=a.Qkb) || void 0 === b?void 0:b.pUa;}).filter(n.Q4))):void 0;},enumerable:!1,configurable:!0}});a.prototype.Jub=function(a){this.Ri.enqueue(a);this.$p.state === r.cl.complete && this.$p.Gl();a.W.dt && this.Ri.c1();this.DY || this.hwb(a);};a.prototype.uT=function(a){this.Yl.forEach(function(b){b.uT(a);});};a.prototype.reset=function(){this.Yl.forEach(function(a){a.reset();});this.DY=!1;this.xGa.removeAllListeners();this.XD();};a.prototype.jU=function(a){a=this.dka(a);null === a || void 0 === a?void 0:a.reset();};a.prototype.XD=function(){this.Ri.clear();this.Ldb.clear();this.$p.Gl();};a.prototype.resume=function(a){this.Yl.forEach(function(b){void 0 !== a && -1 === a.indexOf(b.I) || b.resume();});};a.prototype.IM=function(a){this.Yl.forEach(function(b){return (void 0 === a || -1 !== a.indexOf(b.I)) && b.stop();});};a.prototype.Kk=function(){this.G.trace("attached-player: onUnderflow");};a.prototype.CRa=function(){return this.Ri.SQa();};a.prototype.Oyb=function(){return this.BE()[0];};a.prototype.BE=function(){return this.Ri.uta();};a.prototype.arb=function(a){var b,c;b=this;this.xj("createMediaSourceStart");this.yz.g2?c=this.yz.g2():(c=new m["default"].MediaSource(this.R.R),c.Yb || (c.Yb=m["default"].MediaSource.Yb));if(1 !== c.readyState)this.Co("exception in init","NFErr_MC_StreamingInitFailure");else {this.xj("createMediaSourceEnd");this.Of=c;if(!c.n_(this.Ee))throw (this.G.trace("Error:",c.error),this.Co("error creating source buffers","NFErr_MC_StreamingInitFailure"),c.error);this.Yl=c.sourceBuffers.filter(function(a){return 0 <= b.Ee.indexOf(a.I);}).map(function(d){var f;f=new k.A8(b.G,d.I,c,d,b.H,{$d:function(){return b.R.ne.da;},An:function(a){return b.R.An(a.fa);}},b.iy);f.addListener("error",function(a){return b.Co(a.errorstr);});f.addListener("logdata",function(a){return b.cg.emit("logdata",a);});return new g.j8(f,d.I,b,b.H,b.G,b.R,b.yz,b.iy,a);});}};a.prototype.Tb=function(){this.Ufb.clear();this.Yl.forEach(function(a){return a.Tb();});this.yz.g2 || this.Of.pq();this.XD();this.$p.Tb();};a.prototype.Sg=function(a){return this.Yl.every(function(b){return b.Sg(a);});};a.prototype.eka=function(){return {JNb:this.Ri.uta(),aMb:this.Yl};};a.prototype.hwb=function(a){var b;b=this;this.DY=!0;a.dh.forEach(function(a){var c;c=b.dka(a.I);if(void 0 !== c)b.xGa.once(a.Eja,function(a){return c.iwb(a);});});if(a.yh)this.nOa();else a.events.once("branchNormalized",function(){return b.nOa();});};a.prototype.nOa=function(){var a;a=this.Oyb();a && (u.assert(a.Qj),this.cg.emit("ptsChanged",{initialTimestamp:a.Qj}));};a.prototype.dka=function(a){return n.Qg(this.Yl,function(b){return b.I === a;});};a.prototype.Szb=function(){return -1 !== this.Ee.indexOf(1)?1:0;};a.prototype.xj=function(a){a={type:"startEvent",event:a,time:m["default"].time.aa()};this.cg.emit(a.type,a);};a.prototype.Co=function(a,b){this.Xa.Hg(a,void 0,b);};return a;})();b.ova=d;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.WEa=void 0;c=a(0).__importDefault(a(3));h=a(37);d=(function(){function a(a,b){this.G=a;this.FI=b;}a.prototype.IB=function(a,b,d,h,g){var f,k;h || g?(f=a.duration.da,g || (k=a.duration.Fa(d).da)):(f=d.da,k=0);d=this.$eb(a);b=this.JE(h,b);this.a_={startTime:c["default"].time.aa(),W1a:a.id,$Sb:a.duration.da,ZSb:f,GJ:k,od:b,Sk:h,V_:d};};a.prototype.Kka=function(a){var b,d,g,l,m;if(this.a_ && 0 !== Object.keys(this.a_.V_).length){g=this.a_;this.a_=void 0;l={};m=g.V_[a];m?l=m.fx:(h.assert(this.FI),l.weight=null === (d=null === (b=this.FI.cb.Ja[g.W1a].next) || void 0 === b?void 0:b[a]) || void 0 === d?void 0:d.weight);b=this.Cda(a).kq;b=this.hHa(l.weight,b);d={};for(var n in g.V_){n !== a && (d[n]=g.V_[n].fx);}n=g.Sk?0:c["default"].time.aa() - g.startTime;return {segment:a,srcsegment:g.W1a,srcsegmentduration:g.$Sb,srcoffset:g.ZSb,seamlessRequested:g.Sk,atRequest:l,atTransition:b,discard:d,transitionType:g.od,delayToTransition:g.GJ,durationOfTransition:n};}};a.prototype.JE=function(a,b){return a?"seamless":this.Cda(b).YR?"reset":"long";};a.prototype.$eb=function(a){var b,c;b=this;c={};a.Wx.forEach(function(d){var f,h;f=a.DIb[d];h=b.Cda(d).kq;c[d]={fx:b.hHa(f,h)};});return c;};a.prototype.Cda=function(a){var b,c;a=this.FI.Axb(a);if(0 === a.length)return {YR:!1,kq:{Lp:0,cu:0,VB:0,h_:0}};b=a[0];a=b.hka();c=b.Va(0) && 0 === a.cu;b=b.Va(1) && 0 === a.Lp;return {YR:!c && !b,kq:a};};a.prototype.hHa=function(a,b){return {weight:a,vbuflmsec:b.Lp,abuflmsec:b.cu,vbuflbytes:b.VB,abuflbytes:b.h_};};return a;})();b.WEa=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.DCa=void 0;c=a(16);d=a(38);a=(function(){function a(a){var b;b=this;this.R=a;this.Nda=!1;this.zI=new c.sg();this.zI.on(a,"paused",function(){return b.c5();});this.zI.on(a,"playing",function(){return b.c5(!0);});this.zI.on(a,"underflow",function(){return b.c5();});this.zI.on(a,"skipped",function(){return b.Cpa();});this.zI.on(a,"playbackRateChanged",function(){return b.YJb();});}Object.defineProperties(a.prototype,{currentTime:{get:function(){return this.lIa || this.R.ad;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vl:{get:function(){return this.Nda;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{speed:{get:function(){var a;return null !== (a=this.R.playbackRate) && void 0 !== a?a:1;},enumerable:!1,configurable:!0}});a.prototype.c5=function(a){void 0 === a && (a=!1);a !== this.Nda && (this.lIa=(this.Nda=a)?void 0:this.R.ad);this.emit("stopStart",{type:"stopStart"});};a.prototype.Cpa=function(){this.lIa=void 0;this.emit("clockReset",{type:"clockReset"});};a.prototype.YJb=function(){this.emit("speedChanged",{type:"speedChanged"});};a.prototype.Tb=function(){this.c5();this.zI.clear();};return a;})();b.DCa=a;d.af(c.EventEmitter,a);},function(d,b,a){var c,h,g,m,f,k,q,n,r,u,p,A,y,I,t,D,U,S,O,Y,E,da,sa,ea,F,L,ca,N,P,aa,Q,R,T,V,X,ka;Object.defineProperties(b,{__esModule:{value:!0}});b.ava=void 0;c=a(0);h=a(16);g=a(436);m=a(17);f=a(9);k=a(415);q=a(990);n=c.__importDefault(a(3));r=a(5);u=a(121);p=a(991);A=a(34);y=a(71);I=a(93);t=a(69);D=a(992);U=a(421);S=a(257);O=a(258);Y=a(993);E=a(125);da=c.__importDefault(a(109));sa=a(994);ea=a(995);F=a(996);L=a(997);ca=a(999);N=a(1002);P=a(1004);aa=a(1005);Q=a(1006);R=a(1007);T=a(438);V=a(1008);X=a(1009);ka=a(1010);d=(function(){function a(a,b,c,d,k,l,r,u,v,B,A){var I;I=this;this.FI=a;this.FIa=b;this.config=c;this.id=d;this.Shb=l;this.Teb=r;this.km=u;this.Anb=v;this.KD="2.0";this.Yd=g.io.CLOSED;this.Ada=!0;this.fga=new h.sg();this.$qa=!1;this.n5=[];this.X6=this.Ora=!1;this.Rl=void 0;this.JV=new h.sg();this.lB=function(a){var b,c;a=I.navigator.wf(a.position.va);c=I.lRa(a);c && (null === (b=I.R.uv) || void 0 === b?void 0:b.IB(a,c,I.un.offset,!0,!1));I.Rs();};this.uT=function(){I.km("onDrmReady");};this.Xj=new E.XC({eF:10,Zu:this,source:"AsePlaygraph"});this.h1a(a);this.Lb=new N.GCa();this.console=new n["default"].Console("ASEJS_PLAYGRAPH","asejs","" + this.id);this.xla=new ea.aya(this.config,f.T.$b(this.config.i4),{parent:this.IRa.bind(this)});this.events=new h.EventEmitter();this.t2a=new q.vEa(this.console,this.events);this.cM=[];this.Sta({PE:c.Ds || Infinity});this.R=new p.Zaa(this);this.iy=new y.xO(this.R.ta,this.console,"playgraph");this.er=new y.xO(new S.jY({vl:!0,currentTime:function(){return f.T.$b(n["default"].time.aa());},speed:1}),this.console,"wallclock");this.EKa=new R.Dva(this.iy,this.er,f.T.$b(c.Tu),this.Xn.bind(this),this.console);this.tf=new P.Iva(this.console,c,k,this.events,this,this.er);this.hU=new t.xDa(c);X.BMa({tf:this.tf,er:this.er},y.al.hN(f.T.$b(this.config.ky)),function(){I.R.Fu && I.R.yi && (I.tf.state.value === m.bc.nf || I.tf.state.value === m.bc.cd) && I.lD(I.R.yi);});this.hU.gm(new O.WC(this.tf.Xj));this.hU.gm(new Y.kCa(this.Hzb.bind(this)));this.hU.gm(new O.WC(this.Xj));this.q2a=new ka.uEa(this,this.console,A,B);}Object.defineProperties(a.prototype,{state:{get:function(){return this.Yd;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vSa:{get:function(){return !(this.R instanceof p.Zaa);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cb:{get:function(){return this.FI;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{weight:{get:function(){return this.FIa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{p6:{get:function(){r.assert(this.bS,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.en.position;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{z0a:{get:function(){r.assert(this.bS,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.GA(this.p6).aA;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xg:{get:function(){return this.tf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{oB:{get:function(){return this.tf.oB;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{bS:{get:function(){return void 0 !== this.en;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{un:{get:function(){return this.R.Fu?this.R.un:this.p6;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{ne:{get:function(){return this.R.Fu?this.R.ne:this.z0a;},enumerable:!1,configurable:!0}});a.prototype.open=function(){this.Ada=!0;if(this.Yd !== g.io.CLOSED)return !1;this.Yd=g.io.OPEN;return !0;};a.prototype.Tb=function(){var a;this.Yd !== g.io.CLOSED && (this.gg(),null === (a=this.Rl) || void 0 === a?void 0:a.UK.release(),this.Rl=void 0,this.JV.clear(),this.tf.stop(),this.Yd=g.io.CLOSED);};a.prototype.dG=function(a,b){var c,d,f;c=this;this.bKa=a;this.T4a=b;b=aa.SOa(this.Lb,this.G0a.bind(this));a=b.bnb;b=b.Rlb;if(0 === a.length)return !0;if(1 !== a.length || 0 !== a[0])return !1;d=this.un;this.R.pause(a);a.forEach(function(a){return c.R.jU(a);});f=this.GA(d).aA;b.forEach(function(a){var b;b=a.Kb;b.dG(a.dh,d.va === b.W.id?f:void 0,void 0 !== c.Lb.uRa(b));});this.tf.nKb(d,b[0].dh);this.R.resume(a);return !0;};a.prototype.cE=function(a){return I.cE(this.config,a);};a.prototype.dE=function(a){return I.dE(this.config,a);};a.prototype.uzb=function(a,b){var c,d;c=this.navigator.wf(a);d=this.navigator.wf(b);return {kXb:c.GBb(b),NKa:b !== a && this.Lb.has(b),Qb:d.Uk.da,Vu:c.Vu};};a.prototype.Xn=function(a,b,c,d){var h,k;void 0 === d && (d=!0);if(!b)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");k=this.navigator.wf(a);this.un.va === a && (null === (h=this.R.uv) || void 0 === h?void 0:h.IB(k,b,this.un.offset,d,c));d || (a={offset:f.T.nb,va:b},this.en={position:a,Bn:!0,V3a:a});k.Vu=b;this.Rs();d || this.tf.BXa(this.p6);};a.prototype.Ii=function(a){this.navigator.Ii(a);this.Rs();};a.prototype.p1a=function(a,b){this.Qfa=a;this.fN=b;this.km("setStreamFilters");};a.prototype.rU=function(a,b){var c,d;if(sa.UTa(this.cb,a)){if((a=this.m0a(a),void 0 === a))this.Hg("Invalid seekPosition");else if(void 0 === this.bKa || void 0 === this.T4a)this.Hg("No track selectors available");else {if(this.vSa && this.R.LE || !sa.iSa(null === (c=this.en) || void 0 === c?void 0:c.V3a,a))(this.bS && (c=this.navigator.wf(this.un.va),null === (d=this.R.uv) || void 0 === d?void 0:d.IB(c,a.va,this.un.offset,!1)),this.gg(!0),this.Enb(),this.en={position:a,V3a:a,Bn:!1,SYa:b},this.tf.BXa(),this.Yd=g.io.dk,this.Rs());}}else this.Hg("Invalid seekPosition");};a.prototype.gg=function(a){var b,d,f,h;h=this.fSa();this.Lb.reset();this.n5=[];if(h.length && !a)try{for(var k=c.__values(h),l=k.next();!l.done;l=k.next()){l.value.OOb();}}catch(ia){b={error:ia};}finally{try{l && !l.done && (d=k["return"]) && d.call(k);}finally{if(b)throw b.error;}}this.cM.forEach(function(b,d){var f,k,q,r;try{for(var g=c.__values(h),l=g.next();!l.done;l=g.next()){q=l.value;if(q){r=q.RP(m.je[d],b);a && r.length && q.h6(r);}u.jo.yf.KJ(b);}}catch(Ce){f={error:Ce};}finally{try{l && !l.done && (k=g["return"]) && k.call(g);}finally{if(f)throw f.error;}}});this.cM=[];this.iy.reset();this.er.reset();this.R.reset();this.en=void 0;null === (f=this.fga) || void 0 === f?void 0:f.clear();this.Yd === g.io.dk && (this.Yd=g.io.OPEN);};a.prototype.Axb=function(a){return this.Lb.BE(a);};a.prototype.Kk=function(a){this.tf.Kk(a);this.km("onUnderflow");};a.prototype.gm=function(a){this.hU.gm(a);};a.prototype.XJa=function(a){this.gm(new D.zDa(a));this.Nkb(a);};a.prototype.Nkb=function(a){this.R.Ata(a)?(this.R=a,this.iy.RJa(this.R.ta),this.R.events.on("segmentPresenting",this.lB),this.R.events.on("drmReady",this.uT)):this.Hg("player in use");};a.prototype.GA=function(a){var b,c;b=a.offset;c=this.navigator.wf(a.va);a=c.fa;b=c.Uk.add(b);return {fa:a,aA:b};};a.prototype.Qq=function(a,b){var c;c=this.R.Qq(a);if(void 0 !== c)return c;c=this.R.J3;return sa.Qq(a,{Xa:this,QCb:c && ({id:c.W.id,KQb:c.x5})},b);};a.prototype.A2=function(a){return this.R.A2(a);};a.prototype.m0a=function(a){var b;b=this.cb.Ja[a.va];if(void 0 !== b)return null === b.Ad || void 0 === b.Ad?{va:a.va,offset:f.T.max(f.T.nb,a.offset)}:{va:a.va,offset:f.T.max(f.T.nb,f.T.min(a.offset,f.T.$b(b.Ad - b.tc)))};};a.prototype.wn=function(a,b){return this.Teb(this.cb.Ja[a].fa,b);};a.prototype.h2=function(){return T.ORa(this.Lb);};a.prototype.Jka=function(){return this.tQ.PE;};a.prototype.pyb=function(a){return V.PRa(this.Lb,a);};a.prototype.dj=function(a){var b,c;this.Lb.forEach(function(a){var d;if(!a.XI || a.W.dt){d=a.JRa(0);a=a.JRa(1);if(!b || d < b)b=d;if(!c || a < c)c=a;}});return {nV:b?Math.max(b - a.da,0):0,pV:c?Math.max(c - a.da,0):0};};a.prototype.fK=function(){var a,b,c,d;c=this.bS?this.dj(this.ne):{nV:0,pV:0};d=da["default"].yf().get();return {totalabuflmsecs:c.nV,totalvbuflmsecs:c.pV,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (b=Number(0 < d.Pd) && (null === (a=d.Ka) || void 0 === a?void 0:a.Ca)) && void 0 !== b?b:0};};a.prototype.qK=function(){var a,b,d;a=this;if(this.Cn())return (this.Xj.Aw({isStreamingFailureReported:!0}),[]);this.Xj.Aw({branchCount:this.Lb.size});b=[];d=this.Lb.reduce(function(d,f,h){var k,g,l,r,n,u;try{for(var m=c.__values(f.Rh.Ze),q=m.next();!q.done;q=m.next()){r=q.value;if(!r.kp()){n="p" + a.id + "-" + h + (null === (l=f.Qj) || void 0 === l?void 0:l.da);u=a.HRa(r);d.push(a.krb(r,u,n));}!r.Ju() && a.Xj.enabled && b.push({segmentId:r.va,isDoneStreaming:r.kp(),isNormalized:r.Bn(),needsHeaderRequest:r.track.Uoa});}}catch(Mb){k={error:Mb};}finally{try{q && !q.done && (g=m["return"]) && g.call(m);}finally{if(k)throw k.error;}}return d;},[]);this.Xj.Aw({nonStreamables:b});return d;};a.prototype.HRa=function(a){var b;if(a.i_)return a.i_;b=this.IRa(a);return b?this.HRa(b):a.b0;};a.prototype.IRa=function(a){var b;return null === (b=this.Lb.uRa(a.Kb)) || void 0 === b?void 0:b.Ika(a.I);};a.prototype.pKb=function(a){var b,c;c=this.R.un;c && (b=this.navigator.wf(c.va).fa);this.Hg("BufferingStateTracker: Temporary failure while buffering",b,"NFErr_MC_StreamingFailure",null === a || void 0 === a?void 0:a.zg,null === a || void 0 === a?void 0:a.ME,null === a || void 0 === a?void 0:a.si);};a.prototype.Hg=function(a,b,c,d,f,h){this.t2a.Hg(a,b,c,d,f,h);};a.prototype.J3a=function(a,b){b=this.e2(b);this.events.emit("logdata",{type:"logdata",target:a,fields:b});};a.prototype.e2=function(a){var b;b=this.hU.yu(a);a === t.If.pu && (a=this.fK(),b.vbuflmsec=a.totalvbuflmsecs,b.abuflmsec=a.totalabuflmsecs,b.vbuflbytes=a.vbuflbytes,b.abuflbytes=a.abuflbytes);return b;};a.prototype.Sta=function(a){this.tQ=a;this.km("updateBudget");};a.prototype.Cn=function(){return this.t2a.Cn();};a.prototype.n4a=function(a){a !== this.weight && (this.FIa=a,this.events.emit("weightUpdated"));};a.prototype.k4a=function(a){var b,d,f,h,k,m,q,n,u,v;r.assert(this.un,"Current position must exist before updating the playgraph");f=ca.bLa(this.cb,a);h=f.anb;k=f.TVb;if(![f.ZP,f.ZL,h].every(function(a){return !a.length;})){r.assert(h.length || k.length,"At least one segment must exist in old playgraph");try{for(var g=c.__values(h),l=g.next();!l.done;l=g.next()){m=l.value;q=this.cb.Ja[m];n=q.fa;u=a.Ja[m];v=u.fa;r.assert(q.tc === u.tc,"Updated segment should have the same startTimeMs");r.assert(n === v,"Updated segment should have the same viewableId");}}catch(qd){b={error:qd};}finally{try{l && !l.done && (d=g["return"]) && d.call(g);}finally{if(b)throw b.error;}}this.h1a(a);this.Rs();}};a.prototype.h1a=function(a){this.FI=a;this.navigator=new L.MCa(a);this.dBb=ca.mMa(this.navigator);};a.prototype.rra=function(a){var b,c,d,f;b=this;c=this.Shb(a);d=c.KV;f=c.UK;this.Rl?(r.assert(this.Rl.fa === a,"Multi-viewable playgraphs not supported"),this.Rl.UK.release(),this.Rl.UK=f):this.Rl={fa:a,UK:f};d.then(function(a){b.Rl && b.Rl.UK === f && (b.Rl.N=a,b.JV.clear(),b.JV.addListener(b.Rl.N.$ia,"criticalNetworkError",b.tf.OJb.bind(b.tf)),b.JV.addListener(b.Rl.N.$ia,"temporaryNetworkError",b.tf.CXa.bind(b.tf)),b.JV.addListener(b.Rl.N.$ia,"updatingLastSuccessEvent",b.tf.qKb.bind(b.tf)),b.Yd === g.io.dk && b.Rs());});};a.prototype.JIa=function(a){var b,c;b=this;if(!(this.R.LE || null !== (c=this.en) && void 0 !== c && c.Bn))if(void 0 !== a.yh)this.sPa(a);else this.fga.on(a.events,"branchNormalized",this.sPa.bind(this,a));this.tf.C7(a.dh);!this.R.LE && this.config.o5 && (this.xj("createDlTracksStart"),a.events.once("requestQueuesCreated",function(){return b.xj("createDlTracksEnd");}));this.R.Yia(a);this.EKa.lVb(a,this.ne);};a.prototype.sPa=function(a){r.assert(a.yh,"Normalized branch should have a defined content start timestamp");r.assert(this.en,"AsePlaygraph should have a seek position on first branch normalization");r.assert(!this.en.Bn,"Seek position should not already be normalized on first branch normalization");this.en=c.__assign(c.__assign({},this.en),{position:{va:a.W.id,offset:a.yh.Fa(a.W.Uk)},Bn:!0});this.tf.nRb(this.en.position,a.dh.filter(function(a){return 0 === a.I;})[0]);};a.prototype.Enb=function(){var a;this.EKa.reset();this.R.XD();this.en=void 0;null === (a=this.fga) || void 0 === a?void 0:a.clear();};a.prototype.Ttb=function(a,b){this.events.emit("streamSelection",{type:"streamSelection",mediaType:a.I,selDiscBw:null === b || void 0 === b?void 0:b.xU,histAge:null === b || void 0 === b?void 0:b.sl});};a.prototype.krb=function(a,b,c){var d;d=this;return {W:a.va,I:a.I,Pn:a.Pn,xg:this.xg.value,ey:b,$n:a.$n,ne:this.ne,Ju:a.Ju(),kp:a.kp(),groupId:c,WTa:function(){return d.q2a.Imb(a.I);},aUa:function(){var b,c,f,h,k,g,l;c=a.I;f=d.xla.PQb(d.xg.value,d.ne,d.R.playbackRate,a,0 === c?d.Qfa:d.fN);h=f.stream;k=f.CM;g=f.RQb;f=f.Gs;if(!h)return {op:!1,reason:"selectLocationsAndStream"};if(d.xg.value === m.bc.dk && a.Kb && a.Kb.N.$R && !a.Kb.N.TS && !d.R.An(a.Kb.N.fa) && a.$n.da - d.ne.da > d.config.xVa)return {op:!1,reason:"maxBufferingCompleteBufferInMs"};d.Ttb(h,g);l=1;if(null === (b=a.Kb) || void 0 === b?0:b.dh.every(function(a){return 0 === a.I;}))l=0;d.tf.hg && c === l && d.tf.xRb(a.Ay.qM,h.U,g);d.vM(k);b=a.LVb(h,d.cM[c],f);b.op && d.Ada && (d.xj("firstDriveStreaming"),d.Ada=!1);return b;}};};a.prototype.vM=function(a){var b;b=this;a.forEach(function(a){a.N.rRb(a,function(){var c,d,h;r.assert(b.bS,"Speculative header callback after streaming is cancelled");c=b.tf.state.value;d=b.ne;h=d.add(f.T.$b(b.config.bT));return {W:"" + a.N.fa,I:a.I,Pn:[],xg:c,kp:!1,Ju:!0,ey:h,$n:h,ne:d};});});};a.prototype.sQb=function(){var a;a=this;this.Ora || (this.Ora=!0,Promise.resolve().then(function(){a.Ora=!1;a.Rs();}));};a.prototype.Rs=function(){var a,b,d,h,k;a=this;if(this.Yd === g.io.dk){r.assert(!this.$qa,"Unexpected re-entrant call to reevaluateBranches");this.$qa=!0;this.n5=[];b=this.un;d=this.navigator.wf(b.va);h=this.Lb.Oxb();k=this.gxb(b.va).map(function(a){return a.W.id;});d=F.Rs(this.console,this.dBb,d,h,k,f.T.$b(this.config.Plb),f.T.$b(Math.min(this.config.NVa,3E4)),this.config.Noa);k=this.Lb.cWb(d,function(c,d){var f;f=a.navigator.wf(c);c=c === b.va?f.Uk.add(b.offset):f.Uk;return a.IVb(f,c,d);});d=k.ZP;h=k.Fm;k.ZL.forEach(function(b){b.gg();b.W.Vu=void 0;a.R.xBb(b) || a.events.emit("segmentAborted",{type:"segmentAborted",segmentId:b.W.id});});this.hOb();!this.config.o5 && 0 === this.cM.length && 0 < this.Lb.size && (k=c.__read(this.fSa(),1)[0]) && this.gOb(k);0 === h.length && this.tLa();this.n5=h;this.$qa=!1;d.length && this.km("reevaluateBranches");}};a.prototype.gxb=function(a){var b;b=!1;return this.R.Lb.filter(function(c){c.W.id === a && (b=!0);return b;});};a.prototype.fSa=function(){return A.IJa(this.Lb.filter(function(a){return a.cS;}).map(function(a){return a.N;}));};a.prototype.hOb=function(){var a;if(!this.R.J3){a=c.__read(this.Lb.BE(this.p6.va),1)[0];a && this.JIa(a);}if(this.R.J3)for(;;){a=this.lRa(this.R.J3.W);if(!a)break;a=c.__read(this.Lb.BE(a),1)[0];if(!a)break;this.JIa(a);}};a.prototype.lRa=function(a){if(void 0 !== a.Vu)return a.Vu;a=this.navigator.gyb(a);if(1 === a.length)return a[0].id;};a.prototype.tLa=function(){var a;a=0 !== this.$wb();a || this.X6?a && this.X6 && (this.X6=!1):(this.tf.hg && (a=this.dj(this.ne),this.tf.wg("complete",a.nV,a.pV)),this.Kgb(),this.X6=!0);};a.prototype.$wb=function(){return this.Lb.filter(function(a){return !a.XI;}).length;};a.prototype.lD=function(a){this.tf.xLa(this.ne,this.R.playbackRate,a,{Oga:this.xla.Oga.bind(this.xla,this.q2a)});};a.prototype.EJb=function(a,b){var c,d;c=this;if(b.didNormalizeSegment){d=Q.XDa.WAb(a);r.assert(d,"Segment should be normalized");Promise.resolve().then(function(){return c.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:a.W.id,normalizedStart:b.segmentContentStart,normalizedEnd:b.branchContentEnd,viewableContentEnd:d.AXb,viewableEarliestContentEnd:d.BXb});});}this.n5.some(function(b){return b.tMb === a;}) && this.sQb();};a.prototype.FJb=function(){this.tLa();};a.prototype.DJb=function(){this.Rs();};a.prototype.IVb=function(a,b,c){var d,h,g,l,m;d=this;l=f.T.nb;if(!c || c.Bn){if(c && c.wi)l=c.wi.Fa(a.Uk);else if(null === (h=this.en) || void 0 === h?0:h.SYa)l=this.en.SYa.Fa(this.z0a);if(this.Anb(a,b))throw Error("Not implemented");h=a.fa;r.assert(!this.Rl || this.Rl.fa === h,"Multi-viewable playgraphs not supported");m=null === (g=this.Rl) || void 0 === g?void 0:g.N;if(m)return (a=new k.y8(this.config,this.console,m,this.events,a,function(){return d.G0a(m);},b,l,function(){return d.ne.da;},c,[],this.xg,this.iy),a.events.once("branchNormalized",this.EJb.bind(this,a)),a.events.once("lastRequestIssued",this.DJb.bind(this,a)),a.events.once("branchStreamingComplete",this.FJb.bind(this,a)),a.events.on("checkBufferingProgress",this.lD.bind(this,a)),a.$a(),this.vZ(a.W.id,a.N,a.Oo),a);this.rra(h);}};a.prototype.gOb=function(a){var b,c,d,f;b=this;c=a.u;r.assert(0 === this.cM.length);d=0;f=new h.sg();this.xj("createDlTracksStart");this.cM=m.je.map(function(h){h=b.Ur(h,c,a);++d;f.on(h,"created",function(){--d;0 === d && (b.xj("createDlTracksEnd"),f.clear());});return h;});};a.prototype.Utb=function(a){this.events.emit("transportReport",a);};a.prototype.Ur=function(a,b,c){var d;d=this;return U.Ur(a,c,this.config,this.console,this.Utb.bind(this),function(a,b){return d.Hg("DownloadTrack fatal error",void 0,"NFErr_MC_StreamingFailure",a,0,b);});};a.prototype.Hzb=function(a){if(this.R.Fu)return this.R.yi.Va(a);};a.prototype.G0a=function(a){return [[0,this.bKa,"audio_tracks"],[1,this.T4a,"video_tracks"]].map(function(b){var d,f;d=c.__read(b,3);b=d[0];f=d[1];d=d[2];r.assert(f,"Expected mediaType " + b + " track selector to be defined");f=f.pv(a.pa,a.pa[d]);return void 0 !== f?a.bSa(b,f):void 0;}).filter(A.Q4);};a.prototype.vZ=function(a,b,c){a={type:"segmentStarting",segmentId:a,contentOffset:c.da,maxBitrates:{audio:b.Cs[0],video:b.Cs[1]}};this.events.emit(a.type,a);};a.prototype.Kgb=function(){var a;a={type:"streamerEnd",time:n["default"].time.aa()};this.events.emit(a.type,a);};a.prototype.xj=function(a){a={type:"startEvent",event:a,time:n["default"].time.aa()};this.events.emit(a.type,a);};c.__decorate([E.Rb({Kc:"getStreamables",mm:!0})],a.prototype,"qK",null);return a;})();b.ava=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vEa=void 0;d=(function(){function a(a,b){this.G=a;this.cg=b;this.Wsa=!1;}a.prototype.Hg=function(a,b,d,g,f,k){this.Wsa || (this.Wsa=!0,a={type:"error",error:null !== d && void 0 !== d?d:"NFErr_MC_StreamingFailure",errormsg:a,networkErrorCode:g,httpCode:f,nativeCode:k,viewableId:b},this.G.error("notifyStreamingError: " + JSON.stringify(a)),this.cg.emit("error",a));};a.prototype.Cn=function(){return this.Wsa;};return a;})();b.vEa=d;},function(d,b,a){var c,h,g,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Zaa=void 0;c=a(0);h=a(5);g=a(9);m=a(20);f=a(257);d=(function(a){function b(b){var c;c=a.call(this) || this;c.Xa=b;c.Lb=[];c.ZH=new f.jY({vl:!1,currentTime:function(){return c.Fu?c.ne:g.T.yx;},speed:1});return c;}c.__extends(b,a);Object.defineProperties(b.prototype,{ta:{get:function(){return this.ZH;},enumerable:!1,configurable:!0}});b.prototype.x_=function(a,b){var c;c=!this.Xa;c && (this.Xa=a,this.ida=(null === b || void 0 === b?0:b.Fu)?b.ne:void 0);return c;};b.prototype.XD=function(){this.Lb=[];this.ida=void 0;};b.prototype.nia=function(a){m.ma && h.assert(this.Xa === a);this.Xa=void 0;this.XD();};b.prototype.Yia=function(){for(var a,b=[],d=0;d < arguments.length;d++){b[d]=arguments[d];}(a=this.Lb).push.apply(a,c.__spread(b));};b.prototype.iK=function(){return this.ida?this.ida:a.prototype.iK.call(this);};b.prototype.An=function(){return !1;};b.prototype.IM=function(){};return b;})(a(435).qba);b.Zaa=d;},function(d,b,a){var c,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zDa=void 0;c=a(0);h=a(20);g=a(69);d=(function(){function a(a){this.lb=a;}Object.defineProperties(a.prototype,{vk:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jT:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return h.ma;},enumerable:!1,configurable:!0}});a.prototype.yu=function(a){var b,d,f,m;a=a.Lj;if(a === g.If.pu || a === g.If.ho)if(a=this.lb.eka()){f={};try{for(var h=c.__values(a.aMb),l=h.next();!l.done;l=h.next()){m=l.value;f[m.I]=this.vGb(m);}}catch(A){b={error:A};}finally{try{l && !l.done && (d=h["return"]) && d.call(h);}finally{if(b)throw b.error;}}return {branchQueue:this.tGb(a.JNb),playerIterator:f,driftStats:this.lb.lua};}};a.prototype.vGb=function(a){return null === a || void 0 === a?void 0:a.TQa();};a.prototype.sGb=function(a){var b,c,d;b=this;if(a){c=a.W;d={};a.mK().forEach(function(a){d[a.I]=b.uGb(a);});return {sId:null === c || void 0 === c?void 0:c.id,cancelled:a.pk,RM:d};}return a;};a.prototype.uGb=function(a){if(a && a.Pa)return a.Pa.Xka();};a.prototype.tGb=function(a){var b;b=this;return a.map(function(a){return b.sGb(a);});};return a;})();b.zDa=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kCa=void 0;c=a(69);d=(function(){function a(a){this.Va=a;}Object.defineProperties(a.prototype,{vk:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.yu=function(a){var b,d;a=a.Lj;if(a === c.If.ho || a === c.If.pu){a={};b=this.Va(1);d=this.Va(0);b && (a.videoPipelineSummary=this.B2a(b));d && (a.audioPipelineSummary=this.B2a(d));return a;}};a.prototype.B2a=function(a){var b,c,d,h,g;g=a.Pa.$;return {i4b:null === (b=g.Qj) || void 0 === b?void 0:b.da,h4b:g.mYa,i_:null === (c=a.i_) || void 0 === c?void 0:c.da,va:a.va,$4b:null === (d=a.yh) || void 0 === d?void 0:d.da,Y4b:null === (h=a.lm) || void 0 === h?void 0:h.da,o9b:a.$n.da,Ju:a.Ju(),Bn:a.Bn(),kp:a.kp(),F9b:a.track.Uoa,jha:g.jha,kn:a.Pa.kn,cr:a.Pa.cr,ba:{current:g.ba,G8b:g.VZa,p8b:g.Pj,$La:g.Yz,X3a:g.YVb}};};return a;})();b.kCa=d;},function(d,b,a){var c,h,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Qq=b.iSa=b.UTa=void 0;c=a(9);h=a(5);g=a(20);b.UTa=function(a,b){a=a.Ja[b.va];if(void 0 === a)return !1;if(void 0 === a.Ad || null === a.Ad)throw Error("Cannot validate graph position without endTimeMs");a=a.Ad - a.tc;return 0 <= b.offset.da && b.offset.da < a;};m=c.T.$b(100);b.iSa=function(a,b){if(a === b)return !0;if(a && b && a.va === b.va){if(a.offset === b.offset)return !0;a=c.T.abs(a.offset.Fa(b.offset));if(m.greaterThan(a))return !0;}return !1;};b.Qq=function(a,b,d){var f,k,l,m;l=b.Xa;b=b.QCb;void 0 === d && (d={});m=l.cb;l=l.navigator;m=l.wf(null !== (f=null === b || void 0 === b?void 0:b.id) && void 0 !== f?f:m.hf);f=null !== (k=null === b || void 0 === b?void 0:b.KQb) && void 0 !== k?k:m.Uk;if(f.greaterThan(a))return d.N1a?{offset:a.Fa(f),va:m.id}:void 0;b=l.qEb(m);for(l=b.next();!l.done;){k=l.value;l=k.cs.Fa(k.Uk);m=f;f=m.add(l);if(f.greaterThan(a))return (a=a.Fa(m),g.ma && h.assert(a.rl(c.T.nb) && a.lessThan(l)),{va:k.id,offset:a});l=b.next();if(l.done && d.O1a)return {va:k.id,offset:a.Fa(m)};}};},function(d,b,a){var c,h,g,m,f;Object.defineProperties(b,{__esModule:{value:!0}});b.aya=void 0;d=a(0);c=a(17);h=d.__importDefault(a(109));g=d.__importDefault(a(3));m=a(179);f=a(34);a=(function(){function a(a,b,c){this.config=a;this.RSb=b;this.navigator=c;a=m.GE(this.config);this.cZa=[a.ly,a.NT];}a.prototype.PQb=function(a,b,d,h,g){var k,l,m,q,n;m=[];if(!this.vYa(h.track))return {stream:l,CM:m};l=h.Zf.Jx;q=g?g.pl(h.track.md,a):h.track.md;if(0 === q.length && (null === g || void 0 === g?0:g.Hmb))return {stream:void 0,CM:m};l && !l.track.equals(h.track) && (l=this.Uvb(l,q));if(0 === h.I && l && !this.qSb(h,l))return {stream:l,CM:m};a=this.brb(a === c.bc.cd?c.oa.cd:a === c.bc.nf?c.oa.nf:a === c.bc.vO?c.oa.cd:a === c.bc.dk?c.oa.Uc:c.oa.oh,b,d,h);a=h.Ay.u6(a,q,void 0,this.cZa[h.I],!0,h.track.N.ap);if(!a)return {stream:l,CM:m};a.reason && (n={reason:a.reason,xU:a.Gu,Ax:a.Ax,sl:a.sl,tl:a.tl});l=q[a.Vd];h.Zf.m1a(l);if(null === (k=a.ex) || void 0 === k?0:k.length)m=a.ex.map(function(a){return f.Qg(q,function(b){return b.id === a;});}).filter(f.Q4);h=a.Gs;return void 0 !== n?{stream:l,CM:m,RQb:n,Gs:h}:{stream:l,CM:m,Gs:h};};a.prototype.Oga=function(a,b,d,f,h,g,k){var l,m;if(!c.Dx(b))return {complete:!0,reason:"playing"};if(!g.SMb)return {complete:!1,reason:"unknown"};if(g.IKb)return g.JKb;l=this.bQa(g,d);m=g.Zf.Jx;d=l.uk - l.ad;if(d < this.config.jj || void 0 === m)return {complete:!1,Pz:d,reason:"preBuf"};if(0 === g.I)return {complete:!0,Pz:d,reason:"audio"};if(a=a.uLa(g.I))return {complete:!0,Pz:d,reason:a};this.vYa(g.track);g.Ay.qqa([m],!1,l,this.cZa[g.I]);b=g.Ay.Ww(l,b,h,m,{Vr:k});if(!b.complete && f)return {complete:!0,reason:"prebufferTimeLimit",Pz:d};b.Pz=d;return b;};a.prototype.Uvb=function(a,b){var c;c=b[0];b.filter(function(a){return a.xs;}).every(function(b){return b.U <= a.U?c=b:!1;});return c;};a.prototype.qSb=function(a,b){return 0 < this.config.OM.length?!0:(a=a.Zf.RK) && a === b.location?!1:!0;};a.prototype.vYa=function(a){return a.N.wl.YM(a.N.fa,a.md);};a.prototype.bQa=function(a,b){var p;for(var c,d=b.Fa(this.RSb),f=[],h=a,k=b,l,m,q=0,n=!0;h;){p=h.Eyb(d);if(0 === p.$.length)break;if(!n && !h.XI)break;k=p.$[0].Qj;void 0 === l && (l=p.$[p.$.length - 1].wi,m=p.Mpa >= p.$.length?l:p.$[p.Mpa].Qj);f=p.$.concat(f);q+=p.Pj;h=this.navigator.parent(h);h=(null === h || void 0 === h?0:h.Ju())?h:void 0;n=!1;}return {lq:g["default"].ql()[a.I],X:Math.floor(k.da),ad:b.da,ac:Math.floor(null !== (c=null === l || void 0 === l?void 0:l.da) && void 0 !== c?c:b.da),uk:Math.floor(m?m.da:b.da),Fi:f.reduce(function(a,b){return a + b.ba;},0),Pj:q,Sja:f.length,$:f};};a.prototype.brb=function(a,b,d,f){var g,k,l;g=this.bQa(f,b);k=1 === f.I?this.config.CV:this.config.gQ;l=h["default"].yf();return {state:a,SA:a === c.oa.Uc,Ag:f.yl,playbackRate:d,buffer:g,Cia:k,UUa:!1,gR:!1,kn:null === l || void 0 === l?void 0:l.kn,I:f.I,ad:b.da,Eq:!1,s3:!1,$T:0};};return a;})();b.aya=a;},function(d,b,a){var g,m;function c(a,b,c,d,h){var f,k,l,q,n,r,p,v,t,O,Y,E,da,sa,ea,F;l=a.console;q=a.complete;n=a.CPb;r=a.etb;p=a.ZGb;v=a.Noa;a=a.GKb;t=h || ({});O=t.root;Y=t.djb;t=t.N_a;t=void 0 === t?0:t;E=!d || -1 !== q.indexOf(d.id);da=t < n.length && n[t] === b.id;sa=h && d?d.smb(b.id):{Sk:1};ea=sa.Sk;sa=sa.gma;F=void 0 === sa?0:sa;sa=(ea + F) * (null !== (f=null === h || void 0 === h?void 0:h.$Mb) && void 0 !== f?f:1);m && l.trace("reevaluateBranches: visiting " + b.id + ", " + ("distance: " + c + ", ") + ("predecessor: " + (null === d || void 0 === d?void 0:d.id) + ", ") + ("predecessorComplete: " + E + ", ") + ("isOnRequiredPath: " + da + ", ") + ("activeDistance: " + Y + ", ") + ("seamless " + ea + ", ") + ("immediate " + F + ", ") + ("predecessor sum of: successor weights=" + (null === d || void 0 === d?void 0:d.Ysa) + ", ") + ("immediate weights= " + (null === d || void 0 === d?void 0:d.c7)));if(!da && (0 === sa || !E && 0 === F && (g.assert(void 0 !== Y),c - Y >= p) || -1 === q.indexOf(b.id) && c >= r && 1 > sa || !1 === O && sa < v))return {O7:!1};t < n.length && g.assert(n[t] === b.id,"");h=null !== (k=null === h || void 0 === h?void 0:h.Pn) && void 0 !== k?k:[];d && 1 > ea && (h=h.concat([0 < F?{Sk:ea,gma:F,duration:d.duration.da}:{Sk:ea}]));a.push({W:b,Rq:null === d || void 0 === d?void 0:d.id,Pn:h});c=E?c + b.duration.da:Y;m && l.trace("reevaluateBranches: added " + b.id + ", visiting successors, " + ("active distance: " + c) + ("probabilities: " + JSON.stringify(h)));return {O7:!0,state:{root:!d,$Mb:sa,Pn:h,djb:c,N_a:t + 1}};}function h(a,b,c,d){d("reevaluateBranches: " + Array(c + 1).join(" ") + a.W.id + " " + ("(" + JSON.stringify(a.Pn) + ")"));b.filter(function(b){return b.Rq === a.W.id;}).forEach(function(a){return h(a,b,c + 1,d);});}Object.defineProperties(b,{__esModule:{value:!0}});b.kVb=b.FXb=b.Rs=void 0;g=a(5);m=a(20).ma && !1;b.Rs=function(a,b,d,h,l,n,p,A){var f,k,q,r;k=[];q=(null === (f=d.cs) || void 0 === f?void 0:f.Fa(d.Uk).da) || 0;0 < l.length && g.assert(d.id === l[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");m && a.trace("reevaluateBranches: starting at " + d.id);r={console:a,complete:h,CPb:l,etb:n.da + q,ZGb:p.da,Noa:A,GKb:k};b.EXb(d,function(a,b,d,f){return c(r,a,b,d,f);});return k;};b.FXb=c;b.kVb=function(a,b){h(a[0],a,0,b);};},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.MCa=void 0;c=a(0);h=a(998);d=(function(){function a(a){this.cb=a;this.Ja={};}a.prototype.wf=function(a){var b,c,d;c=this.Ja[a];if(void 0 === c){c=this.cb.Ja[a];if(void 0 === c)throw Error("Segment not found (" + a + ")");d=null !== (b=c.od) && void 0 !== b?b:this.cb.od;c=new h.RCa(a,c,d);this.Ja[a]=c;}return c;};a.prototype.gyb=function(a){var b;b=this;return a.W.next?Object.keys(a.W.next).map(function(a){return b.wf(a);}):[];};a.prototype.qEb=function(a){var b;return c.__generator(this,function(c){switch(c.label){case 0:return [4,a];case 1:(c.di(),b=a,c.label=2);case 2:if(!b.W.zh)return [3,4];b=this.wf(b.W.zh);return [4,b];case 3:return (c.di(),[3,2]);case 4:return [2];}});};a.prototype.Ii=function(a){var b;b=this;Object.keys(a).forEach(function(c){var d;return null === (d=b.wf(c)) || void 0 === d?void 0:d.Ii(a[c]);});};return a;})();b.MCa=d;},function(d,b,a){var h,g;function c(a){return "immediate" === a;}Object.defineProperties(b,{__esModule:{value:!0}});b.RCa=b.CDb=void 0;h=a(9);g=a(5);b.CDb=c;d=(function(){function a(a,b,c){var d;d=this;this.id=a;this.W=b;this.od=c;this.tHa=!1;this.JE=function(a){var b,c,f;return null !== (f=null === (c=null === (b=d.W.next) || void 0 === b?void 0:b[a]) || void 0 === c?void 0:c.od) && void 0 !== f?f:d.od;};this.JP=new h.T(b.tc,1E3);this.VO=void 0 !== b.Ad && null !== b.Ad?new h.T(b.Ad,1E3):h.T.yx;this.pTa();g.assert(this.JP.lessThan(this.VO),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(a.prototype,{fa:{get:function(){return this.W.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{xL:{get:function(){return this.tHa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Uk:{get:function(){return this.JP;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{cs:{get:function(){return this.VO;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{duration:{get:function(){return this.VO.Fa(this.JP);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{X:{get:function(){return this.JP.da;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{sa:{get:function(){return this.VO.da;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{qB:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{dt:{get:function(){return this.Wx.length?!this.W.zh && 0 === this.vL.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{DIb:{get:function(){return this.vz;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Wx:{get:function(){var a,b;return Object.keys(null !== (b=null === (a=this.W) || void 0 === a?void 0:a.next) && void 0 !== b?b:{});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{vL:{get:function(){var a;a=this;return this.Wx.filter(function(b){return ! !a.vz[b];});},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{Ysa:{get:function(){var a;return null !== (a=this.pIa) && void 0 !== a?a:this.pIa=this.Bmb();},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{c7:{get:function(){var a;return null !== (a=this.qIa) && void 0 !== a?a:this.qIa=this.Cmb();},enumerable:!1,configurable:!0}});a.prototype.normalize=function(a,b){this.JP=a;this.VO=b;this.tHa=!0;};a.prototype.rQa=function(){var a;return this.vL.length?null !== (a=this.vL.map(this.JE).reduce(function(a,b){return a === b?b:void 0;})) && void 0 !== a?a:this.od:this.od;};a.prototype.Ii=function(a){this.pTa(a);};a.prototype.smb=function(a){var b,d;if(void 0 !== this.Vu)return {Sk:this.Vu === a?1:0};if(this.Ysa){b=(this.vz[a] || 0) / this.Ysa;if(void 0 === this.W.weight || 0 === this.c7)return {Sk:b};d=this.W.weight / (this.W.weight + this.c7);return 1 !== d && c(this.JE(a)) && this.vz[a]?{Sk:d * b,gma:this.vz[a] / this.c7 * (1 - d)}:{Sk:d * b};}return {Sk:(null === (b=this.W.next) || void 0 === b?0:b[a])?1 / this.Wx.length:0};};a.prototype.GBb=function(a){return -1 < this.Wx.indexOf(a);};a.prototype.pTa=function(a){var b;if(void 0 === this.W.next)this.vz={};else {b=this.W.next;this.vz=Object.keys(b).reduce(function(c,d){var f;f=a?a[d] || 0:b[d].weight;void 0 !== f && null !== f && 0 <= f && (c[d]=f);return c;},{});}this.QXb();};a.prototype.Bmb=function(){var a;a=this;return this.vL.reduce(function(b,c){return b + a.vz[c];},0);};a.prototype.Cmb=function(){var a;a=this;return this.vL.filter(function(b){return c(a.JE(b));}).reduce(function(b,c){return b + a.vz[c];},0);};a.prototype.QXb=function(){this.qIa=this.pIa=void 0;};return a;})();b.RCa=d;},function(d,b,a){var g,m,f;function c(a,b){var c,d;c=Object.keys(a);if(c.some(function(c){var d,f,h,g;return (null === (d=a[c]) || void 0 === d?void 0:d.od) !== (null === (f=b[c]) || void 0 === f?void 0:f.od) || (null === (h=a[c]) || void 0 === h?void 0:h.weight) !== (null === (g=b[c]) || void 0 === g?void 0:g.weight);}))return !0;d=Object.keys(b);return 0 !== g.__spread(m.Hr(c,d),m.Hr(d,c)).length?!0:!1;}function h(a,b){return a.some(function(a,c){var d;return 0 !== m.Hr(a,null !== (d=b[c]) && void 0 !== d?d:[]).length;}) || a.length !== b.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.bLa=b.mMa=void 0;g=a(0);m=a(34);f=a(1E3);b.mMa=function(a){return new f.Rwa(function(b){return Object.keys(b.W.next || ({})).map(function(c){var d,f,h;c=a.wf(c);d=null !== (h=null === (f=b.cs) || void 0 === f?void 0:f.Fa(b.Uk).da) && void 0 !== h?h:Infinity;return {tXb:c,weight:d};});});};b.bLa=function(a,b){var d,f,k,l,q,n;d=Object.keys(a.Ja);f=Object.keys(b.Ja);k=f.filter(function(a){return -1 === d.indexOf(a);});l=d.filter(function(a){return -1 === f.indexOf(a);});q=d.filter(function(d){var g,k,l,m,q;if(-1 === f.indexOf(d))g=!1;else {g=a.Ja[d];d=b.Ja[d];g=g.zh !== d.zh || g.Ad !== d.Ad || g.tc !== d.tc || g.od !== d.od || g.fa !== d.fa || h(null !== (k=g.kx) && void 0 !== k?k:[],null !== (l=d.kx) && void 0 !== l?l:[]) || c(null !== (m=g.next) && void 0 !== m?m:{},null !== (q=d.next) && void 0 !== q?q:{})?!0:!1;}return g;});n=m.Hr(d,g.__spread(q,k,l));return {ZP:k,ZL:l,anb:q,TVb:n};};},function(d,b,a){var c,h,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Rwa=void 0;c=a(5);h=a(246);g=a(1001);m=a(437);d=(function(){function a(a){this.Otb=a;this.jua=!1;this.P7=new g.Gba();this.gv=new g.Gba();this.sJa=new m.Fba();}a.prototype.EXb=function(a,b){var f,g,k;function d(){var a,c,d,h,q,n;a=l.pop();c=k.get(a);d=c.Rq;h=c.iA;c=c.state;if(!m.P7.has(a)){m.P7.add(a);d=b(a,h,d,c);q=d.O7;n=d.state;g(a).forEach(function(b){var c,d;c=b.tXb;if(!f.P7.has(c) && (b=h + b.weight,q))if(f.gv.has(c)){d=f.sJa.get(c);b < d.iA && (d.iA=b,d.Rq=a,d.state=n,l.ZMb(c));}else (f.gv.add(c),k.set(c,{iA:b,Rq:a,state:n}),l.push(c));});}}f=this;g=this.Otb;k=this.sJa;c.assert(!this.jua);this.jua=!0;this.P7.clear();this.gv.clear();k.set(a,{iA:0,state:{root:!1,N_a:0}});for(var l=new h.tX([a],function(a,b){return k.get(a).iA - k.get(b).iA;}),m=this;!l.empty;){d();}this.jua=!1;};return a;})();b.Rwa=d;},function(d,b){var h,g,m;function a(a){return void 0 !== (null === a || void 0 === a?void 0:a.AFa);}function c(b){return (a(b)?b:Object.defineProperties(b,{AFa:{value:{},configurable:!1,enumerable:!1}})).AFa;}Object.defineProperties(b,{__esModule:{value:!0}});b.Gba=void 0;g=null !== (h=Number.MAX_SAFE_INTEGER) && void 0 !== h?h:1E9;m=Date.now() % g;d=(function(){function b(){this.x6=0;this.id=m=(m + 1) % g;}b.prototype.add=function(a){c(a)[this.id]=this.x6;return this;};b.prototype.has=function(b){return a(b) && c(b)[this.id] === this.x6;};b.prototype["delete"]=function(a){if(!this.has(a))return !1;c(a)[this.id]=void 0;return !0;};b.prototype.clear=function(){this.x6=(this.x6 + 1) % g;return this;};return b;})();b.Gba=d;},function(d,b,a){var h,g,m,f,k;function c(a){return {value:a.Kb,parent:a.Rq};}Object.defineProperties(b,{__esModule:{value:!0}});b.GCa=void 0;h=a(0);g=a(9);m=a(34);f=a(5);k=a(1003);d=(function(){function a(){this.Lb=new g.TAa();this.Ey=new k.YEa();}Object.defineProperties(a.prototype,{empty:{get:function(){return this.Lb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{size:{get:function(){return this.Lb.size;},enumerable:!1,configurable:!0}});a.prototype.reset=function(){var a;a=this.Lb.values();this.Lb.clear();this.Ey.clear();a.forEach(function(a){return a.gg();});};a.prototype.BE=function(a){return this.Lb.get(a);};a.prototype.has=function(a){return this.Lb.has(a);};a.prototype.uRa=function(a){return this.Ey.parent(a);};a.prototype.era=function(a){var b;if(!this.Lb["delete"](a.W.id,a))return !1;b=this.Ey.children(a);this.Ey.root === a?0 === b.length?this.Ey.clear():(f.assert(1 === b.length,"cannot remove the root branch with multiple successors"),this.Ey.kPb(b[0])):(f.assert(0 === b.length,"cannot remove non-root branch with successors"),this.Ey.remove(a));return !0;};a.prototype.forEach=function(a){var b;b=this;this.Lb.forEach(function(c,d){return a(c,d,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.Lb.reduce(function(b,d,f){return a(b,d,f,c);},b);};a.prototype.map=function(a){var b;b=this;return this.Lb.map(function(c,d){return a(c,d,b);});};a.prototype.filter=function(a){var b;b=this;return this.Lb.filter(function(c,d){return a(c,d,b);});};a.prototype.Oxb=function(){return this.filter(function(a){return a.SK;}).map(function(a){return a.W.id;});};a.prototype.cWb=function(a,b){var d,f,h;d=this;f=this.EGb(a,b);a=f.ZP;b=f.Fm;h=this.Ey.ZNb(f.target.map(c));f=h.ZL;h=h.z_a;f.forEach(function(a){return d.Lb["delete"](a.W.id,a);});a.forEach(function(a){a=a.Kb;return d.Lb.set(a.W.id,a);});return {ZP:a.map(function(a){return a.Kb;}),ZL:f,z_a:h.map(function(a){return a.value;}),Fm:b};};a.prototype.EGb=function(a,b){var d,g,k;function c(a,c){(a=b(a.W.id,c)) && g.push({Kb:a,Rq:c});return a;}d=this;g=[];k=[];return {target:a.reduce(function(a,b,g){var l,q;f.assert(0 === g || b.Rq);if(b.Rq && (q=null === (l=m.JJa(a,function(a){return a.Kb.W.id === b.Rq;})) || void 0 === l?void 0:l.Kb,!q))return (f.assert(void 0 !== m.Qg(k,function(a){return a.W.id === b.Rq;}),"predecessorSegmentId " + b.Rq + " specified without previously specifying predecessor requiredBranch."),k.push(b),a);(l=m.Qg(d.BE(b.W.id),function(a){return d.Ey.parent(a) === q || 0 === g;})) && l.KRb(b.W);(l=null !== l && void 0 !== l?l:c(b,q))?(l.Pn=b.Pn,a.push({Kb:l,Rq:q})):k.push(h.__assign(h.__assign({},b),{tMb:q}));return a;},[]),ZP:g,Fm:k};};return a;})();b.GCa=d;},function(d,b,a){var h,g,m;function c(a){return 0 === a.length || void 0 === a[0].parent && a.every(function(b,c){return 0 === c || m.Iw(a,function(a){return a.value === b.parent;}) < c;});}Object.defineProperties(b,{__esModule:{value:!0}});b.YEa=void 0;h=a(437);g=a(5);m=a(34);d=(function(){function a(){this.J=new h.Fba();}Object.defineProperties(a.prototype,{empty:{get:function(){return !this.uy;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{root:{get:function(){var a;return null === (a=this.uy) || void 0 === a?void 0:a.value;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{values:{get:function(){var a;a=[];this.zPa(function(b){return ! !a.push(b);});return a;},enumerable:!1,configurable:!0}});a.prototype.has=function(a){return ! !this.J.get(a);};a.prototype.parent=function(a){var b;a=this.J.get(a);g.assert(a,"Attempted to find the parent of a node not in the tree");return null === (b=a.parent) || void 0 === b?void 0:b.value;};a.prototype.children=function(a){a=this.J.get(a);g.assert(a,"Attempted to find the children of a node not in the tree");return a.children?a.children.map(function(a){return a.value;}):[];};a.prototype.add=function(a,b){var c;g.assert(!this.J.get(a),"Attempted to add a value to tree that is already present");c={value:a};void 0 === this.uy?(g.assert(void 0 === b,"a parent cannot be specified when the tree is empty"),this.uy=c):(g.assert(void 0 !== b,"a parent must be specified when the tree is non-empty"),b=this.J.get(b),g.assert(b,"Parent value does not exist in tree"),this.WJa(c,b));this.J.set(a,c);return this;};a.prototype.remove=function(a){a=this.J.get(a);g.assert(a,"Attempted to remove a node not in the tree");this.removeNode(a);return this;};a.prototype.removeNode=function(a){var b;b=this;this.Lja(function(a){return b.J["delete"](a);},a.value);void 0 === a.parent?this.uy=void 0:this.detach(a);};a.prototype.move=function(a,b){a=this.J.get(a);b=this.J.get(b);g.assert(a,"cannot move a value that is not in the tree");g.assert(b,"cannot move a value to a parent value not in the tree");g.assert(a.parent,"cannot move the root node");g.assert(!this.jDb(a,b),"cannot move a node below itself or one of its decendants");a.parent !== b && (this.detach(a),this.WJa(a,b));return this;};a.prototype.kPb=function(a){var b,c;b=this;a=this.J.get(a);g.assert(a,"cannot replant at a value that is not in the tree");c=[];this.detach(a);this.Lja(function(a){b.J["delete"](a);c.unshift(a);return !0;});this.uy=a;};a.prototype.clear=function(){this.uy && this.remove(this.uy.value);return this;};a.prototype.yPa=function(a,b){var c,d;c=this;a=this.J.get(a);g.assert(a,"cannot iterate children of a value not in the tree");null === (d=a.children) || void 0 === d?void 0:d.forEach(function(a){return b(a.value,c);});};a.prototype.zPa=function(a,b){var c;c=this;g.assert(!this.empty || void 0 === b,"cannot iterate from a value on an empty tree");this.empty || (b=null !== b && void 0 !== b?b:this.uy.value,a(b,this) && this.yPa(b,function(b){return c.zPa(a,b);}));};a.prototype.Lja=function(a,b){var c;c=this;g.assert(!this.empty || void 0 === b,"cannot iterate from a value on an empty tree");this.empty || (b=null !== b && void 0 !== b?b:this.uy.value,this.yPa(b,function(b){return c.Lja(a,b);}),a(b,this));};a.prototype.ZNb=function(a){var b,d,f;b=this;g.assert(c(a),"entries must be in topological order");0 === a.length?(d=this.values,f=[],this.clear()):(f=a.filter(function(a){return b.has(a.value) && a.parent !== b.parent(a.value);}),d=this.values.filter(function(b){return -1 === m.Iw(a,function(a){return a.value === b;});}),this.clear(),a.forEach(function(a){return b.add(a.value,a.parent);}));return {ZL:d,z_a:f};};a.prototype.WJa=function(a,b){var c;a.parent=b;(null !== (c=b.children) && void 0 !== c?c:b.children=[]).push(a);};a.prototype.detach=function(a){var b;g.assert(a.parent,"cannot detach the root");g.assert(void 0 !== a.parent.children,"logic error: parent node does not have children");b=a.parent.children.indexOf(a);g.assert(0 <= b,"logic error: node does not appear in the children of its parent");a.parent.children.splice(b,1);a.parent=void 0;};a.prototype.jDb=function(a,b){for(;void 0 !== b;){if(b === a)return !0;b=b.parent;}return !1;};return a;})();b.YEa=d;},function(d,b,a){var c,h,g,m,f,k,q,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Iva=void 0;c=a(0);h=c.__importDefault(a(3));g=a(17);m=a(9);f=a(21);k=a(5);q=a(125);n=a(71);d=(function(){function a(a,b,c,d,f,h,k){var l;l=this;void 0 === k && (k=500);this.G=a;this.config=b;this.mb=c;this.events=d;this.cja=f;this.bh=h;this.Zlb=k;this.jZa=this.nk=0;this.ru={Vr:0};this.state=new m.Kt(g.bc.ck);this.oB=new m.Kt(g.oa.oh);this.Xj=new q.XC({eF:10,Zu:this,source:"BufferStateTracker",ofa:function(){return {isBuffering:l.hg,alwaysRunUnderflowTimer:l.config.YI};}});}Object.defineProperties(a.prototype,{Vr:{get:function(){return this.ru.Vr;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{hg:{get:function(){return g.Dx(this.state.value);},enumerable:!1,configurable:!0}});a.prototype.C7=function(a){var b;b=this;Array.isArray(a) || (a=[a]);a.forEach(function(a){0 === a.I && (b.OKa=c.__assign(c.__assign({},b.OKa),{audio:{trackId:a.Ya,trackIndex:a.WM}}));});};a.prototype.BXa=function(a){this.hG(a,g.bc.cd);};a.prototype.OJb=function(){this.ru.Vr++;};a.prototype.CXa=function(a){this.config.YI || void 0 === this.Ix && this.hg && this.Lha();this.Ix={ME:a.httpCode,zg:a.errorCode,si:a.nativeCode};};a.prototype.qKb=function(){this.Ix=void 0;this.config.YI || this.I0();};a.prototype.Kk=function(a){this.hg || (this.hG(a,g.bc.nf),this.hg && (this.Ix || this.config.YI) && this.Lha());};a.prototype.nKb=function(a,b){this.state.value !== g.bc.cd && this.hG(a,g.bc.vO);this.C7(b);};a.prototype.nRb=function(a,b){k.assert(this.state.value === g.bc.cd && void 0 === this.GM);this.GM=a;b && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:b.Ya,trackIndex:b.WM}),this.C7(b));};a.prototype.xRb=function(a,b,c){k.assert(this.hg);this.zma=null !== a && void 0 !== a?a:this.zma;this.xma=null !== b && void 0 !== b?b:this.xma;void 0 === this.d3?this.d3=c:void 0 !== (null === c || void 0 === c?void 0:c.reason) && (this.d3.reason=c.reason);};a.prototype.wg=function(a,b,c){k.assert(this.hg && void 0 !== this.GM && void 0 === this.TD && void 0 === this.K7 && void 0 === this.f_);this.TD=a;this.K7=b;this.f_=c;this.Po=100;this.ELa();this.I0();this.state.value === g.bc.nf && (this.jZa=h["default"].time.aa());this.X0();this.set(g.bc.dk);this.f_=this.K7=this.TD=this.d3=this.xma=this.zma=this.GM=void 0;};a.prototype.stop=function(){this.set(g.bc.ck);this.ELa();this.I0();};a.prototype.xLa=function(a,b,c,d){var m,q,n,r,p,u,v,y,B,A,t;function f(a){var b;return {reason:a.reason,complete:a.complete,bl:null !== (b=a.Pz) && void 0 !== b?b:0};}function l(c){return c?c.Ju() || c.kp()?d.Oga(m.state.value,a,y >= m.config.ky,b,c,m.Vr):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};}m=this;k.assert(this.hg);if(!(this.state.value === g.bc.nf && h["default"].time.aa() < this.jZa + this.config.lWa)){v=c.Ika(0);c=c.Ika(1);y=h["default"].time.aa() - this.nk;if(v || c){B=l(v);A=l(c);this.Xj.Aw({as:f(B),vs:f(A),bt:y});t=c?A:B;t.O4a=c && A.Pz || 0;t.YJa=v && B.Pz || 0;this.config.Ylb && (null !== (q=null === v || void 0 === v?void 0:v.kp()) && void 0 !== q?q:1) && (null !== (n=null === c || void 0 === c?void 0:c.kp()) && void 0 !== n?n:1) && t.O4a > this.config.Tu && t.YJa > this.config.Tu && (B.complete=!0,A.complete=!0,t.reason="complete");B.complete && A.complete?(t.complete=!0,this.wg(null !== (r=t.reason) && void 0 !== r?r:"unknown",null !== (p=t.O4a) && void 0 !== p?p:0,null !== (u=t.YJa) && void 0 !== u?u:0)):(t.complete=!1,this.kmb(t),this.Xj.Aw({bp:this.Po}));}}};a.prototype.kmb=function(a){var b,c,d;d=a.zi;a.XA?d=(h["default"].time.aa() - this.nk) / this.config.ky:d || (d=(null !== (b=a.Pz) && void 0 !== b?b:0) / this.config.jj);a=Math.min(Math.max(Math.round(100 * d),null !== (c=this.Po) && void 0 !== c?c:0),99);a != this.Po && (this.Po=a);};a.prototype.hG=function(a,b){k.assert(b === g.bc.cd || void 0 !== a);this.GM=a;this.Po=0;this.S4=void 0;this.ru.Vr=0;a=this.state.value === g.bc.cd || this.state.value === g.bc.nf;this.nk=h["default"].time.aa();this.set(b);a || (this.Stb(),this.URb());};a.prototype.set=function(a){this.state.set(a);switch(a){case g.bc.ck:this.oB.set(g.oa.ck);break;case g.bc.cd:case g.bc.vO:this.oB.set(g.oa.cd);break;case g.bc.nf:this.oB.set(g.oa.nf);break;case g.bc.dk:this.oB.set(g.oa.Uc);}};a.prototype.Stb=function(){k.assert(this.events && void 0 !== this.Po);this.S4=this.Po;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:h["default"].time.aa(),percentage:this.Po});};a.prototype.URb=function(){var a;a=this;this.fpa=setInterval(function(){return a.Rtb();},this.Zlb);};a.prototype.ELa=function(){this.fpa && (clearInterval(this.fpa),this.fpa=void 0);};a.prototype.Rtb=function(){this.hg && this.events && void 0 !== this.Po && this.Po !== this.S4 && this.events.emit("buffering",{type:"buffering",time:h["default"].time.aa(),percentage:this.Po}) && (this.S4=this.Po);};a.prototype.X0=function(){var a;k.assert(this.events && this.GM && void 0 !== this.TD && void 0 !== this.f_ && void 0 !== this.K7);this.S4=this.Po;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:h["default"].time.aa(),actualStartPosition:this.GM,reason:this.TD,aBufferLevelMs:this.f_,vBufferLevelMs:this.K7,selector:this.zma,initBitrate:this.xma,initSelReason:null === (a=this.d3) || void 0 === a?void 0:a.reason,skipbackBufferSizeBytes:this.f9b},this.OKa));};a.prototype.Lha=function(){var a;a=this;this.config.w4a && (!this.Jy || this.Jy.state !== n.cl.complete && this.Jy.state !== n.cl.LJ?void 0 === this.Jy && (this.Jy=this.bh.fE(function(){return a.S3a();})):this.Jy.Gl());};a.prototype.I0=function(){this.Jy && (this.Jy.state !== n.cl.LJ && this.Jy.Tb(),this.Jy=void 0);};a.prototype.S3a=function(){var a,b,d;return c.__generator(this,function(c){switch(c.label){case 0:return (a=this.config.c4,this.G.trace("BufferingStateTracker: underflow, wait " + a + "ms"),[4,n.al.hN(f.T.$b(a))]);case 1:(c.di(),c.label=2);case 2:if(!this.hg)return [3,4];b=this.mb.K3 || 0;d=h["default"].time.aa() - b;if(d >= a)return (this.G.trace("Forcing streaming failure, ${elapsed}ms since data received"),this.cja.pKb(this.Ix),[2]);this.G.trace("BufferingStateTracker: network activity, wait " + (a - d) + "ms");return [4,n.al.hN(f.T.$b(a - d))];case 3:return (c.di(),[3,2]);case 4:return [2];}});};c.__decorate([q.Rb({Kc:"onTemporaryNetworkError",mm:!0})],a.prototype,"CXa",null);c.__decorate([q.Rb({Kc:"onUnderflow",mm:!0})],a.prototype,"Kk",null);c.__decorate([q.Rb({Kc:"bufferingComplete",mm:!0})],a.prototype,"wg",null);c.__decorate([q.Rb({Kc:"stop",mm:!0})],a.prototype,"stop",null);c.__decorate([q.Rb({Kc:"checkStreamingBufferingComplete",mm:!0})],a.prototype,"xLa",null);c.__decorate([q.Rb({Kc:"createUnderflowTask",mm:!0})],a.prototype,"Lha",null);c.__decorate([q.Rb({Kc:"destroyUnderflowTask",mm:!0})],a.prototype,"I0",null);c.__decorate([q.Rb({Kc:"onUnderflowTimeout",mm:!0})],a.prototype,"S3a",null);return a;})();b.Iva=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SOa=void 0;c=a(34);b.SOa=function(a,b){var d;d=[];a=a.map(function(a){var f,h;f=b(a.N);h=c.Hr(f,a.dh).map(function(a){return a.I;});d=c.NJa(d,h);return {Kb:a,dh:f};});return {bnb:d,Rlb:a};};},function(d,b,a){var c,h,g;Object.defineProperties(b,{__esModule:{value:!0}});b.XDa=void 0;c=a(0);h=a(21);g=a(5);d=(function(){function a(){}a.WAb=function(a){var b,d,f;if(a.Bn){a=c.__read(a.dh,2);f=a[1];a=null === (b=a[0].Nl) || void 0 === b?void 0:b.cs;b=null === (d=null === f || void 0 === f?void 0:f.Nl) || void 0 === d?void 0:d.cs;g.assert(a);d=b?h.T.min(a,b):a;return {AXb:a,BXb:d};}};return a;})();b.XDa=d;},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Dva=void 0;c=a(71);h=a(20);d=(function(){function a(a,b,c,d,h){this.bh=a;this.er=b;this.OHb=c;this.CJb=d;this.console=h;}a.zxb=function(a){var b;return null !== (b=a.wi) && void 0 !== b?b:a.dqa;};a.Dyb=function(a){var b,c;b=a.W;c=a.Wx;a=a.vL;if(b.zh)return b.zh;if(1 === c.length)return c[0];if(1 === a.length)return a[0];};a.prototype.lVb=function(b,d){var f,g,l;f=this;null === (g=this.v0) || void 0 === g?void 0:g.Tb();g=a.zxb(b).Fa(this.OHb);l=b.W;l.dt || 1 >= l.Wx.length || (d.rl(g)?(h.ma && this.console.trace("BranchDecisionMaker executing task for " + l.id + " right away as " + (g.da + " is in the past")),this.v0=this.er.n0(c.al.JXb,function(){return f.dVa(l);})):(h.ma && this.console.trace("BranchDecisionMaker scheduling task for " + l.id + " at " + g.da),this.v0=this.bh.n0(c.al.LV(g),function(){return f.dVa(l);})));};a.prototype.reset=function(){var a;null === (a=this.v0) || void 0 === a?void 0:a.Tb();this.v0=void 0;};a.prototype.dVa=function(b){var c;c=a.Dyb(b);h.ma && this.console.trace("BranchDecisionMaker making decision for " + b.id + ", decision is " + c);this.CJb(b.id,c,!0);};return a;})();b.Dva=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.PRa=void 0;b.PRa=function(a,b){return a.reduce(function(a,c){return a + c.Vxb(b).da;},0);};},function(d,b,a){var c,h;Object.defineProperties(b,{__esModule:{value:!0}});b.BMa=void 0;c=a(0);h=a(17);b.BMa=function(a){var g,l,n;function b(a){h.Dx(a.newValue) && !h.Dx(a.oldValue)?(null === n || void 0 === n?void 0:n.Tb(),n=l.n0.apply(l,c.__spread(d))):null === n || void 0 === n?void 0:n.Tb();}for(var d=[],g=1;g < arguments.length;g++){d[g - 1]=arguments[g];}g=a.tf;l=a.er;g.state.addListener(b);b({oldValue:h.bc.ck,newValue:g.state.value});};},function(d,b,a){var h;function c(a,b,c){return c[a] > (b[a] || Infinity)?1 === a?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.uEa=void 0;h=a(20);d=(function(){function a(a,b,c,d){this.cb=a;this.console=b;this.LQa=c;this.KQa=d;}a.prototype.Imb=function(a){var b,d;b=this.lnb(a);if(b || (b=this.uLa(a)))return {result:!1,reason:b};b=this.KQa();d=this.LQa();return {result:!0,reason:c(a,b,d)};};a.prototype.lnb=function(a){var b,d;this.cb.h2().total > (this.cb.Jka() || Infinity) && (b="playgraphMemoryLimit");if(this.cb.config.bua){b=this.KQa();d=this.LQa();b=d.total > (b.total || Infinity)?"globalMemoryLimit":c(a,b,d);}h.ma && b && this.console.log("checkIssueRequestByMemory: Cannot issue request due to " + b);return b;};a.prototype.uLa=function(a){var b;b=this.cb.config.Tx;if(this.cb.pyb(a) >= (b || Infinity))return "mediaDurationLimit";};return a;})();b.uEa=d;},function(d,b,a){var c,h,g,m,f,k;Object.defineProperties(b,{__esModule:{value:!0}});b.BDa=void 0;c=a(0);h=a(5);g=c.__importDefault(a(3));m=a(125);f=a(71);k=a(9);d=(function(){var c41;c41=2;function a(a,b,c){var d41,d;d41=2;for(;d41 !== 14;){switch(d41){case 3:var T99="Re";T99+="questPac";T99+="er";var p99="1S";p99+="IY";p99+="bZrNJC";p99+="p9";var l99="medi";l99+="a";l99+="|ase";l99+="js";var u99="ASEJS_";u99+="REQUES";u99+="T";u99+="_PA";u99+="CER";var O99="de";O99+="f";O99+="a";O99+="ult";this.console=new g[O99].Console(u99,l99);p99;this.Dn=new m.XC({Zu:this,source:T99,ofa:function(){var e41;e41=2;for(;e41 !== 1;){switch(e41){case 2:return {numOutstanding:d.kD};break;}}},eF:10});this.H_a=new k.kY();d41=6;break;case 2:d=this;this.C3=a;this.config=b;this.kD=0;d41=3;break;case 6:this.Nga=c.fE(function(){var f41;f41=2;for(;f41 !== 1;){switch(f41){case 2:var F99="d";F99+="e";F99+="fa";F99+="ul";F99+="t";return d.vLa(g[F99].time.aa());break;}}});d41=14;break;}}}for(;c41 !== 13;){switch(c41){case 7:var s99="v";s99+="L";s99+="a";var v99="checkRequest";v99+="O";v99+="pportunityRunner";var n99="L";n99+="F";var t99="remov";t99+="eReque";t99+="st";c.__decorate([m.Rb({Kc:t99,mm:!0})],a.prototype,n99,null);c.__decorate([m.Rb({Kc:v99,mm:!0})],a.prototype,s99,null);return a;break;case 2:var i99="D";i99+="w";var x99="addReq";x99+="u";x99+="e";x99+="s";x99+="t";var C99="k";C99+="m";var Z99="checkReque";Z99+="stOp";Z99+="portunity";Object.defineProperties(a.prototype,{gJb:{get:function(){var g41;g41=2;for(;g41 !== 1;){switch(g41){case 2:return this.kD;break;}}},enumerable:!1,configurable:!0}});a.prototype.km=function(){var h41;h41=2;for(;h41 !== 5;){switch(h41){case 2:this.Dn.Aw({taskState:this.Nga.state});this.Nga.state !== f.cl.lU && this.Nga.Gl();h41=5;break;}}};a.prototype.Dw=function(a){var i41;i41=2;for(;i41 !== 4;){switch(i41){case 2:var Q99="More than maxAllo";Q99+="w";Q99+="edOutstandingRequests are outstanding";this.Dn.Aw({mediaType:a.I,contentStartPts:a.Qb,contentEndPts:a.Pb});this.kD++;h.assert(this.kD <= this.config.b4,Q99);i41=4;break;}}};a.prototype.LF=function(a){var j41;j41=2;for(;j41 !== 3;){switch(j41){case 2:var R99="rem";R99+="ove";R99+="Request";var q99="Received remove request when";q99+=" the";q99+="re are no requests outstanding";this.Dn.Aw({mediaType:a.I,contentStartPts:a.Qb,contentEndPts:a.Pb});this.kD--;h.assert(0 <= this.kD,q99);this.km(R99);j41=3;break;}}};a.prototype.vLa=function(a){var k41,b,d,f;k41=2;for(;k41 !== 5;){switch(k41){case 2:k41=1;break;case 3:k41=8;break;k41=1;break;case 1:return c.__generator(this,function(){var l41;l41=2;for(;l41 !== 6;){switch(l41){case 8:var I99="requestO";I99+="pportunityR";I99+="un";I99+="nerC";I99+="omplete";this.Dn.YP(I99,{requestsIssued:f,scheduledMs:a,timeSinceScheduled:d},!0);return [2];break;case 2:var o99="d";o99+="e";o99+="f";o99+="aul";o99+="t";b=this.config.b4;d=g[o99].time.aa() - a;f=0;l41=4;break;case 4:this.H_a.push(d);l41=3;break;case 9:f++;l41=3;break;case 3:l41=this.kD < b && this.C3()?9:8;break;}}});break;}}};c.__decorate([m.Rb({Kc:Z99,mm:!0,Gr:!0})],a.prototype,C99,null);c.__decorate([m.Rb({Kc:x99,mm:!0})],a.prototype,i99,null);c41=7;break;}}})();b.BDa=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zxa=void 0;c=a(69);d=(function(){function a(a){this.mb=a;}Object.defineProperties(a.prototype,{vk:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.yu=function(a){var b;if(a.Lj === c.If.pu && this.mb){a={};b=this.mb.get();b && b.avtp && b.avtp.Ca && (a.avtp=b.avtp.Ca,a.dltm=b.avtp.N0);b && b.cdnavtp && (a.cdnavtp=b.cdnavtp,a.activecdnavtp=b.activecdnavtp);if(b=this.mb.j2())(b.bytesRequestedPacingVideo && (a.bytesRequestedPacingVideo=b.bytesRequestedPacingVideo,a.bytestotalVideo=b.bytestotalVideo),b.bytesRequestedPacingAudio && (a.bytesRequestedPacingAudio=b.bytesRequestedPacingAudio,a.bytestotalAudio=b.bytestotalAudio));this.mb.flush();if(b=this.mb.EQa())for(var d in b){b.hasOwnProperty(d) && (a["ne" + d]=Number(b[d]).toFixed(6));}return a;}};return a;})();b.zxa=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.pEa=void 0;c=a(69);d=(function(){function a(a){a.events.on("streamSelection",this.lKb.bind(this));}a.prototype.lKb=function(a){0 === a.mediaType && void 0 === this.kTa?this.kTa=a:1 === a.mediaType && void 0 === this.nTa && (this.nTa=a);};Object.defineProperties(a.prototype,{vk:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.yu=function(a){var b;if(a.Lj === c.If.iG)return (a=null !== (b=this.nTa) && void 0 !== b?b:this.kTa,{histdiscbw:null === a || void 0 === a?void 0:a.selDiscBw,histage:null === a || void 0 === a?void 0:a.histAge});};return a;})();b.pEa=d;},function(d,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.HEa=void 0;d=a(0);c=a(16);g=a(20);l=d.__importDefault(a(3));a=(function(){function a(a){this.bh=a;this.CY=[];this.reset();}Object.defineProperties(a.prototype,{vk:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{jT:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return g.ma;},enumerable:!1,configurable:!0}});a.prototype.reset=function(){var a,b;a=this;null === (b=this.iI) || void 0 === b?void 0:b.clear();this.iI=new c.sg();this.iI.on(this.bh,"clockChanged",function(){a.reset();a.BR("initial");});this.iI.on(this.bh,"stopping",function(){a.BR("stopping");});this.iI.on(this.bh.ta,"clockReset",function(){a.BR("clockReset");});this.iI.on(this.bh.ta,"stopStart",function(){a.BR("stopStart");});this.iI.on(this.bh.ta,"speedChanged",function(){a.BR("speedChanged");});};a.prototype.BR=function(a){this.CY.push({reason:a,audit:this.bh.lxb(),time:l["default"].time.aa()});5 < this.CY.length && this.CY.shift();};a.prototype.yu=function(){return this.CY;};return a;})();b.HEa=a;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.DDa=void 0;c=a(69);d=(function(){function a(a,b){this.mb=a;this.I_a=b;}Object.defineProperties(a.prototype,{vk:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.yu=function(a){var b;a=a.Lj;if(a === c.If.pu || a === c.If.ho){a={numOutstandingRequests:this.I_a.gJb,requestOpportunityDelayStats:this.I_a.H_a};b=this.mb.IIa;b && b.length && (a.activeRequests=JSON.stringify(b));return a;}};return a;})();b.DDa=d;},function(d,b,a){var c,g,l,m,f,k,q,n,r,p,B,A,y,t,J,D,U,S;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ca=void 0;c=a(0);g=a(16);l=a(17);m=a(9);f=a(1017);k=a(34);q=a(5);n=a(1018);r=a(20);p=a(93);B=a(1019);A=c.__importDefault(a(3));y=a(1020);t=a(1021);J=a(1022);D=a(259);U=a(1024);S=a(1025);d=(function(){function a(a,b,c,d,f){void 0 === d && (d=new t.Kwa());void 0 === f && (f=new y.Jwa());this.KOa=a;this.config=b;this.b_a=d;this.Rj=[];this.dZa=[];this.jN=[];this.events=new g.EventEmitter();this.G=m.Ku(A["default"],c,"PREFETCH");this.kfa(new J.twa(b));this.kfa(new S.aEa(b));this.Y0a({PE:b.AMb});this.rsa(f);}Object.defineProperties(a.prototype,{tqa:{get:function(){return this.Rj.map(function(a){return a.context;});},enumerable:!1,configurable:!0}});a.prototype.IRb=function(a){r.ma && q.assert(a,"Reconciliation strategy is undefined");this.b_a=a;};a.prototype.kfa=function(a){this.dZa.unshift(a);return this;};a.prototype.ZRb=function(a){r.ma && this.G.debug("Wish list changed",{V7b:a.length});this.jN=a;this.Bqa();};a.prototype.reset=function(){var a,b,g,h,k,l,m;try{for(var d=c.__values(this.Rj),f=d.next();!f.done;f=d.next()){g=f.value;h=g.cb;k=g.F3;l=g.context;if(h){h.gg();k.clear();m=D.n2(l.ge,h.cb);h.rU(m);}}}catch(P){a={error:P};}finally{try{f && !f.done && (b=d["return"]) && b.call(d);}finally{if(a)throw a.error;}}};a.prototype.Y0a=function(a){r.ma && this.G.debug("Budget changed",{e8b:this.tQ,U7b:a});this.tQ=a;this.Bqa();};a.prototype.znb=function(a,b){var c,d,f,g,h;if(b=this.b_a.Vvb(this.Rj,{cb:a,xi:b})){f=this.jN.indexOf(b.context.ge);r.ma && this.G.debug("Claiming item: " + D.ms(b.context.ge.key),{mk:A["default"].time.aa() - b.l7,buffer:null === (c=b.cb) || void 0 === c?void 0:c.dj(m.T.nb)});this.Jia(b.context,{hUa:!0});if(b.cb){c=b.cb;g=b.context;h=b.Vq;U.XCa.lPb(c,b.F3,this.G);a=D.n2(g.ge,a);h.jQb(null !== (d=c.A2(a)) && void 0 !== d?d:m.T.nb,f);c.Sta({PE:this.config.Ds || Infinity});}}this.config.Xjb || this.reset();return null === b || void 0 === b?void 0:b.cb;};a.prototype.ynb=function(){};a.prototype.getStats=function(){var a;a=A["default"].time.aa();return {VXb:this.jN.length,tqa:this.tqa.length,sMa:this.Rj.map(function(b){var c,d,f,g;return {id:D.ms(b.context.ge.key),buffer:null === (c=b.cb) || void 0 === c?void 0:c.dj(m.T.nb),budget:b.context.bUa,weight:b.context.A5,age:a - b.l7,timeOpened:a - (null !== (d=b.e3a) && void 0 !== d?d:0),state:l.bc[null !== (g=null === (f=b.cb) || void 0 === f?void 0:f.xg.value) && void 0 !== g?g:l.bc.ck]};})};};a.prototype.Jia=function(a,b){var d,f,g;void 0 === b && (b={});f=c.__assign({hUa:!1,fUa:!1},b);b=f.hUa;f=f.fUa;g=k.Qg(this.Rj,function(b){return b.context === a;});g && (this.Rj.splice(this.Rj.indexOf(g),1),f || (this.jN=this.jN.filter(function(b){return b !== a.ge;})),r.ma && this.G.debug("Dropping playgraph",{mk:A["default"].time.aa() - g.l7,buffer:null === (d=g.cb) || void 0 === d?void 0:d.dj(m.T.nb),H8b:!b}),b || this.Ss(g),this.Bqa());};a.prototype.rsa=function(a){q.assert(a,"Playgraph resolver is undefined");this.hqa=a;return this;};a.prototype.Bqa=function(){var a,b,d,g,h,l;a=this;b=f.dwa.eDb({UXb:this.jN,$Ab:this.tQ},this.dZa.map(function(a){return a.zga.bind(a);})).Rj;d=k.Hr(b,this.Rj,function(a,b){return D.isEqual(a.ge.key,b.context.ge.key);});g=k.Hr(this.Rj,b,function(a,b){return D.isEqual(a.context.ge.key,b.ge.key);});h=k.Hr(this.Rj,g);r.ma && this.G.debug("Re-evaluated prefetch items. new:" + d.length + ", evict: " + g.length + ", update: " + d.length);g=g.map(function(b){var c;c=b.context.ge.key;r.ma && a.G.debug("Releasing playgraph",D.ms(c));return a.Ss(b).then(function(){a.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:b.context.ge});});});l=h.map(function(d){return c.__awaiter(a,void 0,void 0,function(){var a,f;return c.__generator(this,function(c){switch(c.label){case 0:return (a=k.Qg(b,function(a){return D.isEqual(a.ge.key,d.context.ge.key);}),q.assert(a,"Couldn't find the requested item context"),[4,d.z5]);case 1:return (f=c.di(),k.Qg(this.Rj,function(a){return a === d;}) && (this.FJa(d.context,f),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:d.context.ge})),[2]);}});});});d=d.map(function(b){var c;c=a.frb(b);a.events.emit("itemQueued",{type:"itemQueued",wishListItem:b.ge});return c;});this.Rj=c.__spread(h,d);h=d.map(function(a){return a.z5.then(function(){});});h=g.concat(l).concat(h);Promise.all(h).then(function(){});};a.prototype.Ss=function(a){var b;b=this;return a.z5.then(function(d){return c.__awaiter(b,void 0,void 0,function(){var b;return c.__generator(this,function(c){switch(c.label){case 0:return (r.ma && this.G.debug("Removing prefetch playgraph",{size:d.dj(m.T.nb)}),a.ija.clear(),[4,this.KOa()]);case 1:return (b=c.di(),b.Ss(d),[2]);}});});});};a.prototype.crb=function(a){return c.__awaiter(this,void 0,void 0,function(){var b,d,f,g,h,k;k=this;return c.__generator(this,function(c){switch(c.label){case 0:return (b=a.context,d=D.ms(b.ge.key),r.ma && this.G.debug("Creating playgraph",d),[4,this.hqa.qVa(b)]);case 1:return (f=c.di(),[4,this.KOa()]);case 2:return (g=c.di(),h=g.WI(f,b.A5,b.xi,b.ge.IV,!1),a.ija.addListener(h.events,"error",function(a){r.ma && k.G.debug("Prefetch playgraph resulted in error",a.M5b);k.Jia(b);}),[2,h]);}});});};a.prototype.uKb=function(a,b){var c,d,f;c=this;d=a.context;f=D.ms(d.ge.key);this.FJa(d,b);b.open();b.dG({pv:function(a,b){var c;c=a.defaultTrackOrderList[0].audioTrackId;return k.Iw(b,function(a){return a.track_id === c;});}},{pv:function(a,b){var c;c=a.defaultTrackOrderList[0].videoTrackId;return k.Iw(b,function(a){return a.track_id === c;});}});b.rU(D.n2(d.ge,b.cb));b=d.ge.IV.zu(f);b.events && a.ija.addListener(b.events,"viewableExpired",function(){a.i7b=!0;c.Jia(a.context,{fUa:!0});});};a.prototype.FJa=function(a,b){var c;b.n4a(a.A5);b.Sta(a.bUa);a=a.CTb;c=a.video;b.p1a(new p.SC(a.audio,!0),new p.SC(c,!0));};a.prototype.frb=function(a){var b,d,f;b=this;d=new n.YCa();f={context:a,l7:A["default"].time.aa(),ija:new g.sg(),Vq:d};f.z5=this.crb(f);f.z5.then(function(g){return c.__awaiter(b,void 0,void 0,function(){var b;b=this;return c.__generator(this,function(){try{return (f.cb=g,g.gm(d),d.Okb(g),f.F3=new B.Ixa(g.events,{sSb:function(a){var b;b=a.pR;switch(b){case "buffering":return !1;case "bufferingStarted":f.F3.m_a(function(a){return "bufferingComplete" === a.pR || "updateStreamingPts" === a.pR;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":f.F3.m_a(function(a){return a.pR === b;});default:return !0;}}}),g.events.on("bufferingComplete",function(){b.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:a.ge});}),this.uKb(f,g),f.e3a=A["default"].time.aa(),[2,g]);}catch(ta){throw (r.ma && this.G.error("Exception occurred creating playgraph",ta),this.Ss(f),ta);}});});});return f;};return a;})();b.$Ca=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.dwa=void 0;d=(function(){function a(){}a.eDb=function(a,b){var f;function c(a){return d(f++)(a,c);}function d(a){return a >= b.length?function(){throw Error("The last delegate in the chain should not invoke next() nextDelegateIndex " + a);}:b[a];}f=0;return c(a);};return a;})();b.dwa=d;},function(d,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.YCa=void 0;c=a(0).__importDefault(a(3));g=a(69);d=(function(){function a(){this.wk=c["default"].time.aa();this.fd={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}a.prototype.Okb=function(a){this.cb=a;};a.prototype.jQb=function(a,b){var d;a=null === (d=this.cb) || void 0 === d?void 0:d.dj(a);this.fd={isPrefetchItem:!0,prefetchedVideoMs:a.pV,prefetchedAudioMs:a.nV,prefetchClaimDurationMs:c["default"].time.aa() - this.wk,prefetchRank:b};};Object.defineProperties(a.prototype,{vk:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});a.prototype.yu=function(a){if(a.Lj === g.If.iG)return this.fd;};return a;})();b.YCa=d;},function(d,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Ixa=void 0;c=a(0);d=(function(){function a(a,b){void 0 === b && (b={});this.cp=a;this.options=b;this.uE=[];this.rS=new g(a,this.rjb.bind(this));}a.prototype.rjb=function(a){for(var b,c,d,g,h,l,m=[],n=1;n < arguments.length;n++){m[n - 1]=arguments[n];}m={pR:a,Gr:m};(null !== (d=null === (c=(b=this.options).sSb) || void 0 === c?void 0:c.call(b,m,this.uE)) && void 0 !== d?d:1) && this.uE.push(m);return null !== (l=null === (h=(g=this.options).b9b) || void 0 === h?void 0:h.call(g,m)) && void 0 !== l?l:!0;};a.prototype.m_a=function(a){this.uE=this.uE.filter(function(b,c){return !a(b,c);});};a.prototype.hra=function(){var a;a=this;this.rS.U3a();this.uE.forEach(function(b){var d;(d=a.cp).emit.apply(d,c.__spread([b.pR],b.Gr));});this.rS.install();};Object.defineProperties(a.prototype,{length:{get:function(){return this.uE.length;},enumerable:!1,configurable:!0}});a.prototype.clear=function(){this.uE=[];};a.prototype.Tb=function(){this.rS.U3a();};return a;})();b.Ixa=d;g=(function(){function a(a,b){var d;d=this;this.cp=a;this.xQ=b;this.rS=function(a){for(var b,f=[],g=1;g < arguments.length;g++){f[g - 1]=arguments[g];}return d.xQ.apply(d,c.__spread([a],f))?(b=d.KXa).call.apply(b,c.__spread([d.cp,a],f)):!1;};this.KXa=this.cp.emit;this.install();}a.prototype.install=function(){this.cp.emit=this.rS;};a.prototype.U3a=function(){this.cp.emit=this.KXa;};return a;})();},function(d,b,a){var c,g,l,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Jwa=void 0;c=a(0);g=a(440);l=c.__importDefault(a(3));m=a(259);d=(function(){function a(){}a.prototype.qVa=function(a){return c.__awaiter(this,void 0,void 0,function(){var b,d,f,h,k;return c.__generator(this,function(c){switch(c.label){case 0:b=a.ge.key;if(!m.vS(b))return [3,2];d=b.fa;f=a.ge.IV.zu(d);return [4,l["default"].Promise.resolve(f.HV)];case 1:return (h=c.di(),k=h.pa,k.Ro?[2,g.rJ(k.Ro)]:[2,g.NU(d,"ps0")]);case 2:return [2,b.cb];}});});};return a;})();b.Jwa=d;},function(d,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Kwa=void 0;c=a(0);g=a(5);l=a(259);d=(function(){function a(){}a.ms=function(a){var b,c;b=a.Ja;a=a.hf;c=b[a].fa;Object.keys(b).forEach(function(a){return g.assert(b[a].fa === c);});return b[a].fa;};a.prototype.Vvb=function(b,d){return c.__read(b.filter(function(b){return a.ms(d.cb) === l.ms(b.context.ge.key);}),1)[0];};return a;})();b.Kwa=d;},function(d,b,a){var c,g;Object.defineProperties(b,{__esModule:{value:!0}});b.twa=b.wwa=void 0;c=a(93);g=a(1023);b.wwa=625E3;d=(function(){function a(a){this.config=a;}a.prototype.zga=function(a){var d,h,l;d=this.config.XQ;h=(this.config.WS || this.config.A0) * b.wwa / 1E3;l=Math.floor(a.$Ab.PE / h);return {Rj:a.UXb.sort(function(a,b){return a.Ud - b.Ud;}).slice(0,d).map(function(a,b){var d;d=a.key.config;return {bUa:{PE:b > l - 1?0:h},ge:a,A5:1,xi:d,CTb:{audio:[c.cE(d),new g.aca()],video:[c.dE(d),new g.aca()]}};})};};return a;})();b.twa=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.aca=void 0;c=a(17);d=(function(){function a(){}a.prototype.pl=function(a,b){return b === c.bc.dk?[]:a;};return a;})();b.aca=d;},function(d,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.XCa=void 0;c=a(20);d=(function(){function a(){}a.lPb=function(a,b,d){var f;f=a.open;a.open=function(){c.ma && d.log("Replaying " + b.length + " events from prefetched playgraph");b.hra();b.Tb();a.open=f;return f.call(a);};};return a;})();b.XCa=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.aEa=void 0;d=(function(){function a(a){this.config=a;}a.prototype.zga=function(a,b){var c,d;c=this;a=b(a);d=a.Rj.map(function(a){return a.ge.Ud;});a.Rj.forEach(function(a){a.A5=c.config.CMb / (2 << d.lastIndexOf(a.ge.Ud));});return a;};return a;})();b.aEa=d;},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.PCa=void 0;d=(function(){function a(a){var b;b=this;a=a.km;this.KE=function(){b.km();};this.km=a;}a.prototype.WI=function(a){a.events.on("requestsPruned",this.KE);};a.prototype.Ss=function(a){a.events.removeListener("requestsPruned",this.KE);};return a;})();b.PCa=d;},function(d,b,a){var c,g,l,m,f,k,q,n,r,p,B,A,y,t,J,D,U,S,O;Object.defineProperties(b,{__esModule:{value:!0}});b.dEa=void 0;c=a(0);g=a(16);l=c.__importStar(a(8));m=a(17);f=a(436);k=a(17);q=a(9);n=a(5);r=a(21);p=a(226);B=a(69);A=a(93);y=a(125);t=a(258);J=c.__importDefault(a(3));D=a(1028);U=a(1029);S=J["default"].Promise;O=0;d=(function(a){function b(b,d,f,h,l,m,r,p,u,v,I){var J,E,Y,S,da;S=a.call(this) || this;S.console=b;S.Iq=d;S.lP=f;S.RI=l;S.SU=m;S.ax=p;S.R=v;S.config=I;S.hD=!1;S.BY=!1;S.Yt=void 0;S.wg=function(){var a,b,c,d,f;null === (a=S.FY) || void 0 === a?void 0:a.clear();a=S.Rdb;f=S.chb;n.assert(a);S.jg && n.assert(f);S.jk.value !== k.oa.Wv && S.jk.value !== k.oa.ck && (null !== (b=S.lb) && void 0 !== b && b.Fu?(b=null === (d=null === (c=S.Iq.Ga.mb.get()) || void 0 === c?void 0:c.Ka) || void 0 === d?void 0:d.Ca,S.Xa.J3a("startplay",B.If.iG),S.r7.YP("emitBufferingComplete",{}),D.X0(S,a,S.lb.ne,b,f)):S.console.error("Shim received buffering complete but player has no position (player " + (S.lb?"":"un") + "defined, state " + S.jk.value + ")"));};S.cKa=function(){var a,b,c;S.r7.YP("audioTrackSwitchComplete",{});n.assert(void 0 !== S.qw);b=S.lP.audio_tracks[S.qw];c=S.qw;S.qw=void 0;D.lOa(S,b,c);null === (a=S.qXa) || void 0 === a?void 0:a.call(S);S.qXa=void 0;};n.assert(2 >= h.length,"Ase session shim suports a maximum of 1 parallel graph.");f=c.__read(h,2);b=f[0];f=f[1];S.eg=new g.sg();S.fa=b.cb.Ja[m[0].va].fa;S.jk=new q.Kt(k.oa.oh);S.fN=new A.ZC(S.console);S.Xa=b;S.jg=f;h.forEach(function(a){var b,c;b=a.dE(S.fN);c=a.cE();a.p1a(c,b);});S.i1a();S.r5b=!1;S.FNa=!1;D.rVa(S.console,d,S,b,f);da=O++;S.r7=new y.XC({Zu:S,source:"ShimSession",console:S.console,eF:50,ofa:function(){return {shimId:da};}});S.Xa.gm(new t.WC(S.r7));S.eua=void 0 !== (null === (Y=null === (E=(J=S.R).OR) || void 0 === E?void 0:E.call(J)) || void 0 === Y?void 0:Y.na);S.Jk=U.hKa(v);d=S.zMa({Ee:S.nVa(S.Xa.cb.Ee),g2:S.pRa.bind(S)});S.lb=d;S.jg && (S.Nk=S.zMa({Ee:S.nVa(S.jg.cb.Ee),g2:S.pRa.bind(S)}));S.lb.events.on("segmentPresenting",function(){S.Yt=S.HGa();});S.on("streamerend",function(){return S.HTb();});return S;}c.__extends(b,a);Object.defineProperties(b.prototype,{u:{get:function(){return this.fa;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ea:{get:function(){return this.ax.ea;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{ig:{get:function(){return this.eg;},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{Qd:{get:function(){return {PCb:{1:{$:{sa:Infinity}}}};},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{addEventListener:{get:function(){return this.addListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{removeEventListener:{get:function(){return this.removeListener.bind(this);},enumerable:!1,configurable:!0}});Object.defineProperties(b.prototype,{wta:{get:function(){return void 0 !== this.qw;},enumerable:!1,configurable:!0}});b.prototype.uFb=function(){var a,b,c,d,f;a=this;f=null === (d=null === (c=(b=this.R).OR) || void 0 === c?void 0:c.call(b)) || void 0 === d?void 0:d.na;n.assert(f,"video element is not defined");f.addEventListener("play",function(){return a.Nea();});f.addEventListener("pause",function(){return a.ik();});};b.prototype.HTb=function(){this.Iq.Ko(!0,this.ax.sessionId);};b.prototype.TB=function(a,b){var c;this.Xa.Ii((c={},c[a]=b,c));};b.prototype.open=function(){var a,b;this.hD || (this.hD=!0,this.Iq.Ko(this.config.hq,this.ax.sessionId),this.Xa.open(),null === (a=this.jg) || void 0 === a?void 0:a.open(),this.emit("openComplete",{type:"openComplete"}),this.Xa.rU(this.SU[0]),n.assert(this.lb,"asePlayer should be defined on session.open"),this.SU[1] && (a=this.Xa.GA(this.SU[0]),n.assert(a,"ShimSession.open(): Graph position did not map a valid content timestamp"),null === (b=this.jg) || void 0 === b?void 0:b.rU(this.SU[1],a.aA)),D.pVa(this.Iq,this,this.lb,this.console),this.jk.set(k.oa.cd),this.My(this.wg),this.Xa.XJa(this.lb),this.jg && (n.assert(this.Nk,"parallelPlayer should be defined on session.open"),this.jg.XJa(this.Nk)),this.eua && this.uFb());};b.prototype.pRa=function(){this.Qu || (this.Qu=new J["default"].MediaSource(this.Jk),this.Qu.Yb || (this.Qu.Yb=J["default"].MediaSource.Yb));return this.Qu;};b.prototype.zMa=function(a){void 0 === a && (a={});a=c.__assign({Tu:this.config.Tu},a);return this.Iq.Ga.Djb(this.Jk,a);};b.prototype.nVa=function(a){return a?null === a || void 0 === a?void 0:a.map(function(a){return "video" === a?1:0;}):[0,1];};b.prototype.close=function(){this.hD && (this.hD=!1);this.Iq.Ko(!0,this.ax.sessionId,!0);};Object.defineProperties(b.prototype,{KD:{get:function(){return "1.5";},enumerable:!1,configurable:!0}});b.prototype.flush=function(){var a;this.hD && this.jk.value !== k.oa.ck && this.jk.value !== k.oa.Wv && this.stop();this.Xa.J3a("endplay",B.If.pu);this.Xa.gg();null === (a=this.jg) || void 0 === a?void 0:a.gg();this.Iq.Uf.save();this.Iq.Mn.save();};b.prototype.paused=function(){this.eua || this.ik();};b.prototype.Ky=function(){this.eua || this.Nea();};b.prototype.ik=function(){this.jk.value === k.oa.Uc && (this.jk.set(k.oa.uj),this.Jk.emit("paused",{type:"paused",jd:this.Jk.ad}));};b.prototype.Nea=function(){this.jk.value === k.oa.uj && (this.jk.set(k.oa.Uc),this.Jk.emit("playing",{type:"playing",jd:this.Jk.ad}));};b.prototype.dc=function(){var a;this.hD && this.jk.value !== k.oa.ck && this.jk.value !== k.oa.Wv && this.stop();this.Iq.$Ob(this);this.hD && this.close();this.aw && (clearInterval(this.aw),this.aw=void 0);this.lb && this.Iq.Ga.bU(this.lb);this.Nk && this.Iq.Ga.bU(this.Nk);null === (a=this.Qu) || void 0 === a?void 0:a.pq();};b.prototype.suspend=function(){n.assert(!1,"Not supported");};b.prototype.resume=function(){n.assert(!1,"Not supported");};b.prototype.play=function(){var a;a=this;this.Xa.state !== f.io.CLOSED && (n.assert(this.lb,"ShimSession.play(), expected asePlayer to exist."),this.lb.resume(this.BY?[1]:void 0),this.jg && (n.assert(this.Nk,"ShimSession.play(), expected parallelPlayer to exist."),this.Nk.resume(this.BY?[1]:void 0)),this.jk.set(k.oa.Uc),this.Jk.emit("playing",{type:"playing",jd:this.Jk.ad}),this.emit("play"),this.aw || (this.aw=setInterval(function(){return a.PIb();},this.config.RD)));};b.prototype.stop=function(){this.jk.set(k.oa.Wv);n.assert(this.lb,"ShimSession.stop(), expected asePlayer to exist.");this.lb.pause();this.jg && (n.assert(this.Nk,"ShimSession.stop(), expected parallelPlayer to exist."),this.Nk.pause());this.Jk.emit("paused",{type:"paused",jd:this.Jk.ad});this.emit("stop");};b.prototype.Yr=function(a,b){var c,d;void 0 === b && (b=!0);if(!this.lb)return this.fail("Must call open prior to drmReady");a=parseInt(a);l.isFinite(a) && (b?(this.lb.CU(a),null === (c=this.Nk) || void 0 === c?void 0:c.CU(a)):(this.lb.msa(a),null === (d=this.Nk) || void 0 === d?void 0:d.msa(a)));};b.prototype.yK=function(){var a;if(!this.lb || !this.lb.Fu)return !1;a=this.lb.An(this.Xa.cb.Ja[this.lb.un.va].fa);return a && this.jg && this.Nk?this.Nk.An(this.jg.cb.Ja[this.Nk.un.va].fa):a;};b.prototype.ho=function(){this.jk.set(k.oa.nf);this.Jk.emit("underflow",{type:"underflow",jd:this.Jk.ad});this.My(this.wg);};b.prototype.e2=function(a){var b;b=B.If.iG;switch(a){case "intrplay":b=B.If.ho;break;case "endplay":b=B.If.pu;}a=this.Xa.e2(b);return c.__assign(c.__assign({},a),{aseApiVersion:this.KD});};b.prototype.NL=function(){this.Jk.emit("playbackRateChanged",{type:"playbackRateChanged",jd:this.Jk.ad});};b.prototype.Uj=function(){var a;a=this.Jk.$d();a={type:"skipped",pts:r.T.$b(a)};this.Jk.emit(a.type,a);return new p.HH(S.resolve()).Z_a;};b.prototype.mJ=function(a,b){var c;b=this.cla(b || 0,a);return null === (c=this.Xa.wn(b,a)) || void 0 === c?void 0:c.Qb;};b.prototype.Uo=function(a,b){var c;c=new r.T(b,1E3);return (c=this.Xa.Qq(c,{O1a:!0,N1a:!0}))?this.Xa.cb.Ja[c.va].tc + Number(c.offset.da.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + a + ", playerPts: " + b);};b.prototype.$w=function(a,b){a=this.cla(a || 0,b);a={va:a,offset:new r.T(b - this.Xa.cb.Ja[a].tc,1E3)};return (a=this.Xa.A2(a))?a.da:b;};b.prototype.GK=function(){var a,b,c;b={};c=null === (a=this.Xa) || void 0 === a?void 0:a.fK();a=this.jg?this.jg.fK():c;c && (b.vbuflmsec=c.totalvbuflmsecs,b.vbuflbytes=c.vbuflbytes);a && (b.abuflmsec=a.totalabuflmsecs,b.abuflbytes=a.abuflbytes);return b;};b.prototype.s5=function(){return this.eB("pipeliningDisabled");};b.prototype.CE=function(){return {Hd:0};};b.prototype.yn=function(){var a,b;return null !== (a=this.Yt) && void 0 !== a?a:(null === (b=this.lb) || void 0 === b?0:b.I2())?this.HGa():{id:this.SU[0].va,Hd:0,Qb:Infinity,Pb:0,ee:Infinity,Rc:0};};b.prototype.HGa=function(){var a,b,c,d,f,g,h,k,l;n.assert(this.lb,"attempted to get presenting branch information with no player");n.assert(this.lb.I2(),"attempted to get presenting branch information but player has no branches");g=this.lb.yn() || ({});h=g.W;k=g.Oo;l=g.dqa;g=g.x5;return {id:h.id,Hd:null !== (a=null === k || void 0 === k?void 0:k.da) && void 0 !== a?a:0,Qb:null !== (b=null === h || void 0 === h?void 0:h.Uk.da) && void 0 !== b?b:Infinity,Pb:null !== (c=null === h || void 0 === h?void 0:h.cs.da) && void 0 !== c?c:0,ee:null !== (d=null === l || void 0 === l?void 0:l.da) && void 0 !== d?d:Infinity,Rc:null !== (f=null === g || void 0 === g?void 0:g.da) && void 0 !== f?f:0};};b.prototype.u_a=function(){return this.eB("removeSession");};b.prototype.Lm=function(a,b,c){void 0 === b && (b=0);n.assert(!this.jg,"Seeking with dual playgraphs not supported.");b=null !== c && void 0 !== c?c:this.cla(b,a);this.Iq.Ko(this.config.hq,this.ax.sessionId);a={va:b,offset:r.T.$b(a - this.Xa.cb.Ja[b].tc)};this.Xa.rU(a);n.assert(this.lb);this.lb.resume();this.jk.set(k.oa.cd);this.My(this.wg);a=this.Xa.m0a(a);n.assert(a,"Valid position must be provided for seek");return a.offset.da;};b.prototype.seek=function(a,b){a=this.Uo(b,a);return this.Lm(a,b);};b.prototype.qn=function(a,b,c){var d,f;d=this.yn().id;f=this.Xa.uzb(d,a);if(b){if(!f.kXb)return (this.console.warn("chooseNextSegment, seamless transition, invalid destination: " + (a + " for current segment: " + d)),!1);if(void 0 !== f.Vu)return f.Vu === a;this.Xa.Xn(d,a,!1,b);return !0;}if(void 0 !== f.Vu)return (c || this.Lm(f.Qb,0),!1);f.NKa?(n.assert(this.lb),this.lb.reset(),this.Xa.Xn(d,a,!1,b),this.lb.resume(),this.jk.set(k.oa.cd),this.My(this.wg)):c || this.Lm(f.Qb,0);return ! !f.NKa;};b.prototype.Cw=function(){return this.eB("addManifest");};b.prototype.TP=function(){return this.eB("activateManifest");};b.prototype.upa=function(){this.YFa();};b.prototype.lG=function(a){var b,c,d,f,g;b=this.jg?this.Nk:this.lb;c=a.ND;n.assert(!this.jg,"ShimSesssion: Parallel graph does not support track switches.");if(void 0 !== this.qw)return !1;a=this.lP.audio_tracks;if(!a.some(function(a,b){if(a.track_id === c)return (d=a,f=b,!0);}))return !1;a=a[this.RI[0]];this.qw=f;g=null === b || void 0 === b?void 0:b.MB;g?this.YFa():(this.BY=!0,null === b || void 0 === b?void 0:b.pause([0]),this.emit("audioTrackSwitchStarted",{type:"audioTrackSwitchStarted",oldLangCode:a.language,oldNumChannels:a.channels,newLangCode:d.language,newNumChannels:d.channels,sourceBufferReset:g}));return !0;};b.prototype.Jl=function(a,b){this.fN.Jl(a,b);};b.prototype.Sg=function(a){return this.lb?this.lb.Sg(r.T.$b(a)):!1;};b.prototype.f1=function(){return this.eB("evaluateQoE");};b.prototype.Ssa=function(){return this.eB("stopBuffering");};b.prototype.hG=function(){return this.eB("startBuffering");};b.prototype.KRa=function(){return this.eB("getStreamingStatistics");};b.prototype.fail=function(a){this.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:a,manifestIndex:0});};b.prototype.cla=function(a,b){return 0 !== a?this.fail("Unexpected manifestIndex: " + a + ", single viewable playback only supports manifestIndex: 0"):this.Xvb(b);};b.prototype.Xvb=function(a){var b,c,d,f,h,k,l;b=this.Xa.cb;c=[];n.assert(0 <= a,"contentPts must be 0 or greater for segmentId lookup");for(var g in b.Ja){h=b.Ja[g];k=h.tc;h=h.Ad;l=a < Number(null !== h && void 0 !== h?h:Infinity);if(k <= a && l)c.push(g);else if((k=Math.min(Math.abs(a - k),Math.abs(a - h)),void 0 === d || k < d))(d=k,f=g);}n.assert(1 >= c.length,"Overlapped segments detected in branching, this is not supported");a=c[0] || f;n.assert(void 0 !== a,"segmentId from contentPts lookup failed");return a;};b.prototype.PIb=function(){var a,b;b=null === (a=this.Xa) || void 0 === a?void 0:a.fK();a=this.jg?this.jg.fK():b;b && a && this.emit("updateBufferLevel",{type:"updateBufferLevel",abuflbytes:a.abuflbytes,vbuflbytes:b.vbuflbytes,totalabuflmsecs:a.totalabuflmsecs,totalvbuflmsecs:b.totalvbuflmsecs,currentBandwidth:b.currentBandwidth});};b.prototype.eB=function(a){return this.fail("Method not implemented " + a);};b.prototype.YFa=function(){n.assert(void 0 !== this.qw);this.RI[0]=this.qw;this.i1a();this.My(this.cKa);};b.prototype.i1a=function(){var a;a=this;this.jg?(this.Xa.dG({pv:function(){}},{pv:function(){return a.RI[1];}}),this.jg.dG({pv:function(){return a.RI[0];}},{pv:function(){}})):this.Xa.dG({pv:function(){return a.RI[0];}},{pv:function(){return a.RI[1];}});this.BY=!1;};b.prototype.mRb=function(a){this.Rdb=a;};b.prototype.DRb=function(a){this.chb=a;};b.prototype.My=function(a){var b;a !== this.cKa && void 0 !== this.qw?this.qXa=a:(null === (b=this.FY) || void 0 === b?void 0:b.clear(),this.FY=this.jg?q.Kt.e5a([this.Xa.xg,this.lb.Mq,this.jg.xg,this.Nk.Mq],[m.bc.dk,!0,m.bc.dk,!0],this.AMa(a)):q.Kt.e5a([this.Xa.xg,this.lb.Mq],[m.bc.dk,!0],this.AMa(a)));};b.prototype.AMa=function(a){var b;b=this;return function(c){var d;c && (null === (d=b.FY) || void 0 === d?void 0:d.clear(),b.FY=void 0,S.resolve().then(a));};};c.__decorate([y.Rb({Kc:"updateChoiceMapEntry",Gr:!0})],b.prototype,"TB",null);c.__decorate([y.Rb({Kc:"open"})],b.prototype,"open",null);c.__decorate([y.Rb({Kc:"close"})],b.prototype,"close",null);c.__decorate([y.Rb({Kc:"paused"})],b.prototype,"ik",null);c.__decorate([y.Rb({Kc:"unpaused"})],b.prototype,"Nea",null);c.__decorate([y.Rb({Kc:"cleanup"})],b.prototype,"dc",null);c.__decorate([y.Rb({Kc:"suspend"})],b.prototype,"suspend",null);c.__decorate([y.Rb({Kc:"resume"})],b.prototype,"resume",null);c.__decorate([y.Rb({Kc:"play"})],b.prototype,"play",null);c.__decorate([y.Rb({Kc:"stop"})],b.prototype,"stop",null);c.__decorate([y.Rb({Gr:!0,Kc:"drmReady"})],b.prototype,"Yr",null);c.__decorate([y.Rb({Kc:"underflow"})],b.prototype,"ho",null);c.__decorate([y.Rb({Kc:"getLogdataReport"})],b.prototype,"e2",null);c.__decorate([y.Rb({Kc:"skipped"})],b.prototype,"Uj",null);c.__decorate([y.Rb({Kc:"seekByContentPts"})],b.prototype,"Lm",null);c.__decorate([y.Rb({Kc:"seek"})],b.prototype,"seek",null);c.__decorate([y.Rb({Kc:"chooseNextSegment",Gr:!0})],b.prototype,"qn",null);c.__decorate([y.Rb({Kc:"onAudioTrackSwitchStarted"})],b.prototype,"upa",null);c.__decorate([y.Rb({Kc:"switchTracks"})],b.prototype,"lG",null);return b;})(g.EventEmitter);b.dEa=d;},function(d,b,a){var l,m;function c(a,b,c){var d,f;d=Array.isArray(c)?c[0]:c;f=Array.isArray(c)?c[1]:c;b.on(d,function(b){a.emit(f,l.__assign(l.__assign({},b),{type:f}));});}function g(a,b,c,d){var f,g;b.events.once(a,function(a){(f=a) && g && d(f,g);});c.events.once(a,function(a){g=a;f && g && d(f,g);});}Object.defineProperties(b,{__esModule:{value:!0}});b.lOa=b.X0=b.pVa=b.rVa=void 0;l=a(0);m=a(20);b.rVa=function(a,b,d,h,n){var k;function f(a,b){c(d,a,b);}b=n?[h,n]:[h];["buffering",["debug","managerdebugevent"],"endOfStream","lastSegmentPts","locationSelected","segmentAborted","startEvent",["transportReport","transportreport"]].forEach(function(a){return f(h.events,a);});n?(f(n.events,"initialAudioTrack"),g("openComplete",h,n,function(a){d.emit("openComplete",a);}),g("streamerEnd",h,n,function(a){d.emit("streamerend",l.__assign(l.__assign({},a),{type:"streamerend"}));})):(f(h.events,"openComplete"),f(h.events,["streamerEnd","streamerend"]),f(h.events,"initialAudioTrack"));h.events.on("logdata",function(a){d.emit("logdata",l.__assign(l.__assign({},a),{fields:l.__assign(l.__assign({},a.fields),{aseApiVersion:d.KD})}));});k=!0;h.events.on("bufferingStarted",function(a){d.wta && k?k=!1:(d.r7.YP("bufferingStarted",{}),d.emit("bufferingStarted",a));});h.events.on("bufferingComplete",function(a){d.wta?k=!0:d.mRb(a);});null === n || void 0 === n?void 0:n.events.on("bufferingComplete",function(a){d.wta || d.DRb(a);});h.events.on("error",function(a){a=l.__assign(l.__assign({},a),{manifestIndex:0});d.emit("error",a);});d.on("error",function(){});h.events.on("segmentComplete",function(a){d.emit("segmentComplete",{type:"segmentComplete",mediaType:a.mediaType,manifestIndex:0,segmentId:a.segmentId});});h.events.on("segmentNormalized",function(a){var b;b=Math.floor(a.viewableContentEnd.da);d.emit("maxPosition",{type:"maxPosition",index:0,endPts:b,maxPts:b,maxSeekPts:Math.floor(a.viewableEarliestContentEnd.da)});d.emit("manifestRange",{type:"manifestRange",index:0,manifestOffset:0,startPts:0,endPts:b,maxPts:b});});h.events.on("segmentStarting",function(a){d.emit("maxBitrates",{type:"maxBitrates",audio:a.maxBitrates.audio,video:a.maxBitrates.video});d.emit("segmentStarting",a);});b.forEach(function(b){b.events.on("serverSwitch",function(a){d.emit("serverSwitch",{type:"serverSwitch",segmentId:a.segmentId,mediatype:a.mediatype,server:a.server,reason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});});b.events.on("streamSelected",function(a){var c;c=b.GA(a.position);d.emit("streamSelected",{type:"streamSelected",nativetime:a.nativetime,mediaType:a.mediaType,streamId:a.streamId,manifestIndex:0,trackIndex:a.trackIndex,streamIndex:a.streamIndex,movieTime:c.aA.da,bandwidth:a.bandwidth,longtermBw:a.longtermBw,rebuffer:a.rebuffer});});b.events.on("updateStreamingPts",function(b){var c;c=d.u;m.ma && a.trace("converting updateStreamingPts, movieId:",c);d.emit("updateStreamingPts",{type:"updateStreamingPts",mediaType:b.mediaType,manifestIndex:0,trackIndex:b.trackIndex,segmentId:b.position.va,movieTime:Math.floor(b.completePlayerStreamingTimestamp.da)});});});};b.pVa=function(a,b,d,g){[["debug","managerdebugevent"],"segmentAppended","startEvent","logdata"].forEach(function(a){return c(b,d.events,a);});d.events.on("streamPresenting",function(a){var c,d;c=a.playerTimestamp.da;d=b.Xa.GA(a.position);void 0 === d?g.warn("ShimSession cannot map streamPresenting: " + JSON.stringify(a)):b.emit("streamPresenting",{type:"streamPresenting",startPts:Math.floor(c),contentStartPts:Math.floor(d.aA.da),mediaType:a.mediaType,manifestIndex:0,trackIndex:a.trackIndex,streamIndex:a.streamIndex});});d.events.on("segmentPresenting",function(a){var c,d,f;c=b.Xa.GA(a.position);d=a.playerTimestamp.Fa(c.aA);f=a.position.va;b.FNa || (b.emit("manifestPresenting",{type:"manifestPresenting",index:0,pts:a.playerTimestamp.da,movieId:c.fa.toString(),replace:!1,contentOffset:d.da}),b.FNa=!0);b.emit("segmentPresenting",{type:"segmentPresenting",segmentId:f,contentOffset:d.da,metrics:a.metrics});});d.events.on("ptsChanged",function(a){b.emit("ptschanged",a.initialTimestamp.da);b.Jk.emit("skipped");});};b.X0=function(a,b,c,d,g){var f;c=c.da;g=null !== g && void 0 !== g?g:b;a.emit("logdata",{type:"logdata",target:"startplay",fields:{hasasereport:!1,hashindsight:!1,buffCompleteReason:b.reason,actualbw:d,initSelReason:null !== (f=b.initSelReason) && void 0 !== f?f:"unknown",bcVBufferLevelMs:b.vBufferLevelMs,bcABufferLevelMs:g.aBufferLevelMs}});a.emit("ptschanged",c);a.emit("bufferingComplete",{type:"bufferingComplete",time:b.time,actualStartPts:c,aBufferLevelMs:g.aBufferLevelMs,vBufferLevelMs:b.vBufferLevelMs,selector:b.selector,initBitrate:b.initBitrate,skipbackBufferSizeBytes:b.skipbackBufferSizeBytes});};b.lOa=function(a,b,c){a.emit("audioTrackSwitchComplete",{type:"audioTrackSwitchComplete",trackId:b.track_id,trackIndex:c});};},function(d,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.hKa=void 0;d=a(0);c=a(16);g=d.__importDefault(a(110));l=a(9);b.hKa=function(a){if(a.odb)return a;g["default"](c.EventEmitter.prototype,a);Object.defineProperties(a,{odb:{value:!0},ad:{get:function(){return new l.T(this.$d(),1E3);}},playbackRate:{get:function(){return Math.max("function" === typeof this.xn?this.xn():1,.01);}}});return a;};},function(d,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vn=b.lMa=void 0;b.lMa={Su:["minInitVideoBitrate",-Infinity],Joa:["minHCInitVideoBitrate",-Infinity],Sx:["maxInitVideoBitrate",Infinity],dT:["minInitAudioBitrate",-Infinity],cT:["minHCInitAudioBitrate",-Infinity],QS:["maxInitAudioBitrate",Infinity],u4:["minAcceptableVideoBitrate",-Infinity],aT:["minAcceptableVMAF",0],JHb:["minAcceptableVMAFRebufferScalingFactor",0],Hoa:["minAllowedVideoBitrate",-Infinity],GGb:["maxAllowedVideoBitrate",Infinity],jF:["minAllowedVmaf",-Infinity],uVa:["maxAllowedVmaf",Infinity],KM:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],$0:["enableResolutionVMAFStreamFilter",!1],Rpa:["percentCapTitlesForResolutionVMAFStreamFilter",100],g6:["resolutionVMAFCappingRuleList",[]],SSa:["ignoreUserFilterOnEmptyResult",!0],eT:["minRequiredBuffer",2E4],z4:["minRequiredAudioBuffer",0],jj:["minPrebufSize",5800],Ioa:["minCheckBufferingCompleteInterval",200],AOa:["enableMoreFrequentBufferingCompleteCheck",!1],lWa:["minimumBufferingCompleteInterval",1E4],a6:["requireDownloadDataAtBuffering",!1],bTa:["indicatorForDownloadDataAtBuffering","oncomplete"],b6:["requireSetupConnectionDuringBuffering",!1],Uqa:["rebufferingFactor",1],Lq:["maxBufferingTime",2E3],cua:["useMaxPrebufSize",!0],bB:["maxPrebufSize",4E4],ooa:["maxRebufSize",Infinity],qvb:["fastRebufferRecoveryThreshold",Infinity],pvb:["fastRebufferRecoverBwThrehold",3E3],a3:["initialBitrateSelectionCurve",null],gTa:["initSelectionLowerBound",-Infinity],hTa:["initSelectionUpperBound",Infinity],i7:["throughputPercentForAudio",15],Yfa:["bandwidthMargin",0],$fa:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],plb:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,Vw:76376,scale:18862.4,gamma:3.0569}],Zfa:["bandwidthMarginContinuous",!1],qlb:["bandwidthMarginForAudio",!0],dta:["switchConfigBasedOnInSessionTput",!0],rha:["conservBandwidthMargin",20],FQ:["conservBandwidthMarginTputThreshold",6E3],sha:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],I2a:["switchAlgoBasedOnHistIQR",!1],NB:["switchConfigBasedOnThroughputHistory","iqr"],noa:["maxPlayerStateToSwitchConfig",-1],Qna:["lowEndMarkingCriteria","iqr"],i$:["IQRThreshold",.5],Xla:["histIQRCalcToUse","simple"],Jr:["bandwidthManifold",{curves:[{min:.05,max:.82,Vw:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,Vw:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Ds:["maxTotalBufferLevelPerSession",0],KSa:["highWatermarkLevel",3E4],r3a:["toStableThreshold",3E4],p7:["toUnstableThreshold",0],Isa:["skipBitrateInUpswitch",!1],mua:["watermarkLevelForSkipStart",8E3],Qla:["highStreamRetentionWindow",9E4],Rna:["lowStreamTransitionWindow",51E4],Sla:["highStreamRetentionWindowUp",5E5],Tna:["lowStreamTransitionWindowUp",1E5],Rla:["highStreamRetentionWindowDown",6E5],Sna:["lowStreamTransitionWindowDown",0],Pla:["highStreamInfeasibleBitrateFactor",.5],Lx:["lowestBufForUpswitch",9E3],U3:["lockPeriodAfterDownswitch",15E3],Vna:["lowWatermarkLevel",15E3],Mx:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],Wna:["lowestWaterMarkLevelBufferRelaxed",!1],zoa:["mediaRate",1.5],i4:["maxTrailingBufferLen",15E3],gQ:["audioBufferTargetAvailableSize",262144],CV:["videoBufferTargetAvailableSize",1048576],OVa:["maxVideoTrailingBufferSize",8388608],wVa:["maxAudioTrailingBufferSize",393216],o1:["fastUpswitchFactor",3],rvb:["fastUpswitchFactorWithoutHeaders",3],qja:["fastDownswitchFactor",3],Tx:["maxMediaBufferAllowed",27E4],K7b:["minMediaBufferLen",1E4],Gsa:["simulatePartialBlocks",!0],H1a:["simulateBufferFull",!0],tha:["considerConnectTime",!0],qha:["connectTimeMultiplier",1],WUa:["lowGradeModeEnterThreshold",12E4],XUa:["lowGradeModeExitThreshold",9E4],AVa:["maxDomainFailureWaitDuration",3E4],vVa:["maxAttemptsOnFailure",18],UOa:["exhaustAllLocationsForFailure",!0],GVa:["maxNetworkErrorsDuringBuffering",20],c4:["maxBufferingTimeAllowedWithNetworkError",6E4],YI:["alwaysRunUnderflowTimer",!0],bPa:["fastDomainSelectionBwThreshold",2E3],W2a:["throughputProbingEnterThreshold",4E4],X2a:["throughputProbingExitThreshold",34E3],JUa:["locationProbingTimeout",1E4],gPa:["finalLocationSelectionBwThreshold",1E4],U2a:["throughputHighConfidenceLevel",.75],V2a:["throughputLowConfidenceLevel",.4],Hna:["locationStatisticsUpdateInterval",6E4],MFb:["locationSelectorPersistFailures",!0],COa:["enablePerfBasedLocationSwitch",!1],s7b:["maxRateMaxFragmentGroups",4500],Wpa:["pipelineScheduleTimeoutMs",2],Ux:["maxPartialBuffersAtBufferingStart",2],Koa:["minPendingBufferLen",3E3],aB:["maxPendingBufferLen",6E3],mub:["enableNginxRateLimit",!1],P4:["nginxSendingRate",4E4],qub:["enableRequestPacingToken",!1],mHb:["mediaRequestPacingSpeed",2],yma:["initialMediaRequestToken",2E4],a4:["maxActiveRequestsSABCell100",2],f4:["maxPendingBufferLenSABCell100",500],P_a:["resetActiveRequestsAtSessionInit",!0],pOa:["enableCprAudio",!1],qOa:["enableCprVideo",!1],Lnb:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3]}],oTb:["staticPacingRateKbps",0],LKb:["paceRateSelectorAlgorithm","default"],BOa:["enablePaceReportLogging",!1],poa:["maxStreamingSkew",2E3],JGb:["maxBufferOccupancyForSkewCheck",Infinity],NWb:["useBufferOccupancySkipBack",!0],loa:["maxPendingBufferPercentage",10],fL:["maxRequestsInBuffer",120],K2:["headerRequestSize",4096],NBb:["headerCacheEstimateHeaderSize",!1],pF:["neverWipeHeaderCache",!1],E4a:["useSidxInfoFromManifestForHeaderRequestSize",!1],n1:["fastPlayHeaderRequestSize",0],dF:["maxRequestSize",0],oL:["minRequestSize",65536],bT:["minBufferLenForHeaderDownloading",1E4],M1a:["smartHeaderPreDownloading",!1],Ztb:["enableAllHeadersPreDownloading",!1],j8b:["onlyAllowPtsUpdatePolling",!1],PHb:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],dM:["reserveForSkipbackBufferMs",15E3],npa:["numExtraFragmentsAllowed",2],wp:["pipelineEnabled",!0],eL:["maxParallelConnections",3],WWb:["usePipelineForAudio",!1],VWb:["usePipelineDetectionForAudio",!1],P1a:["socketReceiveBufferSize",0],A_:["audioSocketReceiveBufferSize",32768],eN:["videoSocketReceiveBufferSize",65536],C4a:["usePipelineDetectionForVideo",!1],THb:["minVideoSocketReceiveBufferSize",65536],Nla:["headersSocketReceiveBufferSize",32768],fSb:["shareDownloadTracks",!0],gSb:["shareOpenRangeTracks",!1],o5:["perPipelineRequestQueues",!1],Moa:["minTimeBetweenHeaderRequests",void 0],A7:["updatePtsIntervalMs",1E3],kga:["bufferTraceDenominator",0],RD:["bufferLevelNotifyIntervalMs",2E3],Xsa:["streamingStatusIntervalMs",2E3],ky:["prebufferTimeLimit",6E4],w4:["minBufferLevelForTrackSwitch",2E3],oub:["enablePenaltyForLongConnectTime",!1],Ppa:["penaltyFactorForLongConnectTime",2],Pna:["longConnectTimeThreshold",200],mfa:["additionalBufferingLongConnectTime",2E3],nfa:["additionalBufferingPerFailure",8E3],ZT:["rebufferCheckDuration",6E4],zOa:["enableLookaheadHints",!1],RUa:["lookaheadFragments",2],lA:["enableOCSideChannel",!0],yqa:["probeRequestTimeoutMilliseconds",3E4],C8b:["probeRequestConnectTimeoutMilliseconds",8E3],GX:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],rub:["enableSCByteRangeHints",!1],d4a:["updateDrmRequestOnNetworkFailure",!0],zVa:["maxDiffAudioVideoEndPtsMs",1E3],l7b:["maxAudioFragmentOverlapMs",80],psb:["deferAseHeaderCache",!1],sNa:["deferAseScheduling",!1],JUb:["timeBeforeEndOfStreamBufferMark",6E3],ioa:["maxFastPlayBufferInMs",2E4],hoa:["maxFastPlayBitThreshold",2E8],xVa:["maxBufferingCompleteBufferInMs",Infinity],v4:["minAudioMediaRequestSizeBytes",0],B4:["minVideoMediaRequestSizeBytes",0],IGb:["maxAudioMediaRequestSizeBytes",Infinity],VGb:["maxVideoMediaRequestSizeBytes",Infinity],PGb:["maxMediaRequestSizeBytesInFraction",1],lL:["minAudioMediaRequestDuration",0],qL:["minVideoMediaRequestDuration",0],nL:["minMediaRequestDuration",0],HGb:["maxAudioMediaRequestDuration",Infinity],UGb:["maxVideoMediaRequestDuration",Infinity],RS:["maxMediaRequestDuration",Infinity],tfa:["allowFirstRequestAggregation",!1],LHb:["minAudioMediaRequestDurationCache",0],SHb:["minVideoMediaRequestDurationCache",0],lub:["enableMultiFragmentRequest",!1],ZM:[["useHeaderCache","usehc"],!0],E7:[["useHeaderCacheData","usehcd"],!0],XQ:["defaultHeaderCacheSize",4],gia:["defaultHeaderCacheDataCount",4],A0:["defaultHeaderCacheDataPrefetchMs",0],Jla:["headerCacheMaxPendingData",6],Kla:["headerCachePriorityLimit",5],ESa:["headerCacheAdoptBothAV",!1],XWb:["usePipelineForBranchedAudio",!0],tnb:["childBranchBatchedAmount",1E4],Tu:["minimumTimeBeforeBranchDecision",2E3],SGb:["maxRequestsToAttachOnBranchActivation",void 0],Ooa:["minimumJustInTimeBufferLevel",3E3],gub:["enableJustInTimeAppends",!1],uOa:["enableDelayedSeamless",!1],z4b:["branchEndPtsIntervalMs",250],qCb:["ignorePtsJustBeforeCurrentSegment",!1],CVa:["maxFragsForFittableOnBranching",300],gLb:["pausePlaylistAtEnd",!0],fjb:["adaptiveParallelTimeoutMs",1E3],TJ:["enableAdaptiveParallelStreaming",!1],jga:["bufferThresholdToSwitchToSingleConnMs",45E3],iga:["bufferThresholdToSwitchToParallelConnMs",35E3],Wtb:["enableAPSForBranching",!1],S7:["waitForPendingConnAdaptation",!1],Xoa:["networkFailureResetWaitMs",2E3],Woa:["networkFailureAbandonMs",6E4],h4:["maxThrottledNetworkFailures",5],h7:["throttledNetworkFailureThresholdMs",200],Una:["lowThroughputThreshold",400],lja:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],IUb:["timeAtEachBitrateRoundRobin",1E4],$Pb:["roundRobinDirection","forward"],gCb:["httpsConnectErrorAsPerm",!1],uWa:["mp4ParsingInNative",!1],Ah:["enableManagerDebugTraces",!1],kVa:["managerDebugMessageInterval",1E3],jVa:["managerDebugMessageCount",20],cXa:["notifyManifestCacheEom",!0],mR:["enableUsingHeaderCount",!1],R1a:["sourceBufferInOrderAppend",!0],Us:["requireAudioStreamToEncompassVideo",!1],kJa:["allowAudioToStreamPastVideo",!1],xMa:["countGapInBuffer",!1],lJa:["allowCallToStreamSelector",!1],IKa:["bufferThresholdForAbort",2E4],W6:["ase_stream_selector","optimized"],Rfa:["audiostreamSelectorAlgorithm","selectaudioadaptive"],vma:["initBitrateSelectorAlgorithm","default"],oga:["bufferingSelectorAlgorithm","default"],FTb:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],EOa:["enableThroughputTraceResearchData",!1],Y2a:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],mv:["researchEnvironmentEnabled",!1],uub:["enableStreamSelectionAugmentData",!1],blb:["augmentDataNumOfChunks",30],fNa:["ase_ls_failure_simulation",""],Xha:["ase_dump_fragments",!1],Zha:["ase_location_history",0],$ha:["ase_throughput",0],hNa:["ase_simulate_verbose",!1],Ig:["stallAtFrameCount",void 0],X1a:["stallAtFrameCountAudio",void 0],eoa:["marginPredictor","simple"],w4a:["useBackupUnderflowTimer",!0],P9b:["useManifestDrmHeader",!0],Q9b:["useOnlyManifestDrmHeader",!0],Yoa:["networkMeasurementGranularity","video_location"],vIb:["netIntrStoreWindow",36E3],T7b:["minNetIntrDuration",8E3],Seb:["fastHistoricBandwidthExpirationTime",10368E3],ufb:["bandwidthExpirationTime",5184E3],Reb:["failureExpirationTime",86400],FHa:["historyTimeOfDayGranularity",4],Oeb:["expandDownloadTime",!0],dgb:["minimumMeasurementTime",500],cgb:["minimumMeasurementBytes",131072],qhb:["throughputMeasurementTimeout",2E3],phb:["initThroughputMeasureDataSize",262144],Ofb:["historicBandwidthUpdateInterval",2E3],bgb:["minimumBufferToStopProbing",1E4],e4b:["throughputPredictor","ewma"],Qra:["secondThroughputEstimator","slidingwindow"],t0a:["secondThroughputMeasureWindowInMs",3E5],d4b:["throughputMeasureWindow",5E3],f4b:["throughputWarmupTime",5E3],c4b:["throughputIQRMeasureWindow",1E3],L3b:["IQRBucketizerWindow",15E3],DVa:["maxIQRSamples",100],hWa:["minIQRSamples",5],$3b:["connectTimeHalflife",10],U3b:["responseTimeHalflife",10],T3b:["historicThroughputHalflife",14400],S3b:["historicResponseTimeHalflife",100],R3b:["historicHttpResponseTimeHalflife",100],tya:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],sHa:["minReportedNetIntrDuration",4E3],b4b:["throughputBucketMs",500],O3b:["bucketHoltWintersWindow",2E3],Feb:["enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")],Peb:["experimentalFilter",["throughput-wssl"]],xda:["filterDefinitionOverrides",{}],teb:["defaultFilter","throughput-ewma"],bib:["secondaryFilter","throughput-sw"],gI:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}],Z0:["enableHudsonFieldTest",!1],a1:["enableWsslEstimate",!1],roa:["maxWsslRequestSize",131072],qoa:["maxWsslRequestRatio",.2],n5a:["wsslAggregationMethod","max"],hS:["hudsonTitles",["81127954","70125931","80158148"]],dma:["hudsonStreams",("2076313785 2076314053 2076314493 2076314871 2076314922 2076315208 2076315730 2076316089 2076316293 2076316728").split(" ")],koa:["maxPartialBuffersAtHudson",1],sT:["numberOfChunksPerSegment",4],g7:["targetContentLatency",1E4],hta:["targetLongContentLatency",3E4],C4:["minimumTimeDelay",1],lR:["enableSessionHistoryReport",!0],Mia:["earlyStageEstimatePeriod",1E4],uUa:["lateStageEstimatePeriod",3E4],e4:["maxNumSessionHistoryStored",10],A4:["minSessionHistoryDuration",3E5],QBb:["highAndStableModelName","baseline"],Pia:["enableHighAndStablePredictor",!1],y4:["minNumSessionHistory",5],u4b:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],M2:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],RBb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],k_:["addHeaderDataToNetworkMonitor",!0],Qsa:["startMonitorOnLoadStart",!1],jra:["reportFailedRequestsToNetworkMonitor",!1],r5:["periodicHistoryPersistMs",0],n6:["saveVideoBitrateMs",0],lT:["needMinimumNetworkConfidence",!0],dga:["biasTowardHistoricalThroughput",!1],QFb:["logMemoryUsage",!1],FSa:["headerCacheTruncateHeaderAfterParsing",!0],Os:["probeServerWhenError",!0],Gw:["allowSwitchback",!0],GF:["probeDetailDenominator",100],d4:["maxDelayToReportFailure",300],hq:["allowParallelStreaming",!1],kHb:["mediaPrefetchDisabled",!1],fWa:["minBufferLevelToAllowPrefetch",5E3],RJ:["editVideoFragments",!1],F5b:["editAudioFragments",!0],vQb:["seamlessAudio",!1],xIb:["newSeamlessAudio",!1],wQb:["seamlessAudioProfiles",[]],xQb:["seamlessAudioProfilesAndTitles",{}],jM:["seamlessAudioMaximumSyncError",void 0],kM:["seamlessAudioMinimumSyncError",void 0],g3:["insertSilentFrames",0],h3:["insertSilentFramesOnSeek",!1],i3:["insertSilentFramesOnSeekForTitles",[]],sTa:["insertSilentFramesOnSeekCount",3],uwb:["forceDiscontinuityAtTransition",!0],$sa:["supportAudioResetOnDiscontinuity",void 0],d7:["supportAudioEasingOnDiscontinuity",void 0],Ptb:["editCompleteFragments",!0],VHb:["minimumAudioFramesPerFragment",1],Lz:["applyProfileTimestampOffset",!1],$i:["applyProfileStreamingOffset",!0],rZa:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],GVb:["truncateEndOfStreamAudio",!1],PWb:["useDpiAssumedAacEncoderDelay",!0],q4:["mediaSourceSupportsNegativePts",!1],mL:["minAudioPtsGap",void 0],Wkb:["audioOverlapGuardSampleCount",2],DOa:["enableRecordJSBridgePerf",!1],q$:["JSBridgeTDigestConfig",{maxc:25,c:.5}],FUb:["throughputThresholdSelectorParam",0],LWb:["upswitchDuringBufferingFactor",2],bkb:["allowUpswitchDuringBuffering",!1],pMa:["contentOverrides",void 0],xha:["contentProfileOverrides",void 0],Wla:["hindsightDenominator",0],Vla:["hindsightDebugDenominator",0],N2:["hindsightAlgorithmsEnabled",[]],O2:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],AJa:["appendMediaRequestOnComplete",!1],R7:["waitForDrmToAppendMedia",!1],z1:["forceAppendHeadersAfterDrm",!1],aia:["declareBufferingCompleteAtSegmentEnd",!1],Nu:["maxActiveRequestsPerSession",void 0],Cna:["limitAudioDiscountByMaxAudioBitrate",!1],yfa:["appendFirstHeaderOnComplete",!0],Y6:["strictBufferCapacityCheck",!1],cQ:["aseReportDenominator",0],Ifa:["aseReportIntervalMs",3E5],Cta:["translateToVp9Draft",!1],OM:["switchableAudioProfiles",[]],Xkb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],J2a:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],Zkb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],MVa:["maxStartingVideoVMAF",110],pL:["minStartingVideoVMAF",1],UP:["activateSelectStartingVMAF",!1],t6:["selectStartingVMAFTDigest",-1],mM:["selectStartingVMAFMethod","fallback"],F0a:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],nB:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],Ysb:["disablePtsStartsEvent",!0],Wqa:["recordFirstFragmentOnSubBranchCreate",!0],SVa:["mediaCacheConvertToBinaryData",!1],voa:["mediaCacheSaveOneObject",!1],tVa:["markRequestActiveOnFirstByte",!1],U0:["earlyAppendSingleChildBranch",!0],$M:["useNativeDataViewMethods",!0],vfa:["alwaysNotifyEOSForPlaygraph",!1],OWb:["useCorrectDrainingAmounts",!0],qE:["enableNewAse",!1],Pl:["useNewApi",!1],qia:["aseDiagnostics",[{vk:"queue-audit",enabled:!0},{vk:"task-audit",enabled:!0},{vk:"trace-ShimSession",enabled:!0},{vk:"trace-engine",enabled:!0},{vk:"trace-RequestPacer",enabled:!0},{vk:"trace-BufferStateTracker",enabled:!0},{vk:"trace-GraphStreamingProcess",enabled:!0},{vk:"trace-AsePlaygraph",enabled:!0}]],Plb:["branchDistanceThreshold",6E4],b4:["maxAllowedOutstandingRequests",4],Loa:["minStreamableConcurrencyWindow",3E3],NVa:["maxStreamableConcurrencyWindow",Infinity],Vsa:["streamableConcurrencyFactor",.3],vQ:["bufferingConcurrencyWindow",7800],ckb:["alwaysAllowContiguousRequestsWhenStreaming",!1],fLb:["pauseOnConcurrencyFailure",!0],AMb:["prefetchBudgetInBytes",0],aOb:["rebufferRiskHalfLife",1E4],bua:["useBufferSizeLimiter",!1],DXb:["viewableReleaseTimeoutMs",1E3],CMb:["prefetchWeightBudget",32],Noa:["minimumDownstreamBranchProbability",.075],Ylb:["bufferingCompleteOnBranchComplete",!1]};b.vn=b.lMa;},function(d,b,a){var c,g,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Ov=b.DC=b.Zy=b.aL=b.Vba=void 0;c=a(0);g=a(95);Object.defineProperties(b,{DC:{enumerable:!0,get:function(){return g.DC;}}});Object.defineProperties(b,{Ov:{enumerable:!0,get:function(){return g.Ov;}}});Object.defineProperties(b,{aL:{enumerable:!0,get:function(){return g.aL;}}});Object.defineProperties(b,{Vba:{enumerable:!0,get:function(){return g.Vba;}}});l=c.__importDefault(a(3));d=(function(a){function b(c,d,f,g,h){return a.call(this,b.console,c,d,f,g,h) || this;}c.__extends(b,a);Object.defineProperties(b,{console:{get:function(){return this.G || (this.G=new l["default"].Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return b;})(g.Zy);b.Zy=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.OMa=void 0;b.OMa=function(a,b,d,g){return {wRa:function(){var b;b=a.Rka();g.qs && (b+=g.qs);return b;},la:b,request:d,zm:!1};};},function(d,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});b.iB=void 0;d=a(1);c=a(445);g=a(1034);l=a(138);b.iB=new d.Tc(function(a){a(c.vX).to(g.RAa).Z();a(l.nH).mV(function(a){return function(){return a.ob.get(c.vX).lIb;};});});},function(d,b,a){var g;function c(){var a;a=this;this.ready=!1;this.lIb=new Promise(function(b){a.KPb=b;});}Object.defineProperty(b,"__esModule",{value:!0});b.RAa=void 0;d=a(0);a=a(1);c.prototype.mIb=function(a){this.ready || (this.KPb(a),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};g=c;g=d.__decorate([a.O()],g);b.RAa=g;},function(d,b,a){var c,g,l,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.Xh=void 0;d=a(1);c=a(84);g=a(446);l=a(1036);m=a(448);f=a(1037);b.Xh=new d.Tc(function(a){a(c.yt).jf(function(){return function(){return ja._cad_global.device;};});a(m.d9).to(f.Pwa).Z();a(g.c9).to(l.Nwa).Z();});},function(d,b,a){var g,l,m,f,k,n;function c(a,b){this.ta=a;this.Kqa=b;}Object.defineProperty(b,"__esModule",{value:!0});b.Nwa=void 0;d=a(0);g=a(35);l=a(4);m=a(135);f=a(447);k=a(53);a=a(1);c.prototype.Swb=function(){for(var a="",b=this.ta.Be.ca(l.ga),c=6;c--;){a=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[b % 32] + a;b=Math.floor(b / 32);}for(;30 > a.length;){a+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.Kqa.FZa(new f.Iba(0,31,k.nXa))];}return a;};n=c;n=d.__decorate([a.O(),d.__param(0,a.l(g.hh)),d.__param(1,a.l(m.rO))],n);b.Nwa=n;},function(d,b,a){var g,l,m,f,k,n,p,r,u,B,A,y,t;function c(a,b,c,d,f,g,h,k,l,m){this.Osb=a;this.Vk=b;this.Ta=d;this.Oha=f;this.oc=g;this.debug=h;this.iXb=k;this.Nha=l;this.kLb=m;this.w9=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.wb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.Pwa=void 0;d=a(0);g=a(2);l=a(22);m=a(1038);f=a(6);k=a(446);n=a(41);p=a(88);r=a(27);u=a(1);B=a(63);A=a(449);y=a(450);a=a(451);c.prototype.XOa=function(a){try{return a.match(this.w9)[2];}catch(D){}};c.prototype.ZOa=function(a){try{return a.match(this.w9)[1];}catch(D){}};c.prototype.create=function(a){var b;b=this;return new Promise(function(c,d){b.Vk.create().then(function(f){var k,l,n,q,r,p;function h(f){b.Ta.jn(f) && b.Ta.jn(k)?(l=new m.Owa(f,k,void 0,n,a.pia || "cadmium"),c(l)):d({ka:g.K.Awa});}k=a.pA;if(a.oka)(n="bind_device",b.kLb.Pe(b.log,{}).then(function(a){h(a.esn);})["catch"](function(a){d(a);}));else if(a.K1){r=a.Yh;if(b.Ta.jn(r)){p=b.ZOa(r);p != a.pA && b.log.error("esn prefix from ui is different",{ui:p,cad:a.pA,ua:a.userAgent});}else a.Kna && b.log.error("esn from ui is missing");f.load(a.CNa).then(function(a){q=a.value;b.Ta.jn(q) && (!1,b.Ta.jn(r)?(a=b.XOa(r),n=a === q?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):n="storage_esn_not_in_config",h(k + q));})["catch"](function(c){var q;function l(){f.save(a.CNa,q,!1).then(function(){h(k + q);})["catch"](function(a){d(a);});}function m(){q=b.Osb.Swb();!1;l();}c.ka === g.K.bz?b.Ta.jn(a.Yh)?(q=b.XOa(a.Yh),b.Ta.jn(q)?(n="config_since_not_in_storage",l()):(n="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.Yh),m())):(n="generated_since_not_in_config_and_storage",m()):d(c);});}else a.Qsb && b.Oha && b.Oha.getKeyByName?b.Oha.getKeyByName(a.clb).then(function(a){a=a.id;if(b.Ta.Ho(a))(a=String.fromCharCode.apply(void 0,b.oc.decode(a)),b.debug.assert("" != a),k=b.ZOa(a),h(a));else throw "ESN from getKeyByName is not a string";})["catch"](function(a){d({ka:g.K.P8,Ab:b.iXb.Ve(a)});}):a.Psb && b.Nha && b.Nha.tQa?b.Nha.tQa().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=k + a;b.debug.assert(b.w9.test(a));h(c);})["catch"](function(){d({ka:g.K.P8});}):h();})["catch"](function(a){d(a);});});};t=c;t=d.__decorate([u.O(),d.__param(0,u.l(k.c9)),d.__param(1,u.l(B.qt)),d.__param(2,u.l(f.zb)),d.__param(3,u.l(l.Ie)),d.__param(4,u.l(y.L8)),d.__param(5,u.l(n.Ki)),d.__param(6,u.l(p.xt)),d.__param(7,u.l(r.tg)),d.__param(8,u.l(A.K8)),d.__param(9,u.l(a.Haa))],t);b.Pwa=t;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Owa=void 0;b.Owa=function(a,b,d,g){this.Yh=a;this.pA=b;this.fja=g;};},function(d,b,a){var c,g,l,m,f,k,n,p,r,u,B,A,y,t,J,D,U,S,O,Y,E,da;Object.defineProperty(b,"__esModule",{value:!0});b.PUa=void 0;d=a(1);c=a(138);g=a(1040);l=a(1041);m=a(1042);f=a(1043);k=a(1044);n=a(14);p=a(1045);r=a(1046);u=a(1047);B=a(42);A=a(84);y=a(457);t=a(453);J=a(452);D=a(77);U=a(262);S=a(51);O=a(458);Y=a(1048);E=a(461);da=a(462);b.PUa=new d.Tc(function(a){a(S.Tm).to(l.Eza).Z();a(t.eaa).to(m.LAa).Z();a(J.I$).to(f.Oza).Z();a(U.G$).to(k.Lza).Z();a(S.nX).to(p.Dza).Z();a(D.Et).to(r.Jza).Z();a(U.F$).to(u.Kza).Z();a(O.H$).to(Y.Mza).Z();a(E.i9).to(da.Twa).Z();a(y.a8).to(g.Kua).Z();a(S.B$).mV(function(a){return function(){return a.ob.get(c.nH)().then(function(b){return new Promise(function(c){var f,g,h;function d(){g() && h() && b.iT?c(a.ob.get(S.Tm)):f.bd(d);}f=a.ob.get(B.ph);g=a.ob.get(n.Sc);h=a.ob.get(A.yt);f.bd(d);});});};});});},function(d,b,a){var g,l,m,f,k,n,p;function c(a,b,c,d){var f;f=this;this.ZFb=a;this.$E=b;this.config=d;this.Xqa=[];this.ZFb.U5(g.y5a,this.mBb.bind(this));c().then(function(a){var b;b=d().Zr.twb;f.OGb=b?p.Ni[b.toUpperCase()]:p.Ni.ERROR;f.Mj=a;f.XQb();});}Object.defineProperty(b,"__esModule",{value:!0});b.Kua=void 0;d=a(0);l=a(1);m=a(14);f=a(107);k=a(51);n=a(77);p=a(6);c.prototype.mBb=function(a,b){this.Mj?this.DZa(a,b):this.Xqa.push([a,b]);};c.prototype.XQb=function(){var a,b;a=this;b=this.Xqa;this.Xqa=[];b.forEach(function(b){a.DZa(b[0],b[1]);});};c.prototype.DZa=function(a,b){var c;if(this.Mj && this.mSb(a)){c={debugMessage:a.message,debugCategory:a.pn};a.fd.forEach(function(a){return c=Object.assign(Object.assign({},c),a.value);});c=Object.assign(Object.assign({},c),{prefix:"debug"});a=this.$E.Tr("debug",p.Ni[a.level].toLowerCase(),c,b);this.Mj.kd(a);}};c.prototype.mSb=function(a){var b;b=this.OGb;return void 0 !== b && a.level <= b && !a.fd.find(function(a){return a.oR(p.JN);});};a=g=c;a.y5a="adaptorAll";a=g=d.__decorate([l.O(),d.__param(0,l.l(f.uC)),d.__param(1,l.l(n.Et)),d.__param(2,l.l(k.B$)),d.__param(3,l.l(m.Sc))],a);b.Kua=a;},function(d,b,a){var g,l,m,f,k,n,p,r,u,B,A;function c(a,b,c,d,f,g,h){this.config=a;this.json=b;this.Ea=c;this.OFb=d;this.ZS=g;this.Yha=h;this.u3=this.ym=!1;this.listeners=[];l.In(this,"json");this.la=f.wb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.Eza=void 0;d=a(0);g=a(1);l=a(53);m=a(33);f=a(452);k=a(42);n=a(6);p=a(51);r=a(453);u=a(2);B=a(91);a(181);A=a(454);c.prototype.$a=function(){this.ym=!0;};c.prototype.kd=function(a){var b;b=this;this.wSb(a) || (!1,0 < a.size.tk(this.config.LGb)?this.la.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(this.listeners.forEach(function(b){return b.sHb(a);}),!1,this.ZS.hfa(a),this.Ea.bd(function(){b.ewb();})));};c.prototype.flush=function(a){var b;a=void 0 === a?!1:a;b=this;return this.u3?(this.la.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,d){b.la.trace("Flushing",n.JN);b.Di();b.Ea.bd(function(){b.bsa(a).then(function(){c();})["catch"](function(a){d(a);});});});};c.prototype.addListener=function(a){this.listeners.push(a);};c.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0 <= a && this.listeners.splice(a,1);};c.prototype.bsa=function(a){var b,c;a=void 0 === a?!1:a;b=this;if(!this.ym)return (this.la.trace("LogBatcher is not initialized"),Promise.resolve());if(this.u3)return (this.la.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());c=this.ZS.uxb();if(0 === c.length && !a)return (this.la.trace("No logblobs to send"),Promise.resolve());!1;this.Di();this.listeners.forEach(function(){});a=Promise.resolve();for(var d={},f=N(c),g=f.next();!g.done;(d={bga:d.bga},g=f.next())){d.bga=g.value;a=a.then((function(a){return function(){return b.TQb(a.bga);};})(d));}return a.then(function(){return b.mA();})["catch"](function(a){c.filter(function(a){return !a.Ex;}).forEach(function(a){return a.uq();});b.mA();throw Error("Send failure. " + a);});};c.prototype.TQb=function(a){var b;b=this;this.la.trace("Sending batch: " + a.size,n.JN);return Promise.resolve(this.ZS.ROb(a)).then(function(){return b.OFb.send(a.hF);}).then(function(){return a.NM();})["catch"](function(c){b.la.warn("Failed to send batch of logblobs.",c,n.JN);a.uq();b.iSb(c) && b.ZS.gjb(a);b.xSb(c) && (b.u3=!0);throw c;});};c.prototype.iSb=function(a){return a.Vg === u.gX.FBa?!1:this.config.ffa;};c.prototype.xSb=function(a){return a.wd === u.K.Yxa || a.wd === u.K.UN || a.wd === u.K.YN?!0:!1;};c.prototype.ewb=function(){var a;a=this;0 < this.ZS.size.tk(this.config.EVa)?this.bsa()["catch"](function(b){return a.la.warn("Failed to send log messages on size threshold. " + b);}):this.mA();};c.prototype.Di=function(){this.UE && (!1,this.UE.cancel(),this.UE=void 0);};c.prototype.mA=function(){this.UE || (!1,this.UE=this.Ea.Ai(this.config.UQb,this.Zx.bind(this)));};c.prototype.Zx=function(){var a;a=this;this.u3=!1;this.Di();this.bsa()["catch"](function(b){return a.la.warn("Failed to send log messages on timer. " + b);});};c.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(J){}return b;};c.prototype.wSb=function(a){return 0 <= this.config.C1a.indexOf(a.type)?!0:a.type === A.Je.debug?0 <= this.config.B1a.indexOf(a.data.debugCategory):!1;};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(p.nX)),d.__param(1,g.l(m.Vy)),d.__param(2,g.l(k.ph)),d.__param(3,g.l(f.I$)),d.__param(4,g.l(n.zb)),d.__param(5,g.l(r.eaa)),d.__param(6,g.l(B.IN))],a);b.Eza=a;},function(d,b,a){var l,m,f,k,n,p,r;function c(a){this.KI=f.nb;this.aea=[];this.eP=this.iZ=!1;this.LFa=0;a && (this.KI=a.size,this.aea=a.hF,a instanceof c && (this.LFa=a.Skb + 1));}function g(a,b,c,d){this.tHb=a;this.config=b;this.Af=c;this.json=d;m.In(this,"json");this.la=this.Af.wb("MessageQueue");this.Lr=[];}Object.defineProperty(b,"__esModule",{value:!0});b.LAa=void 0;d=a(0);l=a(1);m=a(53);f=a(47);k=a(262);n=a(6);p=a(33);a=a(51);g.prototype.hfa=function(a){var b,c;0 === this.Lr.length && this.Lr.push(this.rka());if(a=this.dAb(a)){b=this.tHb.measure([a]);c=this.Lr[this.Lr.length - 1];0 < c.size.add(b).tk(this.config.EVa) && (c=this.rka(),this.Lr.push(c));c.hfa(a);}};g.prototype.uxb=function(){var a;a=this.Lr.filter(function(a){return a.Kmb;});this.Lr.push(this.rka());a.forEach(function(a){return a.yGb();});return a;};g.prototype.gjb=function(a){a.Ex || this.Lr.unshift(new c(a));};g.prototype.ROb=function(a){a=this.Lr.indexOf(a);0 <= a && this.Lr.splice(a,1);};g.prototype.dAb=function(a){try{return {data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};}catch(y){var b,c;b={};a=a.data;c=a.debugMessage;c && "string" === typeof c && (b.originalDebugMessage=c);(a=a.debugCategory) && "string" === typeof a && (b.originalDebugCategory=a);this.la.error("JSON.stringify error: " + y.message,b);}};g.prototype.rka=function(){return new c();};ma.Object.defineProperties(g.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.Lr.reduce(function(a,b){return a.add(b.size);},f.nb);}}});r=g;r=d.__decorate([l.O(),d.__param(0,l.l(k.G$)),d.__param(1,l.l(a.nX)),d.__param(2,l.l(n.zb)),d.__param(3,l.l(p.Vy))],r);b.LAa=r;c.prototype.NM=function(){this.iZ=!1;this.eP=!0;};c.prototype.uq=function(){this.iZ=!1;};c.prototype.hfa=function(a){this.aea.push(a);this.KI=this.KI.add(a.size);};c.prototype.yGb=function(){this.iZ=!0;};ma.Object.defineProperties(c.prototype,{Skb:{configurable:!0,enumerable:!0,get:function(){return this.LFa;}},size:{configurable:!0,enumerable:!0,get:function(){return this.KI;}},hF:{configurable:!0,enumerable:!0,get:function(){return this.aea;}},Kmb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.hF.length && !1 === this.iZ;}},Ex:{configurable:!0,enumerable:!0,get:function(){return this.eP;}}});},function(d,b,a){var l,m,f,k,n,p,r,u,B,A,y;function c(a,b,c,d,f,g,h,k){this.za=a;this.platform=c;this.Xh=d;this.json=f;this.Ed=g;this.Hh=h;this.XFb=k;m.In(this,"json");this.la=b.wb("LogblobSender");}function g(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Oza=void 0;d=a(0);l=a(1);m=a(53);f=a(33);k=a(4);n=a(27);p=a(19);r=a(31);u=a(84);B=a(6);A=a(455);a=a(66);c.prototype.send=function(a){var b;b=this;return new Promise(function(c,d){var f;try{f=a.reduce(function(a,c){a.entries.push(b.Qqb(c));return a;},new g());c(b.Vwb(f));}catch(O){b.la.error(O.message);d(O);}}).then(function(a){return b.esa(a);});};c.prototype.Qqb=function(a){return this.Ed.gT(this.Ed.gT({},a.data),{esn:this.Xh().Yh,sev:a.severity,type:a.type,lver:this.platform.WFb,jssid:this.za.id,devmod:this.platform.oia,jsoffms:a.timestamp.Fa(this.za.YE).ca(k.ga),clienttime:a.timestamp.ca(k.ga),client_utc:a.timestamp.ca(k.Ym),uiver:this.Hh.Hy});};c.prototype.Vwb=function(a){var b;b=this;try{return this.json.stringify(a);}catch(S){for(var c={},d=0;d < a.entries.length;(c={VU:c.VU,Ne:c.Ne},++d)){c.Ne=Object.assign({},a.entries[d]);try{this.json.stringify(c.Ne);}catch(O){c.VU=void 0;this.Ed.nA(c.Ne,(function(a){return function(c,d){try{b.json.stringify(d);}catch(sa){a.VU=sa.message;a.Ne[c]=a.VU;}};})(c));c.Ne.stringifyException=c.VU;c.Ne.originalType=c.Ne.type;c.Ne.type="debug";c.Ne.sev="error";}}return this.json.stringify(a);}};c.prototype.esa=function(a){var b;b=this;return this.XFb.Pe(this.la,{logblobs:a}).then(function(){!1;})["catch"](function(a){b.la.error("PBO logblob failed",a);return Promise.reject(a);});};y=c;y=d.__decorate([l.O(),d.__param(0,l.l(p.Fd)),d.__param(1,l.l(B.zb)),d.__param(2,l.l(r.vj)),d.__param(3,l.l(u.yt)),d.__param(4,l.l(f.Vy)),d.__param(5,l.l(n.tg)),d.__param(6,l.l(a.ur)),d.__param(7,l.l(A.Qaa))],y);b.Oza=y;},function(d,b,a){var g,l,m;function c(a){this.config=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Lza=void 0;d=a(0);g=a(1);l=a(262);m=a(47);c.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.RFb());}).reduce(function(a,b){return a.add(b);},m.ba(0));};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(l.F$))],a);b.Lza=a;},function(d,b,a){var g,l,m,f,k,n,p;function c(a,b){a=n.Te.call(this,a,"PboConfigImpl") || this;a.config=b;a.LGb=g.ba(5E5);a.UQb=l.D4(1);a.EVa=g.ba(1E6);return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Dza=void 0;d=a(0);g=a(47);l=a(4);m=a(1);f=a(14);k=a(43);n=a(44);a=a(32);L(c,n.Te);ma.Object.defineProperties(c.prototype,{ffa:{configurable:!0,enumerable:!0,get:function(){return this.config().ffa;}},C1a:{configurable:!0,enumerable:!0,get:function(){return [];}},B1a:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});p=c;d.__decorate([k.config(k.object(),"shedLogblobTypes")],p.prototype,"C1a",null);d.__decorate([k.config(k.Lo("string"),"shedDebugTypes")],p.prototype,"B1a",null);p=d.__decorate([m.O(),d.__param(0,m.l(a.ek)),d.__param(1,m.l(f.Sc))],p);b.Dza=p;},function(d,b,a){var l,m,f,k,n,p,r,u,B;function c(a,b,c,d,f,g,h,l,m,n){this.platform=b;this.Pha=c;this.type=d;this.severity=f;this.timestamp=g;this.za=l;this.data=h;this.data.type=d;this.data.sev=f;this.data.devmod=this.platform.oia;this.data.clver=this.platform.version;a && a.wh && (a.wh.os && (this.data.osplatform=a.wh.os.name,this.data.osver=a.wh.os.version),this.data.browsername=a.wh.name,this.data.browserver=a.wh.version);a.Xma && (this.data.tester=!0);a.HA && !this.data.groupname && (this.data.groupname=a.HA);a.nJ && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + a.nJ:a.nJ);a.DG && (this.data.uigroupname=a.DG);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.za.azb();this.data.uniqueLogId=m.UPa();this.data.appId=this.za.id;n && (a=this.za.Bb(),this.data.soffms=a.Fa(n.Ok).ca(k.ga),this.data.mid=this.data.mid || n.u,this.data.lvpi=n.X3,this.data.uiLabel=n.xd,this.data.uxLabels=n.I7,d="startup" === d?"playbackxid":"xid",this.data[d]="xid" === d && this.data.xid || n.ea,n.ZF && (d=n.ZF,(n=n.ZF.split(".")) && 1 < n.length && "S" !== n[0][0] && (d="SABTest" + n[0] + ".Cell" + n[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + d:d));}function g(a,b,c,d,f,g){this.ta=a;this.Pha=b;this.config=c;this.za=d;this.jXb=f;this.platform=g;}Object.defineProperty(b,"__esModule",{value:!0});b.Jza=void 0;d=a(0);l=a(47);m=a(1);f=a(35);k=a(4);n=a(329);p=a(36);r=a(19);u=a(456);a=a(31);g.prototype.Tr=function(a,b,d,f){return new c(this.config,this.platform,this.Pha,a,b,this.ta.Be,d,this.za,this.jXb,f);};B=g;B=d.__decorate([m.O(),d.__param(0,m.l(f.hh)),d.__param(1,m.l(n.M8)),d.__param(2,m.l(p.Ul)),d.__param(3,m.l(r.Fd)),d.__param(4,m.l(u.vca)),d.__param(5,m.l(a.vj))],B);b.Jza=B;ma.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.YKa || (this.YKa=l.ba(this.Pha.encode(this.data).length));return this.YKa;}}});},function(d,b,a){var g,l,m;function c(a){this.Xh=a;}Object.defineProperty(b,"__esModule",{value:!0});b.Kza=void 0;d=a(0);g=a(1);l=a(47);a=a(84);c.prototype.RFb=function(){var a;a=this.Xh()?this.Xh().Yh.length:40;return l.ba(a + 33);};m=c;m=d.__decorate([g.O(),d.__param(0,g.l(a.yt))],m);b.Kza=m;},function(d,b,a){var g,l,m,f,k,n,p,r,u,B,A,y,t,J,D,U,S,O,Y,E;function c(a,b,c,d,f,g,h,k,l,m,n,q,r,p,u,v,y,B){this.Z2a=a;this.U_=b;this.Mj=c;this.woa=d;this.nja=f;this.Wd=g;this.Q0=h;this.gf=k;this.config=l;this.kc=m;this.ta=n;this.za=q;this.platform=r;this.Nn=p;this.$E=u;this.xi=v;this.xq=y;this.iF=B;}Object.defineProperty(b,"__esModule",{value:!0});b.Mza=void 0;d=a(0);g=a(212);l=a(347);m=a(51);f=a(27);k=a(356);n=a(216);p=a(1);r=a(459);u=a(461);B=a(111);A=a(14);y=a(35);t=a(19);J=a(31);D=a(77);U=a(99);S=a(148);O=a(33);Y=a(36);a=a(263);c.prototype.create=function(a,b,c){return new r.Nza(a,b,c,this.Z2a,this.U_,this.Mj,this.woa,this.nja,this.Wd,this.Q0,this.gf,this.config,this.kc,this.ta,this.za,this.platform,this.Nn,this.$E,this.xi,this.xq,this.iF);};E=c;E=d.__decorate([p.O(),d.__param(0,p.l(g.rY)),d.__param(1,p.l(l.F8)),d.__param(2,p.l(m.Tm)),d.__param(3,p.l(k.X$)),d.__param(4,p.l(n.E9)),d.__param(5,p.l(f.tg)),d.__param(6,p.l(u.i9)),d.__param(7,p.l(B.Wy)),d.__param(8,p.l(A.Sc)),d.__param(9,p.l(U.Yv)),d.__param(10,p.l(y.hh)),d.__param(11,p.l(t.Fd)),d.__param(12,p.l(J.vj)),d.__param(13,p.l(O.yH)),d.__param(14,p.l(D.Et)),d.__param(15,p.l(S.BH)),d.__param(16,p.l(Y.Ul)),d.__param(17,p.l(a.sX))],E);b.Mza=E;},function(d,b,a){var g;function c(a,b,c){a=g.uW.call(this,a,b) || this;a.Vz=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.awa=void 0;g=a(460);L(c,g.uW);b.awa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.yVa=void 0;b.yVa=function(a,b){var f,k;if(0 !== a.length){if(1 === a.length)return a[0];for(var c=a[0],d=b(c),g=1;g < a.length;g++){f=a[g];k=b(f);k > d && (c=f,d=k);}return c;}};},function(d,b,a){var c,g,l,m,f,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.GWa=void 0;d=a(1);c=a(1052);g=a(111);l=a(463);m=a(1053);f=a(264);k=a(464);n=a(1054);b.GWa=new d.Tc(function(a){a(l.Dca).to(c.xFa).Z();a(g.Wy).QB(function(){return ja._cad_global.http;});a(f.fO).to(m.ZAa).Z();a(k.paa).gi(n["default"]);});},function(d,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.xFa=void 0;d=a(0);a=a(1);c.prototype.create=function(){return new XMLHttpRequest();};g=c;g=d.__decorate([a.O()],g);b.xFa=g;},function(d,b,a){var g,l,m,f;function c(a,b,c){this.config=a;this.KFb=b;this.mb=c;}Object.defineProperty(b,"__esModule",{value:!0});b.ZAa=void 0;d=a(0);g=a(300);l=a(1);m=a(163);a=a(464);c.prototype.Eha=function(){if(this.config.z4a)return this.mb(this.KFb());};f=c;f=d.__decorate([l.O(),d.__param(0,l.l(g.oaa)),d.__param(1,l.l(m.naa)),d.__param(2,l.l(a.paa))],f);b.ZAa=f;},function(d,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(1055);g=a(1056);l=a(1057);b["default"]=function(a){var b;a=new c.b8(a);b=new l.Bab(a);return new g.Aab(a,b);};},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){this.IUa=a;}a.prototype.nsa=function(a){try{this.IUa.setItem("gtp",JSON.stringify(a));}catch(h){return !1;}return !0;};a.prototype.MQa=function(){var a;try{a=this.IUa.getItem("gtp");if(a)return JSON.parse(a);}catch(h){}};a.prototype.zn=function(){var a;a=this.MQa();if(a && a.tp)return a.tp.a;};a.prototype.Syb=function(){var a;a=this.Aka();if(a)return a.p25;};a.prototype.Tyb=function(){var a;a=this.Aka();if(a)return a.p50;};a.prototype.Uyb=function(){var a;a=this.Aka();if(a)return a.p75;};a.prototype.Aka=function(){var a;a=this.MQa();if(a && (a=a.iqr))return a;};return a;})();b.b8=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a,b){this.fu=a;this.qT=b;}a.prototype.nsa=function(a){return this.fu.nsa(a);};a.prototype.zn=function(){return this.fu.zn();};a.prototype.wzb=function(){return this.qT.qT();};return a;})();b.Aab=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){this.fu=a;}a.prototype.qT=function(){var a,b,d;a=this.fu.Syb();b=this.fu.Tyb();d=this.fu.Uyb();if("number" === typeof a && "number" === typeof b && "number" === typeof d)return (d - a) / b;};return a;})();b.Bab=d;},function(d,b,a){var c,g,l,m,f,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.QPa=void 0;d=a(1);c=a(1059);g=a(1060);l=a(1061);m=a(1062);f=a(1063);k=a(465);n=a(466);p=a(156);b.QPa=new d.Tc(function(a){a(p.L9).to(c.Wxa).Z();a(p.Kba).to(g.vDa).Z();a(p.Jba).to(l.uDa).Z();a(k.J9).to(m.Uxa).Z();a(n.d$).to(f.wya).Z();});},function(d,b,a){var g,l,m,f,k,n,p,r;function c(a,b,c,d,f,g,h){this.config=a;this.OSa=b;this.Ea=c;this.Zg=d;this.oPb=f;this.ira=g;this.rEb=0;this.la=h.wb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.Wxa=void 0;d=a(0);l=a(1);m=a(4);f=a(42);k=a(6);n=a(465);p=a(466);a=a(156);c.prototype.start=function(){this.config.enabled && !this.Xq && (this.Xq=this.Ea.Ai(this.config.Y1a,this.CB.bind(this)));};c.prototype.stop=function(){this.Xq && (this.Xq.cancel(),this.Xq=void 0);};c.prototype.CB=function(){var a,b;a=this;b="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.rEb++;this.AAb(b).then(function(b){return Promise.all(b.He.map(function(c){return a.wBb(b,c.url,c.name);})).then(function(c){0 < c.length && a.oPb.fU({data:c,context:b.context,Ona:b.Ona});}).then(function(){return b;});}).then(function(b){a.Xq && (b.cUa?a.Xq=a.Ea.Ai(b.cUa,a.CB.bind(a)):a.stop());})["catch"](function(b){return a.la.error("FTL run failed",b);});};c.prototype.AAb=function(a){var b;b=this;return this.OSa.get(a,!1).then(function(c){var d;if(200 != c.status || null == c.body)return (b.ira.fU({url:a,status:c.status,Vpa:"FTL API request failed",Ld:c.Ld}),Promise.reject(Error("FTL API request failed: " + c.status)));d=b.Zg.parse(c.body);return d instanceof Error?(b.ira.fU({url:a,status:4,Vpa:"FTL Probe API JSON parsing error",Ld:c.Ld}),Promise.reject(d)):Promise.resolve(d);})["catch"](function(c){c instanceof Error && (b.ira.fU({url:a,status:0,Vpa:c.message}),b.la.error("FTL API call failed",c.message));return Promise.reject(c);});};c.prototype.wBb=function(a,b,c){var d;d=this;return new Promise(function(f,h){var u;for(var k,l,n,q=[],r={},p=0;p < a.zNb;(r={om:r.om,Hqa:r.Hqa},++p)){r.om=p < a.AZa.length?a.AZa[p]:m.nb;r.Hqa="" + b + (-1 === b.indexOf("?")?"?":"&") + "pulse=" + (p + 1);u=(function(b){return function(){return new Promise(function(c,f){d.Ea.Ai(b.om,function(){g.fNb(d.OSa,b.Hqa,a.yNb).then(function(a){function b(a,b,c){a || (a=c.headers[b]);return a;}k=b(k,"via",a);l=b(l,"x-ftl-probe-data",a);n=b(n,"x-ftl-error",a);c({status:a.status,Ld:a.Ld,uXb:k || "",wnb:l || "",sE:n || ""});})["catch"](function(a){f(a);});});});};})(r);q.push(0 < p?q[p - 1].then(u):u());}Promise.all(q).then(function(a){f({url:b,name:c,data:a});})["catch"](function(a){h(a);});});};c.fNb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};r=g=c;r=g=d.__decorate([l.O(),d.__param(0,l.l(a.K9)),d.__param(1,l.l(p.d$)),d.__param(2,l.l(f.ph)),d.__param(3,l.l(n.J9)),d.__param(4,l.l(a.Kba)),d.__param(5,l.l(a.Jba)),d.__param(6,l.l(k.zb))],r);b.Wxa=r;},function(d,b,a){var g,l,m,f,k,n;function c(a,b){this.Mj=a;this.Eoa=b;}Object.defineProperty(b,"__esModule",{value:!0});b.vDa=void 0;d=a(0);l=a(1);m=a(47);f=a(4);k=a(51);a=a(77);c.prototype.fU=function(a){var b;b={ctx:a.context,data:a.data.map(function(a){return {name:a.name,url:a.url,data:a.data.map(function(a){return g.YXb({d:a.Ld.duration.ca(f.ga),sc:a.status,sz:a.Ld.size.ca(m.vt),via:a.uXb,cip:a.wnb,err:a.sE},a);})};})};a=this.Eoa.Tr(a.Ona,"info",b);this.Mj.kd(a);};c.YXb=function(a,b){g.eu(a,"dns",b.Ld.PNa);g.eu(a,"tcp",b.Ld.ita);g.eu(a,"tls",b.Ld.sta);g.eu(a,"ttfb",b.Ld.ota);return a;};c.eu=function(a,b,c){c && (a[b]=c.ca(f.ga));return a;};n=g=c;n=g=d.__decorate([l.O(),d.__param(0,l.l(k.Tm)),d.__param(1,l.l(a.Et))],n);b.vDa=n;},function(d,b,a){var g,l,m,f,k,n;function c(a,b){this.Mj=a;this.Eoa=b;}Object.defineProperty(b,"__esModule",{value:!0});b.uDa=void 0;d=a(0);l=a(1);m=a(47);f=a(4);k=a(51);a=a(77);c.prototype.fU=function(a){a=this.Eoa.Tr("ftlProbeError","info",g.XXb({url:a.url,sc:a.status,pf_err:a.Vpa},a));this.Mj.kd(a);};c.XXb=function(a,b){b.Ld && (b=b.Ld,g.eu(a,"d",b.duration),g.eu(a,"dns",b.PNa),g.eu(a,"tcp",b.ita),g.eu(a,"tls",b.sta),g.eu(a,"ttfb",b.ota),a.sz=b.size.ca(m.vt));return a;};c.eu=function(a,b,c){c && (a[b]=c.ca(f.ga));return a;};n=g=c;n=g=d.__decorate([l.O(),d.__param(0,l.l(k.Tm)),d.__param(1,l.l(a.Et))],n);b.uDa=n;},function(d,b,a){var g,l,m,f,k;function c(a,b){this.is=a;this.json=b;l.In(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.Uxa=void 0;d=a(0);g=a(1);l=a(53);m=a(33);f=a(4);a=a(22);c.prototype.parse=function(a){var c;a=this.json.parse(a);if(!this.is.Xea(a))throw Error("FtlProbe: param: not an object");if(a.next && !this.is.QP(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.QP(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays && !this.is.Hw(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.QP(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Hw(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.jn(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.JD(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b < a.urls.length;++b){c=a.urls[b];if(!this.is.Xea(c))throw Error("FtlProbe: param.urls[" + b + "]: not an object");if(!this.is.Ho(c.name))throw Error("FtlProbe: param.urls[" + b + "].name: not a string");if(!this.is.Ho(c.url))throw Error("FtlProbe: param.urls[" + b + "].url: not a string");}return {zNb:a.pulses,AZa:a.pulse_delays?a.pulse_delays.map(f.Nb):[],yNb:f.Nb(a.pulse_timeout),cUa:a.next?f.Nb(a.next):void 0,He:a.urls,Ona:a.logblob,context:a.ctx};};k=c;k=d.__decorate([g.O(),d.__param(0,g.l(a.Ie)),d.__param(1,g.l(m.Vy))],k);b.Uxa=k;},function(d,b,a){var g,l,m,f,k,n,p,r,u;function c(a,b,c){this.ta=a;this.bYb=b;this.performance=c;l.In(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.wya=void 0;d=a(0);l=a(53);m=a(1064);f=a(47);k=a(33);n=a(35);p=a(1);r=a(463);u=a(4);c.prototype.get=function(a,b,c){var d;d=this;return new Promise(function(h,k){var l,m,n;try{l=d.bYb.create();("withCredentials" in l) || k(Error("Missing CORS support"));l.open("GET",a,!0);b && (l.withCredentials=!0);c && (l.timeout=c.ca(u.ga));m=d.ta.Be;n=void 0;l.onreadystatechange=function(){var b;switch(l.readyState){case XMLHttpRequest.HEADERS_RECEIVED:n=d.ta.Be.Fa(m);break;case XMLHttpRequest.DONE:(b=d.ta.Be.Fa(m),b={body:l.responseText,status:l.status,headers:g.UKb(l.getAllResponseHeaders()),Ld:d.Kka(a,f.ba(l.responseText.length),b,n)});h(b);}};l.send();}catch(Y){k(Y);}});};c.UKb=function(a){var b,d,f;b={};a=a.split("\r\n");for(var c=0;c < a.length;c++){d=a[c];f=d.indexOf(": ");0 < f && (b[d.substring(0,f).toLowerCase()]=d.substring(f + 2));}return b;};c.prototype.Kka=function(a,b,c,d){b={size:b,duration:c,ota:d};if(!this.performance || !this.performance.getEntriesByName)return b;c=this.performance.getEntriesByName(a);if(0 == c.length && (c=this.performance.getEntriesByName(a + "/"),0 == c.length))return b;a=c[c.length - 1];b=m.gVa(b);a.$rb && (b.size=f.ba(a.$rb));0 < a.duration?b.duration=u.timestamp(a.duration):0 < a.startTime && 0 < a.responseEnd && (b.duration=u.timestamp(a.responseEnd - a.startTime));0 < a.requestStart && (b.PNa=u.timestamp(a.domainLookupEnd - a.domainLookupStart),b.ita=u.timestamp(a.connectEnd - a.connectStart),b.ota=u.timestamp(a.responseStart - a.startTime),0 === a.secureConnectionStart?b.sta=u.timestamp(0):void 0 !== a.secureConnectionStart && (c=a.connectEnd - a.secureConnectionStart,b.sta=u.timestamp(c),b.ita=u.timestamp(a.connectEnd - a.connectStart - c)));return b;};a=g=c;a=g=d.__decorate([p.O(),d.__param(0,p.l(n.hh)),d.__param(1,p.l(r.Dca)),d.__param(2,p.l(k.SX)),d.__param(2,p.optional())],a);b.wya=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jGb=b.gVa=b.hGb=void 0;b.hGb=function(a){return a;};b.gVa=function(a){return a;};b.jGb=function(a){return Object.assign({},a);};},function(d,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.wZa=void 0;d=a(1);c=a(318);g=a(1066);l=a(183);m=a(1067);b.wZa=new d.Tc(function(a){a(c.l9).to(g.Zwa).Z();a(l.hH).to(m.Aza).Z();});},function(d,b,a){var g,l,m,f,k,n,p,r;function c(a,b,c,d){this.Ed=a;this.Kr=b;this.hXb=c;this.XK=d;}Object.defineProperty(b,"__esModule",{value:!0});b.Zwa=void 0;d=a(0);g=a(1);l=a(27);m=a(41);f=a(104);k=a(132);n=a(61);p=a(103);a=a(183);c.prototype.ri=function(a){var b;b=this;return this.Ed.Xz(a.aj[0].data[0],[8,4])?Promise.resolve({qc:[{id:"ddd",UA:"cert",WK:void 0}],Gn:[{sessionId:"ddd",data:new Uint8Array(this.Kr.decode(p.rFa))}]}):this.Ed.Xz(a.aj[0].data[0],this.hXb.decode("certificate"))?Promise.resolve({qc:[{id:"ddd",UA:"cert",WK:void 0}],Gn:[{sessionId:"ddd",data:new Uint8Array(this.Kr.decode(p.G9))}]}):this.XK.zw(this.Hwb(a)).then(function(a){return b.Iwb(a);});};c.prototype.release=function(a){var b;b=this;return this.XK.release(this.Lwb(a)).then(function(c){return b.Mwb(c,a);});};c.prototype.Hwb=function(a){var b,c;b=this;c=a.aj.map(function(a){return a.data.map(function(c){return {sessionId:a.sessionId,dataBase64:b.Kr.encode(c)};});});return {ea:a.ea,vi:a.vi,R0:a.R0,gj:n.Bna(a.gj),nu:k.Rm[a.nu],aj:c.reduce(function(a,b){return a.concat(b);},[]),VS:a.VS,hj:a.hj};};c.prototype.Lwb=function(a){var b;b={};a.aj && a.qc[0].id && (b[a.qc[0].id]=this.Kr.encode(a.aj[0]));return a && a.aj?{ea:a.ea,qc:a.qc,BQb:b}:{ea:a.ea,qc:a.qc};};c.prototype.Iwb=function(a){return {qc:a.qc,Gn:a.Gn};};c.prototype.Mwb=function(a,b){return a && a.response && a.response.data && b.qc[0].id && (a=a.response.data[b.qc[0].id])?{response:this.Kr.decode(a)}:{};};r=c;r=d.__decorate([g.O(),d.__param(0,g.l(l.tg)),d.__param(1,g.l(m.Ki)),d.__param(2,g.l(f.gz)),d.__param(3,g.l(a.hH))],r);b.Zwa=r;},function(d,b,a){var g,l,m,f,k,n;function c(a,b,c,d,f){this.$ib=a;this.HOb=b;this.L_a=d;this.Y_a=f;this.la=c.wb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Aza=void 0;d=a(0);g=a(1);l=a(6);m=a(467);a(468);f=a(469);k=a(470);a=a(266);c.prototype.zw=function(a){var b,c;b=this;!1;c=this.L_a.qVb(a);return this.$ib.fp(this.la,a.hj,c).then(function(a){a.map(function(a){return a.$Eb;});return b.Y_a.A3a(a);})["catch"](function(a){b.la.error("PBO license failed",a);return Promise.reject(a);});};c.prototype.release=function(a){var b;b=this;!1;a=this.L_a.tVb(a);return this.HOb.Pe(this.la,a).then(function(a){return b.Y_a.uVb(a);})["catch"](function(a){b.la.error("PBO release license failed",a);return Promise.reject(a);});};n=c;n=d.__decorate([g.O(),d.__param(0,g.l(m.Gaa)),d.__param(1,g.l(f.Waa)),d.__param(2,g.l(l.zb)),d.__param(3,g.l(k.Naa)),d.__param(4,g.l(a.OX))],n);b.Aza=n;},function(d,b,a){var g,l,m,f,k,n,p,r,u,B,A,y;function c(a){return function(){return a.ob.get(g.Uaa).$a();};}Object.defineProperty(b,"__esModule",{value:!0});b.CF=void 0;d=a(1);g=a(184);l=a(211);m=a(267);f=a(471);k=a(1069);n=a(1070);p=a(472);r=a(1071);u=a(473);B=a(1072);A=a(268);y=a(1073);b.CF=new d.Tc(function(a){a(p.pba).to(r.BCa).Z();a(l.RX).to(m.aCa).Z();a(f.Iaa).to(k.JBa).Z();a(g.Uaa).to(n.bCa).Z();a(g.kO).mV(c);a(u.Laa).to(B.NBa).Z().MV();a(A.Vaa).to(y.cCa).Z();a(A.Saa).to(y.ZBa).Z();a(A.Taa).to(y.$Ba).Z();});},function(d,b,a){var m,f,k,n,p,r,u,B,A,y;function c(){}function g(){}function l(a,b,d,f,g){var h;h=this;this.is=a;this.Vk=b;this.config=d;this.gA=f;this.mLb=g;this.tv=function(){return new c().encode({version:h.version,data:h.CF});};this.GWb=function(a){a=h.FWb(a);h.mLb.mt(a);return a;};this.FWb=function(a){var b;if(h.is.jn(a))return h.JWb(a);b=a.version;if(void 0 != b && h.is.Th(b) && 1 == b)return h.KWb(a);b=a.version;if(void 0 != b && h.is.Th(b) && 2 == b)return new c().decode(a);if(a.version && h.is.Th(a.version))throw new p.Bc(k.L.Ty,k.K.Jva,void 0,void 0,void 0,"Version number is not supported. Version: " + a.version,void 0,a);throw new p.Bc(k.L.Ty,k.K.Py,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.Zq=new r.j$(2,this.config().PYa,"" !== this.config().PYa && 0 < this.config().ZLb,this.Vk,this.tv);}Object.defineProperty(b,"__esModule",{value:!0});b.JBa=void 0;d=a(0);m=a(1);f=a(14);k=a(2);n=a(22);p=a(40);r=a(298);u=a(63);B=a(84);A=a(267);a=a(268);l.prototype.TNb=function(){return this.Zq.load(this.GWb)["catch"](function(a){throw new p.Bc(k.L.Ty,a.ka || a.wd,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};l.prototype.Cjb=function(a){return this.Zq.add(a);};l.prototype.s_a=function(a){return this.Zq.remove(a,function(a,b){return a.ea === b.ea;});};l.prototype.Yta=function(a){return this.Zq.update(a,function(a,b){return a.ea === b.ea;});};l.prototype.toString=function(){return JSON.stringify(this.tv(),null,"  ");};l.prototype.q4a=function(a){return a?"/events?playbackContextId=" + a + "&esn=" + this.gA().Yh:"";};l.prototype.aua=function(a){return a.map(function(a){return {Jd:a.downloadableId,duration:a.duration};});};l.prototype.r4a=function(a){var b;return a?{total:a.playTimes.total,xG:null !== (b=a.playTimes.totalContentTime) && void 0 !== b?b:a.playTimes.total,audio:this.aua(a.playTimes.audio || []),video:this.aua(a.playTimes.video || []),text:this.aua(a.playTimes.timedtext || [])}:{total:0,xG:0,audio:[],video:[],text:[]};};l.prototype.JWb=function(a){var b,c,d;b=this;a=JSON.parse(a);c={type:"online",href:this.q4a(a.playbackContextId),ea:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,CQ:a.timestamp,zU:a.playback?1E3 * a.playback.startEpoch:-1,gL:a.mediaId,GT:this.r4a(a.playback),Ya:"",Wn:{},profileId:a.accountKey};d=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.Vk.create().then(function(a){a.save(b.config().cR,d,!1);});if("" === c.href || "" === c.ea)throw new p.Bc(k.L.Ty,k.K.Py);return {version:2,data:[c]};};l.prototype.KWb=function(a){var b;b=this;if(!a.playdata || !this.is.Hw(a.playdata))throw new p.Bc(k.L.Ty,k.K.Py,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return {version:2,data:(function(a){return a.map(function(a){return {type:a.type,href:b.q4a(a.playbackContextId),ea:a.xid?a.xid.toString():"",u:a.movieId,position:a.position,CQ:a.timestamp,zU:a.playback?1E3 * a.playback.startEpoch:-1,gL:a.mediaId,GT:b.r4a(a.playback),Ya:"",Wn:{},profileId:a.profileId};});})(a.playdata)};};ma.Object.defineProperties(l.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.Zq.version;}},CF:{configurable:!0,enumerable:!0,get:function(){return this.Zq.ju;}}});y=l;y=d.__decorate([m.O(),d.__param(0,m.l(n.Ie)),d.__param(1,m.l(u.qt)),d.__param(2,m.l(f.Sc)),d.__param(3,m.l(B.yt)),d.__param(4,m.l(a.Taa))],y);b.JBa=y;g.prototype.encode=function(a){var b;b=new A.QX();return a.map(b.encode);};g.prototype.decode=function(a){var b;b=new A.QX();return a.map(b.decode);};c.prototype.encode=function(a){return {version:a.version,data:new g().encode(a.data)};};c.prototype.decode=function(a){return {version:a.version,data:new g().decode(a.data)};};},function(d,b,a){var m,f,k,n,p,r,u,B,A,y,t,J,D,U;function c(a,b,c,d,f,h,k,l){this.config=a;this.Ea=c;this.wv=d;this.Js=f;this.v5=h;this.lj=k;this.WE=Promise.resolve();this.closed=!1;this.log=b.wb("PlaydataServices");this.BF=[];this.active=new Set();this.TPb=new g(a,l);}function g(a,b){this.config=a;this.ta=b;}function l(a,b,c,d,f,g){this.log=a;this.Ea=b;this.bi=c;this.Js=d;this.wv=f;this.PLb=g;this.$Oa=this.pk=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.bCa=b.Hbb=void 0;d=a(0);m=a(1);f=a(4);k=a(6);n=a(42);p=a(211);r=a(471);u=a(13);B=a(472);A=a(2);y=a(267);t=a(473);J=a(118);D=a(35);a=a(116);l.prototype.F4=function(a,b){var d;function c(){var a;a=d.Js.create(d.bi);d.wv.Yta(a)["catch"](function(a){var b;b=d.$Oa?k.Ni.yca:k.Ni.ERROR;d.$Oa=!0;d.log.write(b,"Unable to save playdata changes to IDB",a);});}d=this;this.log.trace("Adding initial playdata",b);this.wv.Cjb(b).then(function(){d.log.trace("Scheduling monitor",{interval:a});d.Xq=d.Ea.Lra(a,c);})["catch"](function(f){d.log.error("Unable to add playdata",{error:f,playdata:new y.QX().encode(b)});d.Xq=d.Ea.Lra(a,c);});};l.prototype.stop=function(a){var b,c;b=this;if(this.pk)return Promise.resolve();this.Xq && this.Xq.cancel();c=this.Js.create(this.bi);return this.wv.Yta(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.bi.background)return (b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve());b.log.trace("Sending final playdata to the server",c);return b.PLb.N0a(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return (b.log.trace("Removing playdata from the persisted store",c),b.wv.s_a(c));b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.u);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};l.prototype.cancel=function(){this.pk=!0;this.Xq && this.Xq.cancel();this.wv.Yta(this.Js.create(this.bi));};ma.Object.defineProperties(g.prototype,{Gmb:{configurable:!0,enumerable:!0,get:function(){var a;a=this.ta.Be;return !this.WE || 0 <= a.Fa(this.WE).tk(this.config.eUa)?(this.WE=a,!0):!1;}}});b.Hbb=g;c.prototype.$a=function(){var a;a=this;this.xm || (this.log.trace("Starting playdata services"),this.xm=this.wv.TNb().then(function(){!1;return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.xm;};c.prototype.close=function(){this.closed=!0;this.BF.forEach(function(a){a.F4.cancel();});};c.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.KL && b.csa?this.SQb(a):Promise.resolve();};c.prototype.iG=function(a){this.closed || this.fTb(a);};c.prototype.i2a=function(a){var b,c,d;b=this;if(this.closed)return Promise.resolve();c=this.Js.create(a);this.active["delete"](c.ea);a=N(J.Hs(function(a){return a.key === c.ea;},this.BF));d=a.next().value;this.BF=a.next().value;return Promise.all(d.map(function(a){a.j2a=!0;return a.F4.stop(b.config.csa);})).then(function(){});};c.prototype.wXa=function(a){var b,c;b=this;c=a.ia;this.a2a(c);this.fsa(c,a.IQ)["catch"](function(a){b.log.error("Start command failed",{playdata:a.CF,error:a.sE});});this.dTb(a);};c.prototype.fTb=function(a){var b;b=this;a.addEventListener(u.V.Jq,function(c){var d;if(void 0 !== c.SL){d=a.vm(c.SL);b.i2a(d);c.PA || new Promise(function(b){var c;if(a.Ks.value)b();else {c=function(d){d.newValue && (b(),a.Ks.removeListener(c));};a.Ks.addListener(c);}}).then(function(){return b.wXa(a);});}});a.addEventListener(u.V.Is,function(){b.wXa(a);});a.background || a.addEventListener(u.V.YK,function(c){c=a.vm(c.u);b.a2a(c);});a.addEventListener(u.V.Qf,function(){b.uTb();});a.addEventListener(u.V.H4a,function(){b.YQb(a.ia)["catch"](function(b){(b=b.bqa) && a.ZD(b);});});a.Oc.addListener(function(){a.Wa.wia?b.log.trace("stickiness is disabled for timedtext"):b.M0a(a.ia);});a.Zc.addListener(function(){a.Wa.wia?b.log.trace("stickiness is disabled for audio"):b.M0a(a.ia)["catch"](function(b){(b=b.bqa) && a.ZD(b);});});};c.prototype.a2a=function(a){var b,c;a.vd("pdb");if(this.config.Tpa.TDb()){b=this.Js.create(a);c=b.ea;this.BF.some(function(a){return a.key === c;})?this.log.trace("Already collecting online playdata, ignoring",b):(this.log.info("Starting to collect online playdata",b),this.active.add(c),this.BF.push({key:c,F4:this.nzb(a,b),qv:!1,j2a:!1}));}};c.prototype.SQb=function(a){var b,c,d,f;b=this;c=this.wv.CF.filter(function(a){return !b.active.has(a.ea);});d=void 0;f=void 0;a && Infinity === a?d=c:(c=N(J.Hs(function(b){return b.u === a;},c)),d=c.next().value,f=c.next().value);f && 0 < f.length && this.Ea.Ai(this.config.J0a,function(){b.L0a(f);});return d && 0 !== d.length?this.L0a(d):Promise.resolve();};c.prototype.L0a=function(a){var c;function b(a){return c.v5.N0a(a).then(function(){return c.XOb(a);});}c=this;return a.reduce(function(a,c){return a.then(function(){return b(c);});},Promise.resolve());};c.prototype.XOb=function(a){var b;b=this;return this.wv.s_a(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};c.prototype.nzb=function(a,b){a=new l(this.log,this.Ea,a,this.Js,this.wv,this.v5);a.F4(this.config.Tpa,b);return a;};c.prototype.fsa=function(a,b){var c,d;c=this;d=this.Js.Hqb(a,b);return this.v5.fsa(a,d).then(function(){!1;c.BF.filter(function(b){return b.key === a.ea.toString();}).forEach(function(a){a.qv=!0;});})["catch"](function(a){throw {CF:d,sE:a};});};c.prototype.YQb=function(a){return this.TPb.Gmb?this.yU(t.NX.xS,a,A.L.s$):Promise.resolve();};c.prototype.M0a=function(a){return this.yU(t.NX.splice,a,A.L.HDa);};c.prototype.yU=function(a,b,c){var f;function d(a){var b;b=f.BF.filter(function(b){return b.key === a.ea.toString();});return 0 === b.length?!0:b.reduce(function(a,b){return a || b.j2a || !b.qv;},!1);}f=this;return d(b)?this.WE:this.WE=this.WE["catch"](function(){return Promise.resolve();}).then(function(){var c;if(d(b))return Promise.resolve();!1;c=f.Js.create(b);return f.v5.yU(a,b,c);}).then(function(a){!1;return a;})["catch"](function(d){var g;f.log.error("Failed to send event",{eventKey:a,xid:b.ea,error:d});d.aja?g=f.lj(c,d):d.Uu === A.wX.sca && (g=f.lj(c,d));throw {sE:d,bqa:g};});};c.prototype.dTb=function(a){this.uSb(a) && this.Psa(this.Vyb(a.ia),a);};c.prototype.Psa=function(a,b){var c;c=this;!1;this.Xga();this.dna=this.Ea.Ai(a,function(){c.Xga();c.yU(t.NX.xS,b.ia,A.L.s$).then(function(){c.Psa(a,b);})["catch"](function(d){var f;f=d.sE;(d=d.bqa) && b.ZD(d);f.Uu === A.wX.sca && c.Psa(a,b);});});};c.prototype.uTb=function(){this.Xga();};c.prototype.uSb=function(a){return a.state.value == u.Db.yd;};c.prototype.Xga=function(){this.dna && (this.dna.cancel(),this.dna=void 0);};c.prototype.Vyb=function(a){return a.Wa.Ola?f.Nb(a.Wa.Ola):this.config.dUa;};U=c;U=d.__decorate([m.O(),d.__param(0,m.l(B.pba)),d.__param(1,m.l(k.zb)),d.__param(2,m.l(n.ph)),d.__param(3,m.l(r.Iaa)),d.__param(4,m.l(p.RX)),d.__param(5,m.l(t.Laa)),d.__param(6,m.l(a.JC)),d.__param(7,m.l(D.hh))],U);b.bCa=U;},function(d,b,a){var g,l,m,f,k,n;function c(a,b){a=l.Te.call(this,a,"PlaydataConfigImpl") || this;a.config=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.BCa=void 0;d=a(0);g=a(1);l=a(44);m=a(32);f=a(43);k=a(4);a=a(36);L(c,l.Te);ma.Object.defineProperties(c.prototype,{KL:{configurable:!0,enumerable:!0,get:function(){return this.config.qu?"unsentplaydatatest":"unsentplaydata";}},csa:{configurable:!0,enumerable:!0,get:function(){return !0;}},J0a:{configurable:!0,enumerable:!0,get:function(){return k.Nb(1E4);}},Tpa:{configurable:!0,enumerable:!0,get:function(){return k.Nb(4E3);}},dUa:{configurable:!0,enumerable:!0,get:function(){return k.D4(1);}},eUa:{configurable:!0,enumerable:!0,get:function(){return k.ah(30);}}});n=c;d.__decorate([f.config(f.string,"playdataPersistKey")],n.prototype,"KL",null);d.__decorate([f.config(f.Gc,"sendPersistedPlaydata")],n.prototype,"csa",null);d.__decorate([f.config(f.ai,"playdataSendDelayMilliseconds")],n.prototype,"J0a",null);d.__decorate([f.config(f.ai,"playdataPersistIntervalMilliseconds")],n.prototype,"Tpa",null);d.__decorate([f.config(f.ai,"heartbeatCooldown")],n.prototype,"dUa",null);d.__decorate([f.config(f.ai,"keepAliveWindow")],n.prototype,"eUa",null);n=d.__decorate([g.O(),d.__param(0,g.l(m.ek)),d.__param(1,g.l(a.Ul))],n);b.BCa=n;},function(d,b,a){var g,l,m;function c(a,b){this.DQ=b;this.log=a.wb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.NBa=void 0;d=a(0);g=a(79);l=a(6);a=a(1);c.prototype.fsa=function(a,b){var c;c=this.DQ(g.Sm.start);return this.TOa(c,a,b);};c.prototype.N0a=function(a){var b;b=this;return this.DQ(g.Sm.stop).Pe(this.log,a).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};c.prototype.yU=function(a,b,c){a=this.DQ(a);return this.TOa(a,b,c);};c.prototype.TOa=function(a,b,c){var d;d=this;return a.fp(this.log,b.pa.hj,c).then(function(){})["catch"](function(a){d.log.error("PBO event failed",a);throw a;});};m=c;m=d.__decorate([a.O(),d.__param(0,a.l(l.zb)),d.__param(1,a.l(g.BW))],m);b.NBa=m;},function(d,b,a){var m,f,k,n;function c(){}function g(a){this.lLb=a;}function l(a){this.nLb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.cCa=b.$Ba=b.ZBa=void 0;d=a(0);m=a(1);f=a(268);k=a(40);n=a(2);l.prototype.mt=function(a){a.map(this.nLb.mt);};a=l;a=d.__decorate([m.O(),d.__param(0,m.l(f.Vaa))],a);b.ZBa=a;g.prototype.mt=function(a){this.lLb.mt(a.data);};a=g;a=d.__decorate([m.O(),d.__param(0,m.l(f.Saa))],a);b.$Ba=a;c.prototype.mt=function(a){var b;a.ea && "string" === typeof a.ea?a.href && "string" === typeof a.href?a.profileId && "string" === typeof a.profileId || (b="ProfileId value is corrupted."):b="Href value is corrupted.":b="Xid value is corrupted.";if(b)throw new k.Bc(n.L.Ty,n.K.Py,void 0,void 0,void 0,b,void 0,a.ea);};f=c;f=d.__decorate([m.O()],f);b.cCa=f;},function(d,b,a){var g,l,m,f,k,n,p,r;function c(a){return function(){return new Promise(function(b,c){var d;d=a.ob.get(l.q9);d.$a().then(function(){b(d);})["catch"](function(a){c(a);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.dOa=void 0;d=a(1);g=a(474);a(1075);l=a(476);m=a(1077);f=a(92);k=a(1078);n=a(477);p=a(1079);r=a(1080);a(1081);b.dOa=new d.Tc(function(a){a(n.C$).to(p.Fza).Z();a(g.o9).to(r.Gza);a(f.oN).to(k.Oua).Z();a(l.q9).to(m.fxa).Z();a(l.p9).mV(c);});},function(d,b,a){var g,l,m,f,k,n,p;function c(a,b,c){var d;d=k.wO.call(this,a,b,"idb") || this;d.Vk=c;d.e0a=function(a){d.ssb(a.target.id).then(function(){return d.refresh();});};d.KJb=function(){d.Fnb().then(function(){return d.refresh();});};d.dKb=function(){d.refresh();};d.NJb=function(){d.Hob();};return d;}Object.defineProperty(b,"__esModule",{value:!0});b.y$a=void 0;d=a(0);g=a(1);l=a(27);m=a(22);f=a(164);k=a(475);n=a(126);p=a(269);L(c,k.wO);c.prototype.$a=function(){var a;a=this;if(this.ym)return Promise.resolve();ja.addEventListener("keydown",function(b){b.ctrlKey && b.altKey && b.shiftKey && b.keyCode == n.Ct.w9a && a.toggle();});return this.Vk.create().then(function(b){a.storage=b;a.ym=!0;});};c.prototype.Jj=function(){return '<tr class="' + this.prefix + '-display-headerrow">' + ('<th width="30px"><span class="' + this.prefix + '-display-indexheader">#</span></th>') + ('<th width="150px"><span class="' + this.prefix + '-display-keyheader">Name</span></th>') + ('<th style="border-right:solid 0px"><span class="' + this.prefix + '-display-valueheader">Value</span></th>') + ('<th style="border-left:solid 0px" width="30px"><button id="' + this.prefix + '-display-close-btn">X</button></th>') + "</tr>";};c.prototype.ala=function(a,b,c){var d;a=a.toString();d='<font color="#C41A16">"' + b + '"</font>';c=this.UKa.Cj({name:b,data:c});return "<tr>" + ('<td><span class="' + this.prefix + '-display-indexvalue">' + a + "</span></td>") + ('<td><span class="' + this.prefix + '-display-keyvalue">' + d + "</span></td>") + ('<td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + c + "</ul></td>") + ('<td style="border-left:solid 0px"><ul class="' + this.prefix + '-display-item-inline"><button id="' + b + '" class="' + this.prefix + '-display-btn-inline">X</button></ul></td>') + "</tr>";};c.prototype.mla=function(a){var b,c;b=this;c='<table class="' + this.prefix + '-display-table" width="100%">' + this.Jj();Object.entries(a).forEach(function(a,d){var f;f=N(a);a=f.next().value;f=f.next().value;c+=b.ala(d,a,f);});return c + "</table>";};c.prototype.nQa=function(){var a,b,c;a=this.Ed.createElement("button",k.OG,"Clear",{"class":this.prefix + "-display-btn"});b=this.Ed.createElement("button",k.OG,"Refresh",{"class":this.prefix + "-display-btn"});c=this.Ed.createElement("button",k.OG,"Copy",{"class":this.prefix + "-display-btn"});a.onclick=this.KJb;b.onclick=this.dKb;c.onclick=this.NJb;return [a,b,c];};c.prototype.CFb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.RSa=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.RSa;});};c.prototype.ssb=function(a){return this.storage.remove(a);};c.prototype.Fnb=function(){return this.storage.removeAll();};c.prototype.f_a=function(){var a;a=this;return this.CFb().then(function(b){return a.mla(b);});};c.prototype.Hob=function(){var a;a=JSON.stringify(this.RSa,null,4);p.eW.zha(a);};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(l.tg)),d.__param(1,g.l(m.Ie)),d.__param(2,g.l(f.jX))],a);b.y$a=a;},function(d,b){function a(a){this.is=a;this.yEb="#881391";this.KTb="#C41A16";this.Mlb=this.kJb="#1C00CF";this.bDb="#D79BDB";this.XVb=this.fJb="#808080";}Object.defineProperty(b,"__esModule",{value:!0});b.ZEa=void 0;a.prototype.Cj=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.yA=function(a,b){return '<font color="' + ((void 0 === b?0:b)?this.bDb:this.yEb) + '">' + a + ": </font>";};a.prototype.WPa=function(a,b){b=b || "";a="" + ('<li><a href="#">' + this.yA(a) + "Array[" + b.length + "]</a>");a+="<ul>";for(var c=0;c < b.length;++c){a+=this.getValue(c.toString(),b[c]);}a+=this.getValue("length",b.length,!0);return a + "</ul></li>";};a.prototype.nRa=function(a,b){var c,d;c=this;if(b instanceof CryptoKey)return this.Txb(a,b);d="";d=d + ('<li><a href="#">' + ("~~NONAME~~" !== a?this.yA(a):"") + "Object</a>");d=d + "<ul>";Object.entries(b).forEach(function(a){var b;b=N(a);a=b.next().value;b=b.next().value;d=a.startsWith("$")?d + c.getValue(a,"REMOVED"):d + c.getValue(a,b);});d+="</ul>";return d+="</li>";};a.prototype.Txb=function(a,b){a="" + ('<li><a href="#">' + this.yA(a) + "CryptoKey</a>");a=a + "<ul>" + this.nRa("algorithm",b.algorithm);a+=this.aQa("extractable",b.extractable);a+=this.MRa("type",b.type);a+=this.WPa("usages",b.usages);return a + "</ul></li>";};a.prototype.Azb=function(a,b,d){return '<li><a href="#">' + this.yA(a,void 0 === d?!1:d) + ('<font color="' + this.kJb + '">' + b.toString() + "</font>") + "</a></li>";};a.prototype.aQa=function(a,b,d){return '<li><a href="#">' + this.yA(a,void 0 === d?!1:d) + ('<font color="' + this.Mlb + '">' + b.toString() + "</font>") + "</a></li>";};a.prototype.MRa=function(a,b,d){128 < b.length && (b=b.substr(0,128) + "...");return '<li><a href="#">' + this.yA(a,void 0 === d?!1:d) + ('<font color="' + this.KTb + '">"' + b + '"</font>') + "</a></li>";};a.prototype.zzb=function(a){return '<li><a href="#">' + this.yA(a) + ('<font color="' + this.fJb + '">null</font>') + "</a></li>";};a.prototype.OAb=function(a,b){b="undefined" === typeof b?"":b.toString();255 < b.length && (b=b.substr(0,255) + "...");return '<li><a href="#">' + this.yA(a) + ('<font color="' + this.XVb + '">' + b + "</font>") + "</a></li>";};a.prototype.getValue=function(a,b,d){d=void 0 === d?!1:d;return null === b?"" + this.zzb(a):this.is.Hw(b)?"" + this.WPa(a,b):this.is.JD(b)?"" + this.nRa(a,b):this.is.Ho(b)?"" + this.MRa(a,b,d):this.is.Th(b)?"" + this.Azb(a,b,d):this.is.PP(b)?"" + this.aQa(a,b,d):"" + this.OAb(a,b);};b.ZEa=a;},function(d,b,a){var g,l;function c(a){this.dtb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.fxa=void 0;d=a(0);g=a(1);a=a(474);c.prototype.$a=function(){var a;a=this;this.xm || (this.xm=new Promise(function(b,c){var d;d=[];a.dtb.forEach(function(a){d.push(a.$a());});Promise.all(d).then(function(){b();})["catch"](function(a){c(a);});}));return this.xm;};l=c;l=d.__decorate([g.O(),d.__param(0,g.lF(a.o9))],l);b.fxa=l;},function(d,b,a){var g,l;function c(){this.Vra="";this.X4a=[[],[]];this.$=[[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.Oua=void 0;d=a(0);g=a(1);a(4);l=a(92);c.prototype.downloadRequest=function(a){var b;"" === this.Vra && (this.Vra=a.va);if(!a.wc){b=this.YUb(a);this.$[a.I].push(b);this.X4a[a.I].forEach(function(a){a.j4b(b);});}};c.prototype.YUb=function(a){return {id:a.Dk(),va:a.va,I:a.I,Wh:a.Wh,startTime:a.py,endTime:a.fv,offset:a.Qn,kJ:a.kJ,jJ:a.jJ,duration:a.ix,U:a.U,state:l.g8.ZNa,Ks:!1,G6b:!1,tSa:!1,v5b:l.f8.waiting};};c.prototype.update=function(a){this.X4a[a.I].forEach(function(b){b.M9b(a);});};ma.Object.defineProperties(c.prototype,{va:{configurable:!0,enumerable:!0,get:function(){return this.Vra;}}});a=c;a=d.__decorate([g.O()],a);b.Oua=a;},function(d,b,a){var g,l,m,f,k;function c(a,b){a=m.Te.call(this,a,"LogDisplayConfigImpl") || this;a.vn=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Fza=void 0;d=a(0);g=a(1);l=a(43);m=a(44);f=a(32);a=a(130);L(c,m.Te);ma.Object.defineProperties(c.prototype,{cU:{configurable:!0,enumerable:!0,get:function(){return !0;}},ZK:{configurable:!0,enumerable:!0,get:function(){return this.vn.ZK;}},NUa:{configurable:!0,enumerable:!0,get:function(){return -1;}}});k=c;d.__decorate([l.config(l.Gc,"renderDomDiagnostics")],k.prototype,"cU",null);d.__decorate([l.config(l.j3,"logDisplayMaxEntryCount")],k.prototype,"ZK",null);d.__decorate([l.config(l.j3,"logDisplayAutoshowLevel")],k.prototype,"NUa",null);k=d.__decorate([g.O(),d.__param(0,g.l(f.ek)),d.__param(1,g.l(a.xH))],k);b.Fza=k;},function(d,b,a){var m,f,k,n,p,r,u,B,A,y,t,J,D,U,S,O;function c(a,b,c,d,f,g,h,k,m,n){var q;q=this;this.ta=a;this.app=b;this.Ed=c;this.Ea=d;this.Om=f;this.config=g;this.gA=h;this.kta=k;this.Irb=m;this.Vk=n;this.AUb=function(){q.xV.bd(function(){q.update();});};this.clear=function(){q.entries=[];q.update();};this.iWa=function(){q.fe.OK=!q.fe.OK;q.ZA && q.fB && (q.fe.OK?(q.ZA.style.display="inline-block",q.fB.style.display="none"):(q.fB.style.display="inline-block",q.ZA.style.display="none"));q.eG(!1);};this.YFb=function(a){var b;q.entries.push(a);b=q.config.ZK;0 <= b && q.entries.length > b && q.entries.shift();void 0 === q.fe.Uw[a.pn] && (q.fe.Uw[a.pn]=!0,q.eG(!1));q.fe.np && !q.S2a?q.AUb():q.xV.bd();};this.ntb=function(){l.download("all",q.entries.map(function(a){return a.n7(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.ym=!1;this.fe={np:!1,OK:!0,L0:!0,Mna:y.Ni.g$,Uw:{}};this.xV=this.kta(u.ah(1));this.Gvb=this.Irb(u.Nb(250));this.entries=[];!1;!1;}function g(a){var b;this.elements=[];b=document.createElementNS(g.bV,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.Gza=void 0;d=a(0);m=a(1);f=a(27);k=a(106);n=a(338);p=a(42);r=a(35);u=a(4);B=a(19);A=a(84);y=a(6);t=a(107);J=a(270);D=a(477);U=a(63);S=a(126);O=a(269);l.download=function(a,b){return l.zyb(a).then(function(a){return l.DAb(a,b.join("\r\n")).then(function(a){return l.jtb(a.filename,a.text);});});};l.zyb=function(a){return new Promise(function(b,c){var d,f,g,h,k,l,m;try{d=new Date();f=d.getDate().toString();g=(d.getMonth() + 1).toString();h=d.getFullYear().toString();k=d.getHours().toString();l=d.getMinutes().toString();m=d.getSeconds().toString();1 === f.length && (f="0" + f);1 === g.length && (g="0" + g);1 === k.length && (k="0" + k);1 === l.length && (l="0" + l);1 === m.length && (m="0" + m);b(h + g + f + k + l + m + "." + a + ".log");}catch(aa){c(aa);}});};l.DAb=function(a,b){return new Promise(function(c,d){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(ea){d(ea);}});};l.jtb=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(sa){return Promise.reject(sa);}};g.prototype.EM=function(){var a;a=document.createElementNS(g.bV,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",(1).toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};g.prototype.FM=function(a,b,c){var d;d=document.createElementNS(g.bV,"path");d.setAttribute("d",a);b && d.setAttribute("fill",b);c && d.setAttribute("fill-rule",c);this.addElement(d);return this;};g.prototype.TU=function(a,b,c,d,f){var h;f=void 0 === f?"#000000":f;h=document.createElementNS(g.bV,"rect");h.setAttribute("x",a.toString());h.setAttribute("y",b.toString());h.setAttribute("height",c.toString());h.setAttribute("width",d.toString());f && h.setAttribute("fill",f);this.addElement(h);return this;};g.prototype.hTb=function(){var a;a=document.createElementNS(g.bV,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};g.prototype.end=function(){this.elements.pop();return this;};g.prototype.Cj=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};g.prototype.addElement=function(a){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(a);this.elements.push(a);};ma.Object.defineProperties(g,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},iE:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});g.bV="http://www.w3.org/2000/svg";c.prototype.$a=function(){var a;a=this;this.xm || (this.xm=new Promise(function(b){ja.addEventListener("keydown",function(b){b.ctrlKey && b.altKey && b.shiftKey && (b.keyCode == S.Ct.C$a?a.toggle():b.keyCode == S.Ct.E && O.eW.zha(a.gA().Yh));});a.Om.U5(J.J$.R7a,a.YFb);b();}));return this.xm;};c.prototype.show=function(){document.body && (this.element || (this.uqb(),this.ym=!0),!this.fe.np && this.element && (document.body.appendChild(this.element),this.fe.np=!0,this.update(!0)));};c.prototype.Bq=function(){this.ym && this.fe.np && this.element && (document.body.removeChild(this.element),this.fe.np=!1);};c.prototype.toggle=function(){this.fe.np?this.Bq():this.show();this.eG(!1);};c.prototype.uqb=function(){var a,b;try{a=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.bo=this.lrb());a.appendChild(this.mrb());a.appendChild(this.nqb());this.element=a;}catch(da){console.error("Unable to create the log console",da);}};c.prototype.lrb=function(){var a,b;a=this;b=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.S2a=!0;a.update();a.bo && (a.bo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.S2a=!1;a.update();a.bo && (a.bo.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};c.prototype.mrb=function(){var a;a=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.Pqb());a.appendChild(this.Fqb());a.appendChild(this.zqb());a.appendChild(this.orb());a.appendChild(this.rqb());a.appendChild(this.Wqb());a.appendChild(this.Tqb());a.appendChild(this.Bqb());a.appendChild(this.sqb());return a;};c.prototype.nqb=function(){var a,b,c,d,f,g;a=this;b=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("div","padding:2px");d=this.createElement("select",this.Au(22,160,1,2),"<option>Select categories</option>");f=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(f);c.appendChild(d);c.addEventListener("mousedown",function(a){a.preventDefault();});g=!1;c.addEventListener("click",function(){g?f.style.display="none":(f.innerHTML="",["all","none"].concat(Object.keys(a.fe.Uw).sort()).forEach(function(b){f.appendChild(a.oqb(b,c));}),f.style.display="block");g=!g;});return b;};c.prototype.oqb=function(a,b){var c,d,f;c=this;d=this.createElement("label","display: block;margin:1px");d.htmlFor=a;f=this.createElement("input","margin:1px");f.type="checkbox";f.id=a;f.checked=this.fe.Uw[a];f.addEventListener("click",function(){"all" === a || "none" === a?(Object.keys(c.fe.Uw).forEach(function(b){c.fe.Uw[b]="all" === a;}),b.click()):c.fe.Uw[a]=!c.fe.Uw[a];c.eG(!0);});d.appendChild(f);d.insertAdjacentText("beforeend",18 < a.length?a.slice(0,15) + "...":a);return d;};c.prototype.Pqb=function(){var a,b;a=this;b=this.createElement("select",this.Au(22,NaN,1,2),'<option value="' + y.Ni.ERROR + '">Error</option>' + ('<option value="' + y.Ni.yca + '">Warn</option>') + ('<option value="' + y.Ni.g$ + '">Info</option>') + ('<option value="' + y.Ni.EEa + '">Trace</option>') + ('<option value="' + y.Ni.ma + '">Debug</option>'));b.value=this.fe.Mna.toString();b.addEventListener("change",function(b){a.fe.Mna=parseInt(b.target.value);a.eG(!0);},!1);return b;};c.prototype.Fqb=function(){var b,c;function a(a){return b.Gvb.bd(function(){var c;c=a.target.value;b.fe.filter=c?new RegExp(c):void 0;b.eG(!0);});}b=this;c=this.createElement("input",this.Au(14,150,1,2));c.value=this.fe.filter?this.fe.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};c.prototype.zqb=function(){var a,b,c,d;a=this;b=this.createElement("div",this.Au(NaN,NaN));c=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.fe.L0;c.addEventListener("change",function(b){a.fe.L0=b.target.checked;a.eG(!0);},!1);d=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");d.setAttribute("for","details");d.innerHTML="View details";b.appendChild(c);b.appendChild(d);return b;};c.prototype.orb=function(){var a,b,c;a=this;b=this.createElement("button",this.Au());c=new g("0 0 24 24").EM().hTb().end().FM("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",g.iE,"nonzero").end().end().Cj();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};c.prototype.rqb=function(){var a,b;a=this.createElement("button",this.Au());b=new g("0 0 24 24").EM().TU(0,0,24,24,g.background).end().FM("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",g.iE).end().end().Cj();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};c.prototype.Wqb=function(){var a;this.fB=this.createElement("button",this.Au());this.fB.style.display=this.fe.OK?"none":"inline-block";a=new g("0 0 24 24").EM().TU(0,0,24,24,g.background).end().FM("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",g.iE,"nonzero").end().end().Cj();this.fB.addEventListener("click",this.iWa,!1);this.fB.appendChild(a);this.fB.setAttribute("title","Shrink the log console");return this.fB;};c.prototype.Tqb=function(){var a;this.ZA=this.createElement("button",this.Au());this.ZA.style.display=this.fe.OK?"inline-block":"none";a=new g("0 0 24 24").EM().TU(4,4,16,16,g.background).end().FM("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",g.iE,"nonzero").end().end().Cj();this.ZA.addEventListener("click",this.iWa,!1);this.ZA.appendChild(a);this.ZA.setAttribute("title","Expand the log console");return this.ZA;};c.prototype.Bqb=function(){var a,b;a=this.createElement("button",this.Au());b=new g("0 0 26 26").EM().TU(0,0,24,24,g.background).end().FM("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",g.iE,"nonzero").end().end().Cj();a.appendChild(b);a.addEventListener("click",this.ntb,!1);a.setAttribute("title","Download all log messages");return a;};c.prototype.sqb=function(){var a,b,c;a=this;b=this.createElement("button",this.Au());c=new g("0 0 24 24").EM().TU(0,0,24,24,g.background).end().FM("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",g.iE,"nonzero").end().end().Cj();b.appendChild(c);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};c.prototype.eG=function(a){var b;a=void 0 === a?!1:a;b=void 0 === b?!1:b;!1;a && this.update(b);};c.prototype.update=function(a){var b;a=void 0 === a?!1:a;b=this;this.element && this.config.cU && Promise.resolve(this.bmb() + this.Ayb().join("\r\n")).then(function(c){b.element && b.bo && (b.bo.value=c,b.element.style.cssText=b.fe.OK?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a && b.Ea.Ai(u.nb,function(){b.bo.scrollTop=b.bo.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};c.prototype.Ayb=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level || c.level) <= a.fe.Mna && a.fe.Uw[c.pn] && (c=c.n7(!a.fe.L0,!a.fe.L0),a.fe.filter && !a.fe.filter.test(c) || b.push(c));});return b;};c.prototype.bmb=function(){var a;a=this.gA();return "Version: 6.0029.151.011 \n" + ((a?"Esn: " + a.Yh:"") + "\n") + ("JsSid: " + this.app.id + ", Epoch: " + this.ta.Be.ca(u.Ym) + ", Start: " + this.app.YE.ca(u.Ym) + ", TimeZone: " + new Date().getTimezoneOffset() + "\n") + ("Href: " + location.href + "\n") + ("UserAgent: " + navigator.userAgent + "\n") + "--------------------------------------------------------------------------------\n";};c.prototype.createElement=function(a,b,c,d){return this.Ed.createElement(a,b,c,d);};c.prototype.Au=function(a,b,c,d){a=void 0 === a?26:a;b=void 0 === b?26:b;return "display:inline-block;border:" + (void 0 === c?0:c) + "px solid " + g.iE + ";padding:3px;" + (isNaN(a)?"":"height:" + a + "px") + ";" + (isNaN(b)?"":"width:" + b + "px") + ";margin:0px 3px;background-color:transparent;" + (d?"border-radius:" + d + "px;":"");};a=c;a.xTb="logDxDisplay";a=d.__decorate([m.O(),d.__param(0,m.l(r.hh)),d.__param(1,m.l(B.Fd)),d.__param(2,m.l(f.tg)),d.__param(3,m.l(p.ph)),d.__param(4,m.l(t.uC)),d.__param(5,m.l(D.C$)),d.__param(6,m.l(A.yt)),d.__param(7,m.l(k.TC)),d.__param(8,m.l(n.X8)),d.__param(9,m.l(U.qt))],a);b.Gza=a;},function(d,b,a){var g,l,m,f,k,n,p,r;function c(a,b,c){var d;d=n.wO.call(this,a,b,"network") || this;d.Yha=c;d.M0=k.Z8.jab;d.KGb=30;d.oKb=function(a){d.M0=a.target.value;d.refresh();};d.JJb=function(){d.data={};d.refresh();};d.e0a=function(a){var b,c;b=Number(a.target.id);a=a.target.getAttribute("data-type");b=d.data[d.M0][b].value;c=JSON.stringify(b,null,4);"copy" === a?r.eW.zha(c):"log" === a && console.log(b);};return d;}Object.defineProperty(b,"__esModule",{value:!0});b.zab=void 0;d=a(0);g=a(1);l=a(27);m=a(22);f=a(91);k=a(181);n=a(475);p=a(126);r=a(269);L(c,n.wO);c.prototype.$a=function(){var a;a=this;if(this.ym)return Promise.resolve();ja.addEventListener("keydown",function(b){b.ctrlKey && b.altKey && b.shiftKey && b.keyCode == p.Ct.oab && a.toggle();});this.data={};this.Yha.addListener(k.a9.Gbb,function(b){var c;a.data[b.type] || (a.data[b.type]=[]);c=a.data[b.type];c.length === a.KGb && c.shift();c.push(b);b.type === a.M0 && a.refresh();});this.ym=!0;return Promise.resolve();};c.prototype.Jj=function(){return '<tr class="' + this.prefix + '-display-headerrow">' + ('<th width="30px"><span class="' + this.prefix + '-display-indexheader">#</span></th>') + ('<th width="150px"><span class="' + this.prefix + '-display-keyheader">Name</span></th>') + ('<th style="border-right:solid 0px"><span class="' + this.prefix + '-display-valueheader">Value</span></th>') + ('<th style="border-left:solid 0px" width="30px"><button id="' + this.prefix + '-display-close-btn">X</button></th>') + "</tr>";};c.prototype.ala=function(a,b,c){var d;d=a.toString();b='<font color="#C41A16">"' + b + '"</font>';c=this.UKa.Cj(c);return '\n            <tr>\n                <td><span class="' + this.prefix + '-display-indexvalue">' + d + '</span></td>\n                <td><span class="' + this.prefix + '-display-keyvalue">' + b + '</span></td>\n                <td style="border-right:solid 0px"><ul class="' + this.prefix + '-display-tree">' + c + '</ul></td>\n                <td style="border-left:solid 0px">\n                    <div style="width: 88px">\n                        <button data-type="copy" id="' + a + '" class="' + this.prefix + '-display-btn-inline">\n                            Copy\n                        </button>\n                        <button data-type="log" id="' + a + '" class="' + this.prefix + '-display-btn-inline">\n                            Log\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        ';};c.prototype.mla=function(){for(var a='<table class="' + this.prefix + '-display-table" width="100%">' + this.Jj(),b=this.data[this.M0] || [],c=0;c < b.length;++c){a+=this.ala(c,b[c].name,b[c].value);}return a + "</table>";};c.prototype.nQa=function(){var a;a=this.Ed.createElement("button",n.OG,"Clear",{"class":this.prefix + "-display-btn"});a.onclick=this.JJb;return [a,this.nrb(),this.grb()];};c.prototype.nrb=function(){var a;a=this.Ed.createElement("select",n.OG,Object.values(k.Z8).reduce(function(a,b){return a + ('<option value="' + b + '">' + b + "</option>");},""),{"class":this.prefix + "-display-select"});a.onchange=this.oKb;return a;};c.prototype.grb=function(){var a,b,c,d;a=this;b=this.Ed.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.QT;b.onchange=function(){return a.fVb();};c=this.Ed.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});d=this.Ed.createElement("div",void 0,void 0,{"class":this.prefix + "-display-div"});d.appendChild(b);d.appendChild(c);return d;};c.prototype.f_a=function(){return Promise.resolve(this.mla());};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(l.tg)),d.__param(1,g.l(m.Ie)),d.__param(2,g.l(f.IN))],a);b.zab=a;},function(d,b,a){var c,g,l,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.crypto=void 0;d=a(1);c=a(478);g=a(450);l=a(449);m=a(1083);f=a(10);b.crypto=new d.Tc(function(a){a(l.K8).to(m.uwa).Z();a(c.qaa).gi(f.Qv);a(g.L8).gi(f.BX);});},function(d,b,a){var g,l;function c(a){this.EIb=a;}Object.defineProperty(b,"__esModule",{value:!0});b.uwa=void 0;d=a(0);g=a(478);a=a(1);c.prototype.tQa=function(){var a;a=this.EIb.getDeviceId();return new Promise(function(b,c){a.oncomplete=function(){b(a.result);};a.onerror=function(){c(a.error);};});};l=c;l=d.__decorate([a.O(),d.__param(0,a.l(g.qaa))],l);b.uwa=l;},function(d,b,a){var c,g,l,m,f,k,n,p,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.Wd=void 0;d=a(1);c=a(1085);g=a(1086);l=a(1087);m=a(133);f=a(299);k=a(456);n=a(1088);p=a(1089);r=a(479);u=a(1090);b.Wd=new d.Tc(function(a){a(m.oY).to(c.xEa).Z();a(f.XX).to(l.kDa).Z();a(k.vca).to(g.hFa).Z();a(n.jBa).to(p.iBa).Z();a(r.Bca).to(u.vFa).Z();});},function(d,b,a){var g,l,m,f,k,n;function c(a,b){this.is=a;this.json=b;l.In(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.xEa=void 0;d=a(0);l=a(53);m=a(33);f=a(1);k=a(22);n=a(133);c.prototype.NZa=function(a){var b;b=this;return g.read(a,function(a){return parseInt(a);},function(a){return b.is.wfa(a);});};c.prototype.Oqa=function(a){var b;b=this;return g.read(a,function(a){return "true" == a?!0:"false" == a?!1:void 0;},function(a){return b.is.PP(a);});};c.prototype.Cp=function(a){var b;b=this;return g.read(a,function(a){return parseInt(a);},function(a){return b.is.ZI(a);});};c.prototype.QNb=function(a){var b;b=this;return g.read(a,function(a){return parseFloat(a);},function(a){return b.is.Th(a);});};c.prototype.MZa=function(a,b){return g.read(a,function(a){return g.Ovb(a,b);},function(a){return void 0 !== a;});};c.prototype.Sqa=function(a,b){return g.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};c.prototype.OZa=function(a){var b,c;b=void 0 === b?function(){return !0;}:b;c=this;try{return g.read(a,function(a){return c.json.parse(decodeURIComponent(a));},function(a){return c.is.JD(a) && b(a);});}catch(B){return new n.mo();}};c.prototype.mj=function(a,b,c){var d,f;c=void 0 === c?1:c;d=this;a=a.trim();f=b instanceof Function?b:this.Xqb(b,c);b=a.indexOf("[");c=a.lastIndexOf("]");if(0 != b || c != a.length - 1)return new n.mo();a=a.substring(b + 1,c);try{return g.YKb(a).map(function(a){a=f(d,g.oXb(a));if(a instanceof n.mo)throw a;return a;});}catch(y){return y instanceof n.mo?y:new n.mo();}};c.prototype.Xqb=function(a,b){var c;b=void 0 === b?1:b;c=this;return function(d,f){d=g.Czb(a);return 1 < b?c.mj(f,a,b - 1):d(c,f);};};c.Ovb=function(a,b){var d;for(var c in b){d=parseInt(c);if(b[d] == a)return d;}};c.read=function(a,b,c){a=b(a);return void 0 !== a && c(a)?a:new n.mo();};c.Czb=function(a){switch(a){case "int":return function(a,b){return a.NZa(b);};case "bool":return function(a,b){return a.Oqa(b);};case "uint":return function(a,b){return a.Cp(b);};case "float":return function(a,b){return a.QNb(b);};case "string":return function(a,b){return a.Sqa(b);};case "object":return function(a,b){return a.OZa(b);};}};c.YKb=function(a){var l;for(var b=[["[","]"]],c=[],d=0,f=0,g=0,h=[],k={};f < a.length;(k={"char":k["char"]},++f)){k["char"]=a.charAt(f);l=void 0;"," == k["char"] && 0 == g?(c.push(a.substr(d,f - d)),d=f + 1):(l=b.find((function(a){return function(b){return b[0] == a["char"];};})(k)))?(++g,h.push(l)):0 < h.length && h[h.length - 1][1] == k["char"] && (--g,h.pop());}if(d != f)c.push(a.substr(d,f - d));else if(d == f && 0 < d)throw new n.mo();return c;};c.oXb=function(a){var b;b=a.charAt(0);if('"' == b || "'" == b){if(a.charAt(a.length - 1) != b)throw new n.mo();return a.substring(1,a.length - 1);}return a;};a=g=c;a=g=d.__decorate([f.O(),d.__param(0,f.l(k.Ie)),d.__param(1,f.l(m.Vy))],a);b.xEa=a;},function(d,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.hFa=void 0;d=a(0);a=a(1);c.prototype.UPa=function(a){var b;b=this;return a?(a ^ 16 * Math.random() >> a / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(a){return b.UPa(a);});};g=c;g=d.__decorate([a.O()],g);b.hFa=g;},function(d,b,a){var g,l,m,f;function c(a){this.location=a;l.In(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.kDa=void 0;d=a(0);l=a(53);m=a(33);a=a(1);c.DT=function(a){var b,d,f;b={};if(0 < a.length){a=a.split("&");for(var c=0;c < a.length;c++){d=a[c].trim();f=d.indexOf("=");0 <= f?b[decodeURIComponent(d.substr(0,f).replace(g.CBa,"%20"))]=decodeURIComponent(d.substr(f + 1).replace(g.CBa,"%20")):b[d.toLowerCase()]="";}}return b;};ma.Object.defineProperties(c.prototype,{DNb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=g.DT(this.CZa);}},CZa:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0 !== this.VT)return this.VT;this.VT=this.location.search.substr(1);a=this.VT.indexOf("#");0 <= a && (this.VT=this.CZa.substr(0,a));return this.VT;}}});f=g=c;f.CBa=/[+]/g;f=g=d.__decorate([a.O(),d.__param(0,a.l(m.A$))],f);b.kDa=f;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.jBa=void 0;b.jBa="ObjectComparerSymbol";},function(d,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.iBa=void 0;d=a(0);g=a(1);l=a(191);c.prototype.compare=function(a,b){var c;c=[];this.eha(a,b,"",c);return c;};c.prototype.eha=function(a,b,c,d){var f;f=this;if(l.sC.Hw(a))l.sC.Hw(b) && a.length === b.length?a.forEach(function(g,h){f.eha(a[h],b[h],c + "[" + h + "]",d);}):d.push({a:a,b:b,path:c});else if(l.sC.JD(a) && null != a){if(l.sC.JD(b) && null != b){for(var g in a){this.eha(a[g],b[g],c + "." + g,d);}for(var h in b){(h in a) || void 0 === b[h] || d.push({a:void 0,b:b[h],path:c + "." + h});}}else d.push({a:a,b:b,path:c});}else a !== b && d.push({a:a,b:b,path:c});};a=c;a=d.__decorate([g.O()],a);b.iBa=a;},function(d,b,a){var g,l,m,f,k;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.vFa=void 0;d=a(0);g=a(1);l=a(10);m=a(31);f=a(271);k=a(7);c.prototype.Zzb=function(){var a;a=ja.devicePixelRatio || 1;return {width:this.lea.wZb || l.Jt.width * a,height:this.lea.vZb || l.Jt.height * a};};ma.Object.defineProperties(c.prototype,{lea:{configurable:!0,enumerable:!0,get:function(){return k.ha.get(m.Lt);}}});a=c;d.__decorate([f.CS],a.prototype,"lea",null);a=d.__decorate([g.O()],a);b.vFa=a;},function(d,b,a){var c,g,l,m,f,k,n,p,r,u,B,t,y,I,J,D;Object.defineProperty(b,"__esModule",{value:!0});b.kc=void 0;d=a(1);c=a(480);g=a(1092);l=a(99);m=a(272);f=a(1093);k=a(1094);n=a(1099);p=a(1100);r=a(1101);u=a(1102);B=a(1103);t=a(273);y=a(482);I=a(72);J=a(274);D=a(1106);b.kc=new d.Tc(function(a){a(c.cba).to(g.nCa).Z();a(m.Aba).to(f.aDa).Z();a(l.Yv).to(k.oFa).Z();a(t.UX).to(r.lAa).Z();a(t.yba).to(p.zza).Z();a(t.xba).to(n.vza).Z();a(t.wba).to(u.rya).Z();a(t.zba).to(B.BAa).Z();a(J.l8).bVb(function(){return I.vg.Ir.Yn.Ga.ny;});a(J.k8).to(D.bva).Z();a(y.uba).to(y.QCa);});},function(d,b,a){var g,l,m;function c(a,b){this.Ta=b;this.la=a.wb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.nCa=void 0;d=a(0);g=a(1);l=a(6);a=a(22);c.prototype.Fsb=function(a){var b;b=this;try{return {direction:a.direction,Z6b:a.layoutHasChanged,O8b:a.rowInteractionIndex,Oa:a.lolomos.map(function(a){return b.Bsb(a);})};}catch(q){this.la.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};c.prototype.Bsb=function(a){var b;b=this;return {context:a.context,list:a.list.map(function(a){return b.Asb(a);}),requestId:a.requestId,rowIndex:a.rowIndex,P8b:a.rowSegment};};c.prototype.Asb=function(a){var b,c;b={jd:a.pts,property:a.property,fa:a.viewableId,index:a.index};c=a.preplay;this.Ta.Rf(c) && (b.E5=this.Esb(c));a=a.params;this.Ta.Rf(a) && (b.gb=this.yNa(a));return b;};c.prototype.Esb=function(a){var b;b={jd:a.pts,fa:a.viewableId,LL:a.pipelineNum,index:a.index};a=a.params;this.Ta.Rf(a) && (b.gb=this.yNa(a));return b;};c.prototype.yNa=function(a){return {xd:a.uiLabel,rj:a.trackingId,Wn:a.sessionParams};};c.prototype.zNa=function(a){var b;b=this;try{return a.map(function(a){return b.Csb(a);});}catch(q){this.la.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};c.prototype.Csb=function(a){var b,c;c=a.params;this.Ta.Rf(c) && (b=this.Dsb(c));return {u:a.movieId,Ud:a.priority,force:a.force,gb:b,xd:a.uiLabel,I9b:a.uiExpectedStartTime,H9b:a.uiExpectedEndTime,Ak:a.firstTimeAdded};};c.prototype.Dsb=function(a){var b,c;b=void 0;c=a.sessionParams;this.Ta.Rf(c) && (b=c);return {kQ:this.zsb(a.authParams),Wn:b,rj:a.trackingId,X:a.startPts,pa:a.manifest,Kj:a.isBranching};};c.prototype.zsb=function(a){return {BYa:null === a || void 0 === a?void 0:a.pinCapableClient};};m=c;m=d.__decorate([g.O(),d.__param(0,g.l(l.zb)),d.__param(1,g.l(a.Ie))],m);b.nCa=m;},function(d,b,a){var g,l,m,f,k,n,p,r,u,B;function c(a,b,c,d){this.is=c;this.app=d;this.log=a.wb("TaskScheduler");this.Jb=new u.tj();this.config=b();this.s0=this.QQ=0;this.qG=[];this.paused=!1;this.R6=[];this.bMa=[];this.UCb=this.config.IMb || B.append;this.addEventListener=this.Jb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.aDa=void 0;d=a(0);g=a(1);l=a(272);m=a(6);f=a(14);k=a(98);n=a(22);p=a(19);r=a(4);u=a(68);(function(a){a.PMb="prepend";a.append="append";a.kCb="ignore";})(B || (B={}));c.prototype.ZIa=function(a){this.log.trace("adding tasks, number of tasks: " + a.length);this.paused=!1;this.qG=this.VCb(a);this.QQ=0;this.s0+=1;this.Ic();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Ic=function(){var a,b,c,d;a=this;if(this.QQ === this.qG.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.QQ,numberOfTasks:this.qG.length});else {b=this.vzb();c=this.s0;b.startTime=this.app.Bb().ca(r.ga);b.status=k.Jf.qv;this.Jb.ec(l.CH.wUb,{u:b.u,type:b.type});this.R6.push(b);d=function(d){b.endTime=a.app.Bb().ca(r.ga);d();a.bMa.push(b);a.R6.splice(a.R6.indexOf(b),1);a.s0 === c && (a.QQ++,a.Ic());};b.bQb().then(function(){d(function(){b.status=k.Jf.NM;a.Aqa(b,l.CH.xUb,"task succeeded");});})["catch"](function(c){d(function(){0 <= [k.Jf.pk,k.Jf.Dga,k.Jf.S_,k.Jf.Cga].indexOf(c.status)?(b.status=c.status,a.Aqa(b,l.CH.uUb,"cancelled task")):(b.status=k.Jf.uq,a.Aqa(b,l.CH.vUb,"task failed",c));});});}};c.prototype.vzb=function(){return this.qG[this.QQ];};c.prototype.getStats=function(a,b,c){var d,f,g,h;d=this.bMa.map(function(a){return a.ks();});f=this.R6.map(function(a){return a.ks();});g=this.is.Rf(a) && this.is.Rf(b);h={};if(this.is.Rf(c))return (h.$La=d.filter(function(a){return a.movieId === c;}),h);d.concat(f).forEach(function(c){var d;h[c.type + "_" + c.status]=(h[c.type + "_" + c.status] | 0) + 1;d=c.status == k.Jf.qv?c.startTime:c.endTime;g && d && d >= a && d < b && (h[c.type + "_" + c.status + "_delta"]=(h[c.type + "_" + c.status + "_delta"] | 0) + 1);});return h;};c.prototype.Aqa=function(a,b,c,d){var f;f=a.ks();d?this.log.warn(c,f,d):this.log.trace(c,f);this.Jb.ec(b,{u:a.u,type:a.type,reason:a.status});a.Wu(f);};c.prototype.VCb=function(a){var b,c;b=this.qG.filter(function(a){return a.xLb && a.status === k.Jf.sn;});c=this.UCb;return c === B.kCb?[].concat(a):c === B.PMb?b.concat(a):a.concat(b);};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(m.zb)),d.__param(1,g.l(f.Sc)),d.__param(2,g.l(n.Ie)),d.__param(3,g.l(p.Fd))],a);b.aDa=a;},function(d,b,a){var l,m,f,k,n,p,r,u,B,t,y,I,J,D,U,S;function c(a,b,c,d,f,g,h,k,l,m,n,q){var r;r=this;this.cYb=c;this.Ta=d;this.app=f;this.bh=g;this.ePa=h;this.yvb=k;this.zvb=l;this.xvb=m;this.ZEb=n;this.rja=q;this.events=new U.EventEmitter();this.log=a.wb("VideoPreparer");this.config=b();this.rua={};this.G4={};this.xna={};this.yna={};this.gc={num_of_calls:0,num_of_movies:0};this.jm=new S({log:this.log,ta:{getTime:function(){return r.app.Bb().ca(B.ga);}},Promise:Promise,zm:!1,hmb:this.config.LMb,gmb:this.config.JMb,bvb:this.config.eZa,avb:this.config.KMb});}function g(a){return void 0 !== a;}Object.defineProperty(b,"__esModule",{value:!0});b.oFa=void 0;d=a(0);l=a(1095);m=a(14);f=a(1);k=a(6);n=a(90);p=a(22);r=a(272);u=a(19);B=a(4);t=a(98);y=a(273);I=a(72);J=a(274);D=a(12);U=a(16);S=a(1096);c.prototype.$F=function(a,b,c,d){this.jm.setData(a,b,c,d);};c.prototype.ZR=function(a,b){return this.jm.E2(a,b);};c.prototype.yq=function(a,b){return this.jm.getData(a,b);};c.prototype.$Fb=function(){return this.aF();};c.prototype.eQa=function(a){var b;b=this.jm.getData(a,"ldl");this.jm.clearData(a,"ldl",void 0,!0);return b;};c.prototype.CXb=function(a){return this.HM === a || this.hE === a;};c.prototype.tB=function(a,b){var c,d,f;c=this;a=a.map(function(a){a.gb=a.gb || ({kQ:{BYa:!1},rj:0});c.Ta.kE(a.gb.rj) || (a.gb.rj=0);c.Ta.kE(a.jd) && (a.gb.X=a.jd);return a;});d=a.map(function(a){return c.QMa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);f=d.map(function(a){return a.u + "-" + a.type;});this.log.trace("prepare tasks",f);this.bh.ZIa(d);this.gc.num_of_calls++;this.gc.num_of_movies+=a.length;};c.prototype.wMb=function(a,b){var c,d,f;c=this;d=a.map(function(a){return a.u + "";});a=a.map(function(a){a.gb=a.gb || ({kQ:{BYa:!1},rj:0});a.gb.Dd=!0;a.gb.tWa=d;return a;}).map(function(a){return c.QMa(a,b);}).reduce(function(a,b){return a.concat(b);},[]);f=a.map(function(a){return a.u + "-" + a.type;});this.log.trace("predownload tasks",f);this.bh.ZIa(a);};c.prototype.getStats=function(a,b,c){return Object.assign(Object.assign({},c && this.G4[c] || ({})),{qG:this.bh.getStats(a,b,c),cache:this.jm.getStats(a,b),Rwb:Object.assign(Object.assign(Object.assign({},this.qyb()),this.gc),this.rja.getStats())});};c.prototype.rBb=function(a){this.HM=a;};c.prototype.qBb=function(a){this.log.trace("task scheduler paused on playback created");this.bh.pause();this.config.wsb && this.jm.Tga(a,["manifest"]);this.config.usb && this.jm.Tga(a,["ldl"]);this.rja.n_a(a);this.hE=a;};c.prototype.nSa=function(){this.log.info("track changed, clearing all manifests from cache");this.jm.Tga("none",["manifest"]);};c.prototype.pBb=function(a){var b;b=this;this.config.rsb?this.jm.clearData(a,"manifest"):this.jm.E2(a,"manifest") && this.jm.getData(a,"manifest").then(function(c){c.Fc.isSupplemental || b.jm.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId [" + a + "] from cacheManager.",c);});this.Yga(a);this.HM=this.hE=void 0;};c.prototype.Yga=function(a){delete this.rua[a];};c.prototype.uK=function(a){return this.rua[a];};c.prototype.UMa=function(a){return this.rua[a]=this.cYb.cA();};c.prototype.IDb=function(a){return this.hE === a;};c.prototype.D1a=function(a,b,c){if(this.ZR(a,"ldl"))return t.Jf.pk;if(!b.G2)return t.Jf.Cga;if(this.config.ktb && this.hE && this.hE !== a && !c.force)return t.Jf.Dga;if(this.config.ltb && this.HM && this.HM !== a && !c.force)return t.Jf.S_;this.hE && this.hE !== a && (this.xna[a]=(this.xna[a] | 0) + 1);this.HM && this.HM !== a && (this.yna[a]=(this.yna[a] | 0) + 1);};c.prototype.QMa=function(a,b){var c,d;a.xd && a.gb && (a.gb.xd=a.xd);this.uWb(a.u,a.Ak);c=this.Sqb(a,b);d=this.Nqb(a,null === c || void 0 === c?void 0:c.id,b);a=this.BSb(a)?[this.Vqb(a,null === c || void 0 === c?void 0:c.id,b)]:this.Oqb(a,null === c || void 0 === c?void 0:c.id,b);return [].concat([c,d],X(a)).filter(g);};c.prototype.Sqb=function(a,b){if(this.jm.E2(a.u,"manifest"))this.log.trace("manifest exists in cache for " + a.u);else return new l.LC("manifest",this.app.Bb().ca(B.ga),! !a.gb.Dd,void 0,b,this.ePa,a,this);};c.prototype.Nqb=function(a,b,c){if(this.config.UJ)if(this.jm.E2(a.u,"ldl"))!1;else return this.config.Kp?new l.LC("ldl",this.app.Bb().ca(B.ga),! !a.gb.Dd,b,c,this.yvb,a,this):new l.LC("ldl",this.app.Bb().ca(B.ga),! !a.gb.Dd,b,c,this.zvb,a,this);};c.prototype.Vqb=function(a,b,c){if(this.config.iR)return new l.LC("getMedia",this.app.Bb().ca(B.ga),! !a.gb.Dd,b,c,this.rja,a,this);};c.prototype.Oqb=function(a,b,c){if(this.config.iR)if(this.dIb(a.u))!1;else return [new l.LC("getMedia",this.app.Bb().ca(B.ga),! !a.gb.Dd,b,c,this.ZEb,a,this),new l.LC("getHeaders",this.app.Bb().ca(B.ga),! !a.gb.Dd,b,c,this.xvb,a,this)];return [];};c.prototype.BSb=function(a){var b;return ! !D.d0(null === (b=a.gb) || void 0 === b?void 0:b.xd).Pl;};c.prototype.uWb=function(a,b){this.G4[a] || (this.G4[a]={C5:0,Ak:0});a=this.G4[a];a.C5=(void 0 !== a?void 0 !== a.C5?a.C5:0:0) + 1;a.Ak=b;};c.prototype.qyb=function(){return {ldls_after_create:this.xna,ldls_after_start:this.yna};};c.prototype.dIb=function(a){return I.vg.Ir.wga().some(function(b){return b.u === a;});};c.prototype.aF=function(){return I.vg.Ir.aF();};a=c;a=d.__decorate([f.O(),d.__param(0,f.l(k.zb)),d.__param(1,f.l(m.Sc)),d.__param(2,f.l(n.Kv)),d.__param(3,f.l(p.Ie)),d.__param(4,f.l(u.Fd)),d.__param(5,f.l(r.Aba)),d.__param(6,f.l(y.UX)),d.__param(7,f.l(y.yba)),d.__param(8,f.l(y.xba)),d.__param(9,f.l(y.wba)),d.__param(10,f.l(y.zba)),d.__param(11,f.l(J.k8))],a);b.oFa=a;},function(d,b,a){var g,l;function c(a,b,c,d,h,n,p,B){this.type=a;this.sn=b;this.xLb=void 0 === c?!1:c;this.ZWa=h;this.Avb=n;this.RL=p;this.kc=B;this.id=++l;this.status=g.Jf.sn;}Object.defineProperty(b,"__esModule",{value:!0});b.LC=void 0;g=a(98);l=0;c.prototype.ks=function(){var a;a={id:this.id,type:this.type,created:this.sn,status:this.status,movieId:this.u};this.startTime && (a.startTime=this.startTime);this.endTime && this.startTime && (a.duration=this.endTime - this.startTime,a.endTime=this.endTime);return a;};c.prototype.Wu=function(a){this.ZWa && this.ZWa(a);};c.prototype.bQb=function(){return this.Avb.fetch(this.RL,this.kc);};ma.Object.defineProperties(c.prototype,{u:{configurable:!0,enumerable:!0,get:function(){return this.RL.u;}},Ud:{configurable:!0,enumerable:!0,get:function(){return this.RL.Ud;}}});b.LC=c;},function(d,b,a){var f;function c(){return Object.create(null);}function g(a){this.log=a.log;this.ta=a.ta;this.hB=c();this.Promise=a.Promise;this.Zw=a.Zw;this.Nta=a.Nta;this.zm=a.zm || !1;this.su=c();this.Rz=c();this.Qz=c();this.iib(a);a.cp && (this.cp=a.cp);}function l(a){return "undefined" !== typeof a;}function m(a){var d;for(var b=0,c=arguments.length;b < c;){d=arguments[b++];if(l(d))return d;}}a(1097);f=a(1098);g.prototype.iib=function(a){this.su.manifest=m(a.bvb,f.su.pa);this.su.ldl=m(a.avb,f.su.DS);this.su.metadata=m(a.Q5b,f.su.Td);this.Rz.manifest=m(a.hmb,f.Rz.pa);this.Rz.ldl=m(a.gmb,f.Rz.DS);this.Rz.metadata=m(a.I4b,f.Rz.Td);this.Qz.manifest=m(a.G4b,f.Qz.pa);this.Qz.ldl=m(a.F4b,f.Qz.DS);this.Qz.metadata=m(a.H4b,f.Qz.Td);};g.prototype.E2=function(a,b){this.Wo("undefined" !== typeof a);this.Wo("undefined" !== typeof b);return ! !this.uGa(a,b,void 0).value;};g.prototype.uGa=function(a,b,c){var d,f;d={value:null,reason:"",log:""};f=this.hB[b];if("undefined" === typeof f)return (d.log="cache miss: no data exists for field:" + b,d.reason="unavailable",d);"undefined" === typeof f[a]?(d.log="cache miss: no data exists for movieId:" + a,d.reason="unavailable"):(c=f[a][c?c:"DEFAULTCAPS"]) && c.value?this.p3(b,c.wk)?(d.log="cache miss: " + b + " data expired for movieId:" + a,d.reason="expired"):(d.log=this.Promise && c.value instanceof this.Promise?"cache hit: " + b + " request in flight for movieId:" + a:"cache hit: " + b + " available for movieId:" + a,d.value=c.value):(d.log="cache miss: " + b + " data not available for movieId:" + a,d.reason="unavailable");return d;};g.prototype.getData=function(a,b,c){this.Wo("undefined" !== typeof a);this.Wo("undefined" !== typeof b);a=this.uGa(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.Nta?JSON.parse(this.Nta(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};g.prototype.setData=function(a,b,d,f,g){var h,k,l;this.Wo("undefined" !== typeof a);this.Wo("undefined" !== typeof b);h=this.hB;k=g?g:"DEFAULTCAPS";h[b] || (h[b]=c(),Object.defineProperty(h[b],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(h[b],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));d=this.Zw?this.Zw(JSON.stringify(d),"gzip",!0):d;h=h[b];this.Rfb(a,b,k,h);l=this;f={wk:this.ta.getTime(),value:d,size:0,type:b,mia:f,$ub:setTimeout(function(){l.clearData(a,b,k,!1,"expired");},this.su[b] + 1)};h[a]=h[a] || c();h[a][k]=h[a][k] || c();h[a][k]=f;h.size+=0;h.numEntries++;this.cp && this.cp.emit("addedCacheItem",f);return f;};g.prototype.Rfb=function(a,b,c,d){var f,g,h,k,l,m,n,q,r;f=this;g=d.numEntries;h=this.Rz[b];m=d[a] && d[a][c];if(m && m.value)(k=a,l="promise_or_expired");else if(g >= h){q=Number.POSITIVE_INFINITY;Object.keys(d).every(function(a){var g;g=d[a] && d[a][c];g && g.value && f.p3(b,g.wk) && (r=a);g && g.value && g.wk < q && (q=g.wk,n=a);return !0;});k=r || n;l="cache_full";}this.zm && this.log.debug("makespace ",{maxCount:h,currentCount:d.numEntries,field:b,movieId:a,movieToBeRemoved:k});k && (f.clearData(k,b,c,void 0,l),this.log.debug("removed from cache: ",k,b));};g.prototype.Tga=function(a,b){var c,d;c=this;c.Wo("undefined" !== typeof a);d=a + "";b.forEach(function(a){var b;b=c.hB[a];b && Object.keys(b).forEach(function(b){b != d && c.clearData(b,a,void 0,void 0,"clear_all");});});};g.prototype.clearData=function(a,b,c,d,f){var g;this.Wo("undefined" !== typeof a);this.Wo("undefined" !== typeof b);g=this.hB[b];b=g?g[a]:void 0;c=c?c:"DEFAULTCAPS";if(b && b[c]){g.size-=b[c].size;g.numEntries--;if(g=b && b[c])(clearTimeout(g.$ub),b[c]=void 0,!d && g.mia && g.mia());this.cp && (a={creationTime:g.wk,destroyFn:g.mia,size:g.size,type:g.type,value:g.value,reason:f,movieId:a},this.cp.emit("deletedCacheItem",a));}};g.prototype.flush=function(a){var b;this.Wo("undefined" !== typeof a);b=this.hB;b[a]=c();b[a].numEntries=0;b[a].size=0;};g.prototype.ALa=function(a,b){var c,d,f;this.Wo("undefined" !== typeof a);c=this;d=this.hB;f=b?b:"DEFAULTCAPS";d[a] instanceof Object && (b=Object.keys(d[a]),b.forEach(function(b){var g;g=d[a][b][f];c.ta.getTime() - g.wk > c.su[a] && this.clearData(b,a,f,void 0,"clean_up");}));};g.prototype.p3=function(a,b){return this.ta.getTime() - b > this.su[a];};g.prototype.getStats=function(a,b,c){var d,f,g,h,k;d={};f=this;g=f.hB;h=l(a) && l(b);k=c || "DEFAULTCAPS";Object.keys(g).forEach(function(c){var m,n;m=Object.keys(g[c]);n=g[c];m.forEach(function(g){!(g=n && n[g] && n[g][k]) || !l(g.value) || g.value instanceof this.Promise || (d[c]=(d[c] | 0) + 1,f.p3(g.type,g.wk) && (d[c + "_expired"]=(d[c + "_expired"] | 0) + 1),h && g.wk >= a && g.wk < b && (d[c + "_delta"]=(d[c + "_delta"] | 0) + 1));});});return d;};g.prototype.sd=function(a){var b,c,d,f;b=[];c=this;d=c.hB;f=a || "DEFAULTCAPS";Object.keys(d).forEach(function(a){var g,h;g=Object.keys(d[a]);h=d[a];g.forEach(function(d){var g,k;g=h && h[d] && h[d][f];g && l(g.value) && (k=c.p3(g.type,g.wk)?"expired":g.value instanceof this.Promise?"loading":"cached",b.push({movieId:d,state:k,type:a,size:g.size}));});});return b;};g.prototype.psa=function(a,b){this.Wo("undefined" !== typeof a);this.Wo("undefined" !== typeof b);this.Qz[a]=b;};g.prototype.Wo=function(a){if(!a && (this.log.error("Debug Assert Failed",void 0),this.zm))throw Error("Debug Assert Failed ");};d.exports=g;},function(d){function b(a){var b;b=[];return (function l(a){if(a && "object" === typeof a){if(-1 !== b.indexOf(a))return !0;b.push(a);for(var c in a){if(a.hasOwnProperty(c) && l(a[c]))return !0;}}return !1;})(a);}d.exports=function(a,c){var g;if(c && b(a))return -1;c=[];a=[a];for(var d=0;a.length;){g=a.pop();if("boolean" === typeof g)d+=4;else if("string" === typeof g)d+=2 * g.length;else if("number" === typeof g)d+=8;else if("object" === typeof g && -1 === c.indexOf(g)){c.push(g);for(var m in g){a.push(g[m]);}}}return d;};},function(d){d.exports={su:{pa:12E5,DS:9E5,Td:12E5},Rz:{pa:10,DS:10,Td:10},Qz:{pa:10240,DS:10240,Td:10240}};},function(d,b,a){var g,l,m,f,k,n,p,r,u,B,t,y,I,J,D;function c(a,b,c,d,f,g,h,k,l){this.Oq=c;this.QU=d;this.oc=f;this.ta=g;this.za=h;this.XK=k;this.LLb=l;this.log=a.wb("VideoPreparer");this.config=b();}Object.defineProperty(b,"__esModule",{value:!0});b.vza=void 0;d=a(0);g=a(1);l=a(6);m=a(14);f=a(98);k=a(78);n=a(61);p=a(31);r=a(117);u=a(183);B=a(41);t=a(4);y=a(35);I=a(19);J=a(127);a=a(194);c.prototype.fetch=function(a,b){var c;c=this;this.log.trace("Fetching LDL",J.or(a));this.u=a.u;this.kc=b;return b.yq(a.u,"ldl")["catch"](function(){c.log.trace("Requesting a new license",J.or(a));return b.yq(a.u,"manifest").then(function(d){var f,g;c.pa=d;c.Fc=d.Fc;if(d=c.kc.D1a(a.u,c.Fc,a))throw {status:d};d=c.Fc.ot[0].Ns;f=c.Fc.ot[0].Fia;g=(d?d:[f]).map(function(a){return c.oc.decode(a.bytes);});c.pe=c.eE({wma:"cenc",jOa:c.log,cja:function(a){return c.handleError(a);},vd:void 0,ipa:function(){},ta:{getTime:function(){return c.za.Bb().ca(t.ga);},e6b:function(){return c.ta.Be.ca(t.Ym);}}});b.$F(a.u,"ldl",c.pe);return c.pe.create(c.config.De).then(function(){return c.pe.ri(n.jh.Lv,g,!0);}).then(function(){return c.pe;})["catch"](function(a){c.handleError(a);throw a;});})["catch"](function(a){c.log.warn("Manifest not available for ldl request",a);if(void 0 !== a.status)throw a;throw {status:f.Jf.pk};});});};c.prototype.handleError=function(a){this.log.warn("ldl is now invalid",a);this.pe.close();this.kc.$F(this.u,"ldl",void 0);this.kc.Yga(this.u);};c.prototype.eE=function(a){var b,c;b=this;if(!this.Oq.Fv || !this.Oq.Ev){c=this.LLb();this.Oq.Fv=c.Fb;this.Oq.Ev=c.request;}c=new this.Oq.Ev(a.jOa,function(a){var c;c=[];a.aj.forEach(function(a){c.push({sessionId:a.sessionId,dataBase64:b.oc.encode(a.data)});});a={aj:c,R0:[b.Fc.ol],gj:k.Gv.uMa(a.gj),vi:b.Fc.vi,ea:b.kc.UMa(b.u),hj:b.pa.hj};b.log.trace("xid created ",{MovieId:b.u,xid:a.ea});return b.XK.zw(a);},void 0,{zm:!1,sS:!1});return this.Oq.Fv(a.jOa,a.wma,a.vd,{zm:!1,sS:!1,NTa:this.config.Il,y0a:{ZVa:this.config.w0a,nLa:this.config.Sra},AB:c,sZa:this.config.Fqa,na:void 0,HG:this.config.Nia,onerror:a.cja,ipa:a.ipa,ta:a.ta,VLb:!1,ZJa:this.QU.KQ([]),P4a:this.QU.PQ([]),BK:this.config.BK});};D=c;D=d.__decorate([g.O(),d.__param(0,g.l(l.zb)),d.__param(1,g.l(m.Sc)),d.__param(2,g.l(p.Lt)),d.__param(3,g.l(r.RC)),d.__param(4,g.l(B.Ki)),d.__param(5,g.l(y.hh)),d.__param(6,g.l(I.Fd)),d.__param(7,g.l(u.hH)),d.__param(8,g.l(a.nO))],D);b.vza=D;},function(d,b,a){var g,l,m,f,k,n,p,r,u;function c(a,b,c,d,f){this.oc=c;this.Dtb=d;this.dB=f;this.log=a.wb("VideoPreparer");this.config=b();}Object.defineProperty(b,"__esModule",{value:!0});b.zza=void 0;d=a(0);g=a(1);l=a(6);m=a(14);f=a(61);k=a(41);n=a(112);p=a(113);r=a(98);u=a(127);c.prototype.fetch=function(a,b){var c;c=this;this.log.trace("Fetching LDL",u.or(a));this.u=a.u;this.kc=b;return b.yq(a.u,"ldl")["catch"](function(){c.log.trace("Requesting a new license",u.or(a));return b.yq(a.u,"manifest").then(function(d){var g,h,k,l;c.Fc=d.Fc;if(d.Yo)return Promise.resolve(d.Yo);g=c.kc.D1a(a.u,c.Fc,a);if(g)throw {status:g};h=c.Fc.ot[0].Ns;g=c.Fc.ot[0].Fia;k=(h?h:[g]).map(function(a){return c.oc.decode(a.bytes);});l=c.Dtb().then(function(g){var l;l={type:f.jh.Lv,CK:k,context:{De:c.config.De,Ns:h},Eg:{u:a.u,ea:b.UMa(a.u),vi:c.Fc.vi,ol:c.Fc.ol,hj:d.hj}};return g.tB(l,c.dB());})["catch"](function(a){c.handleError("Unable to prepare an EME session.",a);throw a;});c.kc.$F(a.u,"ldl",l,function(){if(!c.kc.CXb(a.u))try{l.then(function(a){a.close().subscribe(void 0,function(a){c.handleError("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){c.handleError("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(O){c.handleError("Unable to cleanup LDL session, unexpected exception.",O);}});return l;})["catch"](function(a){c.log.warn("Manifest not available for ldl request",a);if(void 0 !== a.status)throw a;throw {status:r.Jf.pk};});});};c.prototype.handleError=function(a,b){this.log.warn(a + " LDL is now invalid.",b);this.kc.$F(this.u,"ldl",void 0);this.kc.Yga(this.u);};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(l.zb)),d.__param(1,g.l(m.Sc)),d.__param(2,g.l(k.Ki)),d.__param(3,g.l(n.KN)),d.__param(4,g.l(p.zC))],a);b.zza=a;},function(d,b,a){var g,l,m,f,k,n,p,r,u,t,A;function c(a,b,c,d,f,g){this.aoa=c;this.PS=d;this.is=f;this.app=g;this.log=a.wb("VideoPreparer");this.config=b();}Object.defineProperty(b,"__esModule",{value:!0});b.lAa=void 0;d=a(0);g=a(14);l=a(1);m=a(6);f=a(22);k=a(19);n=a(4);p=a(98);r=a(168);u=a(128);t=a(127);A=a(40);c.prototype.fetch=function(a,b){var d,f,g;function c(){b.events.emit("manifestRemovedFromCache",{type:"manifestRemovedFromCache",fa:a.u});}d=this;this.log.trace("Fetching manifest",t.or(a));f=a.gb;if(this.config.Xib && f && f.pa && !b.ZR(a.u,"manifest") && (!(("clientGenesis" in f.pa) && f.pa.clientGenesis) || Date.now() - f.pa.clientGenesis < this.config.eZa)){g=this.aoa.create(f.pa);g.zB=this.app.Bb().ca(n.ga);g.PF=this.app.Bb().ca(n.ga);b.$F(a.u,"manifest",g,c);}return b.yq(a.u,"manifest")["catch"](function(){var g,h;d.log.trace("Requesting a new manifest",t.or(a));if(b.ZR(a.u,"manifest"))throw {status:p.Jf.pk};g=d.app.Bb().ca(n.ga);h=d.mGb(a.u,f).then(function(a){a.zB=g;a.PF=d.app.Bb().ca(n.ga);return a;})["catch"](function(c){b.$F(a.u,"manifest",void 0);d.log.error("Failed to prefetch manifest",A.Bc.Ve(c));throw c;});b.$F(a.u,"manifest",h,c);return h;});};c.prototype.mGb=function(a,b){this.is.JD(b) || (b={trackingId:b});b={Wa:b,fa:a,wq:u.Oi.vH};this.log.trace("manifest request",{movieId:a});return this.PS.Pe(this.log,b);};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(m.zb)),d.__param(1,l.l(g.Sc)),d.__param(2,l.l(r.lH)),d.__param(3,l.l(u.PX)),d.__param(4,l.l(f.Ie)),d.__param(5,l.l(k.Fd))],a);b.lAa=a;},function(d,b,a){var g,l,m,f,k,n;function c(a,b){this.RB=b;this.log=a.wb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.rya=void 0;d=a(0);g=a(1);l=a(72);m=a(6);f=a(127);k=a(167);n=a(223);c.prototype.fetch=function(a,b){var c,d;c=this;this.log.trace("Fetching headers",f.or(a));d=a.gb;return void 0 === d?Promise.reject("PrepareItemParams is not initialized for Headers Prepare"):new Promise(function(g,h){b.yq(a.u,"manifest").then(function(b){var h;h=new n.vY(c.log,c.RB).Jpa(b.Fc.ot);b=f.ika(b.Fc,h[0].yc,d,a.u);l.vg.Ir.L_(b,function(){return g({});});})["catch"](function(a){c.log.warn("Unable to fetch headers: " + (a.status?a.status:a));h(a);});});};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(m.zb)),d.__param(1,g.l(k.yO))],a);b.rya=a;},function(d,b,a){var g,l,m,f,k,n,p,r,u,t;function c(a,b,c,d){this.Ta=b;this.iu=c;this.RB=d;this.log=a.wb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.BAa=void 0;d=a(0);g=a(1);l=a(6);m=a(217);f=a(4);k=a(22);n=a(98);p=a(72);r=a(127);u=a(167);t=a(223);c.prototype.fetch=function(a,b){var c,d;c=this;this.log.trace("Fetching media",r.or(a));d=a.gb;return void 0 === d?Promise.reject("PrepareItemParams is not initialized for Media Prepare"):new Promise(function(g,h){b.yq(a.u,"manifest").then(function(h){var k,l,m;if(void 0 === p.vg.Ir)throw (c.log.warn("Failing media prepare: aseManager is not initialized",r.or(a)),{status:n.Jf.uq});h=h.Fc;k=new t.vY(c.log,c.RB).Jpa(h.ot);k=r.ika(h,k[0].yc,d,a.u);l=h.duration;k.jd=c.Ta.ZI(d.X)?d.X:c.iu.gJa({SB:f.Nb(h.iu),u:a.u,HT:f.Nb(l),Wa:d}).ca(f.ga);if(!b.IDb(a.u) || d.Dd || a.force){m=function(b){b.movieId === a.u && b.stats && b.stats.prebuffcomplete && (p.vg.Ir.removeEventListener("prebuffstats",m),g({}));};p.vg.Ir.addEventListener("prebuffstats",m);p.vg.Ir.L_(k);}else throw (c.log.warn("Cancelling media prepare: movie is already started",r.or(a)),{status:n.Jf.S_});})["catch"](function(a){c.log.warn("Unable to fetch media: " + (a.status?a.status:a));h(a);});});};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(l.zb)),d.__param(1,g.l(k.Ie)),d.__param(2,g.l(m.aW)),d.__param(3,g.l(u.yO))],a);b.BAa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(a){a && (this.DU(a.hf),this.ysa(a.od),this.l1a(a.Ja));}a.prototype.DU=function(a){this.hf=a;return this;};a.prototype.ysa=function(a){this.od=a;return this;};a.prototype.gq=function(a,b){this.Ja || (this.Ja={});this.Ja[a]=this.lNa(b);return this;};a.prototype.l1a=function(a){var b;b=this;this.Ja={};Object.keys(a).forEach(function(c){return b.gq(c,a[c]);});};a.prototype.Cj=function(){if(!this.Ja)throw Error("Invalid playgraph - `segments` is not defined");if(!this.hf)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.Ja[this.hf])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");return Object.assign({hf:this.hf,Ja:this.Ja},this.od?{od:this.od}:{});};a.prototype.lNa=function(a){var b;b=this;return a && "object" === typeof a?Object.keys(a).reduce(function(c,d){c[d]="object" === typeof a[d]?b.lNa(a[d]):a[d];return c;},{}):a;};return a;})();b.AH=d;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});d=(function(){function a(){}a.decode=function(b){return Object.assign({initialSegment:b.hf,segments:a.Zrb(b.Ja)},void 0 !== b.od?{transitionType:b.od}:{});};a.encode=function(b){return Object.assign({hf:b.initialSegment,Ja:a.Dub(b.segments)},void 0 !== b.transitionType?{od:b.transitionType}:{});};a.L6b=function(a){return void 0 !== a.hf && void 0 !== a.Ja;};a.R6b=function(a){return void 0 !== a.fa && void 0 !== a.tc;};a.Dub=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Cub(b[d]);return c;},{});};a.Cub=function(b){return Object.assign({fa:b.viewableId,tc:b.startTimeMs},b.endTimeMs?{Ad:b.endTimeMs}:{},b.defaultNext?{zh:b.defaultNext}:{},b.weight?{weight:b.weight}:{},b.transitionType?{od:b.transitionType}:{},b.next?{next:a.Aub(b.next)}:{},b.exitZones?{kx:b.exitZones}:{},b.playbackRate?{playbackRate:b.playbackRate}:{});};a.Aub=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Bub(b[d]);return c;},{});};a.Bub=function(a){return Object.assign({},void 0 !== a.weight?{weight:a.weight}:{},a.transitionType?{od:a.transitionType}:{});};a.Zrb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Yrb(b[d]);return c;},{});};a.Yrb=function(b){return Object.assign({viewableId:b.fa,startTimeMs:b.tc},b.Ad?{endTimeMs:b.Ad}:{},b.zh?{defaultNext:b.zh}:{},b.weight?{weight:b.weight}:{},b.od?{transitionType:b.od}:{},b.next?{next:a.Wrb(b.next)}:{},b.kx?{exitZones:b.kx}:{},b.playbackRate?{playbackRate:b.playbackRate}:{});};a.Wrb=function(b){return Object.keys(b).reduce(function(c,d){c[d]=a.Xrb(b[d]);return c;},{});};a.Xrb=function(a){return Object.assign({},void 0 !== a.weight?{weight:a.weight}:{},a.od?{transitionType:a.od}:{});};return a;})();b.Kbb=d;},function(d,b,a){var l,m,f,k,n,p,r,u,t,A,y;function c(){var a;a=this;this.Sq=new Promise(function(b,c){a.resolve=b;a.reject=c;});}function g(a,b,c,d,f){var g;g=this;this.hqa=c;this.GMb=d;this.oGb=f;this.OV=[];this.my=new Map();this.aKb=function(a){var b,c;a=a.wishListItem.key.fa;if(g.my.has(a)){c=g.my.get(a);a=c.RL;c=c.kha;null === (b=c.resolve) || void 0 === b?void 0:b.call(c,a);}};this.tXa=function(a){var b,c;g.config.HMb?(g.n_a(a.fa),g.w1a(g.OV)):null === (c=null === (b=g.my.get(a.fa)) || void 0 === b?void 0:b.g5a.IV.zu(a.fa).events) || void 0 === c?void 0:c.emit("viewableExpired",{type:"viewableExpired"});};this.la=a.wb("VideoPreparer");this.config=b();}Object.defineProperty(b,"__esModule",{value:!0});b.bva=void 0;d=a(0);l=a(6);a(127);m=a(72);f=a(48);k=a(14);n=a(1107);p=a(12);r=a(274);u=a(1);t=a(482);A=a(273);y=a(16);g.prototype.fetch=function(a,b){if(-1 === b.events.listeners("manifestRemovedFromCache").indexOf(this.tXa))b.events.on("manifestRemovedFromCache",this.tXa);!1;this.w1a(this.Xnb(this.trb(a,b)));return this.my.get(a.u).kha.Sq;};g.prototype.getStats=function(){var a;a=this.ny.getStats();return {wishListLength:a.VXb,prefetchList:a.tqa,contents:a.sMa.map(function(a){return {id:a.id,age:a.mk,timeOpened:a.e3a,weight:a.weight,buffer:a.buffer && ({totalabuflmsecs:a.buffer.nV,totalvbuflmsecs:a.buffer.pV}),budget:{inMemoryBytes:a.tQ.PE}};})};};g.prototype.Xnb=function(a){return [].concat([a],X(this.OV.filter(function(b){return b.key.fa !== a.key.fa;}))).slice(0,this.config.EMb).map(this.config.FMb?function(a,b){return Object.assign({},a,{Ud:b});}:function(a){return a;});};g.prototype.czb=function(a,b){var c;c=this;return b.yq(a.u,"manifest")["catch"](function(){return c.oGb.fetch(a,b);}).then(function(a){return a.Fc;});};g.prototype.trb=function(a,b){var d,g,h,k,l,n,q,r;n=new c();if(this.my.has(a.u)){q=this.my.get(a.u);r=q.RL;r.u === a.u && r.xd === a.xd && (l=q.g5a.key);this.ny.getStats().sMa.some(function(b){return b.id === a.u;}) && (n=q.kha);}q=m.vg.rd.nq(p.c0(a.xd));l || (l={fa:a.u,config:q});b={key:l,P6b:null !== (g=null === (d=a.gb) || void 0 === d?void 0:d.Dd) && void 0 !== g?g:!1,Ud:a.Ud,E_:f.T.$b(null !== (k=null === (h=a.gb) || void 0 === h?void 0:h.X) && void 0 !== k?k:0),IV:this.srb(a,b,q)};this.my.set(a.u,{g5a:b,RL:a,kha:n});return b;};g.prototype.srb=function(a,b,c){var d,f,g;d=this;f=a.u;g={get ea() {return b.uK(f);},get VOa() {return !b.ZR(f,"manifest");},events:new y.EventEmitter(),Lmb:function(){},get HV() {return d.czb(a,b).then(function(a){return {pa:a,Vh:a.pSa && !a.G2,config:c,G1a:{}};});},fa:f,equals:function(a){var c;c=b.uK(f);return a.fa === f && (!a.ea || !c || c === a.ea);}};return {zu:function(){return g;}};};g.prototype.f1a=function(a){this.OV=a;};g.prototype.w1a=function(a){this.f1a(a);this.ny.ZRb(this.OV);};g.prototype.n_a=function(a){this.my.has(a) && (this.f1a(this.OV.filter(function(b){return b.key.fa !== a;})),this.my["delete"](a));};ma.Object.defineProperties(g.prototype,{ny:{configurable:!0,enumerable:!0,get:function(){this.nw || (this.nw=this.GMb(),this.nw.rsa(this.hqa).kfa(new n.ZCa(this.la)).Y0a({PE:this.config.DMb}),this.nw.events.on("prefetchComplete",this.aKb));return this.nw;}}});a=g;a=d.__decorate([u.O(),d.__param(0,u.l(l.zb)),d.__param(1,u.l(k.Sc)),d.__param(2,u.l(t.uba)),d.__param(3,u.l(r.l8)),d.__param(4,u.l(A.UX))],a);b.bva=a;},function(d,b){function a(a){this.log=a;}Object.defineProperty(b,"__esModule",{value:!0});b.ZCa=void 0;a.ASb=function(a){return a.ge.key.config.Pl;};a.prototype.zga=function(b,d){b=d(b).Rj.filter(function(b){return a.ASb(b);});this.log.trace("Setting ASE prefetcher wishlist " + JSON.stringify(b.map(function(a){return a.ge.key.fa;})));return {Rj:b};};b.ZCa=a;},function(d,b,a){var c,g,l,m,f,k,n,p,r;Object.defineProperty(b,"__esModule",{value:!0});b.Ga=void 0;d=a(1);c=a(186);g=a(1109);l=a(483);m=a(1110);f=a(484);k=a(1111);n=a(1112);p=a(485);r=a(1113);b.Ga=new d.Tc(function(a){a(c.j9).to(g.Uwa).Z();a(l.$$).to(m.yAa).Z();a(f.taa).to(k.nBa).Z();a(f.baa).to(n.EAa).Z();a(p.aaa).to(r.DAa).Z();});},function(d,b,a){var g,l,m,f,c;function c(a){function b(b,c){this.H=b;this.el=c;this.m1=!1;this.emit=f.prototype.emit;this.addListener=f.prototype.addListener;this.on=f.prototype.on;this.once=f.prototype.once;this.removeListener=f.prototype.removeListener;this.removeAllListeners=f.prototype.removeAllListeners;this.listeners=f.prototype.listeners;this.listenerCount=f.prototype.listenerCount;f.call(this);this.fg=a.wb("DownloadTrack");}b.prototype.pq=function(){!1;this.$Z=void 0;this.emit("destroyed");};b.prototype.toString=function(){return "id:" + this.$Z + " config: " + JSON.stringify(this.H);};b.prototype.toJSON=function(){return "Download Track id:" + this.$Z + " config: " + JSON.stringify(this.H);};b.prototype.S5=function(a){this.H.connections !== a.connections && (this.H=a);};b.prototype.mp=function(){return 1 < this.H.connections?!0:!1;};ma.Object.defineProperties(b.prototype,{Ya:{configurable:!0,enumerable:!0,get:function(){return this.$Z;}},sn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.$Z;}},config:{configurable:!0,enumerable:!0,get:function(){return this.H;}},AF:{configurable:!0,enumerable:!0,get:function(){return this.fg;}},Bm:{configurable:!0,enumerable:!0,get:function(){return this.el.Bm;}}});this.TG=Object.assign(b,new m.Vwa());}Object.defineProperty(b,"__esModule",{value:!0});b.Uwa=void 0;d=a(0);g=a(1);l=a(6);m=a(186);f=a(140).EventEmitter;c=d.__decorate([g.O(),d.__param(0,g.l(l.zb))],c);b.Uwa=c;},function(d,b,a){var g,l,m,f,k,n,p,r,u,t;function c(a,b,c,d,f,g){this.aJ=a;this.gf=c;this.Ta=d;this.za=f;this.config=g;this.log=b.wb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.yAa=void 0;d=a(0);g=a(187);l=a(92);m=a(2);f=a(6);k=a(1);n=a(111);p=a(22);r=a(19);u=a(4);a=a(14);c.prototype.px=function(){return this.za.Bb().ca(u.ga);};c.prototype.aXa=function(a,b){a.TIb({mediaRequest:a,timestamp:b});};c.prototype.sXa=function(a){var b;b=a.mediaRequest.Nq;b.readyState=g.Sb.mc.Sv;a=a.connect?a:{timestamp:this.px(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.hpa(a);};c.prototype.a5=function(a){this.aXa(a.mediaRequest.Nq,a.timestamp);};c.prototype.b5=function(a){var b,c;b=a.mediaRequest.Nq;c=a.bytes;"undefined" === typeof b?!1:(b.readyState === g.Sb.mc.Uv && this.sXa(a),this.Ta.Th(c) && (a.mediaRequest=b,a.timestamp=this.px(),c > b.df && (a.newBytes=c - b.df,a.bytesLoaded=c,b.WIb(a))));};c.prototype.sF=function(a){var b,c,d,f;b=a.mediaRequest;c=a.errorcode;d=a.httpcode;f=g.Sb.zW;if("undefined" === typeof b)!1;else if((b=b.Nq,"undefined" === typeof b))!1;else if(b.readyState !== g.Sb.mc.YG)if(c === m.K.Sy)(b.readyState=g.Sb.mc.nN,a.mediaRequest=b,a.readyState=b.readyState,b.OIb(a));else {b.readyState=g.Sb.mc.YG;switch(c){case m.K.YN:d=f.Mva;break;case m.K.c$:d=f.Z9;break;case m.K.VN:d=400 < d && 500 > d?f.b$:500 <= d?f.oya:f.Z9;break;case m.K.WN:d=f.a$;break;case m.K.UN:d=f.Nva;break;case m.K.XN:d=f.dX;break;case m.K.qC:d=f.dX;break;case m.K.nya:d=f.mya;break;case m.K.jya:d=f.b$;break;case m.K.r8a:d=f.a$;break;default:d=f.dX;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=d;a.nativecode=c;b.jpa(a);}};c.prototype.wpa=function(a,b){var c,d;c=b.request.Nq;if(c)if(b.ja){if((!1,a.j && c.readyState !== g.Sb.mc.DONE)){switch(c.readyState){case g.Sb.mc.nN:!1;return;case g.Sb.mc.YG:!1;break;case g.Sb.mc.Sv:break;case g.Sb.mc.Uv:this.sXa({mediaRequest:b.request});break;default:!1;}c.readyState=g.Sb.mc.DONE;if(!c.wc){d={mediaRequest:c,readyState:c.readyState,timestamp:this.px(),cadmiumResponse:b};a.j.vta+=1;c.HAb();c.WDb() && (a.j.yra+=1,b.xl.Kh=Math.ceil(c.Bja),b.xl.Rn=Math.ceil(c.$D),b.xl.requestTime=Math.floor(c.WA));c.tJ=d;c.Wu(d);}}}else (!1,c.readyState === g.Sb.mc.nN?!1:(a={mediaRequest:b.request,timestamp:this.px(),errorcode:b.ka,httpcode:b.cj},this.sF(a)));};c.prototype.download=function(a,b){var c,d;c=this;b=this.gf.download(a,b);if(a.Nq){d=a.Nq;-1 < [g.Sb.mc.OPENED,g.Sb.mc.YG].indexOf(d.readyState) && (d.readyState=g.Sb.mc.Uv,this.config().lHb?b.zRb(function(a){c.a5(a);}):this.aXa(d,this.px()));}b.bfa(function(b){c.wpa(a,b);});b.HRb(function(a){c.b5(a);});b.tRb(function(a){c.sF(a);});return b;};t=c;t=d.__decorate([k.O(),d.__param(0,k.l(l.oN)),d.__param(1,k.l(f.zb)),d.__param(2,k.l(n.Wy)),d.__param(3,k.l(p.Ie)),d.__param(4,k.l(r.Fd)),d.__param(5,k.l(a.Sc))],t);b.yAa=t;},function(d,b,a){var g,l,m;function c(a,b){this.gf=b;this.log=a.wb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.nBa=void 0;d=a(0);g=a(1);l=a(6);a=a(111);c.prototype.AR=function(a,b,c){a={url:a.url,uQb:c};!1;this.gf.GSb(a);};c.prototype.FD=function(a){try{a.bma();}catch(k){this.log.warn("exception aborting request");}};m=c;m=d.__decorate([g.O(),d.__param(0,g.l(l.zb)),d.__param(1,g.l(a.Wy))],m);b.nBa=m;},function(d,b,a){var g,l,m,f,k,n,p,r,u,t,A;function c(a,b,c,d,f,g){this.za=a;this.xq=b;this.config=c;this.gf=f;this.jHb=g;this.log=d.wb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.EAa=void 0;d=a(0);g=a(48);l=a(1);m=a(6);f=a(111);k=a(483);n=a(80);p=a(187);r=a(19);u=a(4);t=a(36);a=a(14);c.prototype.AR=function(a,b,c){var f,h,k;function d(){a.removeEventListener(p.Sb.ie.GC,d);a.sR?a.sR++:a.sR=1;a.sR >= f.config().pja.length && (a.sR=f.config().pja.length - 1);setTimeout(function(){f.AR(a,b,c);},f.config().pja[a.sR]);}f=this;a.Q6b=!0;h=this.jHb.download({url:a.url,responseType:this.gf.Tbb.h6a,withCredentials:!1,lE:a.I === g.Ac.Ua.AUDIO?"audio":"video",offset:b.start,length:a.Fi,track:{type:a.I === g.Ac.Ua.AUDIO?n.kh.audio:n.kh.video},stream:{Jd:a.Da,U:a.U},Hc:a.Zb,Nq:a,K6:c,kt:this.xq.kt},function(b){b.ja && a.readyState !== p.Sb.mc.DONE && (a.readyState === p.Sb.mc.nN?!1:(a.readyState === p.Sb.mc.YG?!1:a.readyState === p.Sb.mc.Uv?(a.readyState=p.Sb.mc.Sv,a.hpa({mediaRequest:a,readyState:a.readyState,timestamp:f.px(),connect:!1})):a.readyState !== p.Sb.mc.Uv && a.readyState !== p.Sb.mc.Sv && !1,a.readyState=p.Sb.mc.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:f.px(),cadmiumResponse:b,response:b.content},a.tJ=b,a.Wu(b)));});if(a.wc){k={mediaRequest:a,readyState:a.readyState,timestamp:this.px(),connect:!1};a.hpa(k);}a.addEventListener(p.Sb.ie.GC,d);a.bma=h.abort;};c.prototype.FD=function(a){try{a.bma();}catch(I){this.log.warn("exception aborting request");}};c.prototype.px=function(){return this.za.Bb().ca(u.ga);};A=c;A=d.__decorate([l.O(),d.__param(0,l.l(r.Fd)),d.__param(1,l.l(t.Ul)),d.__param(2,l.l(a.Sc)),d.__param(3,l.l(m.zb)),d.__param(4,l.l(f.Wy)),d.__param(5,l.l(k.$$))],A);b.EAa=A;},function(d,b,a){var g,l,m,f,k,n,p,r;function c(a,b,c,d,g,h){function k(f,k){this.track=f;this.label=k;this.Ng=r.Sb.mc.UNSENT;this.df=0;this.Wq=[];this.requestId=h.cA().toString();this.Ta=c;this.log=b.wb("MediaRequest");this.config=a;this.Jb=new p.tj();"notification" === this.label?this.config().lA && (this.Bm=d):this.Bm=g;!1;}function l(f,k){this.requestId=h.cA().toString();this.Ta=c;this.log=b.wb("MediaRequest");this.config=a;this.Jb=new p.tj();this.label=k;"notification" === this.label?this.config().lA && (this.Bm=d):this.Bm=g;this.qS=this.jJ=this.kJ=void 0;this.track=f;this.K_=this.url=this.responseType=void 0;this.Ng=r.Sb.mc.UNSENT;this.si=this.vE=this.zg=this.status=void 0;this.Gm=this.df=0;this.connect=this.Bja=this.$D=this.WA=this.jna=this.ud=this.Aja=this.ce=this.II=void 0;this.Wq=[];this.sn=!1;!1;}k.prototype.addEventListener=function(a,b,c){this.Jb.addListener.call(this,a,b,c);};k.prototype.removeEventListener=function(a,b){this.Jb.removeListener.call(this,a,b);};k.prototype.emit=function(a,b,c){this.Jb.ec.call(this,a,b,c);};k.prototype.TIb=function(a){this.Ng === r.Sb.mc.OPENED && (this.qS=!0,this.ce=this.ud=a.timestamp,!1,this.Ng=r.Sb.mc.Uv,this.emit(r.Sb.ie.fBa,a));};k.prototype.hpa=function(a){var b;if(this.Ng < r.Sb.mc.Sv){this.Wq=[];b=a.timestamp - this.ce;!this.wc && 0 < b && (this.connect=!0,this.Wq.push(b));!0 === this.config().pCb?this.Aja=a.timestamp:this.Aja=this.ud=a.timestamp;!1;this.Ng=r.Sb.mc.Sv;this.emit(r.Sb.ie.eBa,a);}};k.prototype.WIb=function(a){this.Ng === r.Sb.mc.Sv && (!1,this.jna=this.ud=a.timestamp,a.newBytes=a.bytesLoaded - this.df,this.df=a.bytesLoaded,this.Ta.Rf(this.jna) && this.emit(r.Sb.ie.gBa,a));};k.prototype.Wu=function(a){-1 < [r.Sb.mc.Uv,r.Sb.mc.Sv].indexOf(this.Ng) && (this.qS=!1,!1,this.ud=a.timestamp,this.Ng=r.Sb.mc.DONE,a.newBytes=this.Fi - this.df,this.df=this.Fi,this.Ta.Rf(this.$D) && (this.ud=this.$D,0 === a.newBytes && (this.jna=this.$D)),this.Ta.Rf(this.WA) && (this.ce=this.WA),this.II=a.response,this.emit(r.Sb.ie.hO,a));};k.prototype.OIb=function(a){this.qS=!1;!1;this.emit(r.Sb.ie.Iab,a);};k.prototype.jpa=function(a){this.ud=a.timestamp;this.status=a.httpcode;this.zg=a.errorcode;this.vE=r.Sb.zW.name[this.zg];this.si=a.nativecode;!1;this.emit(r.Sb.ie.GC,a);this.qS=!1;};k.prototype.open=function(a,b,c,d,f,g,h){this.qv=!1;this.K_=b;this.url=a;this.responseType=c;!1;if(!this.url)return (!1,!1);this.Ng=r.Sb.mc.OPENED;this.Bm.AR(this,b,h);return !0;};k.prototype.dc=function(){!1;-1 !== [r.Sb.mc.OPENED,r.Sb.mc.Uv,r.Sb.mc.Sv].indexOf(this.Ng) && this.abort();return !0;};k.prototype.BLa=function(){this.II=void 0;this.tJ && (this.tJ.response=void 0,this.tJ.cadmiumResponse.content=void 0);this.bma=void 0;};k.prototype.cV=function(a){!1;this.url=a;return !0;};k.prototype.abort=function(){this.Ng=r.Sb.mc.nN;this.Bm.FD(this);return !0;};k.prototype.pause=function(){};k.prototype.getResponseHeader=function(){return null;};k.prototype.getAllResponseHeaders=function(){return "";};k.prototype.aU=function(){};k.prototype.Dk=function(){return this.requestId;};k.prototype.toString=function(){var a;a={requestId:this.Dk(),segmentId:this.va,isHeader:this.wc,ptsStart:this.py,ptsOffset:this.Qn,responseType:this.responseType,duration:this.ix,readystate:this.Ng};this.stream && (a.bitrate=this.stream.U);return JSON.stringify(a);};k.prototype.toJSON=function(){return this.toString();};k.prototype.HAb=function(){var a,b;if(this.config().D4a && f.It && f.It.getEntriesByType && (!this.Ta.Rf(this.WA) || !this.Ta.Rf(this.$D) && this.Ta.Rf(this.url))){a="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.kJ + "-" + this.jJ + "*");b=new RegExp(a);a=f.It.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Ta.Rf(a) && (0 < a.startTime && (this.WA=a.startTime,0 < a.requestStart && (this.WA=Math.max(this.WA,a.requestStart))),0 < a.responseStart && (this.Bja=a.responseStart),0 < a.responseEnd && (this.$D=a.responseEnd));}};k.prototype.WDb=function(){return this.Ta.Rf(this.WA) && this.Ta.Rf(this.$D) && this.Ta.Rf(this.Bja);};ma.Object.defineProperties(k.prototype,{Fi:{configurable:!0,enumerable:!0,get:function(){return this.K_.end - this.K_.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.jJ - this.kJ + 1;}},tSa:{configurable:!0,enumerable:!0,get:function(){return ! !(this.response && 0 < this.response.byteLength);}},wc:{configurable:!0,enumerable:!0,get:function(){return !this.RA;}},response:{configurable:!0,enumerable:!0,get:function(){return this.II;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Ng;},set:function(){}}});Object.getOwnPropertyNames(k.prototype).forEach(function(a){Object.defineProperty(l.prototype,a,Object.getOwnPropertyDescriptor(k.prototype,a));});this.Vm=Object.assign(l,r.Sb);}Object.defineProperty(b,"__esModule",{value:!0});b.DAa=void 0;d=a(0);g=a(1);l=a(6);m=a(14);f=a(10);k=a(22);n=a(484);p=a(68);r=a(187);a=a(90);c=d.__decorate([g.O(),d.__param(0,g.l(m.Sc)),d.__param(1,g.l(l.zb)),d.__param(2,g.l(k.Ie)),d.__param(3,g.l(n.taa)),d.__param(4,g.l(n.baa)),d.__param(5,g.l(a.Kv))],c);b.DAa=c;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.vWa=void 0;d=a(1);c=a(331);g=a(1115);b.vWa=new d.Tc(function(a){a(c.iaa).to(g.QAa).Z();});},function(d,b,a){var g,l,m,f,k;function c(a){return l.Te.call(this,a,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.QAa=void 0;d=a(0);g=a(43);l=a(44);m=a(1);f=a(32);k=a(4);L(c,l.Te);ma.Object.defineProperties(c.prototype,{mWa:{configurable:!0,enumerable:!0,get:function(){return k.Nb(5E3);}},HXa:{configurable:!0,enumerable:!0,get:function(){return k.Nb(1E3);}},IXa:{configurable:!0,enumerable:!0,get:function(){return k.Nb(1E3);}}});a=c;d.__decorate([g.config(g.ai,"minDecoderBufferMilliseconds")],a.prototype,"mWa",null);d.__decorate([g.config(g.ai,"optimalDecoderBufferMilliseconds")],a.prototype,"HXa",null);d.__decorate([g.config(g.ai,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"IXa",null);a=d.__decorate([m.O(),d.__param(0,m.l(f.ek))],a);b.QAa=a;},function(d,b,a){var c,g,l,m,f,k,n,p,r,u;Object.defineProperty(b,"__esModule",{value:!0});b.sYa=void 0;d=a(1);c=a(486);g=a(1117);l=a(66);m=a(1119);f=a(489);k=a(1120);n=a(382);p=a(1121);r=a(188);u=a(1122);b.sYa=new d.Tc(function(a){a(l.ur).to(m.LBa).Z();a(c.Jaa).to(g.MBa).Z();a(n.Paa).to(p.RBa);a(n.Oaa).jf(function(a){return function(){return a.ob.get(n.Paa);};});a(f.Xaa).to(k.fCa).Z();a(r.lO).to(u.dCa).Z();});},function(d,b,a){var m,f,k,n,p,r,u,t,A,y,I,J,D,U,S,O;function c(a){this.config=a;this.Xw=[];}function g(a,b,c){this.za=a;this.XM=b;this.context=c;this.startTime=this.za.Bb();}function l(a,b,d,f,g,h,k,l,m){this.G3a=b;this.json=d;this.za=f;this.xq=g;this.Kqa=h;this.Ea=k;this.config=l;this.Jb=m;this.log=a.wb("Pbo");l.c_a && (this.Xw=new c(l));this.XM=this.G3a();}Object.defineProperty(b,"__esModule",{value:!0});b.MBa=void 0;d=a(0);m=a(1);f=a(4);k=a(487);n=a(6);p=a(33);r=a(19);u=a(36);t=a(135);A=a(42);y=a(488);I=a(66);J=a(91);D=a(13);U=a(46);S=a(1118);O={"shakti-":"akira","UI-":"chromecast"};l.prototype.send=function(a,b){var c;c=new g(this.za,this.XM,a);this.Xw && this.Xw.append(c);return this.esa(a,b,c);};l.prototype.esa=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.ty(a,b).then(function(a){var b,h;d.ZQb(a);b=N(d.pXb(a));h=b.next().value;b=b.next().value;h && (d.Snb(c),f(a));b && (d.OLa(c,b),g(b));})["catch"](function(a){var b;b=d.OLa(c,a);a.Ab && (a.Ab=[a.Ab," ",b].join(""));g(a);});});};l.prototype.ZQb=function(a){(a=a.serverTime) && this.Jb.ec(D.n$.Q0a,f.Nb(a));};l.prototype.pXb=function(a){var b;!1;b=a.result;if(("deviceCommand" in a)){a=a.deviceCommand;this.log.trace("Received device command '" + a + "'");switch(a){case "reset":b="RESET_DEVICE";break;case "reload":b="RELOAD_DEVICE";break;case "exit":b="EXIT_DEVICE";break;default:(b="FAIL",this.log.error("Unhandled device command '" + a + "'"));}return [,{code:b,detail:{message:"Server sent device action to '" + a + "' device"}}];}if(b)return (!1,[b,void 0]);if(a.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}]);this.log.error("Response did not contain a result or an error",a);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};l.prototype.aLb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(da){throw {yF:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw {yF:!0,code:"FAIL",message:"There is no result property on the response"};}throw {yF:!0,code:"FAIL",message:"There is no body property on the response"};};l.prototype.Rkb=function(a,b,c){var d;d=this;this.AWb(b,a);this.XM=this.G3a(c);return this.XM.send(b,c).then(function(a){return {ty:!1,result:d.aLb(a.body)};})["catch"](function(c){var f,g;f=S.Kaa.fzb(c);g=void 0 !== f?Math.min(f,b.Bra):b.Bra;return d.H6(b,c,a,g)?(f=d.wmb(c,a,g),d.log.warn("Method failed, retrying",Object.assign({Method:b.sk,Attempt:a + 1,WaitTime:f,MaxRetries:g},d.bia(c))),Promise.resolve({ty:!0,om:f,error:c})):Promise.resolve({ty:!1,error:c});});};l.prototype.Zwb=function(a){var b,c;if(!this.Yea || this.Yea.DKb !== a){b="";c=a;Object.entries(O).find(function(c){var d;d=N(c);c=d.next().value;d=d.next().value;if(0 === a.indexOf(c))return (b=d,a=a.slice(c.length),!0);});this.Yea={JLa:b,Hy:a,DKb:c};}return this.Yea;};l.prototype.AWb=function(a,b){var c,d,f,g;g=a.url.searchParams;g.set(U.Pt.Xbb,(b + 1).toString());g.set(U.Pt.Lg,a.ora.toString());g.set(U.Pt.Ybb,a.nra);a=this.Zwb(null !== (c=this.config.Hy) && void 0 !== c?c:"");a.JLa && (g.set(U.Pt.s7a,a.JLa),a.Hy && g.set(U.Pt.Vcb,encodeURIComponent(a.Hy)),c=this.xq.wh,(null === c || void 0 === c?0:c.name) && g.set(U.Pt.O6a,encodeURIComponent(c.name)),(null === c || void 0 === c?0:c.version) && g.set(U.Pt.P6a,encodeURIComponent(c.version)),(null === (d=null === c || void 0 === c?void 0:c.os) || void 0 === d?0:d.name) && g.set(U.Pt.Jab,encodeURIComponent(c.os.name)),(null === (f=null === c || void 0 === c?void 0:c.os) || void 0 === f?0:f.version) && g.set(U.Pt.Kab,encodeURIComponent(c.os.version)));};l.prototype.ty=function(a,b,c){var d;c=void 0 === c?0:c;d=this;return this.Rkb(c++,a,b).then(function(f){if(f.ty)return d.HXb(f.om).then(function(){return d.ty(a,b,c);});if(f.error)throw f.error;if(void 0 === f.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return f.result;});};l.prototype.H6=function(a,b,c,d){var f;f=this.xq.a0a || S.Kaa.XDb(b);if(f && c < d)return !0;f?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.sk,Attempt:c + 1,MaxRetries:d},this.bia(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.sk},this.bia(b)));return !1;};l.prototype.wmb=function(a,b,c){return a && a.BB && void 0 !== a.BB.retryAfterSeconds?f.ah(a.BB.retryAfterSeconds):f.Nb(this.Kqa.FZa(1E3 * (0 === b?1:b),1E3 * Math.pow(2,Math.min(b,c))));};l.prototype.HXb=function(a){var b;b=this;return new Promise(function(c){b.Ea.Ai(a || f.nb,c);});};l.prototype.bia=function(a){return y.KTa(a)?a:{message:a.message,subCode:a.wd,extCode:a.Vg,mslCode:a.Uu,data:a.data};};l.prototype.Snb=function(a){a.NM();};l.prototype.OLa=function(a,b){var c;a.uq(b);if(this.Xw)try{c=this.json.stringify(this.Xw);this.log.error("PBO command history",c);return c;}catch(sa){}return "";};a=l;a=d.__decorate([m.O(),d.__param(0,m.l(n.zb)),d.__param(1,m.l(k.nca)),d.__param(2,m.l(p.Vy)),d.__param(3,m.l(r.Fd)),d.__param(4,m.l(u.Ul)),d.__param(5,m.l(t.rO)),d.__param(6,m.l(A.ph)),d.__param(7,m.l(I.ur)),d.__param(8,m.l(J.HW))],a);b.MBa=a;g.prototype.NM=function(){this.ja=!0;this.elapsedTime=this.za.Bb().Fa(this.startTime);};g.prototype.uq=function(a){this.ja=!1;this.elapsedTime=this.za.Bb().Fa(this.startTime);this.RTb=a.wd || a.subCode;this.evb=a.Vg || a.extCode;};g.prototype.toString=function(){return JSON.stringify(this);};g.prototype.toJSON=function(){var a;a=Object.assign({success:this.ja,method:this.context.sk,startTime:this.startTime.ca(f.ga),elapsedTime:this.elapsedTime?this.elapsedTime.ca(f.ga):"in progress"},this.XM.uha());return this.ja?a:Object.assign(Object.assign(Object.assign({},a),this.XM.uha()),{subcode:this.RTb,extcode:this.evb});};c.prototype.append=function(a){this.Xw.push(a);0 < this.config.Yla && this.Xw.length > this.config.Yla && this.Xw.shift();};c.prototype.toJSON=function(){return this.Xw;};},function(d,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Kaa=void 0;g=a(2);c.XDb=function(a){var b,c;b=a && a.code;c=a && (a.ka || a.wd);a=a.Vg !== g.gX.FBa;c=! !c && c >= g.K.YN && c <= g.K.WN && a;return !("RETRY" !== b && "FAIL" !== b) || c;};c.fzb=function(a){var b,c;c=null === (b=null === a || void 0 === a?void 0:a.BB) || void 0 === b?void 0:b.maxRetries;return "number" === typeof c?c:"FAIL" === (null === a || void 0 === a?void 0:a.code)?1:void 0;};b.Kaa=c;},function(d,b,a){var g,l,m,f,k,n;function c(a,b,c){a=l.Te.call(this,a,"PboConfigImpl") || this;a.config=b;a.ekb=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.LBa=void 0;d=a(0);g=a(1);l=a(44);m=a(32);f=a(43);k=a(14);a=a(114);L(c,l.Te);ma.Object.defineProperties(c.prototype,{Hy:{configurable:!0,enumerable:!0,get:function(){return this.config().Zr.Hy || "";}},v7:{configurable:!0,enumerable:!0,get:function(){return this.config().Zr.v7 || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},JXa:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Zr.rqa;}},w3:{configurable:!0,enumerable:!0,get:function(){return !1;}},aHb:{configurable:!0,enumerable:!0,get:function(){return !0;}},cHb:{configurable:!0,enumerable:!0,get:function(){return !0;}},R0a:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.ekb.wKa,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},ping:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.S0a);}},S0a:{configurable:!0,enumerable:!0,get:function(){return {};}},c_a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Yla:{configurable:!0,enumerable:!0,get:function(){return 10;}},aJa:{configurable:!0,enumerable:!0,get:function(){return !1;}},$_:{configurable:!0,enumerable:!0,get:function(){return !1;}},yOa:{configurable:!0,enumerable:!0,get:function(){return !1;}},y4a:{configurable:!0,enumerable:!0,get:function(){return !1;}},G4a:{configurable:!0,enumerable:!0,get:function(){return !1;}},xOa:{configurable:!0,enumerable:!0,get:function(){return !0;}}});n=c;d.__decorate([f.config(f.string,"uiVersion")],n.prototype,"Hy",null);d.__decorate([f.config(f.string,"uiPlatform")],n.prototype,"v7",null);d.__decorate([f.config(f.Iy,"pboVersion")],n.prototype,"version",null);d.__decorate([f.config(f.string,"pboOrganization")],n.prototype,"JXa",null);d.__decorate([f.config(f.Z6,"pboLanguages")],n.prototype,"languages",null);d.__decorate([f.config(f.Gc,"hasLimitedPlaybackFunctionality")],n.prototype,"w3",null);d.__decorate([f.config(f.Gc,"mdxBindUsingNodeQuark")],n.prototype,"aHb",null);d.__decorate([f.config(f.Gc,"mdxPairUsingNodeQuark")],n.prototype,"cHb",null);d.__decorate([f.config(f.object(),"pboCommands")],n.prototype,"R0a",null);d.__decorate([f.config(f.object(),"pboCommandsOverride")],n.prototype,"S0a",null);d.__decorate([f.config(f.Gc,"pboRecordHistory")],n.prototype,"c_a",null);d.__decorate([f.config(f.Iy,"pboHistorySize")],n.prototype,"Yla",null);d.__decorate([f.config(f.Gc,"pboAddXEsnHeader")],n.prototype,"aJa",null);d.__decorate([f.config(f.Gc,"combineManifestAndLicense")],n.prototype,"$_",null);d.__decorate([f.config(f.Gc,"enableLicensedManifestForPrefetch")],n.prototype,"yOa",null);d.__decorate([f.config(f.Gc,"useLdlForPrefetchLicensedManifest")],n.prototype,"y4a",null);d.__decorate([f.config(f.Gc,"pboUseStudioManifest")],n.prototype,"G4a",null);d.__decorate([f.config(f.Gc,"pboEnableLeanManifest")],n.prototype,"xOa",null);n=d.__decorate([g.O(),d.__param(0,g.l(m.ek)),d.__param(1,g.l(k.Sc)),d.__param(2,g.l(a.$B))],n);b.LBa=n;},function(d,b,a){var l,m;function c(a,b,c,d,g,h,l){this.version=a;this.url=b;this.id=c;this.languages=d;this.gb=g;this.Mtb=h;this.jIb=l;}function g(a){this.Hh=a;}Object.defineProperty(b,"__esModule",{value:!0});b.fCa=void 0;d=a(0);l=a(1);a=a(66);g.prototype.create=function(a,b,d,g,h){return new c(this.Hh.version,b,a,this.Hh.languages,d,g,h);};m=g;m=d.__decorate([l.O(),d.__param(0,l.l(a.ur))],m);b.fCa=m;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.gb,echo:this.Mtb};};},function(d,b,a){var g,l,m;function c(a,b){this.gA=b;this.log=a.wb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.RBa=void 0;d=a(0);g=a(1);l=a(6);a=a(84);c.prototype.gfa=function(a){a && (!1,this.links=Object.assign(Object.assign({},this.links),a));};c.prototype.NR=function(a){!1;return this.links[a];};c.prototype.sjb=function(a){var b;b="playbackContextId=" + a.playbackContextId + "&esn=" + this.gA().Yh;a="drmContextId=" + a.drmContextId;this.gfa({events:{rel:"events",href:"/events?" + b},license:{rel:"license",href:"/license?licenseType=standard&" + b + "&" + a},ldl:{rel:"ldl",href:"/license?licenseType=limited&" + b + "&" + a}});};m=c;m=d.__decorate([g.O(),d.__param(0,g.l(l.zb)),d.__param(1,g.l(a.yt))],m);b.RBa=m;},function(d,b,a){var g,l;function c(){this.WU=new l.po();}Object.defineProperty(b,"__esModule",{value:!0});b.dCa=void 0;d=a(0);g=a(1);l=a(134);c.prototype.UL=function(a){this.WU.next(a);};ma.Object.defineProperties(c.prototype,{AB:{configurable:!0,enumerable:!0,get:function(){return this.WU;}}});a=c;a=d.__decorate([g.O()],a);b.dCa=a;},function(d,b,a){var c,g,l,m,f,k,n,p,r,u,t,A,y,I,J,D,U,S,O,F,E,L,N,R,Z,T,ca,V,P,aa,Q,ua,X,ga,fa,ka,ha,ja,la;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;d=a(1);c=a(379);g=a(490);l=a(1124);m=a(492);f=a(1125);k=a(344);n=a(341);p=a(1126);r=a(1136);u=a(14);t=a(19);A=a(88);y=a(22);I=a(6);J=a(1137);D=a(493);U=a(1138);S=a(4);O=a(1139);F=a(1140);E=a(514);L=a(1141);N=a(91);R=a(494);Z=a(1142);T=a(106);ca=a(27);V=a(117);P=a(84);aa=a(263);Q=a(517);ua=a(1143);X=a(65);ga=a(36);fa=a(495);ka=a(1144);ha=a(496);ja=a(12);la=a(30);b.j=new d.Tc(function(b){b(Q.TX).to(ua.xCa).Z();b(ha.i8).jf(function(){return function(b){var c,d;c=ja.d0(b.xd);d=new (a(1145).Vua)(b,c.Pl);return c.Pl && c.qE && c.TWb?new (a(1146).Uua)(b,!0,d):d;};});b(c.oca).jf(function(b){var c;c=b.ob;return function(b,d,f,g,h,k,l,m,n){return new (a(1147).$Ea)(c.get(O.qca),b,d,f,g,h,k,l,m,n);};});b(O.qca).to(F.cFa).Z();b(g.pca).to(l.bFa).Z();b(n.mba).to(p.tCa).Z();b(fa.Mba).to(ka.yDa);b(fa.Lba).o3a(fa.Mba);b(k.f9).jf(function(b){var c;c=b.ob;return function(b){return new (a(1148).Qwa)(c.get(N.e9),c.get(A.xt),c.get(t.Fd),b);};});b(m.q8).jf(function(){return function(a){return new f.vva(a);};});b(J.dba).jf(function(a){var b;b=a.ob;return function(a){return new r.pCa(a,b.get(I.zb),b.get(u.Sc),b.get(y.Ie),b.get(A.xt));};});b(D.oba).jf(function(a){var b;b=a.ob;return function(a,c,d,f,g,h,k,l,m){return new U.zCa(a,c,d,f,g,h,k,l,m,b.get(J.dba),b.get(Q.TX));};});b(E.Tba).jf(function(a){return function(b){var c,d;c=a.ob.get(u.Sc);d=a.ob.get(I.zb);return new L.TDa(c,b,d);};});b(R.nba).jf(function(a){return function(b){var c,d,f,g,h;c=a.ob.get(P.yt);d=a.ob.get(T.TC);f=a.ob.get(ca.tg);g=a.ob.get(V.RC);h=a.ob.get(la.mC);return new Z.vCa(b,c,d(S.ah(1)),f,g,h);};});b(aa.sX).QB(function(b){return new (a(1149).NAa)(b.ob.get(X.mH),b.ob.get(ga.Ul));}).Z();});},function(d,b,a){var g,l,m,f,k,n;function c(a,b){this.app=a;this.config=b;}Object.defineProperty(b,"__esModule",{value:!0});b.bFa=void 0;d=a(0);g=a(13);l=a(491);m=a(19);f=a(1);k=a(4);a=a(14);c.prototype.VJ=function(a){var b;a.sV={};if(!a.TE() && a.Gy && 0 < a.Gy.length && (a.Fy=this.OQa(a),a.Fy)){b=this.bSb(a);b() || (a.Ob.addListener(b),a.kf.addListener(b));}};c.prototype.bSb=function(a){var c;function b(){var d,f;if(!a.kf.value || a.Ob.value === g.ub.$f)return !1;d=a.Fy;f=d.sd();return f === l.uo.LOADING?!1:f !== l.uo.LOADED && d.ty?(d=c.JAb(a))?(a.sV.offset=c.app.Bb().ca(k.ga),a.Fy=d,d.download(),!0):!1:(a.Ob.removeListener(b),a.kf.removeListener(b),!1);}c=this;return b;};c.prototype.JAb=function(a){var b,c;b=this.config();c=a.On.VR() < b.BVb;b=(a.kf.value?a.kf.value.U:0) > b.AVb;return this.eAb(a,c && b);};c.prototype.eAb=function(a,b){if(b && (b=this.OQa(a),this.zRa(a,b.size)))return (a.sV.O_a="h",b);b=this.bzb(a);if(this.zRa(a,b.size))return (a.sV.O_a="l",b);};c.prototype.zRa=function(a,b){var c,d;c=this.config();d=Math.min(a.fQ(),a.BV());return a.rlb.nmb(b) * (1 + .01 * c.Mjb[2]) < d * c.EVb;};c.prototype.OQa=function(a){return a.Gy[a.Gy.length - 1];};c.prototype.bzb=function(a){return a.Gy[0];};n=c;n=d.__decorate([f.O(),d.__param(0,f.l(m.Fd)),d.__param(1,f.l(a.Sc))],n);b.bFa=n;},function(d,b){function a(a){this.j=a;}Object.defineProperty(b,"__esModule",{value:!0});b.vva=void 0;a.prototype.m4a=function(){var a;a=this.j.Ga;if(null !== a && void 0 !== a && a.xK()){a=a.mb.get();if(null === a || void 0 === a?0:a.ci)this.j.ci=a.ci.Ca;if(null === a || void 0 === a?0:a.Ka)this.j.Ka=a.Ka.Ca;}};a.prototype.zn=function(){-1 === this.j.Ka && this.m4a();return this.j.Ka;};a.prototype.nmb=function(a){-1 !== this.j.ci && -1 !== this.j.Ka || this.m4a();return -1 === this.j.ci || -1 === this.j.Ka?Number.MAX_VALUE:this.j.ci + 8 * a / this.j.Ka;};b.vva=a;},function(d,b,a){var g,l,m,f,k,n,p,r,u,t,A,y,I,J,D,U,S,O,F,E,L,N,R,Z,T,ca,V;function c(a,b,c,d,f,g,h,k,l,m,n,q,p,r,u,y,v,t,B,A,I,J,D,E,U){this.NE=a;this.dJ=b;this.za=c;this.ta=d;this.tlb=f;this.kta=g;this.boa=h;this.coa=k;this.Y3=l;this.kc=m;this.lj=n;this.xi=q;this.iu=p;this.Zpa=r;this.PS=u;this.Eta=y;this.Mj=v;this.Bl=t;this.Wd=B;this.Xpa=A;this.rPb=I;this.Hfa=J;this.iF=D;this.T_=E;this.aJ=U;}Object.defineProperty(b,"__esModule",{value:!0});b.tCa=void 0;d=a(0);g=a(90);l=a(1);m=a(106);f=a(29);k=a(19);n=a(35);p=a(492);r=a(367);u=a(380);t=a(458);A=a(99);y=a(116);I=a(148);J=a(92);D=a(217);U=a(493);S=a(128);O=a(1127);F=a(490);E=a(51);L=a(27);N=a(494);R=a(65);Z=a(495);T=a(496);ca=a(263);c.prototype.create=function(b,c,d,f,g,h){return new (a(497).uCa)(b,c,g,h,f,this.NE,d,this.za,this.dJ,this.ta,this.boa,this.tlb,this.kta,this.coa,this.Y3,this.kc,this.lj,this.xi,this.iu,this.Zpa,this.PS,this.Eta,this.Mj,this.Wd,this.Xpa,this.Bl,this.rPb(),this.Hfa,this.iF,void 0,this.T_);};V=c;V=d.__decorate([l.O(),d.__param(0,l.l(g.Kv)),d.__param(1,l.l(f.qg)),d.__param(2,l.l(k.Fd)),d.__param(3,l.l(n.hh)),d.__param(4,l.l(p.q8)),d.__param(5,l.l(m.TC)),d.__param(6,l.l(r.S$)),d.__param(7,l.l(u.U$)),d.__param(8,l.l(t.H$)),d.__param(9,l.l(A.Yv)),d.__param(10,l.l(y.JC)),d.__param(11,l.l(I.BH)),d.__param(12,l.l(D.aW)),d.__param(13,l.l(U.oba)),d.__param(14,l.l(S.PX)),d.__param(15,l.l(F.pca)),d.__param(16,l.l(E.Tm)),d.__param(17,l.l(R.mH)),d.__param(18,l.l(L.tg)),d.__param(19,l.l(N.nba)),d.__param(20,l.l(Z.Lba)),d.__param(21,l.l(T.i8)),d.__param(22,l.l(ca.sX)),d.__param(23,l.l(O.Yva)),d.__param(23,l.optional()),d.__param(24,l.l(J.oN)),d.__param(24,l.optional())],V);b.tCa=V;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yva=b.Zva=void 0;d=b.Zva || (b.Zva={});d[d.Pab=0]="PAUSE";d[d.Ubb=1]="RESUME";d[d.aZb=2]="CAPTIONS_ON";d[d.$Yb=3]="CAPTIONS_OFF";d[d.bZb=4]="CAPTION_LANGUAGE_CHANGED";d[d.pYb=5]="AUDIO_LANGUAGE_CHANGED";d[d.R0b=6]="NEXT_EP";d[d.T1b=7]="PREV_EP";d[d.Tv=8]="SEEK";d[d.JDa=9]="STOP";b.Yva="CastInteractionTrackerSymbol";},function(d,b,a){var k,n,p,r,u,t,A,y,I,J,D,U,S,O,F,E,L,N,R,Z,T,ca,V,P,aa,Q;function c(){this.q7=[];this.jVb=50;}function g(a){var b;b=this;this.j=a;this.c5a=Promise.resolve();this.x9=ja.WebKitMediaKeys || HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.Cz=[];this.zr=new u.tj();this.fGa=this.Nca=0;this.OY=[];this.fg=y.Ch(this.j,"MediaElementASE");this.bIa=O.mh;this.kda=!1;this.Rb=new c();this.hn={};this.KGa={};this.X1=this.SO(function(){var a;if(b.na)return null !== (a=b.na.webkitDecodedFrameCount) && void 0 !== a?a:0;});this.xA=this.SO(function(){var a;if(b.na){a=b.gZ();return a?a.totalVideoFrames:b.na.webkitDecodedFrameCount;}});this.DE=this.SO(function(){var a;if(b.na){a=b.gZ();return a?a.droppedVideoFrames:b.na.webkitDroppedFrameCount;}});this.IR=this.SO(function(){var a;if(b.na){a=b.gZ();return a && a.corruptedVideoFrames;}});this.a2=this.SO(function(){var a;if(b.na){a=b.gZ();return a && E.ki(a.totalFrameDelay * O.$j);}});this.eHa=function(a){return b.zr.ec(R.Pi.AUa,{fa:a});};this.Fk=y.ha.get(N.y$).create(r.config.Kp,this,this.j);r.config.VA && (this.c5a=new Promise(function(a){b.bIa=a;b.j.addEventListener(ca.V.Qf,a);}));this.fg.trace("Created Media Element");this.addEventListener=this.zr.addListener;this.removeEventListener=this.zr.removeListener;this.na=l(this.j.dN);this.sourceBuffers=this.Cz;}function l(a){var b,c;b=y.ha.get(Z.Bca).Zzb();a=a.width / a.height * b.height;c=(b.width - a) / 2;return r.config.VRb?O.createElement("VIDEO","position:absolute;width:" + a + "px;height:" + b.height + "px;left:" + c + "px;top:0px"):O.createElement("VIDEO","position:absolute;width:100%;height:100%");}function m(a){a.preventDefault();return !1;}function f(a,b,c){var d,f,g;d=a.target;d=d && d.error;f=a.errorCode;g=d && d.code;O.ic(g) || (g=f && f.code);f=d && d.msExtendedCode;O.ic(f) || (f=d && d.systemCode);O.ic(f) || (f=a.systemCode);a=O.Hb({},{code:g,systemCode:f,trace:JSON.stringify(c)},{$x:!0});b={ka:b(g),Ab:F.Xna(a)};try{d && d.message && (b.XS=d.message);}catch(Ua){}f=O.de(f);L.qa(f) && (b.Oe=y.aga(f,4));return b;}Object.defineProperty(b,"__esModule",{value:!0});b.xAa=void 0;k=a(48);n=a(279);p=a(11);r=a(12);u=a(68);t=a(58);A=a(45);y=a(7);I=a(2);J=a(18);D=a(85);U=a(325);S=a(23);O=a(26);F=a(280);E=a(10);L=a(15);N=a(503);R=a(281);Z=a(479);T=a(4);ca=a(13);V=a(161);P=a(78);aa=! !(E.qH && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);Q=aa && (HTMLVideoElement.prototype.webkitGenerateKeyRequest || E.pH);g.prototype.JR=function(a){try{this.na && (this.fGa=this.na.currentTime);}catch(Ma){this.fg.error("Exception while getting VIDEO.currentTime",Ma);a && this.aI(I.L.vbb,Ma);}return E.ki(this.fGa * O.$j);};g.prototype.seek=function(a){var b;J.fb(!this.Eo);this.XHa();b=this.JR(!0);if(!r.config.$jb && E.xC(b - a) <= this.Ura)(this.fg.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.Ura}),this.Rb.trace("smallseek",a));else {this.Rb.trace("seek",a);try{this.fg.trace("Setting video elements currentTime",{From:D.Nh(b),To:D.Nh(a)});this.Eo={};this.na.currentTime=a / O.$j;this.zr.ec(R.Pi.oq);}catch(Ja){this.fg.error("Exception while setting VIDEO.currentTime",Ja);this.aI(I.L.wbb,Ja);}}};g.prototype.ARa=function(){return ! !this.Eo;};g.prototype.addSourceBuffer=function(a){var b,c;b=O.de(this.Nca.toString() + this.Cz.length.toString());b={sourceId:this.Nca,I_:b};try{c=new n.Z$(this.j,a,this.Of,b,this.fg);this.Cz.push(c);a == p.kH && c.Dja && c.Dja.addListener(this.bIa);return c;}catch(Ga){c=O.Ve(Ga);this.fg.error("Unable to add source buffer.",{error:c});this.j.ed(I.L.Eaa,{ka:a === k.Ac.Zj.AUDIO?O.K.aAa:O.K.bAa,Ab:c});}};g.prototype.n_=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.zr.ec(R.Pi.S1a);return !0;};g.prototype.removeSourceBuffer=function(a){this.Cz=this.Cz.filter(function(b){return !A.WLa(a,b);});this.Of.removeSourceBuffer(a);};g.prototype.endOfStream=function(){this.Rb.trace("endofstream");!1;r.config.Aga && this.Of.endOfStream();};g.prototype.pq=function(a){!1;this.Cz=[];a && a.i8b();return !0;};g.prototype.hRb=function(a){this.Nca=a;};g.prototype.iRa=function(){if(this.Of)return T.bZa(this.Of.duration);};g.prototype.Rsb=function(){var a;if(!this.kda && this.na && this.na.readyState >= P.Gv.gya.HAVE_CURRENT_DATA){a=this.na.webkitDecodedFrameCount;if(void 0 === a || 0 < a || r.config.OXb)this.kda=!0;}return this.kda;};g.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(ca.V.E1a,function(b){return a.Xgb(b);});if(aa){if(this.j.Hx){if(!Q){this.$H(I.L.zBa);return;}if(E.pH && E.pH.isTypeSupported && this.Fk.De)try{if(!E.pH.isTypeSupported(this.Fk.De,"video/mp4")){this.Bib(function(b){a.$H(I.L.Caa,b);});return;}}catch(Ga){this.aI(I.L.Caa,Ga);return;}}try{this.Of=new E.qH();}catch(Ga){this.aI(I.L.kbb,Ga);return;}try{this.em=URL.createObjectURL(this.Of);}catch(Ga){this.aI(I.L.lbb,Ga);return;}try{this.Fk.tjb(this.eHa);this.Of.addEventListener("sourceopen",function(b){return a.AHa(b);});this.Of.addEventListener(this.x9 + "sourceopen",function(b){return a.AHa(b);});this.na.addEventListener("error",this.hn.error=function(b){return a.CI(b);});this.na.addEventListener("seeking",this.hn.seeking=function(){return a.Wgb();});this.na.addEventListener("seeked",this.hn.seeked=function(){return a.Vgb();});this.na.addEventListener("timeupdate",this.hn.timeupdate=function(){return a.Zgb();});this.na.addEventListener("loadstart",this.hn.loadstart=function(){return a.pP();});this.na.addEventListener("volumechange",this.hn.volumechange=function(b){return a.$gb(b);});this.na.addEventListener(this.Fk.oF,this.hn[this.Fk.oF]=function(b){return a.Ugb(b);});b=this.j.Xf;c=b.lastChild;c?b.insertBefore(this.na,c):b.appendChild(this.na);r.config.GNa && this.na.addEventListener("contextmenu",m);this.na.src=this.em;t.Xe.addListener(t.wK,this.KGa[t.wK]=function(){return a.zHa();});this.zHa();}catch(Ga){this.aI(I.L.mbb,Ga);}}else this.$H(I.L.ABa);};g.prototype.close=function(){var b;function a(){b.em && (b.XHa(),t.Xe.removeListener(t.wK,b.KGa[t.wK]),b.eeb());}b=this;this.Rb.trace("close");this.na.removeEventListener(this.Fk.oF,this.hn[this.Fk.oF]);this.na.removeEventListener("error",this.hn.error);this.na.removeEventListener("seeking",this.hn.seeking);this.na.removeEventListener("seeked",this.hn.seeked);this.na.removeEventListener("timeupdate",this.hn.timeupdate);this.na.removeEventListener("loadstart",this.hn.loadstart);this.na.removeEventListener("volumechange",this.hn.volumechange);this.Fk.VOb(this.eHa);r.config.Kp?this.Fk.wYa().then(function(){return a();}):a();this.Fk.y_a && clearTimeout(this.Fk.y_a);};g.prototype.tx=function(){return this.Rb.tx();};g.prototype.Ugb=function(a){return this.Fk.zpa(a);};g.prototype.gZ=function(){if(this.na)return this.na.getVideoPlaybackQuality && this.na.getVideoPlaybackQuality() || this.na.videoPlaybackQuality || this.na.playbackQuality;};g.prototype.kib=function(){var a;a=this.j.Hj;return (a=a && a.errorCode) && 0 <= [I.L.KX,I.L.hX].indexOf(a);};g.prototype.eeb=function(){var a;a=!1;r.config.XMb && this.kib() && (a=!0);r.config.Jnb && !a && (this.na.removeAttribute("src"),this.na.load && this.na.load());URL.revokeObjectURL(this.em);r.config.GNa && this.na.removeEventListener("contextmenu",m);!a && this.na && this.j.Xf.removeChild(this.na);this.na=this.Of=void 0;this.em="";};g.prototype.zHa=function(){!0 === E.Ke.hidden?this.OY.forEach(function(a){a.refresh();a.cTb();}):this.OY.forEach(function(a){a.refresh();a.tTb();});};g.prototype.SO=function(a){var b;b=y.ha.get(U.saa)(a);this.OY.push(b);return function(){b.refresh();return b.Rxb();};};g.prototype.aI=function(a,b){var c,d;c={ka:O.K.ii,Ab:O.Ve(b)};try{(d=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == d.length && (c.Oe=d);}catch(ka){}this.j.ed(a,c);};g.prototype.XHa=function(){this.OY.forEach(function(a){a.refresh();});};g.prototype.cfb=function(){return this.na && this.na.msGraphicsTrustStatus;};g.prototype.$H=function(a,b){this.j.ed(a,b,void 0);};g.prototype.Bib=function(a){var c,d,g;function b(c){b=O.mh;d.Di();a(c);}c=this;d=y.ha.get(V.GH)(500,function(){b();});d.mA();try{g=this.j.kf.value.Aq.N7b.children.filter(function(a){return "pssh" == a.type && a.z5b == p.bxa;})[0];new E.pH(this.Fk.De).createSession("video/mp4",g.raw,null).addEventListener(this.x9 + "keyerror",function(a){b(f(a,I.C9,c.tx()));});}catch(Qa){b();}};g.prototype.Xgb=function(a){var b,d,f,g,h,k,l;if(this.na){a=a.DV;b=this.cfb();b && (a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState="" + this.na.readyState;a.currentTime="" + this.na.currentTime;a.pbRate="" + this.na.playbackRate;}catch(Ka){}for(var b=this.Cz.length,c;b--;){c=this.Cz[b];d="";c.type == p.oX?d="audio":c.type == p.kH && (d="video");O.Hb(a,c.T1(),{prefix:d});r.config.iub && this.j.Hj && p.kH == c.type && (d=O.wM(c.V1()),3E3 > (d.data && d.data.length) && (d.data=S.wMa(d.data).join(),O.Hb(a,d,{prefix:c.type})));}this.Of && (b=this.Of.duration) && !isNaN(b) && (a.duration=b.toFixed(4));if(r.config.PFb)try{f=this.j.pe;g=f && f.zEb;if(g){h=g.expiration;isNaN(h) || (a.exp=h);k=g.keyStatuses.entries();if(k.next){l=k.next().value;l && (a.keyStatus=l[1]);}}}catch(Ka){}}};g.prototype.AHa=function(a){!1;this.mib || (this.mib=!0,this.zr.ec(R.Pi.T1a,a));};g.prototype.Wgb=function(){this.Rb.trace("seeking");this.fg.trace("Video element event: seeking");this.Eo?this.Eo.pJb=!0:(this.fg.error("unexpected seeking event"),r.config.uvb && this.$H(I.L.Bbb,{Ab:{Trace:this.tx()}}));};g.prototype.Vgb=function(){this.Rb.trace("seeked");this.fg.trace("Video element event: seeked");this.Eo?(J.fb(this.Eo.pJb),this.Eo.oJb=!0,this.xIa()):(this.fg.error("unexpected seeked event"),r.config.tvb && this.$H(I.L.Abb,{Ab:{Trace:this.tx()}}));};g.prototype.Zgb=function(){var a;this.Rb.trace("timeupdate",null === (a=this.na) || void 0 === a?void 0:a.currentTime);!1;this.Eo && (this.Eo.rJb=!0,this.xIa());this.zr.ec(R.Pi.oq);};g.prototype.pP=function(){this.fg.trace("Video element event: loadstart");};g.prototype.$gb=function(a){this.fg.trace("Video element event:",a.type);try{this.j.volume.set(this.na.volume);this.j.muted.set(this.na.muted);}catch(Ma){this.fg.error("error updating volume",Ma);}};g.prototype.CI=function(a){this.$H(I.L.tbb,f(a,I.Hxa,this.tx()));};g.prototype.xIa=function(){this.Eo && this.Eo.oJb && this.Eo.rJb && (this.Rb.trace("seekcomplete"),this.Eo=void 0,this.zr.ec(R.Pi.tU));};ma.Object.defineProperties(g.prototype,{Ura:{configurable:!0,enumerable:!0,get:function(){return r.config.USb;}}});b.xAa=g;c.prototype.trace=function(a,b){this.q7.push([a,b]);this.q7.length > this.jVb && this.q7.shift();};c.prototype.tx=function(){return this.q7;};},function(d,b,a){var g,l,m,f,k,n,p,r,u,t,A,y;function c(a){var b;b=this;this.j=a;this.Zsa=this.BWa=0;this.Qf=this.xp=!1;this.i6=0;this.UM=function(){var a,c;b.d6();b.RQ && (b.log.info("Deactivating",b.RQ),b.LB.Hrb(b.$d()));b.j.lk.set(null);b.tG.c1a(b.entries=void 0);b.CLa();a=b.j.Oc.value;a && a.KK() && !a.r3() && (a=null);if(a && b.j.Ob.value !== A.ub.$f){c=b.$d();b.LB.cjb(c,a);}a?(b.log.info("Activating",a),b.j.Ll.set(a.sd() === g.UC.Pba.LOADED?A.he.yd:A.he.cd),b.xp || b.j.vd("tt_start"),a.getEntries().then(b.VI)["catch"](b.VI)):b.j.Ll.set(A.he.yd);b.RQ=a;b.FG();};this.gta=function(){b.xp && (b.tG.start(),b.j.Ob.value !== A.ub.Uc && b.tG.stop());};this.FG=function(){var a;b.j.state.value === A.Db.yd && b.j.Ob.value !== A.ub.$f && (b.entries?a=b.tG.axb():b.j.Oc.value && (a=c.mTb[b.j.Oc.value.sd()]));a && t.ic(a.startTime) && b.j.et.value !== a && (b.BWa++,b.Zsa+=b.tG.jRa() - a.startTime,b.oKa=Math.ceil(b.Zsa / (b.BWa + 0)));b.j.et.set(a);};this.$d=function(){var a;a=b.j.Rka();b.RQ && b.RQ.qs && (a+=b.RQ.qs);return a;};this.jKb=function(a){b.fireEvent(c.FSb,a);a && a.id && (b.LB.o4a(a.id),!1);b.log.trace("showsubtitle",b.NRa(a));};this.fKb=function(a){b.fireEvent(c.dPb,a);b.log.trace("removesubtitle",b.NRa(a));};this.Kk=function(){b.log.warn("imagesubs buffer underflow",b.j.Oc.value.Eh);b.j.Ll.set(A.he.cd);};this.GJb=function(){b.log.info("imagesubs buffering complete",b.j.Oc.value.Eh);b.j.Ll.set(A.he.yd);};this.Y4=function(){b.xp && b.xf && b.xf.jt(b.$d());};this.yXa=function(a){b.xp && b.xf && (b.xf.pause(),b.xf.FB(a.Wh));};this.lB=function(){b.xp && b.xf && b.xf.zZa();};this.uXa=function(a){b.xf && b.xf.Xn(a.Tg,a.oT);};this.DXa=function(a){b.xf && b.xf.Ii(a.va,a.EWb);};this.ZJb=function(){b.xp=!0;u.Ic(function(){b.xf?b.xf.jt(b.$d()):b.gta();b.FG();});};this.XJb=function(){b.entries=void 0;b.CLa();b.tG.stop();b.FG();b.Qf=!0;b.d6();};this.Dpa=function(a){(a=a.newValue) && t.ic(a.id) && (b.LB.o4a(a.id),!1);};this.bKb=function(a){b.xWb(a.newValue,a.oldValue);b.gta();b.FG();};this.VI=function(a){var c;if(!b.Qf){c=a.track;if(c === b.j.Oc.value)try{c.lp?b.ajb(a):b.bjb(a);}catch(S){b.log.error("Error activating track:",S,c);return;}b.xp || b.j.vd(a.ja?"tt_comp":"tt_err");a.ja?(f.config.i0a?setTimeout(function(){b.j.Ll.set(A.he.yd);},f.config.i0a):b.j.Ll.set(A.he.yd),c.lp || b.FG()):a.Fr?b.log.warn("aborted timed text track loading"):f.config.svb?b.j.ed(r.L.i$a,{Ab:a.track?a.track.Eh:{}}):(b.log.error("ignore subtitle initialization error",a),b.j.Ll.set(A.he.yd));}};this.Jb=new m.tj();this.LB=new p.AEa(n.Ch(a,"SubtitleTracker"),f.config.vub);this.log=n.Ch(a,"TimedTextManager");this.tG=new l.SEa(this.$d,this.FG);this.j.Oc.addListener(this.UM);f.config.rMb?(this.j.addEventListener(A.V.xp,this.ZJb),this.UM()):(this.j.Ll.set(A.he.yd),this.j.addEventListener(A.V.xp,function(){b.xp=!0;b.UM();}));this.j.Ob.addListener(this.bKb);this.j.addEventListener(A.V.lta,this.gta);this.j.et.addListener(this.Dpa);this.j.addEventListener(A.V.Qf,this.XJb);}Object.defineProperty(b,"__esModule",{value:!0});b.QEa=void 0;g=a(224);l=a(504);m=a(68);f=a(12);k=a(45);n=a(7);p=a(1130);r=a(2);u=a(55);t=a(15);A=a(13);y=a(1131);c.prototype.addEventListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeEventListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.fireEvent=function(a,b,c){this.Jb.ec(a,b,c);};c.prototype.dfa=function(a,b,c){var d;d=y.OEa.wqb(this.j,a,b,c);this.j.Ml.push(d);this.j.ln.forEach(function(a){k.Nua(a.Ml,d);});this.j.Oc.set(d);this.j.fireEvent(A.V.uG);};c.prototype.zMb=function(a){this.tra(a)?a.getEntries().then(function(){}):Promise.resolve();};c.prototype.zAb=function(a){return this.LB.fAb(a);};c.prototype.lla=function(a){return this.LB.lla(a);};c.prototype.t2=function(){var a,b;a=this.j.lV;b=f.config.i3a.characterSize;b={size:f.config.qta.characterSize || b};a && (b.visibility=a.qla(),b.sQ=a.ola(),b.Kq=a.pla());return b;};c.prototype.RRb=function(a){f.config.qta.characterSize=a;a=this.j.Oc.value;this.tra(a) && !a.lp && a.getEntries().then(this.VI)["catch"](this.VI);};c.prototype.xWb=function(a,b){var c;a === A.ub.Uc || a == A.ub.uj?b !== A.ub.Uc && b !== A.ub.uj && ((b=this.j.Oc.value) && !this.tra(b) || this.LB.HWa(this.$d(),b || void 0,"presentingstate:" + a)):a !== A.ub.$f && a !== A.ub.At || this.LB.Sia(null !== (c=this.$d()) && void 0 !== c?c:void 0,"presentingstate:" + a);};c.prototype.d6=function(){this.i6=0;clearTimeout(this.VPb);};c.prototype.CLa=function(){this.xf && (this.xf.stop(),this.iVa("removeListener"));this.xf=void 0;};c.prototype.iVa=function(a){this.xf && (this.xf[a]("showsubtitle",this.jKb),this.xf[a]("removesubtitle",this.fKb),this.xf[a]("underflow",this.Kk),this.xf[a]("bufferingComplete",this.GJb),"addListener" === a?(this.j.addEventListener(A.V.oq,this.Y4),this.j.addEventListener(A.V.Fl,this.yXa),this.j.addEventListener(A.V.VF,this.lB),this.j.addEventListener(A.V.N4,this.uXa),this.j.addEventListener(A.V.Wta,this.DXa)):(this.j.removeEventListener(A.V.oq,this.Y4),this.j.removeEventListener(A.V.Fl,this.yXa),this.j.removeEventListener(A.V.VF,this.lB),this.j.removeEventListener(A.V.N4,this.uXa),this.j.removeEventListener(A.V.Wta,this.DXa)));};c.prototype.NRa=function(a){return {currentPts:this.$d(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};c.prototype.ajb=function(a){var b,c;b=this;c=a.track;if(!c || !c.lp)throw Error("Not an image base subtitle");a.ja?(this.d6(),this.xf=c.xf,this.iVa("addListener"),this.log.info("Activated",c),this.j.lk.set(c),this.xp?u.Ic(function(){b.xf.jt(b.$d());}):this.xf.pause()):this.$_a(c,a);};c.prototype.bjb=function(a){var b,c;b=a.track;c=a.entries;if(!b || b.lp)throw Error("Not a valid text track");c?(this.d6(),this.tG.c1a(this.entries=c),this.log.info("Activated",b),this.j.lk.set(b)):this.$_a(b,r.nr(a));this.FG();};c.prototype.$_a=function(a,b){var c,d;c=this;d=this.i6 < f.config.TGb;d && (this.VPb=setTimeout(function(){c.i6++;a.getEntries().then(c.VI)["catch"](c.VI);},f.config.OUb));this.log.error("Failed to activate" + ((null === a || void 0 === a?0:a.lp)?" img subtitle":""),{retry:d},b,a);};c.prototype.tra=function(a){return !(!a || a.KK() && !a.r3());};b.QEa=c;d={};c.mTb=(d[g.UC.Pba.LOADING]={b7b:!0},d[g.UC.Pba.bO]={uq:!0},d);c.FSb="showsubtitle";c.dPb="removesubtitle";},function(d,b,a){var l;function c(a,b,c){this.start=a;this.track=b;this.MM=Array.isArray(c)?c:[];}function g(a,b){this.log=a;this.HG=b;this.Mqa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.AEa=void 0;l=a(18);g.prototype.cjb=function(a,b){this.HWa(a,b,"activating");};g.prototype.Hrb=function(a){this.Sia(a,"de-activating");};g.prototype.HWa=function(a,b,d){var f;this.xk && this.Sia(a,"close current for new");f=[];this.orphans.length && (f.push.apply(f,[].concat(X(this.orphans))),this.orphans=[]);this.xk=new c(a,b,f);this.HG && this.log.trace("new range: " + d,this.xk);};g.prototype.Sia=function(a,b){this.xk && (this.xk.end=a,this.Mqa.push(this.xk),this.HG && this.log.trace("end range: " + b,this.xk || ({})),this.xk=void 0);};g.prototype.o4a=function(a){this.xk?this.xk.MM.push(a):this.orphans.push(a);};g.prototype.lla=function(a){var b,d;b=this.Mqa.slice(0);if(this.xk && "undefined" !== typeof a){d=new c(this.xk.start,this.xk.track,this.xk.MM);d.end=a;b.push(d);}a=b.reduce(function(a,b){var c,d,f,g;if(!b.track)return a;d=b.track.Jd;f=b.track.BA(b.start,b.end);if(!f)return a;g=new Set(b.MM);a[d]?(b=a[d],b.expected+=f.length,b.missed+=f.length - g.size):a[d]={dlid:d,bcp47:b.track.im,profile:b.track.profile,expected:f.length,missed:f.length - g.size,startPts:null !== (c=b.track.sAb()) && void 0 !== c?c:0};return a;},{});a=Object.values(a);this.HG && this.log.trace("subtitleqoe:",JSON.stringify(a,null,"\t"));return a;};g.prototype.fAb=function(a){var b,d,g,h;b=this.Mqa.slice(0);d=0;g=0;this.xk && "undefined" != typeof a && (h=new c(this.xk.start,this.xk.track,this.xk.MM),h.end=a,b.push(h));b.forEach(function(a){var b,c;if(a.track){if(a.end < a.start){l.fb(!1,"negative range");a.DB=0;return;}b=new Set(a.MM);c=a.track.BA(a.start,a.end);a.j1=c?c.map(function(a){return a.id;}):[];a.DB=c?0 === c.length?100:100 * b.size / c.length:0;}else a.DB=100;b=a.end - a.start;d+=b;g+=a.DB * b;});h=d?Math.round(g / d):100;this.log.trace("qoe score " + h + ", at pts: " + a);this.HG && (a=b.map(function(a){return {start:a.start,"end  ":a.end,duration:a.end - a.start,score:Math.round(a.DB),lang:a.track?a.track.im:"none","actual  ":a.MM.join(" "),expected:(a.j1 || []).join(" ")};}),this.log.trace("score for each range: ",JSON.stringify(a,function(a,b){return b;}," ")));return h;};b.AEa=g;},function(d,b,a){var g,l,m,f,k,n,p,r,u;function c(a,b,c,d,f){var g,h;a=k.UC.call(this,b,a,a,"1",{0:c},[{id:0,name:"custom"}],"xx",d || a,n.so.wH,"primary",null !== (g=null === f || void 0 === f?void 0:f.profile) && void 0 !== g?g:"custom",null !== (h=null === f || void 0 === f?void 0:f.midx) && void 0 !== h?h:{},!1,!1,null === f || void 0 === f?void 0:f.isLanguageLeftToRight) || this;a.j=b;a.url=c;a.options=f;a.kt=null === f || void 0 === f?void 0:f.useRangeHeader;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.OEa=void 0;d=a(57);g=a(12);l=a(58);m=a(7);f=a(26);k=a(224);n=a(139);p=a(67);r=a(126);u=a(13);d.lba(d.hba,function(a){var c;function b(b){var d;if(b.ctrlKey && b.altKey && b.shiftKey && b.keyCode == r.Ct.Kcb){d=f.createElement("INPUT",void 0,void 0,{type:"file"});d.addEventListener("change",function(){var b,f,g;b=d.files[0];if(b){f=b.name;c.info("Loading file",{FileName:f});g=new FileReader();g.readAsText(b);g.addEventListener("load",function(){return a.Ip.dfa("nourl",f,{content:g.result});});}});d.click();}}c=m.Ch(a,"TimedTextCustomTrack");g.config.Uha && (c.info("Loading url",{Url:g.config.Uha}),a.Ip.dfa(g.config.Uha,"custom"));l.Xe.addListener(l.FA,b);a.addEventListener(u.V.Qf,function(){l.Xe.removeListener(l.FA,b);});});L(c,k.UC);c.wqb=function(a,b,d,f){var g;g="custom" + c.WCb++;return new c(g,a,b,d,f);};c.prototype.WNa=function(){var a;a=this;return new Promise(function(b,c){var d,f;if(null === (d=a.options) || void 0 === d?0:d.content)b(a.options.content);else if(a.url){f={responseType:p.Zla,url:a.url,track:a,Hc:null,lE:"tt-" + a.im};a.j.T2.download(f,function(d){d.ja?b(d.content):(d.reason="downloadfailed",d.url=f.url,d.track=a,c(d));});}});};b.OEa=c;c.WCb=0;},function(d,b,a){var g,l,m,f,k,n;function c(a){var b,c;b=this;this.j=a;this.MJb=function(){var a;m.Xe.removeListener(m.z2,b.AXa);a=b.Cq.hp();a && a.parentNode && a.parentNode.removeChild(a);};this.Dpa=function(a){b.Cq.sRb(a.newValue);};this.mKb=function(a){b.Cq.yRb(a.newValue?a.newValue.v3:void 0);};this.AXa=function(){b.Cq.aM();};this.Cq=new k.PEa(f.config.pta,a.Oc.value?a.Oc.value.v3:void 0);c=a.dN;l.fb(.1 < c.width / c.height);this.Cq.jRb(c.width / c.height);a.Xf.appendChild(this.Cq.hp());a.et.addListener(this.Dpa);a.Oc.addListener(this.mKb);a.addEventListener(n.V.Qf,this.MJb,g.HC);m.Xe.addListener(m.z2,this.AXa);}Object.defineProperty(b,"__esModule",{value:!0});b.REa=void 0;g=a(11);l=a(18);m=a(58);f=a(12);k=a(509);n=a(13);c.prototype.xsa=function(a){this.Cq.xsa(a);};c.prototype.qla=function(){return this.Cq.qla();};c.prototype.usa=function(a){this.Cq.usa(a);};c.prototype.ola=function(){return this.Cq.ola();};c.prototype.wsa=function(a){this.Cq.wsa(a);};c.prototype.pla=function(){return this.Cq.pla();};b.REa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.uZa=void 0;b.uZa=function(a){var b,d;b=!1;d=!1;return function(){if(b)d=!0;else for(d=!0;d;){d=!1;b=!0;a();b=!1;}};};},function(d,b,a){var g,l,m,f,k,n,p,r,u,t,A;function c(a){this.j=a;this.kUb=!1;this.log=f.Ch(this.j,"MediaAppendManager");this.Gb=this.j.Gb;this.na=this.Gb.na;this.FV=this.hQ=!1;this.audio={type:m.kh.audio,dA:[],Hk:[],JL:!1};this.video={type:m.kh.video,dA:[],Hk:[],JL:!1};a={};this.yG=(a[g.Ac.Zj.VIDEO]=this.video,a[g.Ac.Zj.AUDIO]=this.audio,a);this.closed=!1;this.$A=l.config.$A;this.x4=l.config.x4;this.vF=l.gMa(! !this.j.Wa.Kj).vF;this.pKa=!0;n.fb(this.$A > this.x4,"bad config");n.fb(this.$A > this.vF,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.rAa=void 0;g=a(48);l=a(12);m=a(80);f=a(7);k=a(2);n=a(18);p=a(26);r=a(13);u=a(169);t=a(4);A=a(78);c.prototype.S1=function(){var c,d;function a(a,c){return b(a,c.p4);}function b(a,b){var c,d,f,g;f=! !b.response;g=b.response;if(b.wc)return a + (g.byteLength || 0);b=(null !== (c=null === b || void 0 === b?void 0:b.jJ) && void 0 !== c?c:0) - (null !== (d=null === b || void 0 === b?void 0:b.kJ) && void 0 !== d?d:0);return (f?g.byteLength:b) + a;}c=this.yG[g.Ac.Zj.VIDEO];d=this.yG[g.Ac.Zj.AUDIO];return {videoToAppend:c.Hk.reduce(b,0),videoInBuffer:c.dA.reduce(a,0),audioToAppend:d.Hk.reduce(b,0),audioInBuffer:d.dA.reduce(a,0)};};c.prototype.dJb=function(){this.audio.oj && !this.audio.oj.$h() && (!1,this.audio.oj.zJa(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.JRb=function(){this.audio.Csa=!0;this.video.Csa=!0;};c.prototype.QRb=function(a){a === g.Ac.Zj.AUDIO?this.hQ=!0:a === g.Ac.Zj.VIDEO && (this.FV=!0);};c.prototype.$h=function(){var a,b;return !(null === (a=this.audio.oj) || void 0 === a || !a.$h()) || !(null === (b=this.video.oj) || void 0 === b || !b.$h());};c.prototype.C6=function(a){var b,c;null === (b=this.audio.oj) || void 0 === b?void 0:b.C6(a);null === (c=this.video.oj) || void 0 === c?void 0:c.C6(a);};c.prototype.ikb=function(a){var b;a.I === g.Ac.Zj.AUDIO?this.hQ=!1:a.I === g.Ac.Zj.VIDEO && (this.FV=!1);b=this.yG[a.I];b?b.Hk.push(a):n.fb(!1);};c.prototype.gkb=function(a,b,c){b={I:a.type,RA:!1,response:b,Dk:function(){return "header";},get wc() {return !this.RA;},profile:c.profile};(a=this.yG[a.type])?a.Hk.push(b):n.fb(!1);};c.prototype.ORb=function(a){var b;b=this.yG[a.type];if(b)try{b.oj=a;}catch(J){this.ed(k.L.Eaa,{ka:u.Z1(a.type),Ab:p.Ve(J)});}};c.prototype.close=function(){this.closed=!0;};c.prototype.ed=function(a,b,c){this.closed || this.j.ed(a,b,c);};c.prototype.dia=function(a){return this.RNa(this.audio,a,this.w0()) && this.RNa(this.video,a,this.w0());};c.prototype.w0=function(){return this.j.Ob.value === r.ub.$f?this.vF:this.x4;};c.prototype.XUb=function(){var a,b;a=this.video.Hk.filter(function(a){return !a.wc;}).reduce(function(a,b){return a + b.ix;},0);b=this.audio.Hk.filter(function(a){return !a.wc;}).reduce(function(a,b){return a + b.ix;},0);return Math.min(a,b);};c.prototype.RNa=function(a,b,c){var d;d=a.eia;d=d && d.p4;return !a.oj || 0 === a.Hk.length && (a.type === m.kh.audio && this.hQ || a.type === m.kh.video && this.FV)?!0:d && d.fv - b >= c || !1;};c.prototype.Hta=function(a){var b,c;this.kUb || (this.L3a(this.audio,a),this.L3a(this.video,a));!(this.closed || !(0 === this.audio.Hk.length && this.hQ || 0 === this.video.Hk.length && this.FV) || (null === (b=this.audio.oj) || void 0 === b?0:b.$h()) || (null === (c=this.video.oj) || void 0 === c?0:c.$h()) || this.Ria) && this.na.readyState > A.Gv.gya.HAVE_NOTHING && (this.Ria=!0,this.Gb.endOfStream());};c.prototype.L3a=function(a,b){var c,d,f;if(!this.closed && a.oj){c=a.oj;d=a.dA;!c.$h() && 0 < d.length && (a.eia=d[d.length - 1]);if(a.Csa){if(c.$h())return;a.Csa=!1;f=this.Gb.iRa().$Ya(t.Ym);0 < f && c.remove(0,f);}for(f=a.Hk[0];f && f.response && (f.wc || f.py - b <= this.$A);){if((this.Ria=!1,this.MVb(f)))(a.Hk.shift(),f=a.Hk[0]);else break;}!c.$h() && 0 < d.length && (a.eia=d[d.length - 1]);}};c.prototype.MVb=function(a){var b,c,d;!1;n.fb(a && ! !a.response);b=a.response;c=a.I;d=this.yG[c];if(!this.closed && d.oj && !d.oj.$h()){try{a.wc && a.profile && d.oj.$mb(a.profile);this.log.trace("Feeding media segment to decoder",{Bytes:b.byteLength});d.oj.zJa(b,a);a.wc || d.dA.push(this.yqb(a));l.config.atb && !a.wc && a.BLa();}catch(U){"QuotaExceededError" != U.name?(this.log.error("Exception while appending media",a,U),this.ed(k.L.xbb,u.Z1(c))):(this.j.y0=this.j.y0?this.j.y0 + 1:1,this.pKa=!1,d.JL=!0);return;}return !0;}};c.prototype.pqb=function(a){var b;b=this.j.yBb(a.Zb);b || (this.log.warn("Could not find CDN",{cdnId:a.Zb}),b={id:a.Zb,Gna:a.location});return b;};c.prototype.jrb=function(a){var b,c;c=a.Da;a.I === g.Ac.Zj.AUDIO?b=this.j.Cla(c):a.I === g.Ac.Zj.VIDEO && (b=this.j.Hla(c));b || this.log.error("Could not find stream",{stream:c});return b;};c.prototype.yqb=function(a){var b;b=this.jrb(a);return {p4:a,stream:b,mq:{startTime:Math.floor(a.py),endTime:Math.floor(a.fv)},Hc:this.pqb(a)};};c.prototype.Kga=function(a){this.yLa(a,g.Ac.Zj.AUDIO);this.yLa(a,g.Ac.Zj.VIDEO);};c.prototype.yLa=function(a,b){var c,d,f,h,k,m,q,r,u;c=this;d=a;this.pKa && (d-=l.config.dM);f=this.yG[b];h=f.dA;q=!1;h.some(function(f,h){var l;l=f.p4;if(a < l.py)return (n.fb(!1,"decoder content does not contain media time"),!0);d >= l.fv && (k=h);if(a < l.fv)return (m=h,h=b === g.Ac.Zj.AUDIO?c.j.Fg:c.j.Df,f !== h.value && (h.set(f),q=!0),!0);});if((f.JL || q) && void 0 !== k && !this.Ria){if(k + 1 === m){if(0 === k)return;k--;}r=h[k].p4.fv - 1;if(0 < r){u=f.oj;u && !u.$h()?(u.remove(0,r / p.$j),f.JL=!1,h.splice(0,k + 1)):(f.JL=!0,!1);}}};c.prototype.Q_a=function(){!1;[this.audio,this.video].forEach(function(a){a.dA=[];a.eia=void 0;a.Hk=[];});this.FV=this.hQ=!1;this.j.fireEvent(r.V.m4);};c.prototype.sla=function(){return [this.audio,this.video].filter(function(a){return a.oj;});};c.prototype.Bxb=function(){var a,b;if(this.$h())n.fb(!1,"should not be busy while checking buffer ranges");else {a=this.sla().map(function(a){var b,c,d,f,g;f=a.Hk.filter(function(a){return a.RA;});g=a.oj.buffered();a=g.length?Math.ceil(1E3 * g.start(0)):void 0;g=g.length?Math.floor(1E3 * g.end(g.length - 1)):void 0;a=null !== a && void 0 !== a?a:null === (b=f[0]) || void 0 === b?void 0:b.py;b=null !== (d=null === (c=f[f.length - 1]) || void 0 === c?void 0:c.fv) && void 0 !== d?d:g;if(void 0 !== a && void 0 !== b)return {start:a,end:b};});if(a.every(function(a){return a;})){b=Math.max.apply(Math,[].concat(X(a.map(function(a){return a.start;}))));a=Math.min.apply(Math,[].concat(X(a.map(function(a){return a.end;}))));if(a > b)return {start:t.Nb(b),end:t.Nb(a)};}}};c.prototype.skip=function(a){n.fb(!this.$h(),"should not be busy while skipping");this.sla().forEach(function(a){a.JL=!0;});this.Kga(a);this.sla().forEach(function(b){0 < b.dA.length || (b.Hk=b.Hk.filter(function(b){return b.wc || b.fv > a?!0:!1;}));});};b.rAa=c;},function(d,b,a){var g,l;function c(a,b){a=g.Cc.call(this,a) || this;a.moa=b;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.yCa=void 0;g=a(150);l=a(85);L(c,g.Cc);c.prototype.set=function(a){g.Cc.prototype.set.call(this,l.lo(a,0,this.moa));};b.yCa=c;},function(d,b,a){var l,m,f,k,n,p,r,u;function c(a,b,c,d,f){var g;g=this;this.bi=a;this.config=c;this.Ta=d;this.debug=f;this.w5=[];this.Pq=[];this.aqa=[];this.PD={};this.TNa=!1;this.oQ={};this.Ema=0;this.log=b.wb("PlayTimeTracker");this.startTime=this.bi.qb.value;this.W3=this.config().Wib;this.NV();this.PD.abrdel=0;this.W3.forEach(function(a){a="abrdel" + a;g.oQ[a]=0;g.PD[a]=0;});}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.pCa=void 0;d=a(0);l=a(1);m=a(6);f=a(14);k=a(87);a(4);n=a(22);p=a(88);r=a(11);u=a(23);g.prototype.encode=function(a){return {key:a.key,downloadableId:a.Jd,bitrate:a.U,vmaf:a.tb,duration:a.duration,metric:a.$S,cdnId:a.Vz};};g.prototype.decode=function(a){return {key:a.key,Jd:a.downloadableId,U:a.bitrate,tb:a.vmaf,duration:a.duration,$S:a.metric,Vz:a.cdnId};};c.prototype.VR=function(){var a;this.gG(this.bi.qb.value);a=0;this.Pq.forEach(function(b){a+=(b.endTime - b.startTime) / b.Nqa;});return Math.floor(a);};c.prototype.$Ra=function(){var a;this.gG(this.bi.qb.value);a=0;this.Pq.forEach(function(b){a+=b.endTime - b.startTime;});this.debug.assert(a === Math.floor(a),"Value of totalContentPlayTime is not an integer.");return Math.floor(a);};c.prototype.kxb=function(){this.gG(this.bi.qb.value);return {audio:this.LR(this.w5,this.wQa),video:this.LR(this.Pq,this.wQa)};};c.prototype.Jzb=function(){var a;a={total:this.VR(),totalContentTime:this.$Ra(),audio:this.LR(this.w5,this.Y1),video:this.LR(this.Pq,this.Y1),timedtext:this.LR(this.aqa,this.Y1)};this.debug.assert(!(!a.audio || !a.video));return a;};c.prototype.ZPa=function(){var a,b;this.gG(this.bi.qb.value);a=this.aka(this.Pq,this.yxb);try{b=this.$Pa(a);}catch(y){return (this.log.warn("Failed to calc average bitrate."),null);}this.PD.abrdel=Math.round(b);return this.PD.abrdel;};c.prototype.qxb=function(){var a,b;this.gG(this.bi.qb.value);a=this.aka(this.Pq,this.XAb);try{b=this.$Pa(a);}catch(y){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(b);};c.prototype.pxb=function(){var a,b;a=this;if(!this.TNa){b=this.VR();this.W3.forEach(function(c){var d,f,g;if(0 === a.oQ["abrdel" + c] && b > c * r.$j){d=0;f=0;g=0;a.Pq.some(function(a){d+=a.stream.U * (a.endTime - a.startTime);f+=a.endTime - a.startTime;g=a.stream.U;if(f > c * r.$j)return !0;});d && (a.oQ["abrdel" + c]=Math.round((d - g * (f - c * r.$j)) / (c * r.$j)));}});0 !== this.oQ["abrdel" + this.W3[this.W3.length - 1]] && (this.TNa=!0);u.Rd(this.oQ,function(b,c){a.PD[b]=0 === c?a.PD.abrdel:c;});}return this.PD;};c.prototype.qjb=function(a){this.Ema+=a;};c.prototype.KBb=function(){return ! !(this.Pq[0] && this.Pq[0].stream && this.Ta.Rf(this.Pq[0].stream.tb));};c.prototype.NV=function(){var a;a=this;this.bi.Fg.addListener(function(b){a.yJ=a.mLa(a.yJ,a.w5,b.newValue);});this.bi.Df.addListener(function(b){a.BJ=a.mLa(a.BJ,a.Pq,b.newValue);});this.bi.playbackRate.addListener(function(b){a.gG(a.bi.qb.value,b.oldValue);});this.bi.lk.addListener(this.BJb.bind(this));};c.prototype.XIb=function(a,b){this.gG(a);this.startTime=b;this.BJ=this.yJ=void 0;this.AJ && (this.AJ.startTime=this.startTime);!1;};c.prototype.BJb=function(a){this.UT(this.AJ,this.aqa,this.bi.qb.value);this.AJ=a.newValue?{track:a.newValue,startTime:this.bi.qb.value,endTime:k.Mv}:void 0;};c.prototype.gG=function(a,b){b=void 0 === b?this.bi.playbackRate.value:b;a && this.yJ && this.BJ && (a=Math.min(a,this.yJ.endTime,this.BJ.endTime),this.UT(this.yJ,this.w5,a,b),this.yJ.startTime=a,this.UT(this.BJ,this.Pq,a,b),this.BJ.startTime=a,this.AJ && (this.UT(this.AJ,this.aqa,a,b),this.AJ.startTime=a),this.startTime=a,!1);};c.prototype.mLa=function(a,b,c){a && this.UT(a,b,Math.min(a.endTime,this.bi.qb.value));if(c && c.stream)return (a=c.mq,b=c.stream,{Hc:c.Hc,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime});};c.prototype.UT=function(a,b,c,d){d=void 0 === d?this.bi.playbackRate.value:d;a && c && c >= a.startTime && (a={Hc:a.Hc,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c,Nqa:d},(c=b[b.length - 1]) && c.track === a.track && c.stream === a.stream && c.Hc === a.Hc && c.endTime === a.startTime && c.Nqa === a.Nqa?c.endTime=a.endTime:b.push(a),!1);};c.prototype.aka=function(a,b){var c,d;c=this;d={};return a.reduce(function(a,f){var g,h,k;g=b.bind(c,f)();h=g.key;f=f.endTime - f.startTime;k=d[h];k?k.duration+=f:(delete g.key,k=g,k.duration=f,a.push(k),d[h]=k);return a;},[]);};c.prototype.LR=function(a,b){return this.aka(a,b).map(function(a){return new g().encode(a);});};c.prototype.Y1=function(a){var b,c,d;d=a.stream;d?(a=d.Jd,b=d.U,c=d.tb):a=a.track.Jd;return {key:a + "$" + (b || 0),Jd:a,U:b,tb:c};};c.prototype.wQa=function(a){var b;b=this.Y1(a);a=a.Hc.id;return Object.assign({},b,{key:b.key + "$" + a,Vz:a});};c.prototype.yxb=function(a){a=(a=a.stream)?a.U:0;return {key:a,$S:a};};c.prototype.XAb=function(a){a=(a=a.stream)?a.tb:0;return {key:a,$S:a};};c.prototype.$Pa=function(a){var b,c,d;b=this;c=0;a.forEach(function(a){if(b.Ta.Rf(a.duration) && b.Ta.Rf(a.$S))c+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!c)return 0;d=0;a.forEach(function(a){d+=a.$S * a.duration / c;});return d;};a=c;a=d.__decorate([l.O(),d.__param(1,l.l(m.zb)),d.__param(2,l.l(f.Sc)),d.__param(3,l.l(n.Ie)),d.__param(4,l.l(p.xt))],a);b.pCa=a;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.dba=void 0;b.dba="PlayTimeTrackerFactorySymbol";},function(d,b,a){var g,l;function c(a,b,c,d,h,l,n,p,t,y,I){this.index=a;this.u=b;this.va=c;this.Wa=d;this.ea=h;this.Ok=l;this.X3=n;this.yob=t;this.dWa=I;this.Zc=new g.Cc(null);this.pg=new g.Cc(null);this.Oc=new g.Cc(null);this.lk=new g.Cc(null);this.et=new g.Cc(void 0);this.kf=new g.Cc(null);this.kl=new g.Cc(null);this.Fg=new g.Cc(null);this.Df=new g.Cc(null);this.qb=new g.Cc(void 0);this.playbackRate=new g.Cc(1);this.No=new g.Cc(null);this.Tz=this.VD="notcached";this.background=!1;p && (this.kf.set(p.kf.value),this.kl.set(p.kl.value));this.On=y(this);this.Bl=this.dWa.FOb(this.ea,this.Ok);}Object.defineProperty(b,"__esModule",{value:!0});b.zCa=void 0;g=a(150);l=a(4);c.prototype.vd=function(a){this.Bl.Jo(a);};c.prototype.xx=function(a){var b;b=this;Object.entries(a).forEach(function(a){var c;c=N(a);a=c.next().value;c=c.next().value;b.Bl.Jo(a,l.Nb(c - b.Ok.ca(l.ga)));});};c.prototype.T4=function(){this.dWa.YOb(this.ea);};ma.Object.defineProperties(c.prototype,{xd:{configurable:!0,enumerable:!0,get:function(){return this.Wa.xd;}},I7:{configurable:!0,enumerable:!0,get:function(){return this.Wa.I7;}},ol:{configurable:!0,enumerable:!0,get:function(){return this.xc && this.xc.ol;}},ln:{configurable:!0,enumerable:!0,get:function(){return this.xc && this.xc.ln;}},Qm:{configurable:!0,enumerable:!0,get:function(){return this.xc && this.xc.Qm;}},Gy:{configurable:!0,enumerable:!0,get:function(){return this.xc && this.xc.Gy;}},Ml:{configurable:!0,enumerable:!0,get:function(){return this.xc && this.xc.Ml;}},vi:{configurable:!0,enumerable:!0,get:function(){return this.xc && this.xc.vi;}},Hx:{configurable:!0,enumerable:!0,get:function(){return this.xc && this.xc.Hx;}},Ps:{configurable:!0,enumerable:!0,get:function(){return this.xc && this.xc.Ps;}},qk:{configurable:!0,enumerable:!0,get:function(){return this.xc && this.xc.qk;}},B5:{configurable:!0,enumerable:!0,get:function(){return this.xc && this.xc.B5;}},Qr:{configurable:!0,enumerable:!0,get:function(){return this.dda && 0 < this.dda.ca(l.ga)?this.dda:l.Nb(this.pa?this.pa.Fc.duration:0);},set:function(a){this.dda=a;}},rj:{configurable:!0,enumerable:!0,get:function(){return this.Wa.rj || 0;}},Rha:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.g0?this.g0:void 0 === this.qb.value?null:this.yob(this.qb.value,this.va);}},Fj:{configurable:!0,enumerable:!0,get:function(){var a,b;return null === (b=null === (a=this.pa) || void 0 === a?void 0:a.Fc.hLa) || void 0 === b?void 0:b.xF;}},ZF:{configurable:!0,enumerable:!0,get:function(){var a,b;return null === (b=null === (a=this.pa) || void 0 === a?void 0:a.Fc.hLa) || void 0 === b?void 0:b.ZF;}},Md:{configurable:!0,enumerable:!0,get:function(){return this.Bl.Md;}}});b.zCa=c;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.qca=void 0;b.qca="TrickPlayParserSymbol";},function(d,b,a){var g,l,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.cFa=void 0;d=a(0);l=a(265);a=a(1);c.prototype.parse=function(a){var b,c;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);c=new l.rW(b);a=this.TKb(c);b=this.VKb(c,b,a);return {Aq:a,images:b};};c.prototype.TKb=function(a){var b,c,d,f;if(a.Zka() < this.BPb())throw Error("array buffer too short");g.Sza.forEach(function(b){if(b != a.qy())throw Error("BIF has invalid magic.");});b=a.WL();if(b > g.VERSION)throw Error("BIF version in unsupported");c=a.WL();if(0 == c)throw Error("BIF has no frames.");d=a.WL();f=a.mj(g.lDa);return {version:b,lJb:c,l3a:d,GPb:f};};c.prototype.VKb=function(a,b,c){var g,h;for(var d=[],f=0;f <= c.lJb;f++){h={timestamp:a.WL(),offset:a.WL()};void 0 != g && d.push(b.subarray(g.offset,h.offset));g=h;}return d;};c.prototype.BPb=function(){return g.Sza.length + 4 + 4 + 4 + g.lDa;};m=g=c;m.Sza=[137,66,73,70,13,10,26,10];m.VERSION=0;m.lDa=44;m=g=d.__decorate([a.O()],m);b.cFa=m;},function(d,b,a){var g,l,m;function c(a,b,c){this.config=a;this.j=b;this.Af=c;this.ET=void 0;this.m5=!1;this.pna=0;this.log=this.Af.wb();}Object.defineProperty(b,"__esModule",{value:!0});b.TDa=void 0;g=a(13);l=a(4);m=a(85);c.prototype.szb=function(a,b,c,d,h){var f,k,m,n,q;c=void 0 === c?this.j.va:c;d=void 0 === d?!1:d;f=b === g.zd.NC;k=this.j.WQa(c);m=this.xmb(f?a:this.Cnb(a,c),d,c,k);d=this.j.Ga;f?(a=m,m=d.Uo(k,m,c)):a=d.$w(k,m,c);b === g.zd.Jv && (this.j.CKa=m);h=this.Sg(a,b,h);n=(b === g.zd.Tv || b === g.zd.FH) && !this.j.OTa;n=(f=f || h || n)?a:m;if(this.j.yp){q=this.config().vF;this.j.rSa(n,q) || b !== g.zd.Tv || (n=this.j.yp.ca(l.ga) - q - 1E3,f?(a=n,m=d.Uo(k,n,c)):(a=d.$w(k,n,c),m=n));}return {M4:n,Wh:m,cMb:a,Sg:h};};c.prototype.xmb=function(a,b,c,d){a=this.UDb() || b?Math.round(a):this.rAb(a,c,d);this.j.Wa.Kj && (a=this.xwb(a));this.config().Tra && (a+=this.config().Tra);return a;};c.prototype.Sg=function(a,b,c){if(this.config().Zsb || b === g.zd.Jv || b === g.zd.NC || b === g.zd.FH || b === g.zd.DW || !c || a < c.start.ca(l.ga) || a >= c.end.ca(l.ga))return !1;b=this.j.Ga;return (null === b || void 0 === b?void 0:b.Wg()) && b.Sg(a) || !1;};c.prototype.UDb=function(){return this.j.Wa.Kj?!0:"boolean" === typeof this.j.Wa.MT?this.j.Wa.MT:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().MT && this.config().sMb:this.config().MT;};c.prototype.Cnb=function(a,b){var c;b=this.j.Du(b);c=b.Qr;b=(b.LVa || c).ca(l.ga) - this.config().ZXb;return m.lo(a,0,b);};c.prototype.rAb=function(a,b,c){var d;d=this.j.Wa.Kj?this.config().G5b:this.config().RJ;return this.j.Ga.mJ(a,c,d,b);};c.prototype.xwb=function(a){var b,c,d;b=this.j.GR();if(Object.values(b).find(function(b){var c;c=b.Ad;c=a < (null !== c && void 0 !== c?c:Infinity);return b.tc <= a && c;}))return (!1,a);d=a;Object.entries(b).forEach(function(b){var f;b=N(b);b.next();b=b.next().value.tc;f=b - a;0 < f && (void 0 === c || f < c) && (c=f,d=b);});!1;return d;};ma.Object.defineProperties(c.prototype,{Qma:{configurable:!0,enumerable:!0,get:function(){return this.m5 || ! !this.ET;}}});b.TDa=c;},function(d,b,a){var g,l,m,f,k,n,p,r,u,t,A,y,I,J;function c(a,b,c,d,h,k){var l;l=this;this.j=a;this.Xh=b;this.xV=c;this.Ed=d;this.QU=h;this.pm=k;this.ZMa={};this.update=function(){var a;if(l.bo.selectionStart == l.bo.selectionEnd){a="";l.c2().forEach(function(b){a=a?a + "\n":"";Object.entries(b).forEach(function(b){var c;c=N(b);b=c.next().value;c=c.next().value;a+=b + ": " + c + "\n";});});l.bo.style.fontSize=f.lo(n.Nv(l.element.clientHeight / 60),8,18) + "px";l.bo.value=a;}};this.RJb=function(){var a,b;if(l.j.Wf){b=l.j.Wf.DE();b && (l.Sha=b - (null !== (a=l.t3a) && void 0 !== a?a:0),l.t3a=b,l.CL());}};this.CL=function(){l.xV.bd(l.update);};this.onkeydown=function(a){a.ctrlKey && a.altKey && a.shiftKey && (a.keyCode == u.Ct.u7a || a.keyCode == u.Ct.Q) && l.toggle();};this.LYa=[a.qb,a.Hc[g.Ac.Ua.AUDIO],a.Hc[g.Ac.Ua.VIDEO],a.Fg,a.Df,a.kl,a.kf,a.lk,a.state,a.hm,a.Ob,a.volume,a.muted];this.element=this.Ed.createElement("div","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});this.bo=this.Ed.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto",void 0,{readonly:"readonly"});this.element.appendChild(this.bo);this.controls=this.Ed.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);b=this.Ed.createElement("button",void 0,"X");b.addEventListener("click",function(){return l.Bq();},!1);this.controls.appendChild(b);m.Xe.addListener(m.FA,this.onkeydown);a.addEventListener(r.V.Qf,function(){m.Xe.removeListener(m.FA,l.onkeydown);l.Bq();});}Object.defineProperty(b,"__esModule",{value:!0});b.vCa=void 0;g=a(48);l=a(57);m=a(58);f=a(85);k=a(280);n=a(10);p=a(15);r=a(13);u=a(126);t=a(4);d={};A=(d[r.Db.rH]="Not Loaded",d[r.Db.LOADING]="Loading",d[r.Db.yd]="Normal",d[r.Db.CLOSING]="Closing",d[r.Db.CLOSED]="Closed",d);d={};y=(d[r.he.yd]="Normal",d[r.he.cd]="Pre-buffering",d[r.he.IDa]="Network stalled",d);d={};I=(d[r.ub.$f]="Waiting for decoder",d[r.ub.Uc]="Playing",d[r.ub.uj]="Paused",d[r.ub.At]="Media ended",d);J=[r.V.m4,r.V.slb];c.prototype.qRb=function(a){this.ZMa.DFR=a;};c.prototype.show=function(){var a;a=this;this.visible || (this.$Cb=ja.setInterval(this.RJb,1E3),this.j.Xf.appendChild(this.element),this.LYa.forEach(function(b){b.addListener(a.CL);}),J.forEach(function(b){a.j.addEventListener(b,a.CL);}),this.visible=!0,this.pm.$U().then(function(b){a.Ila=b;a.CL();}));this.update();};c.prototype.Bq=function(){var a;a=this;this.visible && (clearInterval(this.$Cb),this.t3a=this.Sha=void 0,this.j.Xf.removeChild(this.element),this.LYa.forEach(function(b){b.removeListener(a.CL);}),J.forEach(function(b){a.j.removeEventListener(b,a.CL);}),this.xV.bd(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.Bq():this.show();};c.prototype.c2=function(){var b,c,d,h,m,q,r,u,v,B,J,F,L,P,R,Q,T,V,X,fa,ka,ga,ha,ja,Na,la,ma,oa,pa,ia,wa,va,xa,ya,za,Aa,Ba,Ea,Fa;v=[];B=this.Xh();v.push({Version:"6.0029.151.011",Esn:B?B.Yh:"UNKNOWN",PBCID:this.j.Fj,UserAgent:n.Wm});try{J={MovieId:this.j.u,TrackingId:this.j.rj,Xid:this.j.ea + " (" + l.no.map(function(a){return a.ea;}).join(", ") + ")",Position:f.Nh(this.j.qb.value),Duration:f.Nh(this.j.Qr.ca(t.ga)),PlayerDuration:f.Nh(this.j.yp.ca(t.ga)),Volume:n.ki(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":"")};if(this.j.Wa.Kj || this.j.Wa.x3)(J["Segment Position"]=f.Nh(this.j.AA()),J.Segment=this.j.Ska());v.push(J);}catch(sb){}try{F=this.j.Bm?this.j.Bm.$Bb():void 0;v.push({"Player state":A[this.j.state.value],"Buffering state":y[this.j.hm.value] + (p.qa(F)?", ETA:" + f.Nh(F):""),"Rendering state":I[this.j.Ob.value]});}catch(sb){}try{L=this.j.hua() + this.j.Lfa();P=this.j.Fg.value;R=null === P || void 0 === P?void 0:P.stream;Q=this.j.Df.value;T=null === Q || void 0 === Q?void 0:Q.stream;V=null !== (b=null === R || void 0 === R?void 0:R.U) && void 0 !== b?b:"?";X=T?T.U + " (" + T.width + "x" + T.height + ")":"?";fa=null !== (c=null === T || void 0 === T?void 0:T.tb) && void 0 !== c?c:"?";ka=null !== (h=null === (d=this.j.kf.value) || void 0 === d?void 0:d.tb) && void 0 !== h?h:"?";ga=null !== (q=null === (m=this.j.kl.value) || void 0 === m?void 0:m.U) && void 0 !== q?q:"?";ha=null !== (u=null === (r=this.j.kf.value) || void 0 === r?void 0:r.U) && void 0 !== u?u:"?";ja=this.j.Hc[g.Ac.Ua.VIDEO].value;Na=this.j.Hc[g.Ac.Ua.AUDIO].value;v.push({"Playing bitrate (a/v)":V + " / " + X,"Playing/Buffering vmaf":fa + "/" + ka,"Buffering bitrate (a/v)":ga + " / " + ha,"Buffer size in Bytes (a/v)":this.j.Lfa() + " / " + this.j.hua(),"Buffer size in Bytes":"" + L,"Buffer size in Seconds (a/v)":f.Nh(this.j.fQ()) + " / " + f.Nh(this.j.BV()),"Current CDN (a/v)":(Na?Na.name + ", Id: " + Na.id:"?") + " / " + (ja?ja.name + ", Id: " + ja.id:"?")});}catch(sb){}try{if(this.j.Fg.value && this.j.Df.value){la=this.j.Fg.value.stream;ma=la.track;oa=this.j.Df.value.stream;pa=this.j.lk.value;ia=this.QU.PQ(this.j.pg.value?this.j.pg.value.yc:[]);wa=this.QU.KQ(ma.yc);va=oa.yg;xa=(/hevc/).test(va)?"hevc":(/vp9/).test(va)?"vp9":(/h264hpl/).test(va)?"avchigh":"avc";(/hdr/).test(va) && (xa+=", hdr");(/dv/).test(va) && (xa+=", dv");(/prk/).test(va) && (xa+=", prk");ya=la.yg;za=(/xheaac/).test(ya)?"xhe-aac":(/heaac/).test(ya)?"he-aac":(/ddplus/).test(ya)?"ddplus":"unknown";(/atmos/).test(ya) && (za+=", atmos");v.push({"Audio Track":ma.im + ", Id: " + ma.Ya + ", Channels: " + ma.Or + ", Codec: " + wa + " (" + za + ")","Video Track":"Codec: " + ia + " (" + xa + ")","Timed Text Track":pa?pa.im + ", Profile: " + pa.profile + ", Id: " + pa.Ya:"none"});}}catch(sb){}try{Aa=this.j.Wf;Ba=this.j.kf.value?this.j.kf.value.I1:0;Ea=a(516).bVa;v.push({Framerate:Ba.toFixed(3),"Current Dropped Frames":p.qa(this.Sha)?this.Sha:"","Total Frames":Aa.xA(),"Total Dropped Frames":Aa.DE(),"Total Corrupted Frames":Aa.IR(),"Total Frame Delay":Aa.a2(),"Main Thread stall/sec":Ea?Ea.Lyb().join(" "):"DISABLED",VideoDiag:k.Xna(this.j.v2()),"HDR support":this.Ila?this.Ila.result + " (" + this.Ila.reason + ")":"unknown"});}catch(sb){}try{v.push({Throughput:this.j.Ka + " kbps"});}catch(sb){}Fa=void 0;try{Object.entries(this.ZMa).forEach(function(a){var b;b=N(a);a=b.next().value;b=b.next().value;Fa=Fa || ({});Fa[a]=JSON.stringify(b);});Fa && v.push(Fa);}catch(sb){}return v;};b.vCa=c;},function(d,b,a){var l,m,f,k;function c(a,b,c,d){this.ea=a;this.yPb=b;this.la=c;this.app=d;this.Md={};}function g(a,b){this.Af=a;this.app=b;this.Td={};this.la=a.wb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.xCa=void 0;d=a(0);l=a(1);m=a(6);f=a(19);k=a(4);g.prototype.FOb=function(a,b){this.Td[a] && this.la.warn("registerPlayback: xid " + a + " already registered, overriding");b=(b?b:this.app.Bb()).ca(k.ga);this.la.trace("registerPlayback: xid " + a + " at " + b);this.Td[a]=new c(a,b,this.la,this.app);return this.Td[a];};g.prototype.Lzb=function(a){this.Td[a] || this.la.warn("getPlaybackMilestones: xid " + a + " is not registered");return this.Td[a];};g.prototype.YOb=function(a){this.la.trace("removePlayback: xid " + a);delete this.Td[a];};a=g;a=d.__decorate([l.O(),d.__param(0,l.l(m.zb)),d.__param(1,l.l(f.Fd))],a);b.xCa=a;c.prototype.Jo=function(a,b){b=b?b.ca(k.ga):this.app.Bb().ca(k.ga) - this.yPb;this.la.trace("addMilestone: xid " + this.ea + " " + a + " at " + b);this.Md[a]=b;};},function(d,b,a){var g,l,m,f;function c(a){this.za=a;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.yDa=void 0;d=a(0);g=a(13);l=a(1);m=a(19);f=a(4);c.prototype.Fl=function(a){a.cause !== g.zd.Jv && (this.trace.unshift({time:this.za.Bb(),event:a}),5 < this.trace.length && this.trace.pop());};c.prototype.QRa=function(){var a,b;a=this;if(0 === this.trace.length)return {};b=this.trace[0];return {timeSinceLastRepositionMs:this.f3a(b.time),lastRepositionCause:this.hQa(b.event.cause),repositionTrace:this.trace.map(function(b){return {timeSince:a.f3a(b.time),cause:a.hQa(b.event.cause),newMediaTime:b.event.M4,oldMediaTime:b.event.tpa,contentPts:b.event.Wh,skip:b.event.skip};})};};c.prototype.f3a=function(a){return this.za.Bb().Fa(a).ca(f.ga);};c.prototype.hQa=function(a){switch(a){case g.zd.Jv:return "initial";case g.zd.Tv:return "seek";case g.zd.NC:return "segment_changed";case g.zd.FH:return "track_changed";case g.zd.DW:return "force_rebuffer";}};a=c;a=d.__decorate([l.O(),d.__param(0,l.l(m.Fd))],a);b.yDa=a;},function(d,b,a){var g,l,m,f,k,n,p,r,u;function c(a,b){this.j=a;this.fua=void 0 === b?!1:b;}Object.defineProperty(b,"__esModule",{value:!0});b.Vua=void 0;g=a(48);l=a(2);m=a(55);f=a(12);k=a(518);n=a(13);p=a(85);r=a(15);u=a(4);c.prototype.Sw=function(){this.Pm.Sw();};c.prototype.dc=function(){var a,b;null === (a=this.hb) || void 0 === a?void 0:a.close();null === (b=this.hb) || void 0 === b?void 0:b.dc();this.Pm && this.j.Hj && this.Pm.Sw();delete this.hb;delete this.Pm;};c.prototype.zsa=function(b){var c,d,h,k,l,m,n,q;c=b.vg;d=b.config;h=b.Wd;k=b.Qc;l=b.Bh;m=b.Jn;n=b.EB;b=b.Ox;this.Qc=k;this.Jn=m;this.EB=n;this.Pm=c.Ir;this.Ox=b;d.owb && this.Pm.Sw();c.rd.set(a(180)(d),!0,l("ASE"));c.rd.set({maxNumberTitlesScheduled:d.ZYa?d.ZYa.maxNumberTitlesScheduled:1},!0,k);d.Job && 3E5 > this.j.pa.Fc.duration?c.rd.GL({expandDownloadTime:!1},!0,k):c.rd.GL({expandDownloadTime:c.rd.yYa().expandDownloadTime},!0,k);this.j.background || d.oMb && "postplay" === this.j.xd?c.rd.GL({initBitrateSelectorAlgorithm:"historical"},!0,k):c.rd.GL({initBitrateSelectorAlgorithm:c.rd.yYa().initBitrateSelectorAlgorithm},!0,k);(d=this.j.pg && this.j.pg.value && this.j.pg.value.yc) && d.length && (q=d[0].yg);c.rd.GL(f.oha(this.j.Wa.Kj,this.j.Wa.x3,q),!0,k);k={};k=h.gT(k,f.c0(this.j.xd));this.s2a=c.rd.nq(k);this.s2a.Pl=this.fua;g.platform.events.emit("networkchange",this.j.xc.gRb);this.j.Pm=this.Pm;};c.prototype.FK=function(a){var b,c,d;b=a.va;c=a.OQ;d=this;if(this.hb=this.Pm.rn(this.j.pa.Fc,[this.j.xc.mNa,this.j.xc.qNa],this.j.X,a.Zh,a.ax,void 0,{$d:function(){return d.j.qb.value;},xn:function(){return d.j.playbackRate.value;},OR:function(){return d.j.Gb;}},this.s2a,c(this.j.u),b))return (this.j.hb=this.hb,[this.hb,this.Pm]);this.Qc.trace("Unable to initialize legacy ASE session");this.j.ed(l.L.Z7);};c.prototype.uKa=function(a){var b,c,d,h,q,t,v,B,F,E,L,N,R,T,V,ca,X,P,aa,Q,fa,ga,ha,ja,ka,la,ma,oa;b=a.ij;c=a.ce;d=this;oa=!1;null === (h=this.hb) || void 0 === h?void 0:h.addEventListener("error",function(a){"NFErr_MC_StreamingFailure" === a.error && (d.Qc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(a)),d.Qc.trace("StreamingFailure, buffer status:" + JSON.stringify(d.Jn())),m.Ic(function(){d.j.ed(l.L.Z7,{ka:a.nativeCode,Ab:a.errormsg,cj:a.httpCode,mT:a.networkErrorCode});}));});null === (q=this.hb) || void 0 === q?void 0:q.addEventListener("logdata",function(a){"string" === typeof a.target && "object" === typeof a.fields && k.w_({kja:a,ij:b,ce:c});});null === (t=this.hb) || void 0 === t?void 0:t.addEventListener("bufferingStarted",function(){d.j.hm.set(n.he.cd);});null === (v=this.hb) || void 0 === v?void 0:v.addEventListener("bufferingComplete",function(a){var b;d.Qc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:a},d.Jn());d.j.Qo=a;d.j.hm.set(n.he.yd);ma || (ma=!0,d.j.vd("pb"));null === (b=d.hb) || void 0 === b?void 0:b.play();});null === (B=this.hb) || void 0 === B?void 0:B.addEventListener("audioTrackSwitchStarted",function(){var a;null === (a=d.hb) || void 0 === a?void 0:a.upa();f.config.nYa && !d.j.paused.value && (oa=!0,d.j.paused.set(!0,{rT:!0}));});null === (F=this.hb) || void 0 === F?void 0:F.addEventListener("audioTrackSwitchComplete",function(){var a;d.j.paused.value && oa && (oa=!1,d.j.paused.set(!1,{rT:!0}));null === (a=d.j.Wf) || void 0 === a?void 0:a.gXa();});this.j.paused.addListener(function(a){var b;b=d.hb;!a.rT && b && (!0 === a.newValue?b.paused && b.paused():b.Ky && b.Ky());a.newValue || (oa=!1);d.Qc.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:p.Nh(d.j.qb.value)});});this.j.Zc.addListener(function(a){var b,c,f,g;if(d.hb)if(a.Xr && a.Xr.p_)d.Qc.trace("Not processing already applied track",null === (b=a.newValue) || void 0 === b?void 0:b.Ya);else {g=a.newValue;d.hb.lG({ND:g.Bx,toJSON:function(){return g.Eh;}})?d.Qc.trace("ASE accepted the audio track switch",null === (f=a.newValue) || void 0 === f?void 0:f.Ya):(d.Qc.trace("ASE rejected the audio track switch",null === (c=a.newValue) || void 0 === c?void 0:c.Ya),a.oldValue.Bx !== g.Bx && d.j.Zc.set(a.oldValue,{p_:!0}));}});null === (E=this.hb) || void 0 === E?void 0:E.addEventListener("asereportenabled",function(){d.j.gR=!0;});null === (L=this.hb) || void 0 === L?void 0:L.addEventListener("asereport",function(a){d.j.fireEvent(n.V.cJ,a);});null === (N=this.hb) || void 0 === N?void 0:N.addEventListener("aseexception",function(a){d.j.fireEvent(n.V.bJ,a);});null === (R=this.hb) || void 0 === R?void 0:R.addEventListener("hindsightreport",function(a){var b,c;b=r.qa(d.j.ce)?0:d.j.ce;c=a.report;c && c.length && c.forEach(function(a){a.bst-=b;a.pst-=b;void 0 === a.nd && a.tput && (a.tput.ts-=b);});d.j.Ula={qPb:c,aCb:a.hptwbr,PSa:a.htwbr,l5:a.pbtwbr};a.rr && (d.j.Ula.g0a=a.rr);a.ra && (d.j.Ula.LNb=a.ra);});null === (T=this.hb) || void 0 === T?void 0:T.addEventListener("streamingstat",function(a){var b;b=a.bt;d.j.Ka=a.location.bandwidth;d.j.ci=a.location.httpResponseTime;b && (void 0 === d.j.SD && (d.j.SD={interval:f.config.RD,startTime:b.startTime,Kw:[],Ly:[]}),d.j.SD.Kw=d.j.SD.Kw.concat(b.Kw),d.j.SD.Ly=d.j.SD.Ly.concat(b.Ly));!1;});null === (V=this.hb) || void 0 === V?void 0:V.addEventListener("headerCacheDataHit",function(a){a.movieId === "" + d.j.u && (d.j.KA=a);});null === (ca=this.hb) || void 0 === ca?void 0:ca.addEventListener("requestComplete",function(a){var b;b=(a=a && a.mediaRequest) && a.tJ && a.tJ.cadmiumResponse;b && d.j.fireEvent(n.V.jA,{response:b,u:d.j.Du(a.va).u});});null === (X=this.hb) || void 0 === X?void 0:X.addEventListener("maxvideobitratechanged",function(a){d.j.j4.push(a);});null === (P=this.hb) || void 0 === P?void 0:P.addEventListener("serverSwitch",function(a){var b;d.j.fireEvent(n.V.XF,a);"video" === a.mediatype?b=g.Ac.Ua.VIDEO:"audio" === a.mediatype && (b=g.Ac.Ua.AUDIO);r.ic(b) && d.EB(a.server,b);});null === (aa=this.hb) || void 0 === aa?void 0:aa.addEventListener("streamSelected",function(a){var b,c,f;f=[];a.mediaType === g.Ac.Ua.VIDEO?(c=d.j.Hla(a.streamId),b=d.j.kf,f=d.j.CA()):a.mediaType === g.Ac.Ua.AUDIO && (c=d.j.Cla(a.streamId),b=d.j.kl,f=d.j.YPa());c && b?(!1,b.set(c,{Sga:a.movieTime,qKa:a.bandwidth})):d.Qc.error("no matching stream for streamSelected event",{streamId:a.streamId,mediaType:a.mediaType,streamList:f,cachedManifest:d.j.Tz});});null === (Q=this.hb) || void 0 === Q?void 0:Q.addEventListener("locationSelected",function(a){d.j.fireEvent(n.V.As,a);});null === (fa=this.hb) || void 0 === fa?void 0:fa.addEventListener("segmentStarting",function(a){d.j.fireEvent(n.V.D0a,a);});null === (ga=this.hb) || void 0 === ga?void 0:ga.addEventListener("lastSegmentPts",function(a){d.j.fireEvent(n.V.C0a,a);});null === (ha=this.hb) || void 0 === ha?void 0:ha.addEventListener("segmentPresenting",function(a){d.j.fireEvent(n.V.VF,a);});null === (ja=this.hb) || void 0 === ja?void 0:ja.addEventListener("segmentAborted",function(a){d.j.fireEvent(n.V.A0a,a);});null === (ka=this.hb) || void 0 === ka?void 0:ka.addEventListener("manifestPresenting",function(a){d.Ox({u:parseInt(a.movieId),PA:!1});});null === (la=this.hb) || void 0 === la?void 0:la.addEventListener("maxPosition",function(a){var b,c;b=u.Nb(a.maxPts);c=u.Nb(a.maxSeekPts);if(a=d.j.hy[a.index])(a.Qr=b,a.LVa=c);d.j.yp || (d.j.yp=b);});};c.prototype.Wg=function(){return ! !this.hb;};c.prototype.xK=function(){return ! !this.Pm;};c.prototype.yn=function(){return this.hb.yn();};c.prototype.CE=function(a){return this.hb.CE(a);};c.prototype.GK=function(a){return this.hb.GK(a);};c.prototype.paused=function(){return this.hb.paused();};c.prototype.Ky=function(){return this.hb.Ky();};c.prototype.NL=function(){return this.hb.NL();};c.prototype.lG=function(a){return this.hb.lG(a);};c.prototype.ho=function(a){return this.hb.ho(a);};c.prototype.Cw=function(a,b,c){return this.hb.Cw(a,b,c);};c.prototype.Jl=function(a,b){return this.hb.Jl(a,b);};c.prototype.open=function(){return this.hb.open();};c.prototype.play=function(){return this.hb.play();};c.prototype.stop=function(){return this.hb.stop();};c.prototype.flush=function(){return this.hb.flush();};c.prototype.Uo=function(a,b,c){return this.hb.Uo(a,b,c);};c.prototype.$w=function(a,b,c){return this.hb.$w(a,b,c);};c.prototype.mJ=function(a,b,c,d){var f;return null === (f=this.hb) || void 0 === f?void 0:f.mJ(a,b,c,d);};c.prototype.Yr=function(a,b){return this.hb.Yr(String(a),b);};c.prototype.yK=function(){return this.hb.yK();};c.prototype.Sg=function(a){return this.hb.Sg(a);};c.prototype.Lm=function(a,b,c){return this.hb.Lm(a,b,c);};c.prototype.addEventListener=function(a,b){return this.hb.addEventListener(a,b);};c.prototype.removeEventListener=function(a,b){return this.hb.removeEventListener(a,b);};c.prototype.TB=function(a,b){return this.hb.TB(a,b);};c.prototype.qn=function(a,b,c){return this.hb.qn(a,b,c);};c.prototype.Uj=function(a){return this.hb.Uj(a);};ma.Object.defineProperties(c.prototype,{mb:{configurable:!0,enumerable:!0,get:function(){return this.Pm.mb;}}});b.Vua=c;},function(d,b,a){var g,l,m,f,k,n,p,r;function c(a,b,c){this.j=a;this.fua=void 0 === b?!0:b;this.vh=c;this.RGa=this.PGa=!1;this.Yt=void 0;}Object.defineProperty(b,"__esModule",{value:!0});b.Uua=void 0;g=a(48);l=a(55);m=a(2);f=a(518);k=a(13);n=a(12);p=a(15);r=a(4);c.prototype.Sw=function(){return this.vh.Sw();};c.prototype.dc=function(){this.vh.dc();};c.prototype.zsa=function(a){this.vh.zsa(a);this.Qc=a.Qc;this.Jn=a.Jn;this.EB=a.EB;this.Ox=a.Ox;this.PGa=!0;};c.prototype.FK=function(a){var b;b=N(this.vh.FK(a));a=b.next().value;b=b.next().value;this.hb=a;this.Pm=b;this.Xa=this.hb.Xa;this.lb=this.hb.lb;};c.prototype.uKa=function(a){var b,c,d,h,q,u;b=a.ce;c=a.ij;d=this;a=this.Xa.events;h=this.lb.events;a.addListener("error",function(a){"NFErr_MC_StreamingFailure" === a.error && (d.Qc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(a)),d.Qc.trace("StreamingFailure, buffer status:" + JSON.stringify(d.Jn())),l.Ic(function(){d.j.ed(m.L.Z7,{ka:a.nativeCode,Ab:a.errormsg,cj:a.httpCode,mT:a.networkErrorCode});}));});a.addListener("logdata",function(a){var g;"string" === typeof a.target && "object" === typeof a.fields && (a.fields.aseApiVersion=null === (g=d.Xa) || void 0 === g?void 0:g.KD,f.w_({kja:a,ij:c,ce:b}));});a.addListener("bufferingStarted",function(){d.j.hm.set(k.he.cd);});a.addListener("bufferingComplete",function(a){d.My(function(){var g,h,l,m,n,p;p=null === (h=null === (g=d.Pm.mb.get()) || void 0 === g?void 0:g.Ka) || void 0 === h?void 0:h.Ca;g={type:"logdata",target:"startplay",fields:{hasasereport:!1,hashindsight:!1,buffCompleteReason:a.reason,actualbw:p,initSelReason:null !== (l=a.initSelReason) && void 0 !== l?l:"unknown",bcVBufferLevelMs:a.vBufferLevelMs,bcABufferLevelMs:a.aBufferLevelMs}};f.w_({kja:g,ij:c,ce:b});null !== (m=d.lb) && void 0 !== m && m.Fu?(d.Qc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:a},d.Jn()),d.j.Qo=Object.assign(Object.assign({},a),{fm:d.lb.ne.da}),d.j.hm.set(k.he.yd),d.j.paused.value && u && (u=!1,d.j.paused.set(!1,{rT:!0})),d.j.Wf.dob(),q || (q=!0,d.j.vd("pb")),null === (n=d.hb) || void 0 === n?void 0:n.play()):d.Qc.error("Shim received buffering complete but player has no position (player " + (d.lb?"":"un") + "defined, state " + d.j.state + ")");});});this.j.Zc.addListener(function(a){var b,c,f,g,h,k,l,m;if(a.Xr && a.Xr.p_)d.Qc.trace("Not processing already applied track",null === (b=a.newValue) || void 0 === b?void 0:b.Ya);else {h=a.newValue;k=d.j.ln.findIndex(function(a){return a.Ya === h.Ya;});l=d.j.Qm.findIndex(function(a){var b,c,f;return a.Ya === (null === (f=null === (c=null === (b=d.j) || void 0 === b?void 0:b.pg) || void 0 === c?void 0:c.value) || void 0 === f?void 0:f.Ya);});d.j.Wf.kTb();b={pv:function(){return k;}};m={pv:function(){return l;}};(null === (c=d.Xa) || void 0 === c?0:c.dG(b,m))?(d.Qc.trace("ASE accepted the audio track switch",null === (g=a.newValue) || void 0 === g?void 0:g.Ya),n.config.nYa && !d.j.paused.value && (u=!0,d.j.paused.set(!0,{rT:!0}))):(d.Qc.trace("ASE rejected the audio track switch",null === (f=a.newValue) || void 0 === f?void 0:f.Ya),a.oldValue.Bx !== h.Bx && d.j.Zc.set(a.oldValue,{p_:!0}));}});a.addListener("serverSwitch",function(a){var b;d.j.fireEvent(k.V.XF,a);"video" === a.mediatype?b=g.Ac.Ua.VIDEO:"audio" === a.mediatype && (b=g.Ac.Ua.AUDIO);p.ic(b) && d.EB(a.server,b);});a.addListener("streamSelected",function(a){var b,c,f,h;c=(null === (b=d.Xa) || void 0 === b?void 0:b.GA(a.position)).aA.da;b=[];a.mediaType === g.Ac.Ua.VIDEO?(h=d.j.Hla(a.streamId),f=d.j.kf,b=d.j.CA()):a.mediaType === g.Ac.Ua.AUDIO && (h=d.j.Cla(a.streamId),f=d.j.kl,b=d.j.YPa());h && f?(!1,f.set(h,{Sga:c,qKa:a.bandwidth})):d.Qc.error("no matching stream for streamSelected event",{streamId:a.streamId,mediaType:a.mediaType,streamList:b,cachedManifest:d.j.Tz});});a.addListener("segmentNormalized",function(a){var b,c;b=d.j.Du(a.segmentId);c=Math.floor(a.viewableEarliestContentEnd.da);a=r.Nb(Math.floor(a.viewableContentEnd.da));c=r.Nb(c);b && (b.Qr=a,b.LVa=c);d.j.yp || (d.j.yp=a);});h.addListener("segmentPresenting",function(a){var b,c,f;b=d.Xa.GA(a.position);c=a.playerTimestamp.Fa(b.aA);f=a.position.va;d.Ox({u:b.fa,PA:!1});d.j.fireEvent(k.V.VF,{type:"segmentPresenting",segmentId:f,contentOffset:c.da,metrics:a.metrics});d.Yt=d.lb.yn();});a.addListener("segmentStarting",function(a){return d.j.fireEvent(k.V.D0a,a);});a.addListener("lastSegmentPts",function(a){return d.j.fireEvent(k.V.C0a,a);});a.addListener("segmentAborted",function(a){d.j.fireEvent(k.V.A0a,a);});a.addListener("locationSelected",function(a){d.j.fireEvent(k.V.As,a);});};c.prototype.xK=function(){return this.PGa;};c.prototype.Wg=function(){return this.RGa;};c.prototype.yn=function(){var a,b,c,d,f,g,h,k,l;h=this.lb.I2();h=(null !== (a=this.Yt) && void 0 !== a?a:h && this.lb.yn()) || ({});a=h.W;k=h.Oo;l=h.dqa;h=h.x5;return {id:String(null === a || void 0 === a?void 0:a.id),Hd:null !== (b=null === k || void 0 === k?void 0:k.da) && void 0 !== b?b:0,Qb:null !== (c=null === a || void 0 === a?void 0:a.Uk.da) && void 0 !== c?c:Infinity,Pb:null !== (d=null === a || void 0 === a?void 0:a.cs.da) && void 0 !== d?d:0,ee:null !== (f=null === l || void 0 === l?void 0:l.da) && void 0 !== f?f:Infinity,Rc:null !== (g=null === h || void 0 === h?void 0:h.da) && void 0 !== g?g:0};};c.prototype.CE=function(){return {Hd:0};};c.prototype.GK=function(){var a,b,c;b={};c=null === (a=this.Xa) || void 0 === a?void 0:a.fK();c && (b.vbuflmsec=c.totalvbuflmsecs,b.vbuflbytes=c.vbuflbytes,b.abuflmsec=c.totalabuflmsecs,b.abuflbytes=c.abuflbytes);return b;};c.prototype.paused=function(){return this.vh.paused();};c.prototype.Ky=function(){return this.vh.Ky();};c.prototype.NL=function(){return this.vh.NL();};c.prototype.lG=function(a){return this.vh.lG(a);};c.prototype.ho=function(a){return this.vh.ho(a);};c.prototype.Cw=function(a,b,c){return this.vh.Cw(a,b,c);};c.prototype.Jl=function(a,b){return this.vh.Jl(a,b);};c.prototype.open=function(){this.RGa=!0;return this.vh.open();};c.prototype.play=function(){return this.vh.play();};c.prototype.stop=function(){return this.vh.stop();};c.prototype.flush=function(){return this.vh.flush();};c.prototype.Uo=function(a,b){var c;c=this.Xa.Qq(g.T.$b(b),{O1a:!0,N1a:!0});return c?this.Xa.cb.Ja[c.va].tc + c.offset.da:this.fail("convertPlayerPtsToContentPts failed to convert manifestIndex " + a + ", playerPts: " + b);};c.prototype.$w=function(a,b,c){return this.vh.$w(a,b,c);};c.prototype.mJ=function(a,b,c,d){return this.vh.mJ(a,b,c,d);};c.prototype.Yr=function(a,b){b=void 0 === b?!0:b;if(!this.Wg())return this.fail("Must call open prior to drmReady");Number.isFinite(a) && (b?this.lb.CU(a):this.lb.msa(a));};c.prototype.yK=function(){var a;return null !== (a=this.lb) && void 0 !== a && a.Fu?this.lb.An(this.Xa.cb.Ja[this.lb.un.va].fa):!1;};c.prototype.Sg=function(a){!1;return this.lb?this.lb.Sg(g.T.$b(a)):(!1,!1);};c.prototype.Lm=function(a,b,c){return this.vh.Lm(a,b,c);};c.prototype.addEventListener=function(a,b){return this.vh.addEventListener(a,b);};c.prototype.removeEventListener=function(a,b){return this.vh.removeEventListener(a,b);};c.prototype.TB=function(a,b){var c;c={};this.Xa.Ii((c[a]=b,c));};c.prototype.qn=function(a,b,c){return this.vh.qn(a,b,c);};c.prototype.Uj=function(a){return this.vh.Uj(a);};c.prototype.fail=function(a){var b;null === (b=this.Xa) || void 0 === b?void 0:b.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:a});};c.prototype.My=function(a){var b,c,d,f,h,k,l,m;b=this;m=!0 === (null === (c=this.lb) || void 0 === c?void 0:c.Mq.value);c=(null === (d=this.Xa) || void 0 === d?void 0:d.xg.value) === g.bc.dk;null === (f=this.lb) || void 0 === f?void 0:f.Mq.removeListener(this.RVa);null === (h=this.Xa) || void 0 === h?void 0:h.xg.removeListener(this.PKa);m && c?a():(this.RVa=function(){return b.My(a);},this.PKa=function(){return b.My(a);},null === (k=this.lb) || void 0 === k?void 0:k.Mq.addListener(this.RVa),null === (l=this.Xa) || void 0 === l?void 0:l.xg.addListener(this.PKa));};ma.Object.defineProperties(c.prototype,{mb:{configurable:!0,enumerable:!0,get:function(){return this.Pm.mb;}}});b.Uua=c;},function(d,b,a){var g,l,m,f,k,n,p;function c(a,b,c,d,f,h,l,q,t,v){var r;r=this;this.DVb=a;this.j=b;this.id=c;this.height=d;this.width=f;this.FLb=h;this.GLb=l;this.size=q;this.qs=t;this.He=v;this.type=g.kh.Fta;this.ty=!0;this.state=k.uo.FX;this.Eh={};this.y_={};this.mNb=function(a){if(a.ja)try{r.data=r.DVb.parse(a.content);r.state=k.uo.LOADED;r.log.trace("TrickPlay parsed",{Images:r.data.images.length},r.Eh);r.j.fireEvent(n.V.rV);}catch(E){r.state=k.uo.oBa;r.log.error("TrickPlay parse failed.",E);}else (r.state=k.uo.FX,r.log.error("TrickPlay download failed.",p.nr(a),r.Eh));};this.log=m.Ch(b,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ea=void 0;g=a(80);l=a(12);m=a(7);f=a(67);k=a(491);n=a(13);p=a(2);c.prototype.Fyb=function(a){if(this.data && (this.qs && (a+=this.qs),a=Math.floor(a / this.data.Aq.l3a),0 <= a && a < this.data.images.length))return {image:this.data.images[a],time:a * this.data.Aq.l3a,height:this.height,width:this.width,pixelAspectHeight:this.FLb,pixelAspectWidth:this.GLb};};c.prototype.q2=function(){switch(this.state){case k.uo.LOADED:return "downloaded";case k.uo.LOADING:return "loading";case k.uo.bO:return "downloadfailed";case k.uo.oBa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var a;a=this.PAb();a?(this.state=k.uo.LOADING,this.qtb(a)):this.ty=!1;};c.prototype.sd=function(){return this.state;};c.prototype.PAb=function(){var a,b,c;a=this;b=Object.keys(this.He).find(function(b){return (a.y_[a.He[b]] || 0) <= l.config.zVb;});if(b){c=this.He[b];(c in this.y_)?this.y_[c]++:this.y_[c]=1;return {url:c,Vz:b};}};c.prototype.qtb=function(a){this.log.trace("Downloading",a.url,this.Eh);a={responseType:f.gS,Hc:this.jka(a.Vz),url:a.url,track:this};this.j.T2.download(a,this.mNb);};c.prototype.jka=function(a){return this.j.qk.find(function(b){return b && b.id === a;});};b.$Ea=c;},function(d,b,a){var g;function c(a,b,c,d){this.ria=a;this.debug=b;this.za=c;this.j=d;this.h5=[];this.E4={};this.uia={};this.yja=!1;this.N2a=1;this.rva=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.Qwa=void 0;g=a(4);a(13);a(15);a(67);c.prototype.register=function(a,b){this.debug.assert(!(0 <= this.h5.indexOf(a)),"panel already registered");this.E4[a]=b;this.h5.push(a);};c.prototype.hXa=function(a){var b;b=this;this.uia[a]=!0;this.yja || (this.yja=!0,setTimeout(function(){return b.fwb();},0));};c.prototype.mzb=function(a){return (a=this.E4[a])?a():void 0;};c.prototype.c2=function(){var a;a=this.j.t5;return a?a.c2():[];};c.prototype.addEventListener=function(a,b){this.ria.addListener(a,b);this.E4[a] && this.hXa(a);};c.prototype.removeEventListener=function(a,b){this.ria.removeListener(a,b);};c.prototype.getTime=function(){return this.za.Bb().ca(g.ga);};c.prototype.fwb=function(){this.yja=!1;for(var a=this.h5.length,b;a--;){b=this.h5[a];this.uia[b] && (this.uia[b]=!1,this.ria.ec(b + "changed",{getModel:this.E4[b]}));}};b.Qwa=c;},function(d,b,a){var g,l,m,f,k,n,p;function c(a,b){var c;c=this;this.Bl=a;this.xq=b;this.v3a=function(a){var b,d,f,g,h,k,l;b=c.N2a++;d=a.request.lE || "dl";f=c.ZRa(d,"start");if(f){g=a.request.Nq;h=g.stream.N.Cl;g=N(g.stream.N.qh).next().value;if(h || g)if((h=null !== h && void 0 !== h?h:g.W.id,!c.g2a.has(h))){k=c.rRa(h);l=a.Tq;c.Bl.mark(f,k,l?d + "-" + l + "-" + b:d);a.bfa(function(){var a,f;a=c.ZRa(d,"end");f=l?d + "-" + l + "-" + b:d;a && c.Bl.mark(a,k,f);});}}};this.N2a=0;this.g2a=new Set();this.Xra=new Map();b.kR && this.SXb();}Object.defineProperty(b,"__esModule",{value:!0});b.NAa=void 0;d=a(0);g=a(1);l=a(78);m=a(65);f=a(4);k=a(67);a=a(36);n={start:{video:l.Aa.AN,audio:l.Aa.wN},end:{video:l.Aa.zN,audio:l.Aa.vN}};c.prototype.sRa=function(a){var c,d,g,h,k,m,n,q;function b(b){return f.timestamp(c.fJa(f.timestamp(b),a,!0));}c=this;d=new Set();g=a.Md;h=a.ea;k=void 0 === a.$1a?null:a.$1a;m=a.va;n=this.Bl.dRa(h);q=m && this.rRa(m);q && n.push.apply(n,[].concat(X(this.Bl.dRa(q))));this.Bl.q_a(a.ea);q && this.Bl.q_a(q);m && this.g2a.add(m);m=[];("pr_ats" in g) && m.push({name:l.Aa.cY,ar:b(g.pr_ats),ea:h,Fj:"request-pre-manifest"});("ats" in g) && m.push({name:l.Aa.aY,ar:b(g.ats),ea:h,Fj:"request-manifest"});("pr_at" in g) && m.push({name:l.Aa.bY,ar:b(g.pr_at),ea:h,Fj:"request-pre-manifest"});("at" in g) && m.push({name:l.Aa.$X,ar:b(g.at),ea:h,Fj:"request-manifest"});("lg" in g) && m.push({name:l.Aa.ZX,ar:b(g.lg),ea:h,Fj:"request-license"});("lr" in g) && (m.push({name:l.Aa.YX,ar:b(g.lr),ea:h,Fj:"request-license"}),m.push({name:l.Aa.TV,ar:b(g.lr),ea:h,Fj:"apply-license"}));("ld" in g) && m.push({name:l.Aa.SV,ar:b(g.ld),ea:h,Fj:"apply-license"});("tt_start" in g) && m.push({name:l.Aa.yN,ar:b(g.tt_start),ea:h,Fj:"request-timed-text"});("tt_comp" in g) && m.push({name:l.Aa.xN,ar:b(g.tt_comp),ea:h,Fj:"request-timed-text"});return m.concat(n).map(function(b){return c.VUb(b,a);}).filter(function(a){return a.ts <= (null !== k && void 0 !== k?k:a.ts)?("end" === a.step && d.add(a.eventId),!0):!1;}).filter(function(a){return "start" !== a.step || d.has(a.eventId)?!0:!1;}).sort(function(a,b){return a.ts - b.ts;}).reduce(function(a,b){var c;c=b.eventName;delete b.eventName;c && (a[c]=b);return a;},{});};c.prototype.Njb=function(a,b,c){return (void 0 === c?0:c)?a.ca(f.ga) + b.Ok.ca(f.ga):a.ca(f.ga) - b.Ok.ca(f.ga);};c.prototype.fJa=function(a,b,c){c=void 0 === c?!1:c;if(b.Ol)if(c)a.ca(f.ga) + b.Ol;else return a.ca(f.ga) - b.Ol;return this.Njb(a,b,c);};c.prototype.VUb=function(a,b){var c,d;c=a.Fj;d=a.name;return {eventName:this.KIb(d,c),eventId:c || d,ts:this.fJa(a.ar,b),comp:this.HR(d),cat:this.Hxb(d),step:this.uAb(d)};};c.prototype.KIb=function(a,b){switch(a){case l.Aa.yN:case l.Aa.xN:case l.Aa.wN:case l.Aa.vN:case l.Aa.AN:case l.Aa.zN:return a + "-" + b;default:return a;}};c.prototype.HR=function(a){switch(a){case l.Aa.cY:case l.Aa.bY:case l.Aa.aY:case l.Aa.$X:return "manifest";case l.Aa.ZX:case l.Aa.YX:case l.Aa.Oba:case l.Aa.Nba:case l.Aa.GW:case l.Aa.FW:case l.Aa.TV:case l.Aa.SV:return "license";case l.Aa.yN:case l.Aa.xN:case l.Aa.wN:case l.Aa.vN:case l.Aa.AN:case l.Aa.zN:case l.Aa.Y7:case l.Aa.X7:return "buffering";case l.Aa.yaa:case l.Aa.xaa:return "playback";default:return null;}};c.prototype.Hxb=function(a){switch(a){case l.Aa.cY:case l.Aa.bY:case l.Aa.aY:case l.Aa.$X:return "aws";case l.Aa.ZX:case l.Aa.YX:return "mixed";case l.Aa.yaa:case l.Aa.xaa:case l.Aa.Oba:case l.Aa.Nba:case l.Aa.GW:case l.Aa.FW:case l.Aa.TV:case l.Aa.SV:case l.Aa.Y7:case l.Aa.X7:return "device";case l.Aa.yN:case l.Aa.xN:case l.Aa.wN:case l.Aa.vN:case l.Aa.AN:case l.Aa.zN:return "cdn";default:return null;}};c.prototype.uAb=function(a){switch(a){case l.Aa.cY:case l.Aa.yaa:case l.Aa.aY:case l.Aa.ZX:case l.Aa.Y7:case l.Aa.yN:case l.Aa.wN:case l.Aa.AN:case l.Aa.Oba:case l.Aa.GW:case l.Aa.TV:return "start";case l.Aa.bY:case l.Aa.xaa:case l.Aa.$X:case l.Aa.YX:case l.Aa.Nba:case l.Aa.FW:case l.Aa.SV:case l.Aa.X7:case l.Aa.xN:case l.Aa.vN:case l.Aa.zN:return "end";default:return null;}};c.prototype.ZRa=function(a,b){if((a in n[b]))return n[b][a];};c.prototype.ZVb=function(){k.gf.removeEventListener(k.Q2,this.v3a);};c.prototype.SXb=function(){this.ZVb();k.gf.addEventListener(k.Q2,this.v3a);};c.prototype.rRa=function(a){var b;if(this.Xra.has(a))return this.Xra.get(a);b=Date.now();this.Xra.set(a,b);return b;};p=c;p=d.__decorate([g.O(),d.__param(0,g.l(m.mH)),d.__param(1,g.l(a.Ul))],p);b.NAa=p;},function(d,b,a){var c,g,l,m,f,k,n,p,r,u,t,A,y,I,J,D,F,S,O,L,E,N,R,T,Z,V,ca,X,P,aa,Q,fa,ga,ha,ja,ka;Object.defineProperty(b,"__esModule",{value:!0});b.TLa=void 0;d=a(1);c=a(455);g=a(1151);l=a(128);m=a(1152);f=a(467);k=a(1153);n=a(469);p=a(1154);r=a(470);u=a(1155);t=a(266);A=a(1156);y=a(79);I=a(1157);J=a(1158);D=a(40);F=a(2);S=a(1159);O=a(1160);L=a(1161);E=a(50);N=a(1162);R=a(278);T=a(1163);Z=a(1164);V=a(1165);ca=a(451);X=a(1166);P=a(1167);aa=a(1168);Q=a(345);fa=a(1169);ga=a(66);ha=a(519);ja=a(1170);ka=a(1171);b.TLa=new d.Tc(function(a){a(E.$k).to(N.KBa);a(c.Qaa).to(g.SBa);a(R.MX).to(T.HBa);a(ca.Haa).to(X.IBa);a(Z.WBa).to(V.VBa);a(l.PX).to(m.TBa);a(ha.Raa).jf(function(a){return function(){var b;b=a.ob.get(ga.ur);return b && b.G4a?a.ob.resolve(ka.gCa):a.ob.resolve(ja.UBa);};});a(f.Gaa).to(k.GBa);a(n.Waa).to(p.eCa);a(r.Naa).to(u.PBa);a(t.OX).to(A.QBa);a(y.$ba).to(I.oEa);a(y.bca).to(J.rEa);a(y.t$).to(S.kza);a(y.Yba).to(O.lEa);a(y.z9).to(L.Bxa);a(aa.YBa).to(P.XBa);a(Q.Maa).to(fa.OBa);a(y.BW).jf(function(a){return function(b){switch(b){case y.Sm.start:return a.ob.get(y.$ba);case y.Sm.stop:return a.ob.get(y.bca);case y.Sm.xS:return a.ob.get(y.t$);case y.Sm.splice:return a.ob.get(y.Yba);case y.Sm.nR:return a.ob.get(y.z9);}throw new D.Bc(F.L.Wab,void 0,void 0,void 0,void 0,"The event key was invalid - " + b);};});});},function(d,b,a){var g,l,m,f,k;function c(a){return f.Mh.call(this,a,l.L.G$a,1,m.Oh.OUa,m.Lg.jH,m.Oh.OUa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SBa=void 0;d=a(0);g=a(1);l=a(2);m=a(46);f=a(73);a=a(50);L(c,f.Mh);c.prototype.Pe=function(a,b){var c;c=this;return this.send(a,"/" + this.name,b).then(function(a){return a.result;})["catch"](function(a){throw c.um(a);});};c.prototype.fp=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};k=c;k=d.__decorate([g.O(),d.__param(0,g.l(a.$k))],k);b.SBa=k;},function(d,b,a){var g,l,m,f,k,n,p,r,u,t,A;function c(a,b,c,d,g){a=f.Mh.call(this,a,l.L.MANIFEST,3,m.Oh.pa,m.Lg.Bt,m.Oh.pa) || this;a.platform=b;a.aoa=c;a.aFb=d;a.qGb=g;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.TBa=void 0;d=a(0);g=a(128);l=a(2);m=a(46);a(181);f=a(73);k=a(50);n=a(31);p=a(36);r=a(168);u=a(266);t=a(1);a=a(519);L(c,f.Mh);c.prototype.Pe=function(a,b){var c,d;c=this;this.EZ=b.wq === g.Oi.vH?"prefetch/manifest":m.Oh.pa;d=b.wq === g.Oi.gY?p.Ht.WCa:p.Ht.qO;return this.qGb().transform(b,d).then(function(f){var h,k;f=N(f);h=f.next().value;k=f.next().value;!1;k.Yo && (c.EZ="licensedManifest");return c.send(a,k.sk,h,void 0,c.aAb(b.wq),void 0,d).then(function(a){var d;a=c.aoa.create(a.result);d=a.Fc.ot.map(function(a){return a.ri;}).filter(Boolean);k.Yo && (0 < d.length?(d=c.aFb.A3a(d),k.Yo.QIa(d),a.Yo=k.Yo,a.FTa=b.wq === g.Oi.vH):k.Yo.close().subscribe());!1;return a;});})["catch"](function(a){!1;throw c.um(a);});};c.prototype.fp=function(){return Promise.reject(Error("Links are not supported with manifest command"));};c.prototype.aAb=function(a){switch(a){case g.Oi.bk:case g.Oi.q8a:return m.Lg.Bt;case g.Oi.Eba:case g.Oi.gY:return m.Lg.caa;case g.Oi.vH:return m.Lg.jH;}};A=c;A=d.__decorate([t.O(),d.__param(0,t.l(k.$k)),d.__param(1,t.l(n.vj)),d.__param(2,t.l(r.lH)),d.__param(3,t.l(u.OX)),d.__param(4,t.l(a.Raa))],A);b.TBa=A;},function(d,b,a){var g,l,m,f,k;function c(a){return f.Mh.call(this,a,l.L.kX,3,m.Oh.ri,m.Lg.Bt,m.Oh.ri) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.GBa=void 0;d=a(0);g=a(1);l=a(2);m=a(46);f=a(73);a=a(50);L(c,f.Mh);c.prototype.Pe=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.fp=function(a,b,c){var d,f;d=this;b=b.NR(c.Dna).href;f="license" === c.Dna?m.Lg.Bt:m.Lg.jH;this.EZ="ldl" === c.Dna?"prefetch/license":m.Oh.ri;return this.send(a,b,c.inputs,"drmSessionId",f).then(function(a){a=a.result;d.sLa(a);d.hnb(a);return a;})["catch"](function(a){throw d.um(a);});};c.prototype.hnb=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};k=c;k=d.__decorate([g.O(),d.__param(0,g.l(a.$k))],k);b.GBa=k;},function(d,b,a){var g,l,m,f,k;function c(a){return f.Mh.call(this,a,l.L.dcb,3,m.Oh.ri,m.Lg.caa,"release/license") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.eCa=void 0;d=a(0);g=a(1);l=a(2);m=a(46);f=a(73);a=a(50);L(c,f.Mh);c.prototype.Pe=function(a,b){var c;c=this;return this.send(a,"/bundle",b).then(function(a){a=a.result;c.sLa(a);return a;})["catch"](function(a){throw c.um(a);});};c.prototype.fp=function(){return Promise.reject(Error("Links are unsupported with release"));};k=c;k=d.__decorate([g.O(),d.__param(0,g.l(a.$k))],k);b.eCa=k;},function(d,b,a){var g,l,m;function c(a){this.ta=a;}Object.defineProperty(b,"__esModule",{value:!0});b.PBa=void 0;d=a(0);g=a(1);l=a(35);m=a(4);c.prototype.qVb=function(a){var b;b=this.ta.Be.ca(m.Ym);return {inputs:a.aj.map(function(c){return {drmSessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.ea.toString(),mdxControllerEsn:a.VS};}),Dna:"standard" === a.gj.toLowerCase()?"license":"ldl"};};c.prototype.tVb=function(a){var b,c,d,f;b=this;c=a.BQb || ({});d=[];f=a.qc.map(function(f){var g;d.push(f.id);g=c[f.id];delete c[f.id];return {url:b.TKa(f.UA,f.WK),echo:"drmSessionId",params:{drmSessionId:f.id,secureStop:g,secureStopId:g?f.WK:void 0,xid:a.ea.toString()}};});Object.entries(c).forEach(function(c){var d;d=N(c);c=d.next().value;d=d.next().value;f.push({url:b.TKa(a.qc[0].UA),echo:"drmSessionId",params:{drmSessionId:c,secureStop:d,secureStopId:void 0,xid:a.ea.toString()}});});return f;};c.prototype.TKa=function(a,b){return "/releaseLicense?drmLicenseContextId=" + a + (b?"&licenseId=" + b:"");};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(l.hh))],a);b.PBa=a;},function(d,b,a){var g,l,m;function c(a,b){this.Ed=a;this.Kr=b;}Object.defineProperty(b,"__esModule",{value:!0});b.QBa=void 0;d=a(0);g=a(1);l=a(27);a=a(41);c.prototype.A3a=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.Ed.DT(a.substring(a.indexOf("?") + 1));});return {ja:!0,qc:a.map(function(a,b){return {id:a.drmSessionId,UA:c[b].drmlicensecontextid,WK:c[b].licenseid};}),Gn:a.map(function(a){return {data:b.Kr.decode(a.licenseResponseBase64),sessionId:a.drmSessionId};})};};c.prototype.uVb=function(a){return {ja:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.drmSessionId) && c && (a[b]=c);return a;},{})}};};m=c;m=d.__decorate([g.O(),d.__param(0,g.l(l.tg)),d.__param(1,g.l(a.Ki))],m);b.QBa=m;},function(d,b,a){var g,l,m,f,k,n;function c(a){return m.Np.call(this,a,l.L.qcb,f.Sm.start,3,n.Lg.Bt) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oEa=void 0;d=a(0);g=a(1);l=a(2);m=a(152);f=a(79);k=a(50);n=a(46);L(c,m.Np);a=c;a=d.__decorate([g.O(),d.__param(0,g.l(k.$k))],a);b.oEa=a;},function(d,b,a){var g,l,m,f,k,n;function c(a){return m.Np.call(this,a,l.L.JDa,f.Sm.stop,3,n.Lg.caa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.rEa=void 0;d=a(0);g=a(1);l=a(2);m=a(152);f=a(79);k=a(50);n=a(46);L(c,m.Np);a=c;a=d.__decorate([g.O(),d.__param(0,g.l(k.$k))],a);b.rEa=a;},function(d,b,a){var g,l,m,f,k,n;function c(a){return m.Np.call(this,a,l.L.s$,f.Sm.xS,1,n.Lg.jH) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.kza=void 0;d=a(0);g=a(1);l=a(2);m=a(152);f=a(79);k=a(50);n=a(46);L(c,m.Np);a=c;a=d.__decorate([g.O(),d.__param(0,g.l(k.$k))],a);b.kza=a;},function(d,b,a){var g,l,m,f,k,n;function c(a){return m.Np.call(this,a,l.L.HDa,f.Sm.splice,1,n.Lg.jH) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.lEa=void 0;d=a(0);g=a(1);l=a(2);m=a(152);f=a(79);k=a(50);n=a(46);L(c,m.Np);a=c;a=d.__decorate([g.O(),d.__param(0,g.l(k.$k))],a);b.lEa=a;},function(d,b,a){var g,l,m,f,k,n;function c(a){return m.Np.call(this,a,l.L.Q8a,f.Sm.nR,3,n.Lg.jH) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Bxa=void 0;d=a(0);g=a(1);l=a(2);m=a(152);f=a(79);k=a(50);n=a(46);L(c,m.Np);c.prototype.J_=function(a){return Object.assign(Object.assign({},m.Np.prototype.J_.call(this,a)),{action:a.action});};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(k.$k))],a);b.Bxa=a;},function(d,b,a){var g,l,m,f,k,n,p,r,t;function c(a,b,c,d,f,g,h,k,l){this.Pf=a;this.gf=b;this.Hh=c;this.ctb=d;this.NE=f;this.MWb=g;this.Yha=h;this.uPb=k;this.gA=l;}Object.defineProperty(b,"__esModule",{value:!0});b.KBa=void 0;d=a(0);g=a(1);l=a(114);m=a(66);f=a(489);k=a(486);n=a(90);p=a(111);r=a(333);t=a(91);a=a(84);c=d.__decorate([g.O(),d.__param(0,g.l(l.$B)),d.__param(1,g.l(p.Wy)),d.__param(2,g.l(m.ur)),d.__param(3,g.l(k.Jaa)),d.__param(4,g.l(n.Kv)),d.__param(5,g.l(r.tca)),d.__param(6,g.l(t.IN)),d.__param(7,g.l(f.Xaa)),d.__param(8,g.l(a.yt))],c);b.KBa=c;},function(d,b,a){var g,l,m,f,k;function c(a){return f.Mh.call(this,a,l.L.i6a,2,m.Oh.bind,m.Lg.Bt,m.Oh.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.HBa=void 0;d=a(0);g=a(1);l=a(2);m=a(46);f=a(73);a=a(50);L(c,f.Mh);c.prototype.Pe=function(a,b,c){var d;d=this;return this.send(a,"/" + this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.um(a);});};c.prototype.fp=function(){return Promise.reject(Error("Links are unsupported with bind"));};k=c;k=d.__decorate([g.O(),d.__param(0,g.l(a.$k))],k);b.HBa=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.WBa=void 0;b.WBa="PboPairCommandSymbol";},function(d,b,a){var g,l,m,f,k;function c(a){return f.Mh.call(this,a,l.L.Nab,2,m.Oh.WXa,m.Lg.Bt,m.Oh.WXa) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.VBa=void 0;d=a(0);g=a(1);l=a(2);m=a(46);f=a(73);a=a(50);L(c,f.Mh);c.prototype.Pe=function(a,b,c){var d;d=this;return this.send(a,"/" + this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.um(a);});};c.prototype.fp=function(){return Promise.reject(Error("Links are unsupported with pair"));};k=c;k=d.__decorate([g.O(),d.__param(0,g.l(a.$k))],k);b.VBa=k;},function(d,b,a){var g,l,m,f,k;function c(a){return f.Mh.call(this,a,l.L.j6a,2,m.Oh.bind,m.Lg.Bt,m.Oh.bind) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.IBa=void 0;d=a(0);g=a(1);l=a(2);m=a(46);f=a(73);a=a(50);L(c,f.Mh);c.prototype.Pe=function(a,b,c){var d;d=this;return this.send(a,"/bindDevice",b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.um(a);});};c.prototype.fp=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};k=c;k=d.__decorate([g.O(),d.__param(0,g.l(a.$k))],k);b.IBa=k;},function(d,b,a){var g,l,m,f,k;function c(a){return f.Mh.call(this,a,l.L.fbb,1,m.Oh.ping,m.Lg.Bt,m.Oh.ping) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XBa=void 0;d=a(0);g=a(1);l=a(2);m=a(46);f=a(73);a=a(50);L(c,f.Mh);c.prototype.Pe=function(a,b,c){var d;d=this;return this.send(a,"/" + this.name,b,void 0,void 0,c).then(function(a){return a.result;})["catch"](function(a){throw d.um(a);});};c.prototype.fp=function(){return Promise.reject(Error("Links are unsupported with ping"));};k=c;k=d.__decorate([g.O(),d.__param(0,g.l(a.$k))],k);b.XBa=k;},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});b.YBa=void 0;b.YBa="PboPingCommandSymbol";},function(d,b,a){var g,l,m,f,k;function c(a){return f.Mh.call(this,a,l.L.g9a,2,m.Oh.pa,m.Lg.Bt,"generateScreenshots") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.OBa=void 0;d=a(0);g=a(1);l=a(2);m=a(46);f=a(73);a=a(50);L(c,f.Mh);c.prototype.Pe=function(a,b){var c;c=this;return this.send(a,"/generateScreenshots",b).then(function(a){return a.result;})["catch"](function(a){throw c.um(a);});};c.prototype.fp=function(a,b,c){var d;d=this;return this.send(a,b.NR("generateScreenshots").href,c).then(function(a){return a.result;})["catch"](function(a){throw d.um(a);});};k=c;k=d.__decorate([g.O(),d.__param(0,g.l(a.$k))],k);b.OBa=k;},function(d,b,a){var g,l,m,f,k,n,p,r,t,B,A,y,I,J,D;function c(a,b,c,d,f,g,h,k,l,m){this.Hh=a;this.platform=b;this.config=c;this.Qmb=d;this.WLb=f;this.Gk=g;this.yQ=h;this.ta=k;this.o4=l;this.pm=m;}Object.defineProperty(b,"__esModule",{value:!0});b.UBa=void 0;d=a(0);g=a(1);l=a(128);m=a(14);f=a(222);k=a(366);n=a(517);p=a(76);r=a(31);t=a(35);B=a(4);A=a(155);y=a(66);I=a(335);J=a(30);D=a(61);c.prototype.transform=function(a,b){var c,d,g,h,k,m,n,p,q,r,t,u,v;c=this;m=a.Wa;n=Object.assign({},m.kQ,m.Wn);p={};q=a.fa;p[q]={unletterboxed:! !n.preferUnletterboxed};r=this.config();t=r.YWb?30:25;u=r.Kp?this.Gk.nyb():Promise.resolve(this.o4.js());v=null === (g=null === (d=r.Lta) || void 0 === d?void 0:d[null === m || void 0 === m?void 0:m.xd]) || void 0 === g?void 0:g.XB;d=null === (k=null === (h=r.Lta) || void 0 === h?void 0:h[null === m || void 0 === m?void 0:m.xd]) || void 0 === k?void 0:k.fJ;return Promise.all([this.pm.RRa(d),this.pm.TRa(v),this.pm.nK(),this.pm.k2(),this.Ixb(a.ea,b),this.syb(a),u]).then(function(b){var d,g,h,k,r,u;d=N(b);g=d.next().value;h=d.next().value;k=d.next().value;r=d.next().value;u=d.next().value;b=d.next().value;d=d.next().value;g=(g || []).concat(h || []).concat(c.config().sv).concat(["BIF240","BIF320"]).filter(Boolean);h=r && void 0 !== r.SUPPORTS_SECURE_STOP?! !r.SUPPORTS_SECURE_STOP:void 0;r=r?r.DEVICE_SECURITY_LEVEL:void 0;k={type:"standard",viewableId:q,profiles:g,flavor:a.wq,drmType:d,drmVersion:t,usePsshBox:!0,isBranching:! !a.Wa.Kj,useHttpsStreams:!0,supportsUnequalizedDownloadables:c.config().jUb,imageSubtitleHeight:f.pY.Vka(),uiVersion:c.Hh.Hy,uiPlatform:c.Hh.v7,clientVersion:c.platform.version,supportsPreReleasePin:c.config().Zr.fUb,supportsWatermark:c.config().Zr.gUb,showAllSubDubTracks:c.config().Zr.DSb || ! !n.showAllSubDubTracks,packageId:c.Ezb(m),deviceSupportsSecureStop:h,deviceSecurityLevel:r,videoOutputInfo:k,titleSpecificData:p,preferAssistiveAudio:! !n.assistiveAudioPreferred,preferredTextLocale:n.preferredTextLocale,preferredAudioLocale:n.preferredAudioLocale,isUIAutoPlay:! !n.isUIAutoPlay,challenge:u,isNonMember:c.Hh.w3,pin:m.AYa,desiredVmaf:c.config().SWb?c.config().Gsb:c.config().Hsb};m.WOa && (k.extraParams=m.WOa);m.ANa && (k.desiredDownloadables=m.ANa);u={sk:b?"licensedManifest":"manifest",Yo:null === b || void 0 === b?void 0:b.Fb};b && (b={drmSessionId:b.Fb.qx() || "session",clientTime:c.ta.z6.ca(B.Ym),challengeBase64:b.Jga},k.challenges={"default":[b]},k.profileGroups=[{name:"default",profiles:g}],k.licenseType=a.wq === l.Oi.vH && c.Hh.y4a?"limited":"standard",a.ea && (k.xid=a.ea.toString()));c.Hh.xOa && a.wq === l.Oi.gY && (k.maxSupportedLanguages=2);return [k,u];});};c.prototype.Ezb=function(a){if(this.config().L5.enabled){if(void 0 !== a.vp)return a.vp;if(void 0 !== this.config().L5.vp)return Number(this.config().L5.vp);}};c.prototype.Ixb=function(a,b){var c;c=this;return this.Qmb.iQa(b).then(function(b){var d;d=a && c.WLb.Lzb(a);d && d.Jo("cad");return b;});};c.prototype.syb=function(a){var b,c,d,f;b=a.wq === l.Oi.bk || a.wq === l.Oi.Eba;a=a.wq === l.Oi.vH;c=this.config().Kp && this.Hh.$_;d=this.config().Kp && this.Hh.yOa;f=d?D.jh.Lv:D.jh.bk;return b && c || a && d?this.yQ.fla(f):Promise.resolve(void 0);};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(y.ur)),d.__param(1,g.l(r.vj)),d.__param(2,g.l(m.Sc)),d.__param(3,g.l(k.B8)),d.__param(4,g.l(n.TX)),d.__param(5,g.l(p.qr)),d.__param(6,g.l(A.CN)),d.__param(7,g.l(t.hh)),d.__param(8,g.l(I.rX)),d.__param(9,g.l(J.mC))],a);b.UBa=a;},function(d,b,a){var g,l,m,f,k,n;function c(a,b,c,d){this.platform=a;this.config=b;this.yQ=c;this.pm=d;}Object.defineProperty(b,"__esModule",{value:!0});b.gCa=void 0;d=a(0);g=a(1);l=a(14);m=a(31);f=a(155);k=a(30);n=a(61);c.prototype.transform=function(a){var b,c;b=this;c=a.Wa;return Promise.all([this.pm.RRa(),this.pm.TRa(),this.yQ.fla(n.jh.bk)]).then(function(d){var f,g;f=N(d);d=f.next().value;g=f.next().value;f=f.next().value;return [{viewableId:a.fa,packageId:c.vp,assetId:c.Kfa,challenge:f.Jga,audioProfiles:d,textProfiles:b.config().sv,trickplayProfiles:["BIF240","BIF320"],videoProfiles:g,audioLanguages:c.Vkb,textLanguages:c.zUb},{Yo:null === f || void 0 === f?void 0:f.Fb,sk:"studioManifest"}];});};a=c;a=d.__decorate([g.O(),d.__param(0,g.l(m.vj)),d.__param(1,g.l(l.Sc)),d.__param(2,g.l(f.CN)),d.__param(3,g.l(k.mC))],a);b.gCa=a;},function(d,b,a){var c,g,l,m,f,k;Object.defineProperty(b,"__esModule",{value:!0});b.H3a=void 0;d=a(1);c=a(218);g=a(487);l=a(1173);m=a(1174);f=a(1175);k=a(36);b.H3a=new d.Tc(function(a){a(c.zO).to(f.XEa).Z();a(g.jaa).to(l.SAa);a(g.Zba).to(m.mEa);a(g.nca).jf(function(a){return function(b){var d;return a.ob.get(c.zO).I6(null !== (d=null === b || void 0 === b?void 0:b.jIb) && void 0 !== d?d:k.Ht.qO)?a.ob.get(g.jaa):a.ob.get(g.Zba);};});});},function(d,b,a){var g,l,m,f,k,n,p;function c(a,b,c,d){var f;f=this;this.iB=b;this.receiver=c;this.profile=d;this.log=a.wb("MslTransport");this.iB().then(function(a){return f.wWa=a;});}Object.defineProperty(b,"__esModule",{value:!0});b.SAa=void 0;d=a(0);g=a(1);l=a(6);m=a(138);f=a(4);k=a(188);a=a(87);n={license:!0};c.prototype.send=function(a,b){var c,d;c=this;d={xWa:Object.assign({gf:a.gf,log:a.log,profile:this.profile},a.Elb),method:a.sk,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.ca(f.ga),dXb:this.profile,I8b:!n[a.sk],HIb:! !n[a.sk],zk:!0,i6:a.Bra,headers:a.headers};!1;return this.iB().then(function(f){return f.send(d).then(function(d){c.receiver.UL({command:a.sk,inputs:b,outputs:d});return d;})["catch"](function(d){var f;if(!d.error)throw (d.wd=d.ka || d.wd,c.receiver.UL({command:a.sk,inputs:b,outputs:d}),d);f=d.error;f.BB=d.BB;c.log.error("Error sending MSL request",{mslCode:f.Uu,subCode:f.wd,data:f.data,message:f.message});c.receiver.UL({command:a.sk,inputs:b,outputs:f});throw f;});});};c.prototype.uha=function(){var a;return {userTokens:null === (a=this.wWa) || void 0 === a?void 0:a.iT.getUserIdTokenKeys()};};p=c;p=d.__decorate([g.O(),d.__param(0,g.l(l.zb)),d.__param(1,g.l(m.nH)),d.__param(2,g.l(k.lO)),d.__param(3,g.l(a.DH))],p);b.SAa=p;},function(d,b,a){var g,l,m,f,k;function c(a,b,c){this.receiver=b;this.gf=c;this.log=a.wb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.mEa=void 0;d=a(0);g=a(1);l=a(4);m=a(6);f=a(188);a=a(111);c.prototype.send=function(a,b){var c,d;c=this;d={url:a.url.href,lE:"nq-" + a.sk,lqa:JSON.stringify(b),f0:a.timeout.ca(l.ga),headers:a.headers,withCredentials:!0};!1;return new Promise(function(a,b){c.gf.download(d,function(c){c.ja?a(c):b(c);});}).then(function(d){d={status:"success",body:d.content};c.receiver.UL({command:a.sk,inputs:b,outputs:d});return d;})["catch"](function(d){var f;if(!d.error)throw (d.wd=d.ka || d.wd,c.receiver.UL({command:a.sk,inputs:b,outputs:d}),d);f=d.error;f.BB=d.BB;c.log.error("Error sending SSL request",{subCode:f.wd,data:f.content,message:f.message});c.receiver.UL({command:a.sk,inputs:b,outputs:f});throw f;});};c.prototype.uha=function(){return {};};k=c;k=d.__decorate([g.O(),d.__param(0,g.l(m.zb)),d.__param(1,g.l(f.lO)),d.__param(2,g.l(a.Wy))],k);b.mEa=k;},function(d,b,a){var g,l,m,f,k;function c(a){return l.Te.call(this,a,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XEa=void 0;d=a(0);g=a(1);l=a(44);m=a(32);f=a(43);k=a(36);L(c,l.Te);c.prototype.I6=function(a){var b,c;b=this.I4a;c=this.mJa;switch(a){case k.Ht.qO:return b;case k.Ht.WCa:return b && !c;case k.Ht.Eab:return !1;}};ma.Object.defineProperties(c.prototype,{I4a:{configurable:!0,enumerable:!0,get:function(){return !0;}},mJa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;d.__decorate([f.config(f.Gc,"usesMsl")],a.prototype,"I4a",null);d.__decorate([f.config(f.Gc,"allowRequestsWithoutMsl")],a.prototype,"mJa",null);a=d.__decorate([g.O(),d.__param(0,g.l(m.ek))],a);b.XEa=a;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.Fk=void 0;d=a(1);c=a(503);g=a(1177);b.Fk=new d.Tc(function(a){a(c.y$).to(g.xza);});},function(d,b,a){var g,l,m,f,k,n,p,r;function c(a,b,c,d,f){this.oE=a;this.bj=b;this.config=c;this.dB=d;this.kc=f;}Object.defineProperty(b,"__esModule",{value:!0});b.xza=void 0;d=a(0);g=a(1);l=a(112);m=a(1178);f=a(1179);k=a(60);n=a(14);p=a(113);a=a(99);c.prototype.create=function(a,b,c){return a?new m.yza(this.config(),this.bj,this.kc,b,c,this.oE,this.dB()):new f.uza(this.config,this.kc,b,c);};r=c;r=d.__decorate([g.O(),d.__param(0,g.l(l.KN)),d.__param(1,g.l(k.Qp)),d.__param(2,g.l(n.Sc)),d.__param(3,g.l(p.zC)),d.__param(4,g.l(a.Yv))],r);b.xza=r;},function(d,b,a){var g,l,m,f,k,n,p,r,t,B;function c(a,b,c,d,f,g,h){d=r.tN.call(this,d,f) || this;d.config=a;d.bj=b;d.kc=c;d.oE=g;d.YS=h;d.log=l.Ch(d.j,"LicenseBroker");d.FS=new Set();d.yoa=!1;return d;}Object.defineProperty(b,"__esModule",{value:!0});b.yza=void 0;d=a(0);g=a(2);l=a(7);m=a(11);f=a(323);k=a(4);n=a(1);p=a(271);r=a(520);t=a(61);B=a(13);L(c,r.tN);c.prototype.zpa=function(){var a,b,c;a=this;c=this.j.ia;this.FS.has(c.u) || (this.FS.add(c.u),((null === (b=c.pa) || void 0 === b?0:b.Yo)?this.lkb(c,c.pa.Yo):this.config.UJ && this.config.Ms?this.mkb(c):Promise.reject())["catch"](function(){return a.F_a(c);}).then(function(){return a.DJa(c);})["catch"](function(b){return a.CJa(c,b);})["catch"](function(b){return a.ed(b.code,b,b.Vg);}));};c.prototype.mkb=function(a){var b;b=this;return this.kc.eQa(a.u).then(function(c){return b.Cfa(c,a,"videopreparer");})["catch"](function(a){b.log.warn("eme not in cache",a);throw a;});};c.prototype.lkb=function(a,b){var c;c=this;return this.oE().then(function(d){var f;f=c.ZQa(a);d.qWa(f,b);d.HS().subscribe(c.jQa(a));return c.Cfa(b,a,"manifest");});};c.prototype.Cfa=function(a,b,c){this.mZa(a,b);b.VD=c;this.YS.aG(a.Cm);return a.Dfa().ft();};c.prototype.zwb=function(a){var b;b={};a.forEach(function(a){b[f.aOa(a.IHb)]=a.time.ca(k.ga);});return b;};c.prototype.mZa=function(a,b){var c,d;c=this;b.pe=a;null === (d=a.ru()) || void 0 === d?void 0:d.subscribe(function(a){c.ed(a.code,a,a.Vg);});};c.prototype.DJa=function(a){var b;this.log.info("Successfully applied license for xid: " + a.ea + ", viewable: " + a.u + ", segment: " + a.va);b=a.pe;(null === b || void 0 === b?0:b.Ana) && this.C2(b.Ana);this.xx(a);this.yoa?this.v1(a.u):this.aG(a);};c.prototype.CJa=function(a,b){this.xx(a);throw b;};c.prototype.xx=function(a){a.pe && a.xx(this.zwb(a.pe.Md));};c.prototype.jQa=function(a){var b;b=this;return {next:function(c){b.FS.add(a.u);b.C2(c);},error:m.mh,complete:m.mh};};c.prototype.ZQa=function(a){var b;return {type:this.Eka(),CK:a.Ps.map(function(a){return l.jq(a);}),context:{De:this.config.De,na:this.Gb.na,Ns:null === (b=a.pg.value) || void 0 === b?void 0:b.Ns},Eg:{u:a.u,ea:a.ea,vi:a.vi,ol:a.ol,hj:a.pa.hj}};};c.prototype.F_a=function(a){var b;b=this;return this.oE().then(function(c){var d;d=b.ZQa(a);c.HS().subscribe(b.jQa(a));return c.ri(d,b.YS).vu(function(c){b.mZa(c,a);b.j.fireEvent(B.V.YK,{u:a.u});return c.Dfa();}).ft();});};c.prototype.aG=function(a){var b;b=this;if(this.yoa)this.log.trace("Media Keys already set");else try{this.Gb.na?this.Gb.na.setMediaKeys(a.pe.Cm).then(function(){b.v1(a.u);b.yoa=!0;})["catch"](function(a){a=b.dSa(a);b.ed(g.L.Daa,a,a.Oe);}):this.v1(a.u);}catch(I){this.ed(g.L.Daa,I,void 0);}};c.prototype.wYa=function(){var a,b;a=this;b=this.j.ia.pe;return b?this.oE().then(function(c){return c.vTb(b,a.YS).vu(function(a){return a.EJa();}).vu(function(b){a.log.trace("Fulfilled the last secure stop");a.bj.Il && a.j.Hq.o6({success:!0,persisted:!1});return b.close();}).ft()["catch"](function(b){a.log.error("Unable to get/add secure stop data",b);a.bj.Il && a.j.Hq.o6({success:b.ja,ErrorCode:b.code,ErrorSubCode:b.wd,ErrorExternalCode:b.Vg,ErrorEdgeCode:b.QJ,ErrorDetails:b.fx});});}):Promise.resolve();};c.prototype.E_a=function(a){var b;a=void 0 === a?this.j:a;b=this;return this.F_a(a).then(function(){return b.DJa(a);})["catch"](function(c){return b.CJa(a,c);});};c.prototype.Eka=function(){return this.bj.xR?t.jh.Lv:t.jh.bk;};ma.Object.defineProperties(c.prototype,{oF:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},De:{configurable:!0,enumerable:!0,get:function(){return this.config.De;}}});a=c;d.__decorate([p.CS],a.prototype,"oF",null);a=d.__decorate([n.O()],a);b.yza=a;},function(d,b,a){var g,l,m,f,k,n,p,r,t,B,A;function c(a,b,c,d){c=t.tN.call(this,c,d) || this;c.config=a;c.kc=b;c.log=l.Ch(c.j,"LegacyLicenseBroker");c.De=c.config().De;c.config().Fqa?f.LTa()?c.H7=!0:c.log.error("Promise based eme requested but platform does not support it",{browserua:k.Wm}):c.H7=!1;return c;}Object.defineProperty(b,"__esModule",{value:!0});b.uza=void 0;d=a(0);g=a(2);l=a(7);m=a(117);f=a(45);k=a(10);n=a(1);p=a(271);r=a(31);t=a(520);B=a(61);L(c,t.tN);c.prototype.EMa=function(a){var b;b=void 0 === b?this.j:b;return new this.Oq.Ev(a,function(a){return b.HQ.Dka(a);},function(a){return b.HQ.release(a);},{zm:!1,sS:!1});};c.prototype.eE=function(b,c){var d,f,h,k,n,p;c=void 0 === c?this.j:c;d=this;k=a(49).ni;this.Oq.Ev || this.ed(g.L.kX,g.K.I8a);h=l.Ch(c,"Eme");f=this.EMa(h);n=l.ha.get(m.RC);p=n.KQ(c.Zc.value.yc);n=n.PQ(c.pg.value.yc);return this.Oq.Fv(h,b,function(a){return c.vd(a);},{zm:!1,sS:!1,NTa:this.config().Il,y0a:{ZVa:this.config().w0a,nLa:this.config().Sra},ta:{getTime:k},AB:f,sZa:! !this.H7,na:this.Gb.na,HG:this.config().Nia,onerror:function(a,b,c){return d.ed(a,b,c);},ipa:function(a){return d.C2(a);},VLb:!0,ZJa:p,P4a:n,BK:this.config().BK});};c.prototype.aG=function(a){var b;b=this;return this.H7?new Promise(function(c,d){if(b.Gb.na)b.Gb.na.setMediaKeys(a).then(function(){c();})["catch"](function(a){var c;c=b.dSa(a);d({ja:!1,code:g.L.Daa,wd:c.ka,Vg:c.Oe,Ab:c.Ab,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};c.prototype.POa=function(a){return {code:a.code,subCode:a.wd,extCode:a.Vg,edgeCode:a.QJ,message:a.message,errorDetails:a.Ab,errorData:a.e1,state:a.state};};c.prototype.osa=function(a,b,c){var f,g,h;function d(){g.dU()["catch"](function(a){f.log.error("Unable to set the license",f.POa(a));a.cause && a.cause.Ab && (a.Ab=a.Ab?a.Ab + a.cause.Ab:a.cause.Ab);f.ed(a.code,a,a.Vg);});}c=void 0 === c?this.j:c;f=this;g=c.pe;this.log.info("Setting the license");h=b?function(){return Promise.resolve();}:function(){return g.ri(f.Eka(),a);};return (b?function(){return g.Cfa(f.Gb.na);}:function(){return g.create(f.De).then(function(){return Promise.resolve();});})().then(function(){return f.config().g1a?f.aG(g.Cm):Promise.resolve();}).then(h).then(function(){return f.config().g1a?Promise.resolve():f.aG(g.Cm);}).then(function(){f.log.info("license set");f.v1(c.u);f.Gb.c5a.then(function(){f.config().VA && (b || f.config().xR) && (f.y_a=ja.setTimeout(d,f.config().VA));});})["catch"](function(a){f.log.error("Unable to set the license",f.POa(a));a.cause && a.cause.Ab && (a.Ab=a.Ab?a.Ab + a.cause.Ab:a.cause.Ab);if(b)throw Error(a && a.message?a.message:"failed to set license");f.ed(a.code,a,a.Vg);});};c.prototype.wYa=function(){return Promise.resolve();};c.prototype.zpa=function(a){var c;function b(){var b;c.j.pe=c.eE(a.initDataType);b=[];c.j.Ps.forEach(function(a){b.push(l.jq(a));});c.osa(b);}c=this;this.log.trace("Received event: " + a.type);this.FS || (this.FS=!0,this.Oq.Fv?this.j.Ps?(!1,this.config().UJ && this.config().Ms?this.kc.eQa(this.j.u).then(function(a){c.j.pe=a;return a.Z9b.then(function(){var b;b=[];c.j.Ps.forEach(function(a){b.push(l.jq(a));});return c.osa(b,!0).then(function(){var b;if(a.V4b)c.ed(g.L.L8a);else {b=l.Ch(c.j,"Eme");a.N9b({log:b,g8b:function(a){return c.j.vd(a);}},{AB:c.EMa(b),onerror:function(a,b,d){return c.ed(a,b,d);}});(b=a.s8b) && c.C2(b);c.j.xx(a.Md || ({}));c.j.VD="videopreparer";}});});})["catch"](function(a){c.log.warn("eme not in cache",a);b();}):b()):(this.log.error("Missing the PSSH on the video track, closing the player"),this.ed(g.L.rbb)):this.ed(g.L.kX,g.K.J8a));};c.prototype.E_a=function(a){var b;a=void 0 === a?this.j:a;a.pe=this.eE("cenc");b=[];a.Ps.forEach(function(a){b.push(l.jq(a));});return this.osa(b,!1,a);};c.prototype.Eka=function(){return this.config().xR?B.jh.Lv:B.jh.bk;};ma.Object.defineProperties(c.prototype,{Oq:{configurable:!0,enumerable:!0,get:function(){return l.ha.get(r.Lt);}},oF:{configurable:!0,enumerable:!0,get:function(){return this.H7?"encrypted":this.Gb.x9 + "needkey";}}});A=c;d.__decorate([p.CS],A.prototype,"Oq",null);d.__decorate([p.CS],A.prototype,"oF",null);A=d.__decorate([n.O()],A);b.uza=A;},function(d,b,a){var c,g,l,m,f,k,n,p,r,t;Object.defineProperty(b,"__esModule",{value:!0});b.Cf=void 0;d=a(1);c=a(521);g=a(1181);l=a(524);m=a(1187);f=a(185);k=a(1188);n=a(1189);p=a(148);r=a(523);t=a(1190);b.Cf=new d.Tc(function(a){a(c.sba).to(g.JCa).Z();a(l.vba).to(m.TCa).Z();a(f.pO).to(k.ICa).Z();a(p.BH).to(n.HCa).Z();a(r.tba).to(t.NCa).Z();});},function(d,b,a){var g,l,m,f,k,n,p,r,t;function c(a,b,c,d,f,g,h){this.Af=a;this.jja=b;this.xi=c;this.PL=d;this.Bta=f;this.fMb=g;this.NE=h;}Object.defineProperty(b,"__esModule",{value:!0});b.JCa=void 0;d=a(0);g=a(1);l=a(1182);m=a(6);f=a(148);k=a(336);n=a(523);p=a(185);r=a(343);a=a(90);c.prototype.create=function(a){return new l.KCa(a,this.Af,this.jja,this.PL,this.xi,this.Bta,this.fMb,this.NE);};t=c;t=d.__decorate([g.O(),d.__param(0,g.l(m.zb)),d.__param(1,g.l(k.XG)),d.__param(2,g.l(f.BH)),d.__param(3,g.l(p.pO)),d.__param(4,g.l(r.mca)),d.__param(5,g.l(n.tba)),d.__param(6,g.l(a.Kv))],t);b.JCa=t;},function(d,b,a){var g,l,m,f,k,n;function c(a,b,c,d,g,h,l,p){this.PL=d;this.Bta=h;this.vR=!1;this.jy=p.cA();g.G7 && (a=new k.LCa().sVb(a));this.Lc=new f.SCa(a);this.Sl=new m.UCa(this.Lc);this.Sl.a1a(this.Lc.ia.fa);this.log=b.wb("PlaygraphManager");a=new n.OCa(g,this,this.Sl);this.Jb=c.create();this.gy=l.create(this.jy,this.Lc,this.Sl,this.log,a,this.Jb);this.dSb();}Object.defineProperty(b,"__esModule",{value:!0});b.KCa=void 0;g=a(13);l=a(282);m=a(1183);f=a(1184);k=a(1185);n=a(1186);c.prototype.Ozb=function(){return this.jy;};c.prototype.V1=function(){return this.Lc.ia;};c.prototype.pQa=function(){return this.Lc.Tg;};c.prototype.Pzb=function(){return this.Lc.Pk;};c.prototype.Xn=function(a){for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}this.Lc.Xn.apply(this.Lc,[].concat(X(b)));};c.prototype.Hnb=function(a){for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}this.Lc.SJa(b);};c.prototype.k4a=function(a){this.Lc.Pk=a;};c.prototype.Ii=function(a,b){this.Lc.Ii(a,b);};c.prototype.wla=function(a,b,c){if(a !== this.Lc.Tg)throw Error("Invalid currentSegmentId");if(b !== this.Lc.EE(a))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + a + " -> " + b);return this.gy.hSa(b,c);};c.prototype.isReady=function(){return this.gy.isReady();};c.prototype.addListener=function(a,b,c){this.Jb.addListener(a,b,c);};c.prototype.removeListener=function(a,b){this.Jb.removeListener(a,b);};c.prototype.hp=function(){return this.gy.hp();};c.prototype.oi=function(){return this.gy.oi();};c.prototype.gq=function(a){var b,c;b=this;this.log.info("Adding segment - movieId: " + a.u + ", startPts: " + a.X + ", logicalEnd: " + ("" + a.Nj));null !== (c=a.gb) && void 0 !== c && c.Kj || a.id || (a.id=this.PL.CR(a.u));if(!this.vR)return (c=this.gy.OT(a),this.oi().Cu().addEventListener(g.V.VF,function(a){return b.lB(a);}),this.vR=!0,c);if(c=Object.keys(this.Lc.Pk.Ja).find(function(c){return b.Lc.Pk.Ja[c].fa === a.u;}))return (a.Nj && this.Lc.tWb(c,a.Nj),null);this.Sl.Bjb(a.u,Object.assign({},a.gb,a.X?{X:a.X}:{},a.Nj?{Nj:a.Nj}:{}));this.Lc.Pk=this.PL.jkb(this.Lc.Pk,a);this.oi().Cu().fq("addSegment movieId: " + a.u + ", startPts: " + a.X + ", logicalEnd: " + a.Nj);return this.gy.OT(a);};c.prototype.transition=function(a){var b;b=this.Lc.EE(this.Lc.Tg);return b?this.wla(this.Lc.Tg,b,a):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(a){return this.gy.close(a);};c.prototype.vm=function(a){if(this.Sl.tK(a).state == l.Tp.h9)return this.oi().Cu().vm(a);};c.prototype.dSb=function(){var a;a=this;this.Lc.UTb(function(){a.Sl.vT();a.gy.vT();});this.Lc.VTb(function(b){a.gy.Bpa(b);});this.addListener(g.KC.vU,function(){return a.hKb();});};c.prototype.hKb=function(){var a;a=this.oi().getError();a?this.Jb.ec(g.Vb.tga,a):(this.Jb.ec(g.Vb.aKa),this.Jb.ec(g.Vb.iQ),this.Jb.ec(g.Vb.uG),this.Jb.ec(g.Vb.UM),this.Jb.ec(g.Vb.rV),this.Jb.ec(g.Vb.tga));};c.prototype.lB=function(a){var b,c,d;!1;b=a.metrics;if(b){c=this.oi().Cu();d=c.Du(a.segmentId);b=c.Du(b.srcsegment);this.Bta.nNb(a,d,b);}};b.KCa=c;},function(d,b,a){var g;function c(a){this.cb=a;this.gN={};this.vT();}Object.defineProperty(b,"__esModule",{value:!0});b.UCa=void 0;g=a(282);c.prototype.vT=function(){var a;a=this;Object.values(this.cb.Pk.Ja).forEach(function(b){b=b.fa;a.gN[b] || a.qTa(b);});this.y7();};c.prototype.tK=function(a){return this.gN[a];};c.prototype.vRb=function(a){this.i2(a).state=g.Tp.Sxa;this.y7();};c.prototype.uRb=function(a,b){a=this.i2(a);a.state=g.Tp.Error;a.error=b;a.X_a(!1);this.y7();};c.prototype.a1a=function(a){a=this.i2(a);a.state=g.Tp.h9;a.X_a(!0);this.y7();};c.prototype.Bjb=function(a,b){this.i2(a).gb=b;};c.prototype.i2=function(a){var b;return null !== (b=this.tK(a)) && void 0 !== b?b:this.qTa(a);};c.prototype.qTa=function(a){var b,c;b=void 0;c=new Promise(function(a,c){b=function(b){(b?a:c)();};});return this.gN[a]={state:g.Tp.aBa,WNb:c,X_a:b};};c.prototype.y7=function(){var b;this.LWa=void 0;for(var a=this.cb.Tg;a=this.cb.EE(a);){b=this.ms(a);if(this.gN[b].state === g.Tp.Error)break;if(this.gN[b].state === g.Tp.Sxa)break;if(this.gN[b].state === g.Tp.aBa){this.LWa={fa:b,va:a};break;}}};c.prototype.ms=function(a){return this.cb.Pk.Ja[a].fa;};b.UCa=c;},function(d,b,a){var g;function c(a){this.uZ={};this.Jsa={};this.f4a=[];this.L1a=[];this.Pk=a;this.Tg=a.hf;}Object.defineProperty(b,"__esModule",{value:!0});b.SCa=void 0;g=a(149);c.prototype.Xn=function(a){var d;for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}d=this;b.filter(function(a){return d.uU(a.va);}).filter(function(a){a=a.oT;return !a || d.uU(a);}).forEach(function(a){d.uZ[a.va]=d.mpa(a.oT);});};c.prototype.SJa=function(a){var b;b=this;a.filter(function(a){return b.uU(a);}).forEach(function(a){b.uZ[a]=b.mpa(b.wf(a).zh);});};c.prototype.Ii=function(a,b){var c,d,h;c=this.wf(a);if(c && c.next){d=new g.AH(this.Pk);h=Object.keys(c.next).reduce(function(a,d){a[d]=void 0 === b[d]?c.next[d]:Object.assign({},c.next[d],{weight:b[d]});return a;},{});h=Object.assign({},c,{next:h});d.gq(a,h);this.Pk=d.Cj();}};c.prototype.uU=function(a,b){b=void 0 === b?this.Pk.Ja:b;return (a in b);};c.prototype.EE=function(a){return this.uZ[a];};c.prototype.wf=function(a){return this.Pk.Ja[a];};c.prototype.FRa=function(a){return void 0 === this.Jsa[a]?this.mpa(this.wf(a).Ad):this.Jsa[a];};c.prototype.tWb=function(a,b){this.Jsa[a]=b;this.aJb(a);};c.prototype.UTb=function(a){this.f4a.push(a);};c.prototype.VTb=function(a){this.L1a.push(a);};c.prototype.cJb=function(){var a;a=this;this.f4a.forEach(function(b){return b(a.Pk);});};c.prototype.aJb=function(a){this.L1a.forEach(function(b){return b(a);});};c.prototype.mpa=function(a){return null === a?void 0:a;};ma.Object.defineProperties(c.prototype,{Pk:{configurable:!0,enumerable:!0,get:function(){return this.mhb;},set:function(a){if(this.Tg && !this.uU(this.Tg,a.Ja))throw Error("Provided playgraphMap does not contain the current segmentId " + this.Tg);this.mhb=a;this.uZ={};a=Object.keys(a.Ja);this.SJa(a);this.cJb();}},Tg:{configurable:!0,enumerable:!0,get:function(){return this.reb;},set:function(a){if(!this.uU(a))throw Error("Provided currentSegmentId " + a + " does not exist in the current playgraph");this.reb=a;}},ia:{configurable:!0,enumerable:!0,get:function(){return this.wf(this.Tg);}}});b.SCa=c;},function(d,b,a){var g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LCa=void 0;g=a(149);c.prototype.sVb=function(a){var b;if(!this.ZDb(a.Ja))return a;b=new g.AH().DU(a.hf);Object.entries(a.Ja).forEach(function(c){var d;d=N(c);c=d.next().value;d=d.next().value;c === a.hf?b.gq(c,Object.assign(Object.assign({},d),{next:void 0,Ad:void 0,zh:void 0})):b.gq(c,d);});return b.Cj();};c.prototype.ZDb=function(a){a=Object.values(a).map(function(a){return a.fa;});return 1 === new Set(a).size;};b.LCa=c;},function(d,b,a){var g,l;function c(a,b,c){this.xi=a;this.Cf=b;this.Sl=c;}Object.defineProperty(b,"__esModule",{value:!0});b.OCa=void 0;g=a(4);l=a(522);c.prototype.tSb=function(){var a,b,c,d,h;a=this.Sl.LWa;if(!a)return {result:l.Sp.gO};b=this.Cf.Lc;if(b.Tg === a.va)return {result:l.Sp.Eca,W4a:a};c=this.gAb(b,b.Tg,a.va);if(!c)return {result:l.Sp.gO};d=c.duration;if(c.iA >= this.xi.gZa)return {result:l.Sp.gO};c=this.AQa(b.Tg);if(!c)return {result:l.Sp.gO};b=this.Cf.oi().U1() || 0;c=Math.max(0,c - b);d=c + d;h=this.xi.fZa.ca(g.ga);if(d <= h)return {result:l.Sp.Eca,W4a:a};a=d - h;return c < a?{result:l.Sp.gO}:{result:l.Sp.pza,Wh:b + a};};c.prototype.gAb=function(a,b,c){var g,h,f;b=a.EE(b);for(var d=0,f=0;b !== c && void 0 !== b;){d++;g=a.wf(b);h=this.AQa(b) || Infinity;f=f + (h - g.tc);b=a.EE(b);}return b?{iA:d,duration:f}:void 0;};c.prototype.AQa=function(a){var b,c;b=this.Cf.Lc;c=b.FRa(a);if(void 0 !== c)return c;a=b.wf(a);if(a=this.Cf.vm(a.fa))return a.Qr.ca(g.ga);};b.OCa=c;},function(d,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.TCa=void 0;d=a(0);g=a(1);c.prototype.create=function(b,c){return new (a(525).mFa)(b,c);};l=c;l=d.__decorate([g.O()],l);b.TCa=l;},function(d,b,a){var g,l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.ICa=void 0;d=a(0);g=a(1);l=a(149);c.prototype.drb=function(a){var d,g,h;for(var b=[],c=0;c < arguments.length;++c){b[c - 0]=arguments[c];}d=this;if(0 === b.length)throw Error("Empty playgraph");g=new l.AH().DU(this.CR(b[0]));b.reverse().forEach(function(a){var b;b=d.CR(a);g.gq(b,Object.assign({fa:a,tc:0},h?{zh:h}:{}));h=b;});return g.Cj();};c.prototype.CR=function(a,b){return a + ":[startPts:" + (void 0 === b?0:b) + "]";};c.prototype.jkb=function(a,b){var c,d,f,g;void 0 === c && (c=null !== (f=b.id) && void 0 !== f?f:this.CR(b.u,b.X));void 0 === d && (d="pauseAtStart");f=this.Yyb(a);g=new l.AH(a);g.gq(c,{fa:b.u,tc:b.X || 0,od:d});a=a.Ja[f];b={};g.gq(f,Object.assign({},a,{zh:c,next:Object.assign({},a.next || ({}),(b[c]={},b))}));return g.Cj();};c.prototype.Yyb=function(a){for(var b=a.hf,c=b;c=a.Ja[c].zh;){b=c;}return b;};a=c;a=d.__decorate([g.O()],a);b.ICa=a;},function(d,b,a){var g,l,m,f,k;function c(a){return l.Te.call(this,a,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.HCa=void 0;d=a(0);g=a(1);l=a(44);m=a(32);f=a(43);k=a(4);L(c,l.Te);ma.Object.defineProperties(c.prototype,{gZa:{configurable:!0,enumerable:!0,get:function(){return 2;}},fZa:{configurable:!0,enumerable:!0,get:function(){return k.D4(3);}},F7:{configurable:!0,enumerable:!0,get:function(){return !1;}},G7:{configurable:!0,enumerable:!0,get:function(){return !1;}},F4a:{configurable:!0,enumerable:!0,get:function(){return !0;}},CPa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;d.__decorate([f.config(f.Iy,"prepareSegmentsUpfront")],a.prototype,"gZa",null);d.__decorate([f.config(f.ai,"prepareSegmentsDuration")],a.prototype,"fZa",null);d.__decorate([f.config(f.Gc,"usePlaygraphForPostPlay")],a.prototype,"F7",null);d.__decorate([f.config(f.Gc,"usePlaygraphForSkipSegment")],a.prototype,"G7",null);d.__decorate([f.config(f.Gc,"useSinglePlayerPlayback")],a.prototype,"F4a",null);d.__decorate([f.config(f.Gc,"forcePlaygraphTrace")],a.prototype,"CPa",null);a=d.__decorate([g.O(),d.__param(0,g.l(m.ek))],a);b.HCa=a;},function(d,b,a){var g,l,m,f,k,n,p,r,t,B,A;function c(a,b,c,d,f,g,h,k){this.za=a;this.lj=b;this.JQb=d;this.xi=g;this.gB=h;this.Nn=k;this.IQb=c.vA(!1,"6.0029.151.011",a.id,k,f);}Object.defineProperty(b,"__esModule",{value:!0});b.NCa=void 0;d=a(0);g=a(1);l=a(116);m=a(19);f=a(148);k=a(1191);n=a(340);p=a(210);r=a(14);t=a(526);B=a(209);a=a(33);c.prototype.create=function(a,b,c,d,f,g){var h;a=this.JQb.Rqb(a,this.IQb);h=this.xi.F7 || this.xi.F4a && 1 < Object.keys(b.Pk.Ja).length;d.debug("Using " + (h?"single":"multiple") + " player playback strategy");return h?new k.jEa(this.xi,b,c,d,this.lj,this.za,f,this.gB,a,g):new t.dO(b,c,a,g);};A=c;A=d.__decorate([g.O(),d.__param(0,g.l(m.Fd)),d.__param(1,g.l(l.JC)),d.__param(2,g.l(n.Uba)),d.__param(3,g.l(p.iY)),d.__param(4,g.l(r.Sc)),d.__param(5,g.l(f.BH)),d.__param(6,g.l(B.uX)),d.__param(7,g.l(a.yH))],A);b.NCa=A;},function(d,b,a){var g,l,m,f,k,n,p;function c(a,b,c,d,f,g,h,l,n,p){var q;q=k.dO.call(this,b,c,n,p) || this;q.xi=a;q.la=d;q.lj=f;q.za=g;q.gMb=h;q.vR=!1;q.uqa=Promise.resolve();q.oWa=l.Fha({Uka:function(){return m.Nb(100);}},function(){return q.oi().U1() || 0;});return q;}Object.defineProperty(b,"__esModule",{value:!0});b.jEa=void 0;g=a(13);l=a(282);m=a(4);f=a(2);k=a(526);n=a(522);p=a(118);L(c,k.dO);c.prototype.vT=function(){this.uB();};c.prototype.Bpa=function(){};c.prototype.hSa=function(a,b){var c,d,h,k;c=this.Lc.wf(a);if(this.xi.G7 && this.Lc.ia.fa === c.fa)return Promise.resolve(this.oi().seek(c.tc,g.zd.Tv,void 0));d=this.Sl.tK(c.fa);b=p.Doa(d.gb,b);h=this.oi().Cu();if(d.state !== l.Tp.h9)return (d=d.state === l.Tp.Error?d.error:this.lj(f.L.hbb,{Ab:a}),h.bBb({fa:c.fa,va:a,Wa:b},d),h.fq("Transition " + this.Lc.Tg + "->" + a + " error " + d.mE),Promise.reject());c=h.Ga;if(null === c || void 0 === c || !c.Wg())throw (this.la.debug("No streaming session. Aborting transition"),Error("No streaming session"));this.la.debug("going to next segment: " + this.Lc.Tg + " -> " + a);h.fq("Transition " + this.Lc.Tg + "->" + a);k=h.Du(a);k.Ol=this.za.Bb().ca(m.ga);k.Wa=b;return (void 0 !== c.CE(a)?this.cBb(a,k.u):this.sU(a,k.u)).then(function(){h.DPa(k.u);});};c.prototype.sU=function(a,b){var c;c=this.Lc.Pk.Ja[a].tc;this.la.debug("Segment is not pre-buffered - performing a regular seek");this.oi().Cu().fq("NO DATA " + a + ", SEEKING " + c + ", viewableId: " + b);return Promise.resolve(this.oi().seek(c,g.zd.Tv,a,!0));};c.prototype.cBb=function(a,b){var c,d,f,h,k;c=this;d=this.oi().Cu();f=d.Ga;if(null === f || void 0 === f || !f.Wg())throw Error("No streaming session");h=new Promise(function(a){function b(){c.la.debug("Stopped ASE");f.removeEventListener("stop",b);a();}f.addEventListener("stop",b);});k=new Promise(function(a){function b(){c.la.debug("Repositioned");d.removeEventListener(g.V.Fl,b);a();}function h(){c.la.debug("Repositioning");d.removeEventListener(g.V.NF,h);f.stop();}d.addEventListener(g.V.NF,h);d.addEventListener(g.V.Fl,b);});h=Promise.all([h,k]).then(function(){if(!f.qn(a,!1,!0))return (d.fq("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),c.sU(a,b));});k=f.$w(void 0,this.Lc.Pk.Ja[a].tc,a);this.la.debug("Calling seek on internal player to " + k);this.oi().seek(k,g.zd.NC,a,!0);return h;};c.prototype.OT=function(a){if(!this.vR)return (this.vR=!0,k.dO.prototype.OT.call(this,a));this.uB();this.uqa=this.oi().Cu().Ob.when(function(a){return a !== g.ub.$f;}).then(function(){});return this.Sl.tK(a.u).WNb;};c.prototype.uB=function(){var a,b;a=this;if(this.isReady()){this.oWa.cancel();b=this.gMb.tSb();b.result === n.Sp.pza?this.oWa.observe(b.Wh,function(){a.uB();}):b.result === n.Sp.Eca && this.OMb(b.W4a);}};c.prototype.OMb=function(a){var c,d,f,h,k,l,m;function b(a){a.u === k && (c.Lc.Tg=d,c.uB(),h.removeEventListener(g.V.Jq,b),c.Jb.ec(g.KC.vU));}c=this;d=a.va;f=this.Lc.wf(d);h=this.oi().Cu();a=Object.assign(this.Sl.tK(a.fa).gb || ({}),{X:f.tc,sa:f.Ad,Kj:!1,w7:Date.now(),x3:!0});k=h.ifa({fa:f.fa,va:d,Wa:a});l=h.vm(k);this.la.debug("Creating new playback xid: " + l.ea + ", movieId: " + l.u);h.addEventListener(g.V.Jq,b);m="pauseAtStart" !== f.od;this.Sl.vRb(f.fa);h.fq("queueManifest",l.va);this.uqa=a=this.uqa.then(function(){return h.FNb(k,m);}).then(function(){h.fq("queueManifest done",l.va);c.Sl.a1a(f.fa);h.BMb(l);})["catch"](function(a){h.fq("queueManifest error " + a.mE,l.va);c.Sl.uRb(f.fa,a);throw a;});a.then(function(){return c.uB();});};b.jEa=c;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.VJa=void 0;d=a(1);c=a(1193);g=a(29);b.VJa=new d.Tc(function(a){a(g.qg).to(c.lva).Z();});},function(d,b,a){var g,l,m,f,k,n,p,r,t,B,A,y,I;function c(a,b,c,d,f,g){var h;h=this;this.Wj=a;this.config=c;this.Jm=d;this.debug=f;this.za=g;this.p3a=[];this.Md={};this.log=b.wb("loadAsync");this.iGb=A.Xxa(function(a){h.GOb=!0;h.startTime=h.za.Bb().ca(t.ga);h.load(h.p3a).then(function(){h.endTime=h.za.Bb().ca(t.ga);a(I.ke);})["catch"](function(b){h.endTime=h.za.Bb().ca(t.ga);a(b);});});}Object.defineProperty(b,"__esModule",{value:!0});b.lva=void 0;d=a(0);g=a(65);l=a(2);m=a(1194);f=a(78);k=a(1);n=a(6);p=a(14);r=a(62);t=a(4);B=a(88);A=a(527);y=a(19);I=a(11);c.prototype.IS=function(a){this.iGb(a);};c.prototype.register=function(a,b){this.debug.assert(!this.GOb);this.p3a.push({BFb:this.Dmb(b),errorCode:a});};c.prototype.vd=function(a){this.debug.assert(void 0 === this.Md[a]);this.Md[a]=this.za.Bb().ca(t.ga);};c.prototype.load=function(a){var b;b=this;return m.lZa(a).then(function(a){b.Wj.mark(f.Gv.Qi.K5a);return a.reduce(function(a,c){return a.then(function(){return b.xFb(c);});},Promise.resolve()).then(function(){b.Wj.mark(f.Gv.Qi.I5a);});});};c.prototype.xFb=function(a){var b,c;b=this;c=a.BFb;!1;return this.Jm.Dp(t.Nb(this.config().Lkb),c())["catch"](function(c){b.log.error("Failed to load component " + a.errorCode,c);b.Wj.mark(f.Gv.Qi.J5a);if(c instanceof r.ro)throw {ka:l.K.H5a,errorCode:a.errorCode};c.errorCode=c.errorCode || a.errorCode;c.ka=c.ka || l.K.G5a;throw c;});};c.prototype.Dmb=function(a){return function(){return new Promise(function(b,c){a(function(a){a.ja?b():c(a);});});};};a=c;a=d.__decorate([k.O(),d.__param(0,k.l(g.ez)),d.__param(1,k.l(n.zb)),d.__param(2,k.l(p.Sc)),d.__param(3,k.l(r.az)),d.__param(4,k.l(B.xt)),d.__param(5,k.l(y.Fd))],a);b.lva=a;},function(d,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});b.lZa=void 0;c=a(2);g=[c.L.S9a,c.L.Mya,c.L.Kya,c.L.Lya,c.L.Qya,c.L.Hya,c.L.Fya,c.L.h$,c.L.Rya,c.L.Iya,c.L.P9a,c.L.Q9a,c.L.Gya,c.L.Ty,c.L.Cya,c.L.Eya,c.L.Nya,c.L.Oya,c.L.Pya,c.L.T9a,c.L.V9a,c.L.Z9a,c.L.X9a,c.L.W9a,c.L.U9a,c.L.Y9a,c.L.a$a,c.L.Jya,c.L.$9a,c.L.Dya];(function(a){a.Cab=function(a){var f;for(var b={},d=0;d < a.length;d++){f=a[d];if(b[f.errorCode])return {errorCode:f.errorCode,ka:c.K.E5a};b[f.errorCode]=1;}};a.Dab=function(a){var d;for(var b=0;b < a.length;b++){d=a[b];if(-1 === g.indexOf(d.errorCode))return {errorCode:d.errorCode,ka:c.K.F5a};}};})(l || (l={}));b.lZa=function(a){return new Promise(function(b,c){var d;d=l.Dab(a);d && c(d);(d=l.Cab(a)) && c(d);b(a.sort(function(a,b){return g.indexOf(a.errorCode) - g.indexOf(b.errorCode);}));});};},function(d,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.wJa=void 0;c=a(1196);g=a(114);d=a(1);l=a(87);m=a(14);b.wJa=new d.Tc(function(a){a(g.$B).to(c.Jua).Z();});b.profile=new d.Tc(function(a){a(l.DH).QB(function(a){return (a=a.ob.get(m.Sc)()) && a.qu?"browsertest":"browser";});});},function(d,b,a){var g,l,m,f,k,n;function c(a,b,c,d){a=f.Te.call(this,a,void 0 === d?"AppInfoConfigImpl":d) || this;a.config=b;a.s7=c;return a;}Object.defineProperty(b,"__esModule",{value:!0});b.Jua=void 0;d=a(0);g=a(1);l=a(36);m=a(43);f=a(44);k=a(32);a=a(218);L(c,f.Te);c.prototype.yzb=function(a){return "" + this.JOa + (this.s7.I6(a)?"/msl_v1":"");};c.prototype.Izb=function(a){return "" + this.host + (this.s7.I6(a)?"/msl":"") + "/playapi";};ma.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},JOa:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.XJ){case l.Hv.Ccb:a="www.stage";break;case l.Hv.JEa:a="www-qa.test";break;case l.Hv.eza:a="www-int.test";break;default:a="www";}return "https://" + a + ".netflix.com";}},wKa:{configurable:!0,enumerable:!0,get:function(){return "pbo_manifests";}}});n=c;d.__decorate([m.config(m.string,"apiEndpoint")],n.prototype,"endpoint",null);d.__decorate([m.config(m.string,"nqEndpoint")],n.prototype,"JOa",null);d.__decorate([m.config(m.string,"bindService")],n.prototype,"wKa",null);n=d.__decorate([g.O(),d.__param(0,g.l(k.ek)),d.__param(1,g.l(l.Ul)),d.__param(2,g.l(a.zO)),d.__param(3,g.l(k.jC)),d.__param(3,g.optional())],n);b.Jua=n;},function(d,b,a){var k,n,p;function c(a){var b,c,f;b=0;this.Ha.info("show subtitle called at " + this.oz() + " for displayTime " + a.displayTime);this.emit("showsubtitle",a);c=this.qz[this.qz.length - 1];c.xM || (c.xM={});if("dfxp-ls-sdh" === this.qea)for(var d=0;d < a.Hlb.length;d++){f=a.Hlb[d];c.xM[f.id] || (b++,c.xM[f.id]=!0);}else c.xM[a.id] || (b++,c.xM[a.id]=!0);c.JU+=b;}function g(a){this.Ha.info("remove subtitle called at " + this.oz() + " for remove time " + (a.displayTime + a.duration));this.emit("removesubtitle",a);}function l(){this.Ha.info("underflow fired by the subtitle timer");this.emit("underflow");}function m(){this.Ha.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}function f(a){var b;this.Ha.info("ending subtitle interval at " + a);b=this.qz[this.qz.length - 1];b.sa=a;b.sa < b.X && (this.Ha.warn("correcting for interval where endPts is smaller than startPts"),b.X=0 < b.sa?b.sa - 1:0);b.k1=this.Yc.r2(b.X,b.sa);delete b.xM;b.k1 > b.JU && b.ona && 500 > b.sa - b.ona && (b.k1=this.Yc.r2(b.X,b.ona));this.Ha.info("showed " + b.JU + " during this interval");this.Ha.info("expected " + b.k1 + " for this interval");}k=a(140).EventEmitter;n=a(1198);b=a(528)();p=a(1199);a=function u(a,b){var d,f;d=this;f=a.zm || !1;if(!(d instanceof u))return new u(a,b);k.call(d);d.Ha=a.la || console;d.CP=a.request;d.oz=a.wRa;d.li=null;d.ik=!0;d.qz=[];d.qea=b.profile;d.em=b.url;d.rD=b.jd;d.nhb=b.yMb;d.veb=b.vn;d.uI=d.rD || 0;a={url:d.em,request:d.CP,jd:d.rD,xml:b.xml,yMb:d.nhb,vn:d.veb,la:d.Ha,zm:f,bufferSize:b.bufferSize,Es:b.Es,yZa:b.yZa || 0,JKa:b.JKa};if("nflx-cmisc" === d.qea)(a.offset=b.Goa,a.size=b.cWa,a.q6=b.q6,a.oOa=b.oOa,d.Yc=new p(a));else throw Error("SubtitleManager: " + d.qea + " is an unsupported profile");d.Yc.on("ready",function(){var a,f;a=! !b.ilb;d.Ha.info("ready event fired by subtitle stream");d.emit("ready");f=d.Yc.Uxb.bind(d.Yc);d.li=new n(d.oz,f,d.Ha,b);d.li.on("showsubtitle",c.bind(d));d.li.on("removesubtitle",g.bind(d));d.li.on("underflow",l.bind(d));d.li.on("bufferingComplete",m.bind(d));a && (d.Ha.info("autostarting subtitles"),setTimeout(function(){d.jt(d.oz());},10));});d.Yc.on("error",d.emit.bind(d,"error"));};a.prototype=Object.create(k.prototype);a.prototype.start=function(){this.Yc.start();};a.prototype.zZa=function(){this.ik || (this.ik=!0,f.call(this,this.uI));};a.prototype.jt=function(a){!this.ik && 1E4 < Math.abs(a - this.uI) && (this.Ha.warn("Detected an unexpected pts jump larger than",1E4,"at",a,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.zZa());this.uI=a;this.ik && (this.ik=!1,this.Ha.info("creating a new subtitle interval at " + a),this.qz.push({X:a,JU:0}));null !== this.li && (this.qz[this.qz.length - 1].ona=a,this.li.jt(a));};a.prototype.stop=function(){var a;this.Ha.info("stop called");this.ik || this.pause();this.Yc.removeAllListeners(["ready"]);null !== this.li && this.li.stop();a=this.qz.reduce(function(a,b){a.F1a+=b.JU;a.j1+=b.k1;a.aDb.push(b);return a;},{F1a:0,j1:0,aDb:[]});"object" === typeof this.Yc && this.Yc.close();this.Ha.info("metrics: " + JSON.stringify(a));return a;};a.prototype.pause=function(){var a;a=this.oz();this.ik?this.Ha.warn("pause called on subtitle manager, but it was already paused!"):(this.Ha.info("pause called at " + a),this.ik=!0,f.call(this,a));null !== this.li && this.li.pause();};a.prototype.BA=function(a,b){return this.Yc.BA(a,b);};a.prototype.r2=function(a,b){return this.Yc.r2(a,b);};a.prototype.FB=function(a){var c;function b(){c.Ha.trace("bufferingComplete from setStreamStartPosition");c.emit("bufferingComplete");}c=this;"function" === typeof c.Yc.FB?c.Yc.FB(a,b):b();};a.prototype.Xn=function(a,b){this.Yc.Xn && this.Yc.Xn(a,b);};a.prototype.Ii=function(a,b){this.Yc.Ii && this.Yc.Ii(a,b);};a=b([{request:"function",wRa:"function",la:"object"},"object"],a);d.exports=a;},function(d,b,a){var l;function c(a,b){return b.reduce(g.bind(this,a),[]);}function g(a,b,c){var d,f;d=c.displayTime - a;a=c.displayTime + c.duration - a;f=0 < b.length?b[0].timeout:Infinity;return 0 < d && d < f?[{timeout:d,type:"showsubtitle",Ne:c}]:d === f?b.concat([{timeout:d,type:"showsubtitle",Ne:c}]):0 < a && a < f?[{timeout:a,type:"removesubtitle",Ne:c}]:a === f?b.concat([{timeout:a,type:"removesubtitle",Ne:c}]):b;}l=a(140).EventEmitter;b=a(528)({});a=function f(a,b,c,d){if(!(this instanceof f))return new f(a,b,c,d);l.call(this);this.oz=a;this.ifb=b;this.uw={};this.LI={};this.Ha=c || console;this.EY=!1;this.xhb=d && d.yZa || 0;};a.prototype=Object.create(l.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.li);Object.keys(a.uw).forEach(function(b){a.emit("removesubtitle",a.uw[b]);});a.uw={};};a.prototype.pause=function(){clearTimeout(this.li);};a.prototype.jt=function(a,b){var d,f;d=this;f=d.oz();clearTimeout(this.li);a=d.ifb(f);null !== a && d.EY && (d.EY=!1,d.emit("bufferingComplete"));b="number" === typeof b?b:0;Object.keys(d.uw).forEach(function(a){a=d.uw[a];a.displayTime - d.xhb <= f && f < a.displayTime + a.duration || (delete d.uw[a.id],d.emit("removesubtitle",a));});Object.keys(d.LI).forEach(function(a){a=d.LI[a];f >= a.displayTime + a.duration && delete d.LI[a.id];});null !== a && 0 < a.length?(b=a.length,d.Ha.info("found " + b + " entries for pts " + f),a.forEach(function(a){a.displayTime - 0 <= f && f < a.displayTime + a.duration && !d.uw[a.id] && (d.emit("showsubtitle",a),d.uw[a.id]=a,delete d.LI[a.id]);}),b=a[a.length - 1],d.uw[b.id] || d.LI[b.id] || (d.emit("stagesubtitle",b),d.LI[b.id]=b),b=c(f,a),0 < b.length?d.HZ(b[0].timeout):d.HZ(2E4)):null === a?(a=250 * Math.pow(2,b),2E3 < a && (a=2E3),d.Ha.warn("checking buffer again in " + a + "ms"),d.EY || (d.EY=!0,d.emit("underflow")),d.HZ(a,b + 1)):d.HZ(2E4);};a.prototype.HZ=function(a,b){var c;c=this;c.Ha.info("Scheduling pts check.");c.li=setTimeout(function(){c.jt(c.oz(),b);},a);};d.exports=b(["function","function","object","object"],a);},function(d,b,a){var g,l,m,f,k,n,p;function c(a){g.call(this);this.em=a.url;this.CP=a.request;this.rD=a.jd || 0;this.Ha=a.la;this.Sh=this.Yp=null;a.Es?this.Yp=a.Es:(this.me=a.offset,this.KI=a.size);this.il;this.jea=a;}g=a(140).EventEmitter;l=a(1200);m=a(1201);f=a(1202);k=a(153);n=c.events={U$a:"midxready",kcb:"sidxready",Rbb:"ready",ERROR:"error"};p=c.K5b={S$a:"midxdownloaderror",T$a:"midxparseerror",uab:"nosidxfoundinmidx",icb:"sidxdownloaderror",jcb:"sidxparseerror"};c.prototype=Object.create(g.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{xo:{get:function(){return this.il && this.il.Tha;}}});c.prototype.start=function(){this.Yp?(this.Ha.warn("midx was prefectched and provided"),this.rGa(this.Yp)):this.zeb(this.me,this.KI,this.shb.bind(this));};c.prototype.close=function(){};c.prototype.BA=function(a,b){return this.il && this.il.kla(a,b);};c.prototype.r2=function(a,b){return (a=this.BA(a,b))?a.length:a;};c.prototype.FB=function(a,b){this.Ha.debug("setStreamStartPosition: buffering subtitles at pts " + a);this.rD=a;this.il?this.il.FB(a,b):b && b();};c.prototype.Uxb=function(a){var b,c,d;if(!this.il)return [];b=k.Byb(this.Yp);if(a > b)return [];this.il && this.il.Dia(a);c=this.xo.Zs;d=this.xo.index;b=[];d=k.ic(d) && this.Sh[d + 1];if(!(d && d.entries.length || c && !(a > c.endTime)))return [];c && c.images.length && (b=this.DGa(c,a,[]));2 > b.length && d && d.images.length && (c=this.DGa(d,a,b),b.push.apply(b,c));return this.il.Bsa(a)?null:k.kMa(b);};c.prototype.Ii=function(a,b){this.il && this.il.Ii(a,b);};c.prototype.Xn=function(a,b){this.il && this.il.Xn(a,b);};c.prototype.zeb=function(a,b,c){this.Ha.debug("downloading midx...");this.TGa(a,b,"binary",c);};c.prototype.Aeb=function(a,b,c){this.Ha.debug("downloading sidx...");this.TGa(a,b,void 0,c);};c.prototype.TGa=function(a,b,c,d){this.CP({url:this.em,offset:a,size:b,responseType:c},d);};c.prototype.shb=function(a,b){if(a)this.emit(n.ERROR,k.MR(a,p.S$a));else try{this.Yp=new l(b);this.rGa(this.Yp);}catch(B){this.emit(n.ERROR,k.MR(B,p.T$a));}};c.prototype.rGa=function(a){var b;b=a.entries.reduce(function(a,b){return a + b.size;},0);b?(this.emit(n.U$a,a),this.Aeb(a.startOffset,b,this.vhb.bind(this,a))):this.emit(n.ERROR,k.MR({},p.uab));};c.prototype.vhb=function(a,b,c){var d,g,h,l;d=this;if(b)d.emit(n.ERROR,k.MR(b,p.icb));else {g=0;h=0;d.Sh=[];try{l=0;a.entries.forEach(function(b){var f;f=new m(c,g,a.uma,d.Ha,h,h + b.duration,l);d.Sh.push(f);b.HSb=f;h=f.Ap;g+=b.size;l++;});}catch(D){d.emit(n.ERROR,k.MR(D,p.jcb));return;}d.emit(n.kcb,d.Sh);this.il=new f(d.jea,a,d.Sh);b=d.rD;d.jea && d.jea.q6 || (b=Math.max(d.rD - 1E4,0));this.il.Dia(b,function(a){a && d.Ha.error("initial sidx download failed");d.emit(n.Rbb);});}};c.prototype.DGa=function(a,b,c){var n;for(var d=a.entries,f=0,g=d.length,h=[],l,m=this.Yp;f < g;){l=d[f];if(l.qm <= b)l.qm + l.duration >= b && h.push(k.Kha(l,a.images[f].data,m));else {n=h.length && h[h.length - 1] || c.length && c[c.length - 1];if(n && n.qm > b && n.qm !== l.qm)break;n.OE !== l.OE && h.push(k.Kha(l,a.images[f].data,m));}f++;}return h;};d.exports=c;},function(d,b,a){var g,l;function c(a,b){this.duration=a;this.size=b;this.HSb=void 0;}g=a(283);l=a(153);d.exports=function(a){var m;a=new g(a);this.identifier=a.Pqa(4);l.assert("midx" === this.identifier);this.version=a.Bp(4);l.assert(0 === this.version);this.uma=a.mj(36);this.wk=a.XL();this.vp=a.XL();this.u=a.XL();this.XPb=a.Gg();this.YPb=a.Gg();this.language=a.mj(16);a.mj(16);this.startOffset=a.XL();this.Zo=a.Gg();for(var b=[],d=0,h=0;h < this.Zo;h++){m=new c(a.Bp(4),a.Gg());b.push(m);d+=m.duration;}this.entries=b;this.endTime=d;};},function(d,b,a){var l,m;function c(a,b,c,d,g,h,l,m){this.qm=a;this.duration=b;this.wKb=c;this.xKb=d;this.OSb=g;this.PSb=h;this.OE=l;this.ema=m;}function g(a,b,d,g,h,n,p){var f;a=new l(a);f=0;a.position=b;this.Ha=g;this.identifier=a.Pqa(4);m.assert("sidx" === this.identifier,g);this.uma=a.mj(36);m.Ynb(this.uma,d,g);this.duration=a.Bp(4);this.Zo=a.Gg();this.hv=h;this.Ap=n;this.index=p || 0;this.entries=[];this.images=[];for(this.yea=0;f < this.Zo;){b=new c(a.Bp(4),a.Bp(4),a.Gg(),a.Gg(),a.Gg(),a.Gg(),a.XL(),a.Bp(4));f++;this.entries.push(b);}this.entries.length && (this.startTime=this.entries[0].qm,this.endTime=this.entries[this.entries.length - 1].qm + this.entries[this.entries.length - 1].duration);}l=a(283);m=a(153);g.prototype.DCb=function(){this.yea++;};g.prototype.dsb=function(){var a;a=0;this.yea--;1 > this.yea?this.images && 0 < this.images.length && (a+=m.gla([this]),this.images=[]):this.Ha.debug("Not cleaning up shared sidx with range",this.hv,"-",this.Ap);return a;};d.exports=g;},function(d,b,a){var m,f;function c(a,b){var d;a=a || 0;if(b)for(var c in b.Ja){d=b.Ja[c];if(a >= (d.tc || 0) && (!d.Ad || a < d.Ad))return c;}}function g(a,b){return a && b && b.Ja[a];}function l(a,b,d){var f;this.Ha=a.la;this.Sh=d;this.Bz=this.deb(a.q6);this.ug=[];f=d && d[d.length - 1];this.uI=f && (f.endTime || f.Ap);this.Lf=new m(a,b,d);this.$m=this.ew(c(a.jd || 0,this.Bz));}m=a(1203);f=a(1205);Object.defineProperties(l.prototype,{Tha:{get:function(){return this.Lf.Tha;}},WMa:{get:function(){return this.Lf.WMa || 0;}}});l.prototype.kla=function(a,b){return this.Lf && this.Lf.kla(a,b);};l.prototype.Dia=function(a,b){this.Lf.pRb(a);this.AIa(a);if(!this.Bz && this.uI && a > this.uI)b && b();else if((a=this.mGa(a,this.$m,2,b),this.Bz && 0 < this.$m.NWa.length))b && b();else if(this.Bz && this.$m.IK && a){2 > this.ug.length && this.jeb(this.$m);b=Math.ceil(2 / (this.ug.length - 1));for(var c=0;c < this.ug.length && a && 3 > c;c++){a=this.ug[c];a=this.mGa(a.startTime,a,b);}}};l.prototype.Bsa=function(a){return this.Lf.Bsa(a)?(this.Lf.Ujb(),this.Dia(a),this.$m.IK=!1,!0):!1;};l.prototype.FB=function(a,b){var c;this.AIa(a);this.ug.forEach(function(a){a.IK=!1;});c=this.$m.Nm && this.$m.Nm[0];this.Lf.FB(a,c && c.index);(a=this.Lf.oAb(a)) && a.length?this.Lf.YNa(a,b):b && b();};l.prototype.Xn=function(a,b){var c;this.Ha.debug("Set next segment to",b,"for segment",a);a=this.vGa(a) || this.ew(a);a.H0a=b;c=this;a.pT=a.pT.filter(function(a){if(a.id === b)return !0;c.lda(a);return !1;});};l.prototype.Ii=function(a,b){var c;c=g(a,this.Bz);Object.keys(c.next).forEach(function(a){c.next[a].weight=b[a] || 0;});};l.prototype.deb=function(a){var b,d;b={};if(a=(a || ({})).Ja){b.Ja={};for(var c in a){d=a[c] || ({});b.Ja[c]={tc:d.tc,Ad:d.Ad,zh:d.zh,next:this.ceb(d.next)};}}return b;};l.prototype.ceb=function(a){var b,c;b={};for(c in a){b[c]={weight:(a[c] || ({})).weight};}return b;};l.prototype.AIa=function(a){var b,d;if(this.Bz && this.$m.startTime > a || this.$m.endTime && this.$m.endTime < a){b=this.$m;d=c(a,this.Bz);d?(this.Ha.debug("Switching segments from",this.$m.id,"to",d,"at pts",a),this.$m=this.vGa(d) || this.ew(d),this.lda(b)):this.Ha.debug("The pts is outside of the current segment but not in a new one yet");}};l.prototype.ew=function(a){this.Ha.debug("SegmentManager: creating segment",a);a=new f(a,g(a,this.Bz),this.Sh,this.Ha);this.ug.push(a);this.Ha.debug("SegmentManager: segment contains",a.Nm.length,"sidxes");return a;};l.prototype.lda=function(a){var b;if(a && a !== this.$m){this.Ha.debug("SegmentManager: deleting segment",a.id);a.pT.forEach(this.lda.bind(this));this.ug=this.ug.filter(function(b){return b !== a;});b=a.ALa();this.Lf.KOb(b && b.size || 0,b && b.Nm);}};l.prototype.vGa=function(a){var c;for(var b=0;a && b < this.ug.length;b++){c=this.ug[b];if(a === c.id)return c;}};l.prototype.jeb=function(a){var b,c,d;b=a.H0a;if(b && "" !== b)a.pT.push(this.ew(b));else {b=a.NWa;for(c in b){d=b[c];if(!d || !d.weight)break;a.pT.push(this.ew(c));}}};l.prototype.mGa=function(a,b,c,d){if(!b || b.IK)return (this.Ha.debug("Done driving segment",b && b.id),!0);if(!this.Lf.Fmb)return (this.Ha.debug("Throttling buffering in quiet period"),!1);this.Ha.debug("Drive streaming of segment",b.id,"from pts",a);c=(a=this.Lf.pAb(a,b,c)) && a.length || 0;if(0 === c)return (this.Ha.debug("Segment is fully downloaded",b && b.id),b.IK=!0,d && d(),!0);this.Ha.debug("Downloading",c,"sidxes in segment",b.id);return this.Lf.YNa(a,function(a,c){a && (b.IK=!1);d && d(a,c);});};d.exports=l;},function(d,b,a){var n,p;function c(a,b,c){var d;d=c.qm <= a && a <= c.qm + c.duration;return a <= c.qm && c.qm <= b || d;}function g(a,b,c){return b && (!b.entries.length && a > b.hv || a > b.endTime) && c.entries.length && a < c.endTime;}function l(a,b,c){this.vD=this.wr=0;this.Sfb=a.bufferSize || 4194304;this.xo=new k();this.qD;this.gD=a.zm;this.Ha=a.la;this.Yp=b;this.Sh=c;this.Do=new n(a);this.ED=new f(this.Sh.length,a.oOa);this.yP=new m(a.JKa);}function m(a){this.Ieb=0 !== a;this.on=!1;this.Ti=a || 3E3;this.li;}function f(a,b){if(this.enabled=b)this.Nm=Array.apply(null,Array(a)).map(function(){return "-";});}function k(a,b){this.Zs=a;this.index=b;}n=a(1204);p=a(153);k.prototype.reset=function(){this.index=this.Zs=void 0;};f.prototype.ca=function(a){this.enabled && a < this.Nm.length && (this.Nm[a]="x");};f.prototype.MXa=function(a){this.enabled && a < this.Nm.length && (this.Nm[a]="-");};f.prototype.toString=function(){return this.enabled && "|" + this.Nm.join("") + "|";};m.prototype.start=function(){var a;if(this.Ieb){a=this;this.on=!0;this.li=setTimeout(function(){a.on=!1;a.li=void 0;},this.Ti);}};m.prototype.stop=function(){this.on=!1;clearTimeout(this.li);this.li=void 0;};Object.defineProperties(l.prototype,{WMa:{get:function(){return this.wr;}},Tha:{get:function(){return this.xo;}},Fmb:{get:function(){return !this.yP.on;}}});l.prototype.kP=function(){this.ED.enabled && this.Ha.debug("Buffer: " + this.ED.toString());};l.prototype.Thb=function(a){this.vD+=a;this.Ha.debug("Reserved buffer size is",this.wr + this.vD,"after reserving",a);};l.prototype.Fib=function(a){this.vD-=a;this.Ha.debug("Reserved buffer size is",this.wr + this.vD,"after unreserving",a);};l.prototype.beb=function(a){this.wr+=a;this.Ha.debug("Buffer size is",this.wr,"after claiming",a);};l.prototype.YHa=function(a){this.wr-=a;this.Ha.debug("Buffer size is",this.wr,"after clearing",a);};l.prototype.KOb=function(a,b){var c;this.YHa(a);c=this;b && this.ED.enabled && (b.forEach(function(a){c.ED.MXa(a.index);}),this.kP());};l.prototype.Bsa=function(a){var b;b=this.Ueb(a);return p.TSa(b) && p.XTb(a,b);};l.prototype.pRb=function(a){var b;b=this.JGa(a);(!b || b.index) !== (!this.xo || this.xo.index) && (this.qD=this.xo.Zs,b?(this.gD && this.Ha.debug("Current sidx is index",b.index),this.xo=b):(this.gD && this.Ha.debug("Current sidx is out of range"),this.xo.reset()));this.qD && "number" === typeof this.qD.index && (a < this.qD.hv - 35E3 || a > this.qD.Ap + 35E3) && (this.cda(this.qD.index),this.qD=void 0,this.kP());};l.prototype.FB=function(a,b){var c,d;c=this.Sh && this.Sh.length;for(b;b < c;b++){(d=this.Sh[b]) && ((d.endTime || d.Ap) >= a - 1E4 && (d.endTime || d.Ap) < a + 3E5 || this.cda(b));}this.yP.stop();this.kP();};l.prototype.Ujb=function(){var a,b;this.Ha.debug("executing aggressive cleanup");a=this.Sh && this.Sh.length;for(b=0;b < a;b++){b === this.xo.index && (b+=2);this.cda(b);}this.yP.stop();this.kP();};l.prototype.oAb=function(a){var b,c,d,f;b=[];c=this.JGa(a);if(!c)return (this.xo.reset(),b);this.xo=c;d=a + 1E4;c=c.index;f=this.Sh[c];c;for(f;c < this.Sh.length && d > f.hv;(c++,f=this.Sh[c])){p.TSa(f) && p.YTb(a,d,f) && b.push(f);}return b;};l.prototype.YNa=function(a,b){var c,d,f,g,h,k;if(!a || !a.length)return (b && b(null),!0);this.Do.tP && 2 <= Object.keys(this.Do.tP).length && !this.yP.on && (this.Ha.debug("Enabling buffering quiet period"),this.yP.start());c=this;d=a[0];f=a[a.length - 1];0 < d.entries.length && (g=d.entries[0].OE,h=d.entries[d.entries.length - 1]);0 < f.entries.length && (p.ic(g) || (g=f.entries[0].OE),h=f.entries[f.entries.length - 1]);if(g)k=h.OE + h.ema - g;else return (b && b(null),!0);d=p.pka(g,k);if(this.Do.tP[d])(this.Ha.debug("The request for",d,"is already pending. Not requesting again"),b && b());else if(this.sfb(p.gla(a)))(this.Ha.debug("Reserving",k,"bytes for subtitle request",a[0].hv,a[a.length - 1].Ap),this.Thb(k),this.Do.rtb(a,g,k,function(d,f){c.Ha.debug("Claiming reserved space.  Expected",k,"received",f);c.ED.enabled && (a.forEach(function(a){c.ED.ca(a.index);}),c.kP());c.Fib(k);c.beb(f);b && b(d);}));else return (this.Ha.debug("Not enough space in buffer to download all of the imaages in the list"),b && b(),!1);return !0;};l.prototype.kla=function(a,b){var d,f,g;d=this.Yp;f=this.IGa(a,b,this.Sh);if(!f || 0 === f.length)return [];g=[];b=c.bind(null,a,b);for(var h=0;h < f.length;h++){a=f[h];g=g.concat(a.entries.filter(b));}g=g.map(function(a){return p.Kha(a,null,d);});return p.kMa(g);};l.prototype.pAb=function(a,b,c){return this.IGa(a,b.endTime,b.Nm,c,!0);};l.prototype.IGa=function(a,b,c,d,f){var g,h,k,l;if(b && a > b || 0 > a)this.Ha.error("invalid range startPts: " + a + ", endPts: " + b);else {g=c && c.length || 0;h=[];if(c && 0 !== g){k=c[0].duration;l=c[0].hv;if(p.ic(k) && 0 < k)k=Math.floor((a - l) / k);else for((this.gD && this.Ha.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),k=0);k < g && (l=c[k],!p.mtb(l,a));k++){;}for(;k < g && (!d || h.length < d);){l=c[k];if(!f || !l.images.length && l.endTime > a)h.push(l);else if(h.length)break;if(b && b <= l.Ap)break;k++;}return h;}}};l.prototype.Ueb=function(a){var b,c,f;b=this.Sh;if(b && 0 !== b.length){c=b[Math.floor(a / 6E4)];if(c && (c.hv > a || a > c.Ap)){this.Jeb || (this.Jeb=!0,c=p.Xyb(this.Yp.language),this.Ha.error("bruteforce search for ",{movieId:this.Yp.u,packageId:this.Yp.vp,lang:c}));a:{for(var c=b.length,d=0;d < c;d++){f=b[d];if(f.hv <= a && a <= f.Ap){c=f;break a;}}c=void 0;}}return c;}};l.prototype.JGa=function(a){var b,c,d,f,h,l,m,n;c=this.xo;d=c.Zs;f=c.index;n=this.Sh;this.jda(p.ic(a));d && (d.entries.length?0 === f && a <= d.startTime || a >= d.startTime && a <= d.endTime?(m=!0,b=c):0 < f && (l=n[f - 1],g(a,l,d) && (m=!0,b=c)):(l=n[f - 1],h=n[f + 1],g(a,l,d)?(m=!0,b=c):h && h.endTime && a <= h.endTime && (a >= d.endTime || a >= d.Ap) && (m=!0,b=new k(h,f + 1))));if(!m)for((c=n.length,d=0);d < c;d++){if((f=n[d],f.entries.length && a <= f.endTime)){b=new k(f,d);break;}}return b;};l.prototype.sfb=function(a){return this.wr + this.vD + a <= this.Sfb;};l.prototype.cda=function(a){var b,c,d;b=this.Sh[a];c=b && b.images && b.images.length || 0;if(0 < c){d=p.gla([b]);b.images=[];this.ED.MXa(a);this.YHa(d);this.gD && this.Ha.debug("cleaning up space from sidx",{index:a,start:b.startTime,size:d,images:c,X7b:this.wr});}};l.prototype.jda=function(a){this.gD && p.assert(a,this.Ha);};d.exports=l;},function(d,b,a){var g,l;function c(a){this.em=a.url;this.CP=a.request;this.rD=a.jd || 0;this.gD=a.zm;this.Ha=a.la;this.tP={};}g=a(283);l=a(153);c.prototype.rtb=function(a,b,c,d){var f;f=l.pka(b,c);this.tP[f]=!0;a && a.forEach(function(a){a.G_a=!0;});this.CP({url:this.em,offset:b,size:c},this.Sgb.bind(this,a,b,c,d));};c.prototype.Sgb=function(a,b,c,d,h,n){var f,k,m,p;f=this;k=l.pka(b,c);setTimeout(function(){delete f.tP[k];},1E3);if(h)(d && d(h,0),a && a.forEach(function(a){delete a.G_a;}));else {m=new g(n);p=0;a && a.forEach(function(a){delete a.G_a;a.entries.forEach(function(c,d){m.position=c.OE - b;c={data:m.mj(c.ema)};a.images[d]=c;l.nXb(a.images[d].data,f.jda.bind(f));p+=a.images[d].data.length;});});d && d(null,p);}};c.prototype.jda=function(a){this.gD && l.assert(a,this.Ha);};d.exports=c;},function(d){function b(a,b,d,g){this.Ha=g;this.id=a;this.startTime=b && b.tc || 0;this.endTime=b && b.Ad;this.NWa=b && b.next || [];this.H0a;this.pT=[];this.IK=!1;a=this.startTime;b=this.endTime;for(var c=[],f=0;f < d.length;f++){(g=d[f]) && (!b || b > g.hv) && a < g.Ap && (g.DCb(),c.push(g));}this.Nm=c;}b.prototype.ALa=function(){this.Ha.debug("Cleaning up segment",this.id);for(var a,b=0,d,g=[],m=0;m < this.Nm.length;m++){a=this.Nm[m];(d=a.dsb()) && g.push(a);a && (b+=d);}this.Nm=[];return {size:b,Nm:g};};d.exports=b;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.gXb=b.Jcb=b.Hcb=b.Gcb=b.Icb=void 0;c=a(26);g=a(10);b.Icb=function(a,b,c){for(c=(c - a.length) / b.length;0 < c--;){a+=b;}return a;};b.Gcb=function(a,b,d){d=c.te(d)?d:"...";return a.length <= b?a:a.substr(0,a.length - (a.length + d.length - b)) + d;};b.Hcb=function(a,b){var d;for(var c=1;c < arguments.length;++c){;}d=g.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return "undefined" != typeof d[b]?d[b]:a;});};b.Jcb=function(a){for(var b=a.length,c=new Uint16Array(b),d=0;d < b;d++){c[d]=a.charCodeAt(d);}return c.buffer;};b.gXb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,c){b[c]=a.charCodeAt(0);});return b;};},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});d=a(7);b=a(107);a=a(270);d.ha.get(b.uC).U5(a.J$.f7a,function(a){var b,c;b=a.level;if(!ja._cad_global.config || b <= ja._cad_global.config.VFb){a=a.n7();c=ja.console;1 >= b?c.error(a):2 >= b?c.warn(a):c.log(a);}});},function(d,b,a){var n,p,r,t,B;function c(a){var c,f;p.FJ(a);if(r.te(a) && b.Uya.test(a)){c=a.split(".");if(4 === c.length){for(var d=0;d < c.length;d++){f=r.de(c[d]);if(0 > f || !B.Fx(f,0,255) || 1 !== c[d].length && 0 === c[d].indexOf("0"))return;}return a;}}}function g(a){var b;b=0;if(c(a) === a)return (a=a.split("."),b+=r.de(a[0]) << 24,b+=r.de(a[1]) << 16,b+=r.de(a[2]) << 8,b + r.de(a[3]));}function l(a){var c;p.FJ(a);if(r.te(a) && a.match(b.Vya)){c=a.split(":");-1 !== c[c.length - 1].indexOf(".") && (a=m(c[c.length - 1]),c.pop(),c.push(a[0]),c.push(a[1]),a=c.join(":"));a=a.split("::");if(!(2 < a.length || 1 === a.length && 8 !== c.length) && (c=1 < a.length?f(a):c,a=c.length,8 === a)){for(;a--;){if(!B.Fx(parseInt(c[a],16),0,n.Uza))return;}return c.join(":");}}}function m(a){var b;a=g(a) >>> 0;b=[];b.push((a >>> 16 & 65535).toString(16));b.push((a & 65535).toString(16));return b;}function f(a){var b,c,d;b=a[0].split(":");a=a[1].split(":");1 === b.length && "" === b[0] && (b=[]);1 === a.length && "" === a[0] && (a=[]);c=8 - (b.length + a.length);if(1 > c)return [];for(d=0;d < c;d++){b.push("0");}for(d=0;d < a.length;d++){b.push(a[d]);}return b;}function k(a){return -1 << 32 - a;}Object.defineProperty(b,"__esModule",{value:!0});b.r$a=b.w$a=b.t$a=b.s$a=b.v$a=b.q$a=b.u$a=b.rC=b.Vya=b.Uya=void 0;n=a(11);p=a(18);r=a(26);t=a(10);B=a(15);b.Uya=/^[0-9.]*$/;b.Vya=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.rC="0000000000000000";b.u$a=c;b.q$a=g;b.v$a=l;b.s$a=m;b.t$a=f;b.w$a=function(a,d,f){var h,m,n,p;h=c(a);m=l(a);n=c(d);p=l(d);if(!h && !m || !n && !p || h && !n || m && !p)return !1;if(a === h)return (f=k(f),(g(a) & f) !== (g(d) & f)?!1:!0);if(a === m){a=a.split(":");d=d.split(":");for(h=t.Nv(f / b.rC.length);h--;){if(a[h] !== d[h])return !1;}f%=b.rC.length;if(0 !== f)for((a=parseInt(a[h],16).toString(2),d=parseInt(d[h],16).toString(2),a=b.rC.substring(0,b.rC.length - a.length) + a,d=b.rC.substring(0,b.rC.length - d.length) + d,h=0);h < f;h++){if(a[h] !== d[h])return !1;}return !0;}return !1;};b.r$a=k;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(12);a(11);d=a(7);a(107);a(270);a(2);a(106);a(4);a=a(29);d.ha.get(a.qg);!1;},function(d,b,a){var c,g,l,m,f,k,n,p,r;Object.defineProperty(b,"__esModule",{value:!0});c=a(45);g=a(11);l=a(12);m=a(2);f=a(294);k=a(31);n=a(10);p=a(7);d=a(29);r=p.ha.get(d.qg);r.register(m.L.Qya,function(a){n.Vo && n.Vo.generateKey && n.Vo.importKey && n.Vo.unwrapKey?!p.ha.get(k.Lt).Q7a && l.config.lQ != f.qN.Fbb && l.config.lQ != f.qN.R$a || n.BX?(r.vd("wcs"),c.tF(n.Vo.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){r.vd("wcdone");a(g.ke);},function(b){var c;b="" + b;0 <= b.indexOf("missing crypto.subtle")?c=m.K.zca:0 <= b.indexOf("timeout waiting for iframe to load") && (c=m.K.hdb);a({ka:c,Ab:b});})):a({ka:m.K.gdb}):a({ka:m.K.zca});});},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(2);c=a(7);g=a(476);a=a(29);c.ha.get(a.qg).register(d.L.Fya,function(a){c.ha.get(g.p9)().then(function(){a({ja:!0});})["catch"](function(b){c.log.error("error in initializing indexedDb debug tool",b);a({ja:!0});});});},function(d,b,a){var m,f,k,n;function c(a,b,c,d){var h,p,q;m.fb(n.zf(a) && !n.isArray(a));d=d || "";h="";p=a.hasOwnProperty(k.sj) && a[k.sj];p && f.Rd(p,function(a,b){h && (h+=" ");h+=a + '="' + l(b) + '"';});c=(b?b + ":":"") + c;p=d + "<" + c + (h?" " + h:"");q=a.hasOwnProperty(k.hr) && a[k.hr].trim && "" !== a[k.hr].trim() && a[k.hr];if(q)return p + ">" + l(q) + "</" + c + ">";a=g(a,b,d + "  ");return p + (a?">\n" + a + "\n" + d + "</" + c + ">":"/>");}function g(a,b,d){var g;m.fb(n.zf(a) && !n.isArray(a));d=d || "";g="";f.Rd(a,function(a,h){var p;if("$" != a[0])for(var k=f.NS(h),m=0;m < k.length;m++){if((h=k[m],g && (g+="\n"),n.zf(h)))g+=c(h,b,a,d);else {p=(b?b + ":":"") + a;g+=d + "<" + p + ">" + l(h) + "</" + p + ">";}}});return g;}function l(a){if(n.te(a))return f.fS(a);if(n.qa(a))return (m.UQ(a,"Convert non-integer numbers to string for xml serialization."),"" + a);if(null === a || void 0 === a)return "";m.fb(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.eVb=b.vEb=b.uEb=void 0;m=a(18);f=a(23);k=a(147);n=a(15);b.uEb=c;b.vEb=g;b.eVb=l;},function(d,b,a){var c,g,l,m,f,k,n,p,r,t,B,A,y,I,J,D,F,S,O;Object.defineProperty(b,"__esModule",{value:!0});c=a(275);g=a(151);l=a(12);m=a(11);f=a(2);k=a(18);n=a(7);p=a(65);r=a(78);t=a(63);B=a(23);A=a(10);y=a(15);I=a(45);J=a(106);D=a(4);d=a(29);F=a(445);S={};O=n.ha.get(d.qg);O.register(f.L.Iya,function(a){var q,u,v,L,U,P,N,Q,R,Y,T,V,X,fa;function b(b){b && b.userList && l.config.pSb && (b.userList=[]);L({esn:g.Xh.Yh,esnPrefix:g.Xh.pA,authenticationType:l.config.lQ,authenticationKeyNames:l.config.iKa,systemKeyWrapFormat:l.config.pUb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:X,storeState:b,notifyMilestone:O.vd.bind(O),log:N,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:f.K.gab,MSL_READ_TIMEOUT:f.K.fab}},{result:function(a){d(a);},timeout:function(){a({ka:f.K.dAa});},error:function(b){a(h(f.K.dAa,void 0,b));}});}function d(b){var d,g,p;function c(){V && n.ha.get(t.qt).create().then(function(a){return a.save(Y,g,!1);})["catch"](function(a){N.error("Error persisting msl store",f.nr(a));});}d=n.ha.get(J.TC)(D.Nb(100));p=U.extend({init:function(a){this.rHa=a;},getResponse:function(a,b,c){var d,f;b=this.rHa;d=b.xWa.gf || d;a=y.Yma(a.body)?n.zV(a.body):a.body;k.FJ(a,"Msl should not be sending empty request");a={url:b.url,lqa:a,withCredentials:!0,lE:"nq-" + b.method,headers:b.headers};b=this.rHa.timeout;a.f0=b;a.cpa=b;f=d.download(a,function(a){try{if(a.ja)c.result({body:a.content});else if(400 === a.cj && a.Ab)c.result({body:a.Ab});else throw B.Hb(new P("HTTP error, SubCode: " + a.ka + (a.cj?", HttpCode: " + a.cj:"")),{cadmiumResponse:a});}catch(ff){c.error(ff);}});return {abort:function(){f.abort();}};}});R && b.addEventHandler("shouldpersist",function(a){g=a.storeState;d.bd(c);});B.Hb(S,{H6b:function(){T=!0;},send:function(a){function c(){var b,c;b=a.xWa;c={method:a.method,nonReplayable:a.HIb,encrypted:a.zk,userId:a.dXb,body:a.body,timeout:2 * a.timeout,url:new p(a),allowTokenRefresh:V,sendUserAuthIfRequired:fa,shouldSendUserAuthData:l.config.vSb};b.hOa?(c.email=b.hOa,c.password=b.password || ""):b.gVb?(c.token=b.gVb,c.mechanism=b.A7b,b.Voa && (c.netflixId=b.Voa,c.secureNetflixId=b.AQb),b.Dqa && (c.profileGuid=b.Dqa)):b.Voa?(c.netflixId=b.Voa,c.secureNetflixId=b.AQb):b.bHb?(c.mdxControllerToken=b.bHb,c.mdxPin=b.y7b,c.mdxNonce=b.x7b,c.mdxEncryptedPinB64=b.w7b,c.mdxSignature=b.z7b):T || b.useNetflixUserAuthData?c.useNetflixUserAuthData=!0:b.Dqa && (c.profileGuid=b.Dqa);return c;}return new Promise(function(a,d){var g;g=c();b.send(g).then(function(b){T && (T=!1);a({ja:!0,body:b.body});})["catch"](function(a){var c,g;if(a.error){c=a.error.cadmiumResponse && a.error.cadmiumResponse.ka?a.error.cadmiumResponse.ka:b.isErrorReauth(a.error)?f.K.cAa:b.isErrorHeader(a.error)?f.K.$$a:f.K.Z$a;g=b.getErrorCode(a.error);d(h(c,g,a.error));}else (N.error("Unknown MSL error",a),a.wd=a.subCode,d({ka:a.wd?a.wd:f.K.hab}));});});},iT:b});a(m.ke);n.ha.get(F.vX).mIb(S);}function h(a,b,c){var d,f,g,h;h={ka:a,YJ:b};if(c){d=function(a){var b;a=a || "" + c;if(c.stack){b="" + c.stack;a=0 <= b.indexOf(a)?b:a + b;}return a;};if(g=c.cadmiumResponse){if(f=g.Oe && g.Oe.toString())g.Oe=f;g.ka=a;g.YJ=b;g.Ab=d(c.message);g.error={wd:a,Vg:f,Uu:b,data:c.cause,message:c.message};return g;}d=d(c.errorMessage);f=B.de(c.internalCode) || B.de(c.error && c.error.internalCode);g=void 0 !== c.Rub?I.qpa(c.Rub):void 0;}d && (h.Ab=d);f && (h.Oe=f);h.error={wd:a,Vg:f.toString(),Uu:b,data:g,message:d};return h;}k.fb(l.config);q=n.ha.get(p.ez);u=r.Gv.Qi;if(A.Qv && A.Vo && A.Vo.unwrapKey){try{v=ja.netflix.msl;L=v.createMslClient;U=v.IHttpLocation;P=v.MslIoException;}catch(Ua){a({ka:f.K.aab});return;}N=n.Bh("Msl");Q=l.config.iIb;R=l.config.kIb;Y=l.config.qu?"mslstoretest":"mslstore";v=c.jG.V0a;T=l.config.yCb;V=!v || v.ja;X=n.jq(l.config.qu?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");fa=! !l.config.gsa;n.ha.get(t.qt).create().then(function(c){Q?c.remove(Y).then(function(){b();})["catch"](function(a){N.error("Unable to delete MSL store",f.nr(a));b();}):R?c.load(Y).then(function(a){q.mark(u.cab);b(a.value);})["catch"](function(d){d.ka == f.K.bz?(q.mark(u.eab),b()):(N.error("Error loading msl store",f.nr(d)),q.mark(u.dab),c.remove(Y).then(function(){b();})["catch"](function(b){a(b);}));}):b();})["catch"](function(b){N.error("Error creating app storage while loading msl store",f.nr(b));a(b);});}else a({ka:f.K.bab});});},function(d,b,a){var c,g,l,m,f,k,n,p,r,t,B,A,y,I,J;Object.defineProperty(b,"__esModule",{value:!0});c=a(182);g=a(11);l=a(12);m=a(57);f=a(49);d=a(2);k=a(7);n=a(65);p=a(10);r=a(55);t=a(15);B=a(51);A=a(77);a=a(29);J=k.ha.get(a.qg);J.register(d.L.Gya,function(a){var d;function b(){var a,b,g;a=J.startTime;b={browserua:p.Wm,browserhref:p.DX.href,initstart:a,initdelay:J.endTime - a};(a=p.Ke.documentMode) && (b.browserdm="" + a);"undefined" !== typeof ja.nrdp && ja.nrdp.device && (b.firmware_version=ja.nrdp.device.firmwareVersion);t.Gx(l.config.dPa) && (b.fesn=l.config.dPa);Object.assign(b,c.bla());g=p.It && p.It.timing;g && l.config.SFb.map(function(a){var c;c=g[a];c && (b["pt_" + a]=c - f.KLa());});a=d.bRa();Object.entries(a).forEach(function(a){var c;c=N(a);a=c.next().value;c=c.next().value;return b["m_" + a]=c;});a=I.Tr("startup","info",b,m.zH.Fja);y.kd(a);}I=k.ha.get(A.Et);y=k.ha.get(B.Tm);d=k.ha.get(n.ez);J.IS(function(){y.$a();r.Ic(b);});a(g.ke);});},function(d,b){Object.defineProperty(b,"__esModule",{value:!0});},function(d,b,a){var c,g,l,m,f,k,n,t,r,u,B,A,y,I,J,D;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);g=a(48);l=a(485);m=a(1217);f=a(279);k=a(12);n=a(11);t=a(186);r=a(530);u=a(49);d=a(2);B=a(7);A=a(264);y=a(10);I=a(189);b=a(29);J=a(57);D=a(72);B.ha.get(b.qg).register(d.L.Cya,function(b){var d,h,q,v,F,L,U;d=B.ha.get(A.fO).Eha();h=B.ha.get(t.j9).TG;q=B.ha.get(l.aaa).Vm;v={AF:B.ER("ASE"),tkb:B.ER("JS-ASE",void 0,"Platform"),Bh:B.ER,storage:I.storage,qq:I.qq,xzb:y.RG,getTime:u.ni,VK:{},Vm:q,Nt:m.Nt,TG:h,MediaSource:r.FAa,SourceBuffer:f.Z$,ql:function(){return [k.config.bQ,k.config.dQ];},Sr:function(a){J.no.forEach(function(b){b.t1a(a);});}};h=new Promise(function(a){I.storage.load("nh",function(b){v.VK.nh=b.ja?b.data:void 0;a();});});q=new Promise(function(a){I.storage.load("lh",function(b){v.VK.lh=b.ja?b.data:void 0;a();});});F=new Promise(function(a){I.storage.load("gh",function(b){v.VK.gh=b.ja?b.data:void 0;a();});});L=new Promise(function(a){I.storage.load("sth",function(b){v.VK.sth=b.ja?b.data:void 0;a();});});U=new Promise(function(a){I.storage.load("vb",function(b){v.VK.vb=b.ja?b.data:void 0;a();});});Promise.all([h,q,U,L,F]).then(function(){return c.__awaiter(this,void 0,void 0,function(){var f,h,l,m,q;function c(c,p){for(;;){switch(f){case 0:return (m=a(1219)(v),D.vg.rd=a(531),D.vg.rd.declare(g.vn),D.vg.rd.declare({UB:["useMediaCache",!1],hA:["diskCacheSizeLimit",0],h5b:["dailyDiskCacheWriteLimit",0],WS:["mediaCachePrefetchMs",8E3],uoa:["mediaCachePartitionConfig",{}]}),D.vg.rd.set(a(180)(k.config),!0,B.ER("ASE")),l=g.eVa(m),D.vg.Ir=new l(D.vg.rd,d),D.vg.Ir.$a(k.config.bQ,k.config.dQ,{AF:v.AF},k.config.dM),f=1,{value:g.FE(m),done:!1});case 1:if(void 0 === p){f=2;break;}f=-1;throw p;case 2:(h=c,h.open(D.vg.rd,d),h.ksa({audio:k.config.bQ,video:k.config.dQ},{da:k.config.dM,ba:void 0}),D.vg.n9b=h,b(n.ke),f=-1);default:return {value:void 0,done:!0};}}}f=0;q={next:function(a){return c(a,void 0);},"throw":function(a){return c(void 0,a);},"return":function(){throw Error("Not yet implemented");}};p();q[Symbol.iterator]=function(){return this;};return q;});})["catch"](function(a){v.AF.error("Exception loading location history from local storage",a);});});},function(d,b,a){var g,l,m,f,k,n,p;function c(){var a;a=new l.tj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.ec.bind(this);this.DZ=n++;this.fg=m.Bh("ProbeRequest");this.LHa=g.fDa;f.fb(void 0 !== this.LHa);this.Ng=b.Nt.mc.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.Nt=void 0;g=a(1218);l=a(68);m=a(7);f=a(18);k=a(26);n=0;(function(){function a(){return JSON.stringify({url:this.em,id:this.DZ,affected:this.zY,readystate:this.Ng});}k.Hb(c.prototype,{Wu:function(a){a.affected=this.zY;a.probed={requestId:this.DZ,url:this.em,Zb:this.GP,groupId:this.hZ};this.emit(b.Nt.ie.hO,a);},jpa:function(a){this.pib=a.httpcode;a.affected=this.zY;a.probed={requestId:this.DZ,url:this.em,Zb:this.GP,groupId:this.hZ};this.emit(b.Nt.ie.GC,a);},open:function(a,c,d,f){if(!a)return (!1,!1);this.em=a;this.zY=c;this.GP=d;this.Ng=b.Nt.mc.OPENED;this.Nfb=f;this.LHa.AR(this);return !0;},dc:function(){!1;return !0;},Dk:function(){return this.DZ;},toString:a,toJSON:a});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Ng;},set:function(){}},status:{get:function(){return this.pib;}},url:{get:function(){return this.em;}},l4b:{get:function(){return this.zY;}},LFb:{get:function(){return this.Nfb;}}});})();(function(a){a.ie={hO:"pr0",GC:"pr1"};a.mc={UNSENT:0,OPENED:1,Uv:2,DONE:3,YG:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(p || (p={}));b.Nt=Object.assign(c,p);},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});b.fDa=void 0;c=a(7);g=a(67);b.fDa=(function(){c.Bh("ProbeDownloader");return {AR:function(a){a={url:a.url,bNb:a};!1;g.gf.eNb(a);}};})();},function(d,b,a){var k,n,p,r,t,B,A,y,I,J,D,F,S,O,L,E,N;function c(a,b,c){this.pn=a;this.yla=b;this.prefix=c;a=D(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function g(){this.BNa=n.qq.BNa.bind(n.qq);this.k0=n.qq.k0.bind(n.qq);this.NJ=n.qq.NJ;this.sH="NDA";}function l(){}function m(){return J?J:"0.0.0.0";}function f(a){a({LXa:0,eV:0,ISa:0,cPa:0});}k=a(16);n=a(189);g.prototype.set=function(a,b){t[a]=b;B.save(a,b);};g.prototype.get=function(a,b){if(t.hasOwnProperty(a))return t[a];I.trace("key: " + a + ", is not available in storage cache and needs to be retrieved asynchronously");B.load(a,function(c){c.ja?(t[a]=c.data,b && b(c.data)):t[a]=void 0;});};g.prototype.remove=function(a){B.remove(a);};g.prototype.clear=function(){I.info("WARNING: Calling unimplemented function Storage.clear()");};l.prototype.now=function(){return A();};l.prototype.aa=function(){return y();};l.prototype.Roa=function(a){return a + A() - y();};l.prototype.kpa=function(a){return a + y() - A();};c.prototype.NMa=function(a){var b;b=[];this.prefix && Array.isArray(this.prefix)?b.push.apply(b,[].concat(X(this.prefix))):this.prefix && b.push(this.prefix);b.push(a);return new c(this.pn,this.yla,b);};F=(function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;})();d.exports=function(a){p=a.AF;D=a.Bh;B=a.storage;t=a.VK;A=a.xzb;y=a.getTime;I=a.tkb;S=a.Vm;N=a.Nt;O=a.TG;L=a.SourceBuffer;E=a.MediaSource;J=a.J6b;r=a.Sr;return {name:"cadmium",Sr:r,AF:p,storage:new g(),Storage:g,time:new l(),events:new k.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:F,Vm:S,TG:O,kab:L,MediaSource:E,Nt:N,Ln:{name:m},memory:{Jyb:f},ql:a.ql};};},function(d,b,a){d.exports={EventEmitter:a(1221),sg:a(1222)};},function(d){function b(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return (this.Wc={},this.Wc[a]=[b],!0);c=this.Wc[a];return void 0 === c?(this.Wc[a]=[b],!0):0 > c.indexOf(b)?(c.push(b),!0):!1;}function a(a,b){a=this.Wc?this.Wc[a]:void 0;if(!a)return !1;a.forEach(function(a){a(b);});return !0;}d.exports={addEventListener:b,on:b,removeEventListener:function(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return !1;c=this.Wc[a];if(void 0 === c)return !1;b=c.indexOf(b);if(0 > b)return !1;if(1 === c.length)return (delete this.Wc[a],!0);c.splice(b,1);return !0;},Ma:a,emit:a,removeAllListeners:function(a){this.Wc && (void 0 === a?delete this.Wc:delete this.Wc[a]);return this;}};},function(d){function b(a,b,d,g){a.trace(":",d,":",g);b(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,g,m){g=m?g.bind(m):g;m=!1;if(a){this.console && (g=b.bind(null,this.console,g,d));if("function" === typeof a.addEventListener)m=a.addEventListener(d,g);else if("function" === typeof a.addListener)m=a.addListener(d,g);else throw Error("Emitter does not have a function to add listeners for '" + d + "'");this.listeners.push([a,d,g]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function" === typeof b.removeEventListener?b.removeEventListener(c,a):"function" === typeof b.removeListener && b.removeListener(c,a);});this.listeners=[];this.console && this.console.trace("removed",a,"listener(s)");};d.exports=a;},function(d,b,a){var g,l,m,f,k,n,p,r,t;function c(a,b){var h,q,u,v,A,B,E,F,L,N,R;function c(){var c;c=a.Ob.value === r.ub.Uc && a.state.value === r.Db.yd && a.u === b.u;R?c || (clearInterval(R),B=R=void 0):c && (R=ja.setInterval(d,1E3));}function d(){var b,c,d,g,h,k;b=a.Df.value;b=(b=b && b.stream) && b.height;if(null !== b && 0 < b){c=f.ni();d=a.Wf.DE();if(d){if(B && 2E3 > c - B.time && b === B.height){g=d - B.Ftb;h=q[b];h || (q[b]=h=[],b > F && (A.push(b),m.UV(A)));0 < g && !(N && N < b) && (N=b);h.push(g);h.length > E && h.shift();(h=v[b]) || (v[b]=h={});k=h[g];h[g]=k?k + 1:1;}B={time:c,Ftb:d,height:b};a.t5 && a.t5.qRb(q);}}}h=k.Ch(a,"DFF");q={};u=g.config.Jtb;v={};A=[];E=g.config.Htb;F=g.config.Itb;L=l.Tza;if(g.config.Gtb)return (b.Kia={rxb:function(){var a;a={};v && A.forEach(function(b){var c,d,f;c=v[b];if(c){d=0;f=0;t.Rd(c,function(a,b){f+=n.de(a);d+=b;});a[b]=f / d;}});return a;},QR:function(a){var b;b={};a.forEach(function(a){b[a]={};});v && (m.UV(a),A.forEach(function(c){var d,f,g,h;d=v[c];if(d){f=0;g=0;t.Rd(d,function(a,b){f+=b;});h=Object.keys(d).map(Number);m.UV(h);for(var k=h.length - 1,l=h[k],n=a.length - 1;0 <= n;n--){for(var q=a[n];l >= q && 0 <= k;){(l=d[l]) && (g+=l);l=h[--k];}b[q][c]=p.ki(g / f * 100);}}}));return b;}},a.state.addListener(c),a.Ob.addListener(c),a.addEventListener(r.V.Jq,c),{$J:"df",Ys:function(a){var c,f,g,k;if(a.lower && a.height > F){a=a.height;a:{if(N){c=A.length;for(var d=0;d < c;d++){f=A[d];if(f >= N && f < L){g=q[f];if(k=g)b:{k=u.length;for(var l=g.length,m=0;m < k;m++){for(var n=u[m],p=n[0],n=n[1],r=0;r < l;r++){if(g[r] >= n && 0 >= --p){k=!0;break b;}}}k=!1;}if(k && L != f){h.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:f});b.No.set({reason:"droppedFrames",height:f});c=L=f;break a;}}}N=void 0;}c=L;}a=a >= c;}else a=!1;return a;}});}Object.defineProperty(b,"__esModule",{value:!0});b.lab=void 0;d=a(100);g=a(12);l=a(11);m=a(45);f=a(49);k=a(7);n=a(26);p=a(10);r=a(13);t=a(23);d.AC(c);b.lab=c;},function(d,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(100).AC(function(){return {$J:"op",Ys:function(){}};});},function(d,b,a){var g,l;function c(a,b){var c,d;c=l.Ch(a,"MSS");if(g.config.DHb)return {$J:"mss",Ys:function(a){var f,g;if(a.lower && 2160 <= a.height)a:{for(f=a;f.lower;){if(2160 > f.height && 1080 < f.height){f=!0;break a;}if(1080 >= f.height)break;f=f.lower;}f=!1;}else f=void 0;if(f){if(void 0 === d){try{g=ja.MSMediaKeys;d=g && g.isTypeSupportedWithFeatures?"probably" === g.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(B){c.error("hasUltraHdDisplay exception");d=!0;}d || (c.warn("Restricting resolution due screen size",{MaxHeight:a.height}),b.No.set({reason:"microsoftScreenSize",height:a.height}));}return !d;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.mab=void 0;d=a(100);g=a(12);l=a(7);d.AC(c);b.mab=c;},function(d,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});d=a(100);c=a(1227);g=a(7);l=a(31);m=a(76);d.AC(function(a){var b;if(g.ha.get(l.vj).NOb){b=g.ha.get(m.qr);return new c.mza(a,g.Af,b);}});},function(d,b,a){var g;function c(a,b,c){var d;d=this;this.j=a;this.la=b;this.xoa=c;this.Vma=!1;this.log=this.la.wb("KeySystemRobustness",this.j);this.Vma=!1;this.xoa.Bu().then(function(b){var c,f;f=null === (c=b.getConfiguration().videoCapabilities) || void 0 === c?void 0:c.map(function(a){return a.robustness;});d.Vma=!(null === f || void 0 === f || !f.some(function(a){return a === g.eX;}));a.u1a("keySystem",b.Yg);a.u1a("robustness",null === f || void 0 === f?void 0:f.toString());d.log.trace("KeySystemRobustness: " + f);})["catch"](function(a){d.log.error("KeySystemRobustness exception",a);});}Object.defineProperty(b,"__esModule",{value:!0});b.mza=void 0;g=a(103);c.prototype.Ys=function(a){return a.lower && a.Iu && !this.Vma && 720 < a.height;};ma.Object.defineProperties(c.prototype,{$J:{configurable:!0,enumerable:!0,get:function(){return "KeySystemRobustness";}}});b.mza=c;},function(d,b,a){var c,g,l;Object.defineProperty(b,"__esModule",{value:!0});d=a(100);c=a(12);g=a(7);l=a(1229);d.AC(function(a,b){if(c.config.AEb)return new l.lza(a,b,g.Af,c.config,g.ta,g.Ea);});},function(d,b,a){var g,l;function c(a,b,c,d,h,n){var f;f=this;this.j=a;this.Un=b;this.la=c;this.config=d;this.ta=h;this.Ea=n;this.akb=function(a){!0 === a.oldValue && !1 === a.newValue && (f.log.error("RestartStreaming: UHD key is no longer usable"),f.j.RPb());};this.PVb=function(a){var b,c,d;f.log.trace("UhdKeyStatus: " + a.oldValue + " -> " + a.newValue);c=null === a || void 0 === a?void 0:a.newValue;d=null === a || void 0 === a?void 0:a.oldValue;"usable" !== c && (f.lRb(c,(null === (b=null === a || void 0 === a?void 0:a.Xr) || void 0 === b?void 0:b.height) || 0),"usable" === d && (a=f.ta.Be.Fa(f.CEb),f.log.error("UHD KeyStatus unexpectedly changed: " + a.ca(l.ga))));};this.TTa=!1;this.log=this.la.wb("KeyStatusStreamFilter",this.j);this.nJa=new g.Cc(!1,this.akb);this.OVb=new g.Cc(void 0,this.PVb);}Object.defineProperty(b,"__esModule",{value:!0});b.lza=void 0;g=a(150);l=a(4);c.prototype.Ys=function(a){this.STb();this.nJa.set(this.TTa && this.LBb);return a.lower && 1080 < a.height && !this.nJa.value?!0:!1;};c.prototype.aob=function(){this.LBb=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.BSa);};c.prototype.Lqb=function(){var a,b,c;b={};c=null === (a=this.Un.pg.value) || void 0 === a?void 0:a.Ns;null === c || void 0 === c?void 0:c.forEach(function(a){b[a.pp]=a.e6.height;});this.log.trace("KeyStatusMap",b);return b;};c.prototype.zIb=function(a){var b;b=this.BEb[a.pp];1080 < b && (this.TTa="usable" === a.value,this.OVb.set(a.value,{height:b}));};c.prototype.STb=function(){var a,b,c;a=this;b=this.Un.pe;c=b && b.iUa;!this.cEb && c && (this.cEb=!0,this.BEb=this.Lqb(),b.iUa().subscribe(function(b){return a.zIb(b);}),this.Ea.Ai(l.Nb(this.config.BSa),function(){return a.aob();}),this.CEb=this.ta.Be);};c.prototype.lRb=function(a,b){this.log.error("Restricting resolution due to keyStatus",{keyHeight:b,keyStatus:a});this.Un.No.set({reason:"keyStatus",height:b});};ma.Object.defineProperties(c.prototype,{$J:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.lza=c;},function(d,b,a){var c,g;Object.defineProperty(b,"__esModule",{value:!0});d=a(100);c=a(12);g=a(7);d.AC(function(a,b){var d,h,l,m;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.QVb);h=d[b.xd];if(c.config.RVb && h){l={};m=g.Ch(a,"MediaStreamFilter");return {$J:"uiLabel",Ys:function(a){if(a.lower && a.height > h)return (l[a.height] || (l[a.height]=!0,m.warn("Restricting resolution due to uiLabel",{MaxHeight:h,streamHeight:a.height}),b.No.set({reason:"uiLabel",height:a.height})),!0);}};}});},function(d,b,a){var c,g,l,m,f,k,n,p,r,t,B,A,y,I;Object.defineProperty(b,"__esModule",{value:!0});c=a(182);g=a(529);d=a(57);l=a(12);m=a(58);f=a(11);k=a(45);n=a(49);p=a(23);r=a(10);t=a(7);B=a(114);A=a(13);y=a(29);I=a(31);d.lba(d.gba,function(a){var J,L,N,R,T,V;function b(c){c.newValue >= A.Db.LOADING && (a.state.removeListener(b),F("type=openplay&sev=info&locstor=" + r.CX(v())),N=n.ni(),q());}function d(){V("type=startplay&sev=info&outcome=success");}function h(){var b,d;b=a.Hj;if(b){d="type=startplay&sev=error&outcome=error";b=c.Qka(t.ha.get(I.vj).tE,b);p.Rd(b,function(a,b){d+="&" + r.CX(a) + "=" + r.CX(b || "");});V(d);}else V("type=startplay&sev=info&outcome=abort");}function q(){var a,b;a=R.shift();if(0 < a){b=r.Um(a - (n.ni() - N),0);L=setTimeout(function(){F("type=startstall&sev=info&kt=" + a);q();},b);}}function u(){V("type=startplay&sev=info&outcome=unload");}function v(){var a,b,c;try{b="" + n.X_();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b == c?"success":"mism";}catch(ua){a="ex: " + ua;}return a;}function F(b){b=T + "&soffms=" + a.Yka() + "&" + b;a.Md && Object.keys(a.Md).length && (b+="&" + k.AL(p.Hb({},a.Md,{prefix:"sm_"})));g.x3a("playback",b,J);}J=t.ha.get(B.$B).host + l.config.zta;if(l.config.y3a && J && l.config.z3a.playback){R=l.config.pVb.slice();T="xid=" + a.ea + "&pbi=" + a.index + "&uiLabel=" + (a.xd || "");a.state.addListener(b);a.addEventListener(A.V.Is,d);a.addEventListener(A.V.Qf,h);m.Xe.addListener(m.wm,u,f.HC);V=function(b){var c;V=f.mh;c=t.ha.get(y.qg);b+="&initstart=" + c.startTime + "&initend=" + c.endTime;F(b);clearTimeout(L);a.removeEventListener(A.V.Is,d);a.removeEventListener(A.V.Qf,h);m.Xe.removeListener(m.wm,u);};}});},function(d,b,a){var c,g,l,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(12);g=a(11);d=a(2);l=a(7);m=a(156);a=a(29);l.ha.get(a.qg).register(d.L.Eya,function(a){c.config.Pwb && l.ha.get(m.L9).start();a(g.ke);});},function(d,b,a){var c,g,l,m,f;Object.defineProperty(b,"__esModule",{value:!0});b.kwa=void 0;c=a(67);g=a(45);l=a(18);m=a(23);f=a(26);b.kwa=function(a,b){l.fb(a);l.fb(b);l.FJ(b.Iub,"endpointURL property is required");l.fb(b.wh);this.log=a;this.RYa=b;};b.kwa.prototype.vA=function(){var a,b,d;a=this;a.log.trace("Downloading config data.");b={browserInfo:JSON.stringify(a.RYa.wh)};d=a.RYa.Iub + "?" + g.AL(b);return new Promise(function(b,g){function h(b){var c;try{if(b.ja){c=new Uint8Array(b.content);return {ja:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return {ja:!1,message:"Unable to download the config. " + b.Ab,ME:b.cj};}catch(U){return (b=m.Ve(U),a.log.error("Unable to download the config. Received an exception parsing response",{message:U.message,exception:b,url:d}),{ja:!1,Ab:b,message:"Unable to download the config. " + U.message});}}function k(b,c,d){return c > d?(a.log.error("Config download failed, retry limit exceeded, giving up",f.Hb({Attempts:c - 1,MaxRetries:d},b)),!1):!0;}function l(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function n(d,p,q){c.gf.download(d,function(c){var r;c=h(c);if(c.ja)b(c);else {a.log.warn("Config download failed, retrying",f.Hb({Attempt:p,WaitTime:r,MaxRetries:q},c));if(k(c,p + 1,q))return (r=m.Lqa(1E3,1E3 * Math.pow(2,Math.min(p - 1,q))),l(r).then(function(){return n(d,p + 1,q);}));g(c);}});}return c.gf?n({url:d,responseType:3,withCredentials:!0,lE:"config-download"},1,3):Promise.reject({ja:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(d,b,a){var c,g,l,m,f,k,n,p,r,t,B;Object.defineProperty(b,"__esModule",{value:!0});c=a(151);g=a(154);l=a(11);m=a(12);d=a(2);f=a(7);k=a(18);n=a(23);p=a(26);r=a(15);t=a(51);B=a(77);a=a(29);f.ha.get(a.qg).register(d.L.Nya,function(a){var b,d;b=f.Bh("NccpApi");d=n.MJa(["info","warn","trace","error"]);g.EO.eQ.nccp={getEsn:function(){return c.Xh.Yh;},getPreferredLanguages:function(){return m.config.Zr.rqa;},setPreferredLanguages:function(a){k.fb(r.isArray(a) && p.Gx(a[0]));m.config.Zr.rqa=a;},queueLogblob:function(a,c,g){var h;if(a && c)if((c=c.toLowerCase(),d[c])){h=f.ha.get(t.Tm);a=f.ha.get(B.Et).Tr(a,c,g);h.kd(a);}else b.warn("Invalid severity",{severity:c});},flushLogblobs:function(){f.ha.get(t.Tm).flush(!0);}};a(l.ke);});},function(d,b,a){var c,g,l,m,f,k,n,p,r,t,B;Object.defineProperty(b,"__esModule",{value:!0});d=a(29);b=a(2);c=a(6);g=a(31);l=a(188);m=a(11);f=a(12);k=a(7);n=a(72);p=a(57);r=a(154);t=a(278);B=a(99);k.ha.get(d.qg).register(b.L.Pya,function(a){var h,q,u;function b(a,b){return void 0 === a || void 0 === b?Promise.reject("Invalid email and/or password"):k.ha.get(t.MX).Pe(this.log,{},{hOa:a,password:b}).then(function(){});}function d(a){var b;b=k.ha.get(B.Yv);return b.ePa.fetch(a,b);}if(f.config.cvb){h=k.ha.get(l.lO);q=k.ha.get(g.vj);u=k.ha.get(c.zb).wb("Test");r.EO.eQ.test={pboRequests:h.AB.map(function(a){return JSON.parse(JSON.stringify(a));}),playbacks:p.no,getPlayback:function(a){return p.no.find(function(b){return b.ea === a;});},playgraphManager:{isNextSegmentReady:function(a,b){var c,d;return void 0 !== (null === (d=null === (c=p.no.find(function(b){return b.ea === a;})) || void 0 === c?void 0:c.Ga) || void 0 === d?void 0:d.CE(b));}},aseManager:{cacheDestroy:function(){return n.vg.Ir.Rw();}},device:{esn:ja._cad_global.device.Yh,esnPrefix:q.pA,errorPrefix:q.tE},log:{info:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return u.info(a,c);},error:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return u.error(a,c);},warn:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return u.warn(a,c);},trace:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return u.trace(a,c);},log:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return u.log(a,c);},debug:function(a,b){for(var c=[],d=1;d < arguments.length;++d){c[d - 1]=arguments[d];}return u.debug(a,c);}},login:b,getManifest:d};}a(m.ke);});},function(d,b,a){var c,g,l,m,f,k,n,p,r;Object.defineProperty(b,"__esModule",{value:!0});d=a(154);c=a(11);g=a(12);l=a(57);b=a(6);m=a(7);f=a(51);k=a(107);n=a(18);p=a(26);r=a(10);ja.netflix=ja.netflix || ({});n.fb(!ja.netflix.player);ja.netflix.player={VideoSession:d.EO,diag:{togglePanel:function(a,b){var c;c=[];if(!g.config || g.config.cU){switch(a){case "info":c=l.no.map(function(a){return a.t5;});break;case "streams":c=l.no.map(function(a){return a.u5;});break;case "log":c=[];}c.forEach(function(a){p.ic(b)?b?a.show():a.Bq():a.toggle();});}},addLogMessageSink:function(a){m.ha.get(f.Tm).addListener({$8b:function(){},sHb:function(b){a({data:b.data});}});}},log:m.Bh("Ext"),LogLevel:b.Ni,addLogSink:function(a,b){m.ha.get(k.uC).U5(a,b);},getVersion:function(){return "6.0029.151.011";},isWidevineSupported:function(a){var d;function b(a){return function(b,c){return c.contentType == a;};}if("function" !== typeof a)throw Error("input param is not a function");d=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.Ft,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.vC,robustness:"SW_SECURE_CRYPTO"}]}];try{r.Se.requestMediaKeySystemAccess("com.widevine.alpha",d).then(function(d){var f;f=d.getConfiguration();d=f.videoCapabilities || [];f=(f.audioCapabilities || []).reduce(b(c.vC),!1);d=d.reduce(b(c.Ft),!1);a(f && d);})["catch"](function(){a(!1);});}catch(y){a(!1);}}};},function(d,b,a){var c,g,l,m,f,k,n,p,r,t,B,A;Object.defineProperty(b,"__esModule",{value:!0});c=a(154);g=a(151);l=a(11);m=a(45);d=a(2);f=a(7);k=a(265);n=a(18);p=a(26);r=a(10);b=a(29);t=a(49);B=a(87);A=a(138);f.ha.get(b.qg).register(d.L.Oya,function(a){function b(a,b){function c(a){a=new k.rW(f.jq(a));a.qy();return {sEb:a.HZa(),Eub:a.HZa()};}return {encrypt:function(b,c){var d;b=p.te(b)?f.aN(b):b;d=r.Qv.getRandomValues(new Uint8Array(16));m.tF(r.Vo.encrypt({name:"AES-CBC",iv:d},a,b)).then(function(a){var b,g;a=new Uint8Array(a);b=[];g=new k.rW(b);g.V7(2);g.l5a(d);g.l5a(a);a=f.Mz(b);c({success:!0,encryptedDataAsn1Base64:a});},function(a){n.fb(!1,"Encrypt error: " + a);c({success:!1});});},decrypt:function(b,d){b=c(b);m.tF(r.Vo.decrypt({name:"AES-CBC",iv:b.sEb},a,b.Eub)).then(function(a){a=new Uint8Array(a);d({success:!0,text:f.zV(a)});},function(a){n.fb(!1,"Decrypt error: " + a);d({success:!1});});},hmac:function(a,c){a=p.te(a)?f.aN(a):a;m.tF(r.Vo.sign({name:"HMAC",hash:{name:"SHA-256"}},b,a)).then(function(a){a=new Uint8Array(a);c({success:!0,hmacBase64:f.Mz(a)});},function(a){n.fb(!1,"Hmac error: " + a);c({success:!1});});}};}c.EO.eQ.mdx={getEsn:function(){return g.Xh.Yh;},createCryptoContext:function(a){var b;b=f.ha.get(B.DH);f.ha.get(A.nH)().then(function(c){var d,g;d=c.iT.getStateForMdx(b);g=d.cryptoContext;c=d.masterToken;d=d.userIdToken;c && d?(n.fb(g),c=["1",f.Mz(JSON.stringify(c.toJSON())),f.Mz(JSON.stringify(d.toJSON()))].join(),a({success:!0,cryptoContext:{cTicket:c,encrypt:function(a,b){a=p.te(a)?f.aN(a):a;g.encrypt(a,{result:function(a){a=f.Mz(a);b({success:!0,mslEncryptionEnvelopeBase64:a});},timeout:function(){b({success:!1});},error:function(a){n.fb(!1,"Encrypt error: " + a);b({success:!1});}});},decrypt:function(a,b){a=f.jq(a);g.decrypt(a,{result:function(a){b({success:!0,text:f.zV(a)});},timeout:function(){b({success:!1});},error:function(a){n.fb(!1,"Decrypt error: " + a);b({success:!1});}});},hmac:function(a,b){a=p.te(a)?f.aN(a):a;g.sign(a,{result:function(a){b({success:!0,hmacBase64:f.Mz(a)});},timeout:function(){b({success:!1});},error:function(a){n.fb(!1,"Hmac error: " + a);b({success:!1});}});}}})):(n.fb(!1,"Must login first"),a({success:!1}));});},createCryptoContextFromSharedSecret:function(a,c){var d;d=f.jq(a);a=d.subarray(32,48);d=d.subarray(0,32);if(16 != a.length || 32 != d.length)throw Error("Bad shared secret");Promise.all([m.tF(r.Vo.importKey("raw",a,{name:"AES-CBC"},!1,["encrypt","decrypt"])),m.tF(r.Vo.importKey("raw",d,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(a){c({success:!0,cryptoContext:b(a[0],a[1])});},function(){c({success:!1});});},getServerEpoch:function(){return t.Zga();}};a(l.ke);});},function(d,b,a){var c,g,l,m,f;Object.defineProperty(b,"__esModule",{value:!0});c=a(12);g=a(11);d=a(2);l=a(7);b=a(29);m=a(99);l.ha.get(b.qg).register(d.L.Jya,function(b){var d,h,k;if(c.config.bMb){d=l.Bh("PlayerPredictionModel");h=l.ha.get(m.Yv);k=a(1239);d.log=d.trace.bind(d);f=new k({},d,{gU:function(){},mPb:function(){}},h,{tB:function(){}});ja._cad_global.playerPredictionModel=f;d.info("ppm v2 initialized");}b(g.ke);});},function(d,b,a){var m,f,k,n,p,r,t;function c(a,b,c,d,f,g){this.u=this.fa=a;this.Ud=b;this.jd=c;g && g.xd && (this.xd=g.xd);void 0 !== d && (this.LL=d);this.Ak=f;this.gb=g;}function g(a,b,c,d,f){k(void 0 !== d,"video preparer is null");k(void 0 !== f,"ui preparer is null");this.G=b || console;this.G=b;this.Ha=c;this.Mib=d;this.Eib=f;this.JHa=r.nqa;this.OI=[];this.Sea=!1;this.hI=0;new t().on(r,"changed",l,this);this.reset();}function l(){this.G.log("config changed");r.nqa && (this.JHa=r.nqa);r.hT !== this.yI && (this.reset(),this.hra());}m=a(284);f=a(285);b=a(532);k=b.assert;n=b.mPa;p=a(1240);r=a(533).config;t=a(1241).sg;r.declare({nqa:["ppmConfig",{SYb:{mXa:0,lXa:2,jXa:0,kXa:5,x1a:0},e3b:{mXa:0,lXa:1,jXa:0,kXa:3,x1a:1E3},gZb:{mXa:0,lXa:1,jXa:0,kXa:3,x1a:1E3}}]});g.prototype.constructor=g;g.prototype.reset=function(){this.zda=!0;this.yI=r.hT;this.G.log("create model: " + r.hT,r.d0a,r.PLa);switch(r.hT){case "modelone":this.yI=new p(this.G);break;default:this.yI=new p(this.G);}};g.prototype.hra=function(){var b,c;if(!1 === this.Sea){this.Sea=!0;for(var a=0;a < this.OI.length;a++){this.G.log("PlayPredictionModel replay: ",JSON.stringify(this.OI[a]));b=this.vMa(this.OI[a]);c=this.VPa(b);this.yI.update(b,c);this.zda=!1;}this.OI=[];}};g.prototype.update=function(a){var b,c,d;this.G.log("PlayPredictionModel update: ",JSON.stringify(a));if(a && a.Oa && a.Oa[0]){!1 === this.Sea && this.OI.length < r.QGb && this.OI.push(a);b=this.vMa(a);c=this.VPa(b);this.G.log("actionType",c);b="mlmodel" == r.hT?this.yI.update(a,c):this.yI.update(b,c);b=this.Wwb(b,r.oEb || 1);this.G.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0 === this.hI && (this.hI=m(),this.Ha && this.Ha.gU && this.Ha.gU({Isb:this.hI}));if(this.Ha && this.Ha.mPb){this.cyb();d=[];b.forEach(function(a){d.push({A9b:a.fa});});JSON.stringify(a);JSON.stringify(b);}this.Mib.tB(b);this.Eib.tB(b);this.zda=!1;}};g.prototype.cyb=function(){m();};g.prototype.gU=function(){this.hI=m();this.Ha && this.Ha.gU && this.Ha.gU({Isb:this.hI});};g.prototype.vMa=function(a){var b,c,d,g,h;b={};g=a.Oa || [];h=(function(a){var g,h;g={};c=f.aO.name.indexOf(a.context);g.context=0 <= c?c:f.aO.Rv;g.rowIndex=a.rowIndex;g.requestId=a.requestId;g.list=[];d=a.list || [];d.forEach((function(a){h={fa:a.fa,jd:a.jd,index:a.index,LL:a.LL,E5:a.E5,list:a.list,gb:a.gb};void 0 !== a.property && (c=f.fH.name.indexOf(a.property),h.property=0 <= c?c:f.fH.Rv);g.list.push(h);}).bind(this));b.Oa.push(g);}).bind(this);void 0 !== a.direction && (c=f.Gt.name.indexOf(a.direction),b.direction=0 <= c?c:f.Gt.Rv);void 0 !== a.wR && (b.X5b=a.wR.rowIndex,b.W5b=a.wR.Wnb);b.wR=a.wR;b.Oa=[];g.forEach(h);return b;};g.prototype.VPa=function(a){var b,c,d;b=a.direction || f.Gt.Rv;c=a.wR;d=a.Oa || [];!0 === this.zda?a=f.zv.Mxa:!0 === d.some(this.IBb)?(a=f.zv.iO,this.W5(d,b,c)):a=d[0].context === f.aO.dY?f.zv.dY:b === f.Gt.oDa || b === f.Gt.nza?f.zv.EDa:f.zv.Rv;return a;};g.prototype.IBb=function(a){return (a.list || []).some(function(a){return a.property === f.fH.iO || a.property === f.fH.zwa;});};g.prototype.W5=function(a,b,c){var d,g;this.G.log("reportPlayFocusEvent: ",b,c);d={};g=n(a);this.Ha && this.Ha.W5 && (d.N5b=m(),d.direction=f.Gt.name[b],c && (d.rowIndex=c.rowIndex,d.cha=c.Wnb),void 0 !== g.nj && (d.requestId=a[g.nj].requestId),this.Ha.W5 && this.Ha.W5(d));};g.prototype.Wwb=function(a,b){for(var c=a.length,d=[],f,g,h,k,l=0;l < c;l++){g=a[l];f=Math.floor(l / b) + 1;if(void 0 !== g.list){h=g.list;k=h.length;for(var m=0;m < Math.min(r.Unb,k) && !(h[m].Ak=g.Ak,this.UIa(h[m],f,d),d.length >= r.HVa);m++){;}}else this.UIa(g,f,d);if(d.length >= r.HVa)break;}return d;};g.prototype.UIa=function(a,b,d){var g,h;function f(a){a.xd && (a.gb || (a.gb={}),a.gb.xd=a.xd);return a.gb;}g=a.E5;void 0 !== g && g instanceof Array?g.forEach(function(g){void 0 !== g.fa && (h=f(g),d.push(new c(g.fa,b,g.jd,g.LL,a.Ak,h)));}):void 0 !== g && void 0 !== g.fa && (g=a.E5,h=f(g),d.push(new c(g.fa,b,g.jd,g.LL,a.Ak,h)));void 0 !== a.fa && (h=f(a),d.push(new c(a.fa,b,a.jd,a.LL,a.Ak,h)));};g.prototype.vA=function(a){var b;b=this.JHa;return a?b[a]:b;};d.exports=g;},function(d,b,a){var l,m,f,k,n,p,r,t,B,A;function c(a,b){this.nj=a;this.ml=b;}function g(a){this.G=a;this.reset();}l=a(284);m=a(285);b=a(532);f=a(533).config;k=b.Qxb;n=b.xxb;p=b.Ksb;r=b.vJb;t=b.uJb;B=b.tJb;A=b.mPa;g.prototype.constructor=g;g.prototype.reset=function(){this.KHa=void 0;this.yj=[];this.xHa=this.yHa=!1;};g.prototype.update=function(a,b){var c;this.yj && (this.yj=this.yj.filter(this.rSb,this));if(!1 === this.yHa){c=k(a.Oa).slice(0,f.$Ma);0 < c.length && (this.kF(c,m.Cv.ak),this.yHa=!0,this.yj=this.EG(c.concat(this.yj)));}!1 === this.xHa && (c=n(a.Oa).slice(0,f.$Ma),0 < c.length && (this.kF(c,m.Cv.ak),this.xHa=!0,this.yj=this.EG(c.concat(this.yj))));switch(b){case m.zv.Mxa:b=this.kBb(a);break;case m.zv.EDa:b=this.sBb(a);break;case m.zv.dY:b=this.tBb(a);break;case m.zv.iO:b=this.oBb(a);break;default:b=this.hBb(a);}this.KHa=a;return b;};g.prototype.kBb=function(a){a=r(a.Oa,f.d0a,f.PLa);this.kF(a,m.Cv.ak);return this.yj=this.EG(this.yj.concat(a));};g.prototype.sBb=function(a){var b,c;this.G.log("handleScrollHorizontal");b=a.Oa;a=r(b,f.f0a,f.QLa);c=p(b,this.KHa.Oa);b=b[c].list.slice(0,f.aQb);b.concat(a);this.kF(b,m.Cv.gca);return this.EG(b.concat(this.yj));};g.prototype.kF=function(a,b){a.forEach(function(a){if(void 0 === a.Sz || a.Sz < b)a.Sz=b;void 0 === a.QM && (a.QM=l());void 0 === a.Ak && (a.Ak=l());});};g.prototype.tBb=function(a){this.G.log("handleSearch");a=t(a.Oa,f.yQb);this.kF(a,m.Cv.GDa);this.yj=a.concat(this.yj);return this.yj=this.EG(this.yj);};g.prototype.oBb=function(a){var b,d,g,h,k;this.G.log("handlePlayFocus: ",f.eS);b=a.direction;d=a.Oa;a=[];g=A(d);if(void 0 !== g.nj)switch((a.push(g),b)){case m.Gt.oDa:for(b=1;b < f.eS;b++){a.push(new c(g.nj,g.ml + b));}a.push(new c(g.nj - 1,g.ml));a.push(new c(g.nj + 1,g.ml));break;case m.Gt.nza:for(b=1;b < f.eS;b++){a.push(new c(g.nj,g.ml - b));}a.push(new c(g.nj - 1,g.ml));a.push(new c(g.nj + 1,g.ml));break;case m.Gt.Zcb:a.push(new c(g.nj - 1,g.ml));for(b=1;b <= f.eS / 2;b++){a.push(new c(g.nj,g.ml + b));a.push(new c(g.nj,g.ml - b));}break;case m.Gt.p8a:for((a.push(new c(g.nj + 1,g.ml)),b=1);b <= f.eS / 2;b++){a.push(new c(g.nj,g.ml + b));a.push(new c(g.nj,g.ml - b));}}h=[];a.forEach(function(a){k=B(d,a.nj,a.ml);void 0 !== k && h.push(k);});this.kF(h,m.Cv.gca);return this.EG(h.concat(this.yj));};g.prototype.hBb=function(a){this.G.log("ModelOne: handleDefaultCase");a=r(a.Oa,f.f0a,f.QLa);this.kF(a,m.Cv.gca);return this.EG(a.concat(this.yj));};g.prototype.rSb=function(a){return a.Sz == m.Cv.ak | a.Sz == m.Cv.GDa & l() - a.QM < f.YBb;};g.prototype.EG=function(a){var b,c,d,f,g,h,k;b=[];c={};h=0;k=a.length;for(g=0;g < k;g++){d=a[g].fa;f=a[g];!1 === (d in c)?(b.push(f),c[d]=h,h++):(d=b[c[d]],f.Ak < d.Ak && (d.Ak=f.Ak),f.Sz > d.Sz && (d.Sz=f.Sz),f.QM > d.QM && (d.QM=f.QM));}return b;};d.exports=g;},function(d,b,a){d.exports={EventEmitter:a(1242),sg:a(1243)};},function(d){function b(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return (this.Wc={},this.Wc[a]=[b],!0);c=this.Wc[a];return void 0 === c?(this.Wc[a]=[b],!0):0 > c.indexOf(b)?(c.push(b),!0):!1;}function a(a,b){a=this.Wc?this.Wc[a]:void 0;if(!a)return !1;a.forEach(function(a){a(b);});return !0;}d.exports={addEventListener:b,on:b,removeEventListener:function(a,b){var c;if(void 0 === b || "function" !== typeof b || "string" !== typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Wc)return !1;c=this.Wc[a];if(void 0 === c)return !1;b=c.indexOf(b);if(0 > b)return !1;if(1 === c.length)return (delete this.Wc[a],!0);c.splice(b,1);return !0;},Ma:a,emit:a,removeAllListeners:function(a){this.Wc && (void 0 === a?delete this.Wc:delete this.Wc[a]);return this;}};},function(d){function b(a,b,d,g){a.trace(":",d,":",g);b(g);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,d,g,m){g=m?g.bind(m):g;m=!1;if(a){this.console && (g=b.bind(null,this.console,g,d));if("function" === typeof a.addEventListener)m=a.addEventListener(d,g);else if("function" === typeof a.addListener)m=a.addListener(d,g);else throw Error("Emitter does not have a function to add listeners for '" + d + "'");this.listeners.push([a,d,g]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,c;b=a[0];c=a[1];a=a[2];"function" === typeof b.removeEventListener?b.removeEventListener(c,a):"function" === typeof b.removeListener && b.removeListener(c,a);});this.listeners=[];this.console && this.console.trace("removed",a,"listener(s)");};d.exports=a;}]);}).call(ja);})(window);}).call(window);